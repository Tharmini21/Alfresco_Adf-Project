import { __awaiter } from "tslib";
import { Injectable } from '@angular/core';
import { from, throwError } from 'rxjs';
import { AlfrescoApiService } from './alfresco-api.service';
import { catchError, map } from 'rxjs/operators';
import { PeopleApi } from '@alfresco/js-api';
import { LogService } from './log.service';
import * as i0 from "@angular/core";
import * as i1 from "./alfresco-api.service";
import * as i2 from "./log.service";
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './alfresco-api.service';
import * as ɵngcc2 from './log.service';
export var ContentGroups;
(function (ContentGroups) {
    ContentGroups["ALFRESCO_ADMINISTRATORS"] = "ALFRESCO_ADMINISTRATORS";
})(ContentGroups || (ContentGroups = {}));
export class PeopleContentService {
    constructor(apiService, logService) {
        this.apiService = apiService;
        this.logService = logService;
        this.hasContentAdminRole = false;
        this.hasCheckedIsContentAdmin = false;
    }
    get peopleApi() {
        return this._peopleApi || (this._peopleApi = new PeopleApi(this.apiService.getInstance()));
    }
    getPerson(personId) {
        const promise = this.peopleApi.getPerson(personId);
        return from(promise).pipe(catchError((error) => this.handleError(error)));
    }
    getCurrentPerson() {
        return this.getPerson('-me-');
    }
    listPeople(requestQuery) {
        const promise = this.peopleApi.listPeople(requestQuery);
        return from(promise).pipe(map(response => {
            return {
                pagination: response.list.pagination,
                entries: response.list.entries.map((person) => person.entry)
            };
        }), catchError((err) => this.handleError(err)));
    }
    createPerson(newPerson, opts) {
        return from(this.peopleApi.createPerson(newPerson, opts)).pipe(map((res) => res === null || res === void 0 ? void 0 : res.entry), catchError((error) => this.handleError(error)));
    }
    isContentAdmin() {
        var _a, _b;
        return __awaiter(this, void 0, void 0, function* () {
            if (!this.hasCheckedIsContentAdmin) {
                const user = yield this.getCurrentPerson().toPromise();
                this.hasContentAdminRole = (_b = (_a = user === null || user === void 0 ? void 0 : user.entry) === null || _a === void 0 ? void 0 : _a.capabilities) === null || _b === void 0 ? void 0 : _b.isAdmin;
                this.hasCheckedIsContentAdmin = true;
            }
            return this.hasContentAdminRole;
        });
    }
    handleError(error) {
        this.logService.error(error);
        return throwError(error || 'Server error');
    }
}
PeopleContentService.ɵfac = function PeopleContentService_Factory(t) { return new (t || PeopleContentService)(ɵngcc0.ɵɵinject(ɵngcc1.AlfrescoApiService), ɵngcc0.ɵɵinject(ɵngcc2.LogService)); };
PeopleContentService.ɵprov = i0.ɵɵdefineInjectable({ factory: function PeopleContentService_Factory() { return new PeopleContentService(i0.ɵɵinject(i1.AlfrescoApiService), i0.ɵɵinject(i2.LogService)); }, token: PeopleContentService, providedIn: "root" });
PeopleContentService.ctorParameters = () => [
    { type: AlfrescoApiService },
    { type: LogService }
];
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PeopleContentService, [{
        type: Injectable,
        args: [{
                providedIn: 'root'
            }]
    }], function () { return [{ type: ɵngcc1.AlfrescoApiService }, { type: ɵngcc2.LogService }]; }, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGVvcGxlLWNvbnRlbnQuc2VydmljZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vaG9tZS90cmF2aXMvYnVpbGQvQWxmcmVzY28vYWxmcmVzY28tbmcyLWNvbXBvbmVudHMvbGliL2NvcmUvc2VydmljZXMvcGVvcGxlLWNvbnRlbnQuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBaUJBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFjLElBQUksRUFBRSxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDcEQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDNUQsT0FBTyxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNqRCxPQUFPLEVBQWUsU0FBUyxFQUFnQyxNQUFNLGtCQUFrQixDQUFDO0FBRXhGLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0M7QUFFUTtBQUE4Qzs7OztBQUR0RCxNQUFNLENBQU4sSUFBWSxhQUVYO0FBRkQsV0FBWSxhQUFhO0FBQ3hCLElBQUcsb0VBQW1ELENBQUE7QUFDdkQsQ0FBQyxFQUZXLGFBQWEsS0FBYixhQUFhLFFBRXhCO0FBZUQsTUFBTSxPQUFPLG9CQUFvQjtBQUNqQyxJQUtJLFlBQW9CLFVBQThCLEVBQVUsVUFBc0I7QUFBSSxRQUFsRSxlQUFVLEdBQVYsVUFBVSxDQUFvQjtBQUFDLFFBQVMsZUFBVSxHQUFWLFVBQVUsQ0FBWTtBQUFDLFFBTDNFLHdCQUFtQixHQUFZLEtBQUssQ0FBQztBQUNqRCxRQUFJLDZCQUF3QixHQUFZLEtBQUssQ0FBQztBQUM5QyxJQUd5RixDQUFDO0FBQzFGLElBQ0ksSUFBSSxTQUFTO0FBQ2pCLFFBQVEsT0FBTyxJQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLFNBQVMsQ0FB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QnJCOzs7OztnSEFsQnVCO0FBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBmcm9tLCB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IGNhdGNoRXJyb3IsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFBlcnNvbkVudHJ5LCBQZW9wbGVBcGksIFBlcnNvbkJvZHlDcmVhdGUsIFBhZ2luYXRpb24gfSBmcm9tICdAYWxmcmVzY28vanMtYXBpJztcbmltcG9ydCB7IEVjbVVzZXJNb2RlbCB9IGZyb20gJy4uL21vZGVscy9lY20tdXNlci5tb2RlbCc7XG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi9sb2cuc2VydmljZSc7XG5cbmV4cG9ydCBlbnVtIENvbnRlbnRHcm91cHMge1xuICAgIEFMRlJFU0NPX0FETUlOSVNUUkFUT1JTID0gJ0FMRlJFU0NPX0FETUlOSVNUUkFUT1JTJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlb3BsZUNvbnRlbnRRdWVyeVJlc3BvbnNlIHtcbiAgICBwYWdpbmF0aW9uOiBQYWdpbmF0aW9uO1xuICAgIGVudHJpZXM6IEVjbVVzZXJNb2RlbFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlb3BsZUNvbnRlbnRRdWVyeVJlcXVlc3RNb2RlbCB7XG4gICAgc2tpcENvdW50OiBudW1iZXI7XG4gICAgbWF4SXRlbXM6IG51bWJlcjtcbn1cblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBQZW9wbGVDb250ZW50U2VydmljZSB7XG4gICAgcHJpdmF0ZSBoYXNDb250ZW50QWRtaW5Sb2xlOiBib29sZWFuID0gZmFsc2U7XG4gICAgaGFzQ2hlY2tlZElzQ29udGVudEFkbWluOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIF9wZW9wbGVBcGk6IFBlb3BsZUFwaTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLCBwcml2YXRlIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UpIHt9XG5cbiAgICBnZXQgcGVvcGxlQXBpKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVvcGxlQXBpIHx8ICh0aGlzLl9wZW9wbGVBcGkgPSBuZXcgUGVvcGxlQXBpKHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBpbmZvcm1hdGlvbiBhYm91dCBhIHVzZXIgaWRlbnRpZmllZCBieSB0aGVpciB1c2VybmFtZS5cbiAgICAgKiBAcGFyYW0gcGVyc29uSWQgSUQgb2YgdGhlIHRhcmdldCB1c2VyXG4gICAgICogQHJldHVybnMgVXNlciBpbmZvcm1hdGlvblxuICAgICAqL1xuICAgIGdldFBlcnNvbihwZXJzb25JZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucGVvcGxlQXBpLmdldFBlcnNvbihwZXJzb25JZCk7XG5cbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSkucGlwZShcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoKGVycm9yKSA9PiB0aGlzLmhhbmRsZUVycm9yKGVycm9yKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2VyIHdobyBpcyBjdXJyZW50bHkgbG9nZ2VkIGluLlxuICAgICAqIEByZXR1cm5zIFVzZXIgaW5mb3JtYXRpb25cbiAgICAgKi9cbiAgICBnZXRDdXJyZW50UGVyc29uKCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBlcnNvbignLW1lLScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBsaXN0IG9mIHBlb3BsZS5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdFF1ZXJ5IG1heEl0ZW1zIGFuZCBza2lwQ291bnQgcGFyYW1ldGVycyBzdXBwb3J0ZWQgYnkgSlMtQVBJXG4gICAgICogQHJldHVybnMgUmVzcG9uc2UgY29udGFpbmluZyBwYWdpbmF0aW9uIGFuZCBsaXN0IG9mIGVudHJpZXNcbiAgICAgKi9cbiAgICBsaXN0UGVvcGxlKHJlcXVlc3RRdWVyeT86IFBlb3BsZUNvbnRlbnRRdWVyeVJlcXVlc3RNb2RlbCk6IE9ic2VydmFibGU8UGVvcGxlQ29udGVudFF1ZXJ5UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucGVvcGxlQXBpLmxpc3RQZW9wbGUocmVxdWVzdFF1ZXJ5KTtcbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSkucGlwZShcbiAgICAgICAgICAgIG1hcChyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcmVzcG9uc2UubGlzdC5wYWdpbmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBlbnRyaWVzOiByZXNwb25zZS5saXN0LmVudHJpZXMubWFwKChwZXJzb246IFBlcnNvbkVudHJ5KSA9PiA8RWNtVXNlck1vZGVsPiBwZXJzb24uZW50cnkpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY2F0Y2hFcnJvcigoZXJyKSA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBuZXcgcGVyc29uLlxuICAgICAqIEBwYXJhbSBuZXdQZXJzb24gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIG5ldyBwZXJzb24gZGV0YWlscy5cbiAgICAgKiBAcGFyYW0gb3B0cyBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gICAgICogQHJldHVybnMgQ3JlYXRlZCBuZXcgcGVyc29uXG4gICAgICovXG4gICAgY3JlYXRlUGVyc29uKG5ld1BlcnNvbjogUGVyc29uQm9keUNyZWF0ZSwgb3B0cz86IGFueSk6IE9ic2VydmFibGU8RWNtVXNlck1vZGVsPiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMucGVvcGxlQXBpLmNyZWF0ZVBlcnNvbihuZXdQZXJzb24sIG9wdHMpKS5waXBlKFxuICAgICAgICAgICAgbWFwKChyZXM6IFBlcnNvbkVudHJ5KSA9PiA8RWNtVXNlck1vZGVsPiByZXM/LmVudHJ5KSxcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoKGVycm9yKSA9PiB0aGlzLmhhbmRsZUVycm9yKGVycm9yKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBpc0NvbnRlbnRBZG1pbigpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0NoZWNrZWRJc0NvbnRlbnRBZG1pbikge1xuICAgICAgICAgICAgY29uc3QgdXNlcjogUGVyc29uRW50cnkgPSBhd2FpdCB0aGlzLmdldEN1cnJlbnRQZXJzb24oKS50b1Byb21pc2UoKTtcbiAgICAgICAgICAgIHRoaXMuaGFzQ29udGVudEFkbWluUm9sZSA9IHVzZXI/LmVudHJ5Py5jYXBhYmlsaXRpZXM/LmlzQWRtaW47XG4gICAgICAgICAgICB0aGlzLmhhc0NoZWNrZWRJc0NvbnRlbnRBZG1pbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzQ29udGVudEFkbWluUm9sZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiBhbnkpIHtcbiAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoZXJyb3IgfHwgJ1NlcnZlciBlcnJvcicpO1xuICAgIH1cbn1cbiJdfQ==