{"version":3,"sources":["../../../core/about/about-github-link/about-github-link.component.ts","../../../core/utils/object-utils.ts","../../../../node_modules/tslib/tslib.es6.js","../../../core/utils/moment-date-formats.model.ts","../../../core/utils/file-utils.ts","../../../core/utils/moment-date-adapter.ts","../../../core/app-config/app-config.service.ts","../../../core/datatable/data/object-datarow.model.ts","../../../core/datatable/data/object-datacolumn.model.ts","../../../core/datatable/data/data-sorting.model.ts","../../../core/datatable/data/object-datatable-adapter.ts","../../../core/services/storage.service.ts","../../../core/services/alfresco-api.service.ts","../../../core/services/cookie.service.ts","../../../core/models/log-levels.model.ts","../../../core/services/log.service.ts","../../../core/services/jwt-helper.service.ts","../../../core/services/authentication.service.ts","../../../core/models/product-version.model.ts","../../../core/services/discovery-api.service.ts","../../../core/about/about-product-version/about-product-version.component.ts","../../../core/about/about-application-modules/about-application-modules.component.ts","../../../core/about/about-server-settings/about-server-settings.component.ts","../../../core/material.module.ts","../../../core/context-menu/context-menu-overlay.ts","../../../core/context-menu/context-menu.tokens.ts","../../../core/context-menu/animations.ts","../../../core/context-menu/context-menu-list.component.ts","../../../core/context-menu/context-menu-overlay.service.ts","../../../core/context-menu/context-menu.directive.ts","../../../core/services/user-preferences.service.ts","../../../core/context-menu/context-menu.module.ts","../../../core/services/translation.service.ts","../../../core/pipes/file-size.pipe.ts","../../../core/services/thumbnail.service.ts","../../../core/pipes/mime-type-icon.pipe.ts","../../../core/pipes/node-name-tooltip.pipe.ts","../../../core/services/highlight-transform.service.ts","../../../core/pipes/text-highlight.pipe.ts","../../../core/pipes/time-ago.pipe.ts","../../../core/pipes/user-initial.pipe.ts","../../../core/pipes/full-name.pipe.ts","../../../core/pipes/format-space.pipe.ts","../../../core/pipes/file-type.pipe.ts","../../../core/pipes/multi-value.pipe.ts","../../../core/pipes/localized-date.pipe.ts","../../../core/pipes/decimal-number.pipe.ts","../../../core/pipes/localized-role.pipe.ts","../../../core/pipes/pipe.module.ts","../../../core/directives/highlight.directive.ts","../../../core/directives/logout.directive.ts","../../../core/directives/node-delete.directive.ts","../../../core/directives/node-favorite.directive.ts","../../../core/models/permissions.enum.ts","../../../core/models/allowable-operations.enum.ts","../../../core/services/download.service.ts","../../../core/services/content.service.ts","../../../core/interface/injection.tokens.ts","../../../core/directives/check-allowable-operation.directive.ts","../../../core/directives/node-restore.directive.ts","../../../core/directives/upload.directive.ts","../../../core/services/download-zip.service.ts","../../../core/dialogs/download-zip/download-zip.dialog.ts","../../../core/directives/node-download.directive.ts","../../../core/services/version-compatibility.service.ts","../../../core/directives/version-compatibility.directive.ts","../../../core/directives/tooltip-card/tooltip-card.component.ts","../../../core/directives/tooltip-card/tooltip-card.directive.ts","../../../core/directives/infinite-select-scroll.directive.ts","../../../core/directives/library-favorite.directive.ts","../../../core/services/sites.service.ts","../../../core/directives/library-membership.directive.ts","../../../core/directives/directive.module.ts","../../../core/datatable/components/datatable-cell/datatable-cell.component.ts","../../../core/datatable/components/datatable-row/datatable-row.component.ts","../../../core/data-column/data-column.component.ts","../../../core/data-column/data-column-list.component.ts","../../../core/models/file.model.ts","../../../core/events/base.event.ts","../../../core/events/base-ui.event.ts","../../../core/datatable/components/datatable/datatable.component.ts","../../../core/events/file.event.ts","../../../core/datatable/data/data-row-event.model.ts","../../../core/datatable/components/data-cell.event.ts","../../../core/datatable/components/data-row-action.event.ts","../../../core/datatable/components/date-cell/date-cell.component.ts","../../../core/datatable/components/empty-list/empty-list.component.ts","../../../core/datatable/components/filesize-cell/filesize-cell.component.ts","../../../core/datatable/components/location-cell/location-cell.component.ts","../../../core/datatable/directives/loading-template.directive.ts","../../../core/datatable/directives/no-content-template.directive.ts","../../../core/datatable/directives/no-permission-template.directive.ts","../../../core/datatable/directives/header-filter-template.directive.ts","../../../core/datatable/directives/custom-empty-content-template.directive.ts","../../../core/datatable/directives/custom-loading-template.directive.ts","../../../core/datatable/directives/custom-no-permission-template.directive.ts","../../../core/dialogs/edit-json/edit-json.dialog.ts","../../../core/notifications/models/notification.model.ts","../../../core/datatable/components/json-cell/json-cell.component.ts","../../../core/notifications/helpers/notification.factory.ts","../../../core/notifications/services/notification.service.ts","../../../core/clipboard/clipboard.service.ts","../../../core/clipboard/clipboard.directive.ts","../../../core/clipboard/clipboard.module.ts","../../../core/datatable/directives/drop-zone.directive.ts","../../../core/data-column/data-column-header.component.ts","../../../core/data-column/data-column.module.ts","../../../core/datatable/datatable.module.ts","../../../core/about/about.module.ts","../../../core/viewer/services/view-util.service.ts","../../../core/viewer/components/viewer-more-actions.component.ts","../../../core/viewer/components/viewer-open-with.component.ts","../../../core/viewer/components/viewer-sidebar.component.ts","../../../core/viewer/components/viewer-toolbar.component.ts","../../../core/services/upload.service.ts","../../../core/models/search-text-input.model.ts","../../../core/models/user-process.model.ts","../../../core/models/comment.model.ts","../../../core/models/ecm-company.model.ts","../../../core/models/redirection.model.ts","../../../core/models/pagination.model.ts","../../../core/models/request-pagination.model.ts","../../../core/models/decimal-number.model.ts","../../../core/models/bpm-user.model.ts","../../../core/models/ecm-user.model.ts","../../../core/models/identity-role.model.ts","../../../core/models/node-metadata.model.ts","../../../core/viewer/components/viewer.component.ts","../../../core/viewer/components/img-viewer.component.ts","../../../core/viewer/components/media-player.component.ts","../../../core/viewer/components/pdf-viewer-password-dialog.ts","../../../core/viewer/services/rendering-queue.services.ts","../../../core/viewer/components/pdf-viewer.component.ts","../../../core/viewer/components/pdf-viewer-thumb.component.ts","../../../core/viewer/components/pdf-viewer-thumbnails.component.ts","../../../core/viewer/components/txt-viewer.component.ts","../../../core/viewer/components/unknown-format/unknown-format.component.ts","../../../core/viewer/components/viewer-toolbar-actions.component.ts","../../../core/viewer/directives/viewer-extension.directive.ts","../../../core/toolbar/toolbar-divider.component.ts","../../../core/toolbar/toolbar-title.component.ts","../../../core/toolbar/toolbar.component.ts","../../../core/toolbar/toolbar.module.ts","../../../core/viewer/viewer.module.ts","../../../core/services/bpm-user.service.ts","../../../core/services/ecm-user.service.ts","../../../core/services/oauth2.service.ts","../../../core/services/identity-user.service.ts","../../../core/userinfo/components/user-info.component.ts","../../../core/userinfo/userinfo.module.ts","../../../core/settings/host-settings.component.ts","../../../core/settings/host-settings.module.ts","../../../core/pagination/pagination.component.ts","../../../core/pagination/infinite-pagination.component.ts","../../../core/pagination/pagination.module.ts","../../../core/login/components/login.component.ts","../../../core/login/models/login-error.event.ts","../../../core/login/models/login-submit.event.ts","../../../core/login/models/login-success.event.ts","../../../core/login/directives/login-header.directive.ts","../../../core/login/directives/login-footer.directive.ts","../../../core/login/components/login-dialog.component.ts","../../../core/login/components/login-dialog-panel.component.ts","../../../core/login/login.module.ts","../../../core/services/language.service.ts","../../../core/language-menu/language-menu.component.ts","../../../core/language-menu/language-picker.component.ts","../../../core/language-menu/language-menu.module.ts","../../../core/info-drawer/info-drawer-layout.component.ts","../../../core/info-drawer/info-drawer.component.ts","../../../core/info-drawer/info-drawer.module.ts","../../../core/datatable/data/data-table.schema.ts","../../../core/card-view/services/card-view-update.service.ts","../../../core/card-view/components/base-card-view.ts","../../../core/card-view/components/card-view-textitem/card-view-textitem.component.ts","../../../core/card-view/components/card-view/card-view.component.ts","../../../core/card-view/components/card-view-boolitem/card-view-boolitem.component.ts","../../../core/card-view/components/card-view-dateitem/card-view-dateitem.component.ts","../../../core/card-view/components/card-view-mapitem/card-view-mapitem.component.ts","../../../core/card-view/components/card-view-selectitem/card-view-selectitem.component.ts","../../../core/card-view/components/card-view-keyvaluepairsitem/card-view-keyvaluepairsitem.component.ts","../../../core/services/get-type.ts","../../../core/services/dynamic-component-mapper.service.ts","../../../core/card-view/components/card-view-arrayitem/card-view-arrayitem.component.ts","../../../core/card-view/services/card-item-types.service.ts","../../../core/card-view/directives/card-view-content-proxy.directive.ts","../../../core/card-view/components/card-view-item-dispatcher/card-view-item-dispatcher.component.ts","../../../core/card-view/components/card-view-selectitem/select-filter-input/select-filter-input.component.ts","../../../core/card-view/validators/card-view-item-int.validator.ts","../../../core/card-view/validators/card-view-item-float.validator.ts","../../../core/card-view/validators/card-view-item-match.valiator.ts","../../../core/card-view/validators/card-view-item-minmax.valiator.ts","../../../core/card-view/validators/card-view-item-length.valiator.ts","../../../core/card-view/validators/validators.map.ts","../../../core/card-view/models/card-view-baseitem.model.ts","../../../core/card-view/models/card-view-boolitem.model.ts","../../../core/card-view/models/card-view-dateitem.model.ts","../../../core/card-view/models/card-view-datetimeitem.model.ts","../../../core/card-view/models/card-view-textitem.model.ts","../../../core/card-view/models/card-view-floatitem.model.ts","../../../core/card-view/models/card-view-intitem.model.ts","../../../core/card-view/models/card-view-mapitem.model.ts","../../../core/card-view/models/card-view-keyvaluepairs.model.ts","../../../core/card-view/models/card-view-selectitem.model.ts","../../../core/card-view/models/card-view-arrayitem.model.ts","../../../core/card-view/card-view.module.ts","../../../core/app-config/debug-app-config.service.ts","../../../core/app-config/app-config.pipe.ts","../../../core/app-config/app-config.module.ts","../../../core/form/models/form-definition.model.ts","../../../core/form/components/widgets/core/form-field-types.ts","../../../core/form/models/widget-visibility.model.ts","../../../core/form/components/widgets/core/form-widget.model.ts","../../../core/form/components/widgets/core/container-column.model.ts","../../../core/form/components/widgets/core/error-message.model.ts","../../../core/form/components/widgets/core/form-field-validator.ts","../../../core/form/components/widgets/core/form-field.model.ts","../../../core/form/events/form.event.ts","../../../core/form/events/form-field.event.ts","../../../core/form/events/validate-form-field.event.ts","../../../core/form/events/validate-form.event.ts","../../../core/form/components/widgets/core/container.model.ts","../../../core/form/components/widgets/core/tab.model.ts","../../../core/form/components/widgets/core/form-outcome.model.ts","../../../core/form/components/widgets/core/form.model.ts","../../../core/form/components/widgets/core/form-outcome-event.model.ts","../../../core/form/components/widgets/core/content-link.model.ts","../../../core/form/components/widgets/core/upload-widget-content-link.model.ts","../../../core/form/services/ecm-model.service.ts","../../../core/form/services/form.service.ts","../../../core/form/components/widgets/widget.component.ts","../../../core/form/components/widgets/container/container.widget.model.ts","../../../core/form/components/widgets/container/container.widget.ts","../../../core/form/components/widgets/tabs/tabs.widget.ts","../../../core/form/components/widgets/unknown/unknown.widget.ts","../../../core/form/components/widgets/amount/amount.widget.ts","../../../core/form/components/widgets/checkbox/checkbox.widget.ts","../../../core/form/components/widgets/date/date.widget.ts","../../../core/form/components/widgets/display-text/display-text.widget.ts","../../../core/form/components/widgets/document/document.widget.ts","../../../core/form/components/widgets/dropdown/dropdown.widget.ts","../../../core/form/services/widget-visibility.service.ts","../../../core/form/events/validate-dynamic-table-row.event.ts","../../../core/form/components/widgets/dynamic-table/date-cell-validator-model.ts","../../../core/form/components/widgets/dynamic-table/dynamic-row-validation-summary.model.ts","../../../core/form/components/widgets/dynamic-table/number-cell-validator.model.ts","../../../core/form/components/widgets/dynamic-table/required-cell-validator.model.ts","../../../core/form/components/widgets/dynamic-table/dynamic-table.widget.model.ts","../../../core/form/components/widgets/dynamic-table/dynamic-table.widget.ts","../../../core/form/components/widgets/dynamic-table/editors/boolean/boolean.editor.ts","../../../core/form/components/widgets/dynamic-table/editors/date/date.editor.ts","../../../core/form/components/widgets/dynamic-table/editors/datetime/datetime.editor.ts","../../../core/form/components/widgets/dynamic-table/editors/dropdown/dropdown.editor.ts","../../../core/form/components/widgets/dynamic-table/editors/row.editor.ts","../../../core/form/components/widgets/dynamic-table/editors/text/text.editor.ts","../../../core/form/components/widgets/dynamic-table/editors/amount/amount.editor.ts","../../../core/form/components/widgets/error/error.component.ts","../../../core/form/components/widgets/functional-group/functional-group.widget.ts","../../../core/form/components/widgets/hyperlink/hyperlink.widget.ts","../../../core/form/components/widgets/multiline-text/multiline-text.widget.ts","../../../core/form/components/widgets/number/number.widget.ts","../../../core/services/people-process.service.ts","../../../core/form/components/widgets/people/people.widget.ts","../../../core/form/components/widgets/radio-buttons/radio-buttons.widget.ts","../../../core/form/components/widgets/text/text-mask.component.ts","../../../core/form/components/widgets/text/text.widget.ts","../../../core/form/components/widgets/typeahead/typeahead.widget.ts","../../../core/form/services/process-content.service.ts","../../../core/form/components/widgets/upload/upload.widget.ts","../../../core/form/components/widgets/date-time/date-time.widget.ts","../../../core/form/components/widgets/json/json.widget.ts","../../../core/form/components/widgets/upload-folder/upload-folder.widget.ts","../../../core/form/components/widgets/file-viewer/file-viewer.widget.ts","../../../core/form/components/widgets/index.ts","../../../core/form/services/form-rendering.service.ts","../../../core/form/components/form-field/form-field.component.ts","../../../core/form/components/form-base.component.ts","../../../core/form/components/form-list.component.ts","../../../core/form/components/widgets/content/content.widget.ts","../../../core/form/components/form-custom-button.directive.ts","../../../core/form/components/form-renderer.component.ts","../../../core/form/services/activiti-alfresco.service.ts","../../../core/services/nodes-api.service.ts","../../../core/form/services/node.service.ts","../../../core/form/events/form-error.event.ts","../../../core/dialogs/edit-json/edit-json.dialog.module.ts","../../../core/form/form-base.module.ts","../../../core/layout/components/header/header.component.ts","../../../core/layout/helpers/animations.ts","../../../core/layout/components/layout-container/layout-container.component.ts","../../../core/layout/components/sidebar-action/sidebar-action-menu.component.ts","../../../core/layout/directives/sidenav-layout-content.directive.ts","../../../core/layout/directives/sidenav-layout-header.directive.ts","../../../core/layout/directives/sidenav-layout-navigation.directive.ts","../../../core/layout/components/sidenav-layout/sidenav-layout.component.ts","../../../core/layout/layout.module.ts","../../../core/comments/comment-list.component.ts","../../../core/services/comment-process.service.ts","../../../core/services/comment-content.service.ts","../../../core/comments/comments.component.ts","../../../core/comments/comments.module.ts","../../../core/buttons-menu/buttons-menu.component.ts","../../../core/buttons-menu/buttons-menu.module.ts","../../../core/sorting-picker/sorting-picker.component.ts","../../../core/sorting-picker/sorting-picker.module.ts","../../../core/templates/error-content/error-content.component.ts","../../../core/templates/empty-content/empty-content.component.ts","../../../core/icon/icon.component.ts","../../../core/icon/icon.module.ts","../../../core/templates/template.module.ts","../../../core/services/auth-guard-base.ts","../../../core/services/auth-guard.service.ts","../../../core/services/auth-guard-ecm.service.ts","../../../core/services/auth-guard-bpm.service.ts","../../../core/services/people-content.service.ts","../../../core/services/auth-guard-sso-role.service.ts","../../../core/services/apps-process.service.ts","../../../core/services/page-title.service.ts","../../../core/services/renditions.service.ts","../../../core/models/component.model.ts","../../../core/services/translate-loader.service.ts","../../../core/services/deleted-nodes-api.service.ts","../../../core/services/favorites-api.service.ts","../../../core/services/search-configuration.service.ts","../../../core/services/search.service.ts","../../../core/services/shared-links-api.service.ts","../../../core/services/login-dialog.service.ts","../../../core/services/external-alfresco-api.service.ts","../../../core/services/lock.service.ts","../../../core/mock/form/demo-form.mock.ts","../../../core/services/automation.service.ts","../../../core/services/identity-group.service.ts","../../../core/services/identity-role.service.ts","../../../core/services/auth-bearer.interceptor.ts","../../../core/dialogs/dialog.module.ts","../../../core/notifications/components/notification-history.component.ts","../../../core/notifications/pipes/notification-icon.pipe.ts","../../../core/notifications/notification-history.module.ts","../../../core/search-text/animations.ts","../../../core/search-text/search-text-input.component.ts","../../../core/search-text/search-trigger.directive.ts","../../../core/search-text/search-text-input.module.ts","../../../core/blank-page/blank-page.component.ts","../../../core/blank-page/blank-page.module.ts","../../../core/mock/alfresco-api.mock.ts","../../../core/mock/app-config.service.mock.ts","../../../core/mock/apps-service.mock.ts","../../../core/mock/authentication.service.mock.ts","../../../core/mock/bpm-user.service.mock.ts","../../../core/mock/comment-process-service.mock.ts","../../../core/mock/cookie.service.mock.ts","../../../core/mock/ecm-user.service.mock.ts","../../../core/mock/event.mock.ts","../../../core/mock/search.service.mock.ts","../../../core/mock/translation.service.mock.ts","../../../core/mock/alfresco-api.service.mock.ts","../../../core/mock/form/widget-visibility.service.mock.ts","../../../core/mock/identity-group.service.mock.ts","../../../core/testing/setup-test-bed.ts","../../../core/services/startup-service-factory.ts","../../../core/services/directionality-config-factory.ts","../../../core/services/directionality-config.service.ts","../../../core/services/version-compatibility-factory.ts","../../../core/core.module.ts","../../../core/testing/core.testing.module.ts","../../../core/mock/form/form.component.mock.ts","../../../core/mock/renditions-service.mock.ts","../../../core/mock/form/form-definition-visibility.mock.ts","../../../core/mock/form/form-definition.mock.ts","../../../core/mock/form/form.service.mock.ts","../../../core/mock/form/form-definition-readonly.mock.ts","../../../core/mock/jwt-helper.service.spec.ts","../../../core/mock/form/start-form.component.mock.ts"],"names":["this","url","version","application","Component","args","selector","template","encapsulation","ViewEncapsulation","None","Input","ObjectUtils","getValue","target","key","keys","split","value","shift","undefined","length","merge","objects","_i","arguments","result","forEach","source","Object","prop","Array","isArray","concat","extendStatics","d","b","setPrototypeOf","__proto__","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","pop","push","__values","o","s","m","i","__read","r","ar","error","__spread","FileUtils","flatten","folder","reader","createReader","files","iterations","traverse","readEntries","entries","all","map","entry","isFile","resolveFile","file","relativeFolder","fullPath","replace","toFileArray","fileList","MOMENT_DATE_FORMATS","parse","dateInput","display","monthYearLabel","dateA11yLabel","monthYearA11yLabel","dateNames","date","MomentDateAdapter","_this","_super","localeData","moment","getYear","year","getMonth","month","getDate","getDayOfWeek","day","getMonthNames","style","months","monthsShort","getDateNames","getDayOfWeekNames","weekdays","weekdaysShort","getYearName","getFirstDayOfWeek","firstDayOfWeek","getNumDaysInMonth","daysInMonth","clone","locale","createDate","today","parseFormat","isValid","overrideDisplayFormat","indexOf","currentYear","Date","getFullYear","set","isAfter","format","displayFormat","addCalendarYears","years","add","addCalendarMonths","addCalendarDays","days","getISODateString","toISOString","setLocale","compareDate","first","second","diff","sameDate","isMoment","isSame","clampDate","min","max","isBefore","isDateInstance","isValidDateInstance","_isAMomentObject","toIso8601","fromIso8601","iso8601String","ISO_8601","invalid","DateAdapter","Injectable","AppConfigValues","Status","ObjectDataRow","obj","isSelected","Error","hasValue","imageErrorResolver","input","type","sortable","title","srTitle","cssClass","copyContent","focus","sortingKey","header","direction","ObjectDataTableAdapter","data","schema","_rows","_columns","item","ObjectDataColumn","filter","column","sort","rowsChanged","Subject","generateSchema","rowToExaminate","getRows","setRows","rows","getColumns","setColumns","columns","row","col","resolver","getSorting","_sorting","setSorting","sorting","a","left","valueOf","toString","right","localeCompare","DataSorting","AppConfigService","http","extensionService","config","name","ecmHost","bpmHost","logLevel","status","INIT","onLoadSubject","onLoad","asObservable","setup$","subscribe","onExtensionsLoaded","select","property","pipe","distinctUntilChanged","get","defaultValue","keywords","Map","getLocationHostname","getLocationPort","getLocationProtocol","formatString","JSON","stringify","location","protocol","hostname","prefix","port","onLoaded","onDataLoaded","assign","take","customConfig","appConfig","mergeObjects","load","configUrl","now","LOADING","LOADED","str","expr","RegExp","providedIn","HttpClient","ExtensionService","StorageService","memoryStore","useLocalStorage","_prefix","storageAvailable","defineProperty","getItem","localStorage","setItem","clear","removeItem","hasItem","storage","window","AlfrescoApiService","storageService","nodeUpdated","alfrescoApiInitialized","ReplaySubject","excludedErrorUrl","getInstance","alfrescoApi","activiti","taskApi","content","nodes","core","renditionsApi","sharedlinksApi","sitesApi","favoritesApi","peopleApi","search","searchApi","versionsApi","classesApi","GroupsApi","AspectsApi","TypesApi","STORAGE_PREFIX","initAlfrescoApi","_a","reset","oauth","OAUTHCONFIG","redirectUri","origin","redirectUriLogout","AlfrescoApiConfig","provider","PROVIDERS","hostEcm","ECMHOST","hostBpm","BPMHOST","authType","AUTHTYPE","contextRootBpm","CONTEXTROOTBPM","contextRoot","CONTEXTROOTECM","disableCsrf","DISABLECSRF","withCredentials","AUTH_WITH_CREDENTIALS","domainPrefix","oauth2","isDifferentConfig","lastConfig","configureJsApi","AlfrescoApiCompatibility","newConfig","isExcludedErrorListener","currentFullPath","formattedPath","includes","CookieService","cookieEnabled","navigator","document","cookie","deleteCookie","isEnabled","exec","expiration","path","toUTCString","LogLevelsEnum","Number","TRACE","DEBUG","INFO","WARN","ERROR","SILENT","logLevels","level","LogService","onMessage","configLevel","LOG_LEVEL","getLogLevel","message","optionalParams","currentLogLevel","messageBus","console","debug","info","log","trace","warn","assert","test","group","groupTitle","groupEnd","referencedLevel","find","currentLevel","toLocaleLowerCase","text","JwtHelperService","decodeToken","token","parts","decoded","urlBase64Decode","output","decodeURIComponent","escape","atob","getValueFromLocalAccessToken","getValueFromToken","getAccessToken","USER_ACCESS_TOKEN","accessToken","getRealmRoles","access","REALM_ACCESS","getClientRoles","clientName","clientRole","RESOURCE_ACCESS","hasRealmRole","role","hasRole","some","currentRole","hasRealmRoles","rolesToCheck","hasRealmRolesForClientRole","hasClientRole","USER_NAME","FAMILY_NAME","GIVEN_NAME","USER_EMAIL","USER_PREFERRED_USERNAME","REMEMBER_ME_COOKIE_KEY","AuthenticationService","logService","redirectUrl","bearerExcludedUrls","onLogin","onLogout","reply","isLoggedIn","isOauth","isRememberMeSet","isLoggedInWith","isBpmLoggedIn","isEcmLoggedIn","isOauthConfiguration","isPublicUrl","isECMProvider","isEcmConfiguration","isBPMProvider","isBpmConfiguration","isALLProvider","isEcmBpmConfiguration","login","username","password","rememberMe","from","response","saveRememberMeCookie","ticket","catchError","err","handleError","ssoImplicitLogin","implicitLogin","expireTime","getTime","setTime","logout","callApiLogout","tap","getTicketEcm","getTicketBpm","getTicketEcmBase64","btoa","getEcmUsername","getBpmUsername","setRedirect","getRedirect","hasValidRedirection","getBpmLoggedUser","profileApi","getProfile","hasSelectedProviderAll","throwError","getBearerExcludedUrls","getToken","addTokenToHeader","headersArg","Observable","observer","headers","HttpHeaders","complete","edition","majorVersion","revisionVersion","minorVersion","major","minor","patch","hotfix","issuedAt","expiresAt","remainingDays","holder","mode","isClusterEnabled","isCryptodocEnabled","isReadOnly","isAuditEnabled","isQuickShareEnabled","isThumbnailGenerationEnabled","id","description","installDate","installState","versionMin","versionMax","modules","repository","VersionModel","license","LicenseModel","VersionStatusModel","module","VersionModuleModel","DiscoveryApiService","apiService","authenticationService","ecmProductInfo$","switchMap","getEcmProductInfo","discovery","discoveryApi","getRepositoryInformation","res","EcmProductVersionModel","getBpmProductInfo","aboutApi","getAppVersion","BpmProductVersionModel","systemPropertiesApi","getBPMSystemProperties","getProperties","AboutProductVersionComponent","authService","ecmVersion","bpmVersion","ngOnInit","setECMInfo","setBPMInfo","ecmVers","AboutApplicationModulesComponent","appExtensions","extensionColumns","showExtensions","regexp","onDestroy$","alfrescoPackages","dependencies","val","alfrescoPackagesTableRepresentation","dependencyEntries","references$","takeUntil","extensions","ngOnDestroy","AppExtensionService","AboutServerSettingsComponent","NgModule","imports","MatAutocompleteModule","MatButtonModule","MatCardModule","MatCheckboxModule","MatChipsModule","MatDatepickerModule","MatDialogModule","MatGridListModule","MatIconModule","MatInputModule","MatListModule","MatNativeDateModule","MatOptionModule","MatProgressSpinnerModule","MatRadioModule","MatRippleModule","MatSelectModule","MatSlideToggleModule","MatTableModule","MatTabsModule","MatMenuModule","MatProgressBarModule","MatSidenavModule","MatSnackBarModule","MatToolbarModule","MatTooltipModule","MatDatetimepickerModule","MatNativeDatetimeModule","MatExpansionModule","MatBadgeModule","exports","ContextMenuOverlayRef","overlayRef","close","dispose","CONTEXT_MENU_DATA","InjectionToken","contextMenuAnimation","state","opacity","transform","transition","sequence","query","animate","ContextMenuListComponent","contextMenuOverlayRef","links","handleKeydownEscape","event","handleKeydownEvent","keyCode","UP_ARROW","DOWN_ARROW","keyManager","onKeydown","onMenuItemClick","menuItem","model","disabled","preventDefault","stopImmediatePropagation","subject","ngAfterViewInit","FocusKeyManager","items","setFirstItemActive","host","class","animations","trigger","decorators","Inject","Optional","ViewChildren","MatMenuItem","HostListener","DEFAULT_CONFIG","panelClass","backdropClass","hasBackdrop","ContextMenuOverlayService","injector","overlay","open","overlayConfig","createOverlay","attachDialogContainer","backdropClick","_backdropElement","addEventListener","_backdropClick","getOverlayConfig","createInjector","containerPortal","ComponentPortal","attach","instance","injectionTokens","WeakMap","PortalInjector","clientY","clientX","fakeElement","getBoundingClientRect","bottom","height","top","width","positionStrategy","position","connectedTo","ElementRef","originX","originY","overlayX","overlayY","withFallbackPosition","OverlayConfig","scrollStrategy","scrollStrategies","Injector","Overlay","ContextMenuDirective","contextMenuService","enabled","onShowContextMenu","Directive","UserPreferenceValues","CommonModule","MaterialModule","TranslateModule","declarations","UserPreferencesService","translate","alfrescoApiService","defaults","paginationSize","supportedPageSizes","expandedSidenav","userPreferenceStatus","initUserPreferenceStatus","bind","onChangeSubject","BehaviorSubject","onChange","initUserLanguage","PaginationSize","SupportedPageSizes","Locale","getDefaultLocale","getLanguageByKey","setWithoutStore","getPropertyKey","getStoragePrefix","setStoragePrefix","getBrowserCultureLang","APP_CONFIG_LANGUAGES_KEY","language","TranslateService","TRANSLATION_PROVIDER","TranslationService","userPreferencesService","providers","customLoader","currentLoader","defaultLang","setDefaultLang","providers_1","providers_1_1","addTranslationFolder","userLang","use","providerRegistered","registerProvider","loadTranslation","lang","fallback","getTranslation","onTranslationChanged","onTranslationChange","translations","getFullTranslationJSON","init","interpolateParams","instant","FileSizePipe","translation","paramByte","decimals","bytes","parseInt","isNaN","dm","Math","floor","i18nSize","parseFloat","pow","toFixed","Pipe","pure","ThumbnailService","matIconRegistry","sanitizer","DEFAULT_ICON","mimeTypeIcons","image/png","image/jpeg","image/gif","image/bmp","image/cgm","image/ief","image/jp2","image/tiff","image/vnd.adobe.photoshop","image/vnd.adobe.premiere","image/x-cmu-raster","image/x-dwt","image/x-portable-anymap","image/x-portable-bitmap","image/x-portable-graymap","image/x-portable-pixmap","image/x-raw-adobe","image/x-raw-canon","image/x-raw-fuji","image/x-raw-hasselblad","image/x-raw-kodak","image/x-raw-leica","image/x-raw-minolta","image/x-raw-nikon","image/x-raw-olympus","image/x-raw-panasonic","image/x-raw-pentax","image/x-raw-red","image/x-raw-sigma","image/x-raw-sony","image/x-xbitmap","image/x-xpixmap","image/x-xwindowdump","image/svg+xml","application/eps","application/illustrator","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.binary.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.ms-outlook","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/rtf","text/rtf","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.presentation-template","application/vnd.openxmlformats-officedocument.presentationml.slide","application/vnd.sun.xml.impress","application/vnd.sun.xml.impress.template","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.ms-powerpoint.addin.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.slide.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","video/mp4","video/3gpp","video/3gpp2","video/mp2t","video/mpeg","video/mpeg2","video/ogg","video/quicktime","video/webm","video/x-flv","video/x-m4v","video/x-ms-asf","video/x-ms-wmv","video/x-msvideo","video/x-rad-screenplay","video/x-sgi-movie","video/x-matroska","audio/mpeg","audio/ogg","audio/wav","audio/basic","audio/mp3","audio/mp4","audio/vnd.adobe.soundbooth","audio/vorbis","audio/x-aiff","audio/x-flac","audio/x-ms-wma","audio/x-wav","x-world/x-vrml","text/plain","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/x-javascript","application/json","text/csv","text/xml","text/html","application/x-compressed","application/x-zip-compressed","application/zip","application/x-tar","application/vnd.apple.keynote","application/vnd.apple.pages","application/vnd.apple.numbers","application/vnd.visio","application/wordperfect","application/x-cpio","smartFolder","ruleFolder","linkFolder","disable/folder","selected","dynamic-feed","ic-process","save-as","save","task","bypassSecurityTrustResourceUrl","addSvgIcon","addSvgIconInNamespace","getDocumentThumbnailUrl","node","attachment","resultUrl","nodeId","contentApi","getMimeTypeIcon","mimeType","getDefaultMimeTypeIcon","MatIconRegistry","DomSanitizer","MimeTypeIconPipe","thumbnailService","NodeNameTooltipPipe","getNodeTooltip","containsLine","lines","line","toLowerCase","removeDuplicateLines","reduce","acc","properties","join","HighlightTransformService","highlight","wrapperClass","isMatching","pattern","regex","match","changed","HighlightPipe","highlightTransformService","TimeAgoPipe","userPreferenceService","defaultLocale","DEFAULT_LOCALE","defaultDateTimeFormat","DEFAULT_DATE_TIME_FORMAT","actualLocale","DatePipe","fromNow","InitialUsernamePipe","sanitized","user","className","delimiter","safeHtml","initialResult","getInitialUserName","firstName","displayName","lastName","bypassSecurityTrustHtml","FullNamePipe","fullName","email","FormatSpacePipe","inputValue","replaceChar","lowerCase","transformedString","trim","FileTypePipe","substring","lastIndexOf","MultiValuePipe","values","valueSeparator","DEFAULT_SEPARATOR","LocalizedDatePipe","defaultFormat","DEFAULT_DATE_FORMAT","actualFormat","DecimalNumberPipe","defaultMinIntegerDigits","DEFAULT_MIN_INTEGER_DIGITS","defaultMinFractionDigits","DEFAULT_MIN_FRACTION_DIGITS","defaultMaxFractionDigits","DEFAULT_MAX_FRACTION_DIGITS","digitsInfo","actualDigitsInfo","minIntegerDigits","minFractionDigits","maxFractionDigits","DecimalPipe","LocalizedRolePipe","translationService","toUpperCase","HighlightDirective","el","renderer","classToApply","ngAfterViewChecked","nativeElement","querySelectorAll","element","highlightTransformResult","innerHTML","setProperty","Renderer2","LogoutDirective","elementRef","router","auth","enableRedirect","listen","evt","getRedirectUri","redirectToUri","redirectRoute","navigate","Router","NodeDeleteDirective","permanent","delete","EventEmitter","onClick","process","selection","ngOnChanges","setDisableAttribute","hasAttribute","disable","batch","getDeleteNodesBatch","forkJoin","processedItems","processStatus","getMessage","emit","deleteNode","promise","nodesApi","purgeDeletedNode","retry","of","deleteStatus","success","failed","someFailed","someSucceeded","oneFailed","oneSucceeded","allSucceeded","allFailed","number","Output","NodeFavoriteDirective","favorites","toggle","toggleFavorite","changes","currentValue","markFavoritesNodes","every","isFavorite","removeFavoriteSite","notFavorite_1","createFavoriteBody","addFavorite","newFavorites","getProcessBatch","hasFavorites","getFavorite","isFolder","getNodeType","guid","list","ids","comparator","exportAs","PermissionsEnum","CONTRIBUTOR","CONSUMER","COLLABORATOR","MANAGER","EDITOR","COORDINATOR","NOT_CONTRIBUTOR","NOT_CONSUMER","NOT_COLLABORATOR","NOT_MANAGER","NOT_EDITOR","NOT_COORDINATOR","AllowableOperationsEnum","DELETE","UPDATE","CREATE","COPY","LOCK","UPDATEPERMISSIONS","NOT_DELETE","NOT_UPDATE","NOT_CREATE","NOT_UPDATEPERMISSIONS","DownloadService","saveData","createElement","appendChild","fileData","fileName","blob","Blob","json","msSaveOrOpenBlob","URL","createObjectURL","href","download","click","revokeObjectURL","downloadBlob","downloadData","downloadJSON","downloadUrl","link","removeChild","ContentService","downloadService","folderCreated","folderCreate","folderEdit","createTrustedUrl","bypassSecurityTrustUrl","getContentUrl","getNodeContent","getFileContent","getNode","opts","hasPermissions","permission","userId","permissions","locallySet","_b","inherited","currentPermission","authorityId","startsWith","hasAllowableOperations","allowableOperation","allowableOperations","currentOperation","isLocked","EXTENDIBLE_COMPONENT","CheckAllowableOperationDirective","contentService","changeDetector","parentComponent","firstChange","updateElement","enable","detectChanges","enableElement","disableElement","removeAttribute","setAttribute","ChangeDetectorRef","Host","NodeRestoreDirective","restore","restoreProcessStatus","recover","nodesWithPath","getNodesWithPath","fail","notification","restoreNodesBatch","restoredNodes","mergeMap","getDeletedNodes","deletedNodesList","nodeList","restoreErrorNodes","selectedNodes","remainingNodes","restoreNode","include","statusCode","fromList","getRestoreMessage","action","UploadDirective","ngZone","isDragging","cssClassName","isClickMode","inputUpload","upload","parentElement","onSelectFiles","multiple","accept","directory","isDropMode","runOutsideAngular","onDragEnter","onDragOver","onDragLeave","onDrop","removeEventListener","dataTransfer","dropEffect","classList","remove","stopPropagation","getDataTransfer","getFilesDropped","onUploadFiles","customEvent","CustomEvent","detail","sender","bubbles","dispatchEvent","hasMode","originalEvent","webkitGetAsEntry","item_1","getAsFile","isDirectory","resolveFolder","currentTarget","NgZone","DownloadZipService","createDownload","payload","downloadsApi","getDownload","downloadId","cancelDownload","DownloadZipDialogComponent","dialogRef","downloadZipService","cancelled","nodeIds","downloadZip","url_1","downloadNode","waitAndDownload","downloadEntry","setTimeout","MatDialogRef","MAT_DIALOG_DATA","NodeDownloadDirective","dialog","downloadNodes","isSelectionValid","downloadFile","getVersionContentUrl","disableClose","MatDialog","VersionCompatibilityService","discoveryApiService","acsVersionInitialized$","acsInfo","initializeAcsVersion","acsVersion","getAcsVersion","isVersionSupported","requiredVersion","parsedRequiredVersion","parseVersion","currentVersion","versionSupported","VersionCompatibilityDirective","templateRef","viewContainer","versionCompatibilityService","validateAcsVersion","createEmbeddedView","TemplateRef","ViewContainerRef","TooltipCardComponent","image","htmlContent","sanitizedHtmlContent","sanitize","SecurityContext","HTML","TooltipCardDirective","overlayPositionBuilder","offsetX","offsetY","hide","flexibleConnectedTo","withPositions","show","tooltipRef","detach","OverlayPositionBuilder","InfiniteSelectScrollDirective","matSelect","scrollEnd","itemHeightToWaitBeforeLoadNext","openedChange","opened","getItemHeight","MAX_ITEMS","panel","handleScrollEvent","isScrollInNextFetchArea","scrollTop","scrollHeight","offsetHeight","getComputedStyle","fontSize","MatSelect","LibraryFavoriteDirective","library","targetLibrary","removeFavorite","site","markFavoriteLibrary","getFavoriteSite","favoriteBody","libraryEntry","catch","favoriteId","libraryBody","SitesService","SitesApi","createSite","siteBody","getSites","queryOptions","skipCount","listSites","getSite","siteId","deleteSite","permanentFlag","options","getSiteContent","relations","getSiteMembers","listSiteMemberships","getEcmCurrentLoggedUserName","getSiteNameFromNodePath","siteName","elements","foundNode","pathNode","nodeType","getSiteMembershipRequests","createSiteMembership","siteMembershipBodyCreate","updateSiteMembership","personId","siteMembershipBodyUpdate","deleteSiteMembership","approveSiteMembershipRequest","inviteeId","rejectSiteMembershipRequest","listSiteGroups","createSiteGroupMembership","getSiteGroupMembership","groupId","updateSiteGroupMembership","deleteSiteGroupMembership","LibraryMembershipDirective","sitesService","targetSite","isJoinRequested","isAdmin","toggleMembershipRequest","markMembershipRequest","joinRequested","cancelJoinRequest","updatedEntry","shouldReload","i18nKey","errWithMessage","joinLibraryRequest","createdMembership","joinLibrary","getMembershipRequest","memberBody","client","addSiteMembershipRequest","removeSiteMembershipRequest","getSiteMembershipRequest","OverlayModule","DataTableCellComponent","value$","resolverFn","updateValue","tooltip","changeDetection","ChangeDetectionStrategy","OnPush","DataTableRowComponent","onKeyDown","tagName","tabindex","HostBinding","DataColumnComponent","editable","ContentChild","ContentChildren","FileUploadStatus","BaseEvent","isDefaultPrevented","BaseUIEvent","DisplayMode","ShowHeaderMode","FileModel","Pending","size","errorCode","progress","loaded","total","percent","newVersion","slice","Infinity","FileUploadCompleteEvent","totalComplete","totalAborted","Complete","FileUploadEvent","FileUploadDeleteEvent","Deleted","FileUploadErrorEvent","totalError","DataRowEvent","domEvent","actions","DataCellEvent","DataCellEventModel","DataRowActionEvent","DataRowActionModel","DataTableComponent","differs","List","selectionMode","multiselect","actionsPosition","actionsVisibleOnHover","contextMenu","rowStyleClass","showHeader","Data","stickyHeader","rowClick","rowDblClick","showRowContextMenu","showRowActionsMenu","executeRowAction","loading","noPermission","rowMenuCacheEnabled","allowFiltering","isSelectAllIndeterminate","isSelectAllChecked","fakeRows","rowMenuCache","subscriptions","differ","click$","clickObserver","share","ngAfterContentInit","columnList","setTableSchema","datatableLayoutFix","rowsList","withWrap","skipPredicate","initAndSubscribeClickStream","dataChanges","rowChanges","columnChanges","isPropertyChanged","isTableEmpty","initTable","resetSelection","setTableRows","setTableSorting","setTableColumns","isFirstChange","emitRowSelectionEvent","isColumnSortActive","ngDoCheck","convertToRowsData","convertToColumnsData","convertToDataSorting","unsubscribeClickStream","singleClickStream","buffer","debounceTime","x","singleClickStreamSub","dataRowEvents","handleRowSelection","defaultPrevented","multiClickStream","multiClickStreamSub","unsubscribe","runtimeColumns","getRuntimeColumns","rowsData","columnsData","getSchemaFromHtml","c","onRowClick","mouseEvent","rowIndex","isHeaderListVisible","setActiveItem","dataRowEvent","onEnterKeyPressed","isHeaderVisible","isSingleSelectionMode","selectRow","isMultiSelectionMode","modifier","metaKey","ctrlKey","newValue","domEventName","onRowDblClick","onRowEnterKeyDown","keyboardEvent","onKeyboardNavigate","onRowKeyUp","onColumnHeaderClick","current","newDirection","emitSortingChangedEvent","updateActiveItem","onSelectAllClick","matCheckboxChange","checked","onCheckboxChange","checkSelectAllCheckboxState","numberOfSelectedRows_1","onImageLoadingError","fallbackThumbnail","src","isIconValue","asIconValue","iconAltTextKey","isColumnSorted","getContextMenuActions","getRowActions","getVisibleActions","visible","onExecuteRowAction","getHideActionsWithoutHoverClass","actionsMenuTrigger","adf-datatable-hide-actions-without-hover","menuOpen","rowAllowsDrop","isDropTarget","hasSelectionMode","getRowStyle","getSortingKey","idx","findSelectionById","splice","findIndex","getCellTooltip","formatTooltip","getSortableColumns","isEmpty","headerVisibility","Always","Never","isStickyHeaderEnabled","dataRowsChanged","getNameColumnValue","getAutomationValue","getAriaSort","getSortLiveAnnouncement","IterableDiffers","DataColumnListComponent","DateCellComponent","dateFormat","DATE_FORMAT","currentLocale","FileSizeCellComponent","LocationCellComponent","parent","LoadingContentTemplateDirective","dataTable","loadingTemplate","NoContentTemplateDirective","noContentTemplate","NoPermissionTemplateDirective","noPermissionTemplate","HeaderFilterTemplateDirective","headerFilterTemplate","EditJsonDialogComponent","settings","NOTIFICATION_TYPE","JsonCellComponent","view","rawValue","minWidth","minHeight","afterClosed","rootInitiator","messages","initiator","datetime","warning","INFO_SNACK_CLASS","WARN_SNACK_CLASS","ERROR_SNACK_CLASS","NotificationService","snackBar","appConfigService","DEFAULT_DURATION_MESSAGE","notifications$","NOTIFY_DURATION","openSnackMessage","interpolateArgs","dispatchNotification","openSnackMessageAction","showError","showInfo","showWarning","dismissSnackMessageAction","dismiss","pushToNotificationHistory","translatedMessage","translatedAction","createNotification","getNotificationCreator","duration","MatSnackBar","ClipboardService","notificationService","isTargetValid","HTMLInputElement","HTMLTextAreaElement","copyToClipboard","setSelectionRange","execCommand","notify","copyContentToClipboard","clipboardData","setData","DOCUMENT","ClipboardDirective","clipboardService","viewContainerRef","handleClickEvent","showTooltip","placeholder","componentFactory","resolveComponentFactory","ClipboardComponent","createComponent","closeTooltip","ComponentFactoryResolver","DropZoneDirective","dropTarget","dispatchDomEvent","eventName","dropColumn","dropRow","DateColumnHeaderComponent","columnComponent","RouterModule","DataColumnModule","ContextMenuModule","PipeModule","DirectiveModule","ClipboardModule","EmptyListComponent","EmptyListHeaderDirective","EmptyListBodyDirective","EmptyListFooterDirective","CustomEmptyContentTemplateDirective","CustomLoadingContentTemplateDirective","CustomNoPermissionTemplateDirective","DataTableModule","AboutGithubLinkComponent","ViewUtilService","translateService","maxRetries","mimeTypes","pdf","media","TRY_TIMEOUT","viewerTypeChange","urlFileContentChange","printFile","pwa","TARGET","ContentGroup","IMAGE","onfocus","onload","print","printFileGeneric","objectId","getViewerTypeByMimeType","getRendition","PDF","getRenditionUrl","printType","TEXT","renditionExists","waitRendition","renditionId","retries","rendition","_c","wait","editorTypes","editorTypes_1","editorTypes_1_1","ms","getRenditions","renditionPaging","renditionEntry","createRendition","err_1","displayNodeRendition","versionId","resolveNodeRendition","_d","urlFileContent","getVersionRenditionUrl","err_2","listVersionRenditions","_e","supportedRendition","createVersionRendition","waitNodeRendition","err_3","currentRetry","intervalId","setInterval","clearInterval","getVersionRendition","handleNodeRendition","generateMediaTracks","isRenditionAvailable","SUBTITLES_RENDITION_NAME","tracks","kind","MEDIA","ViewerSidebarComponent","cancelBubble","onKeyUp","UploadService","cache","excludedFileList","excludedFoldersList","matchingOptions","folderMatchingOptions","activeTask","queue","queueChanged","fileUpload","fileUploadStarting","fileUploadCancelled","fileUploadProgress","fileUploadAborted","fileUploadError","fileUploadComplete","fileUploadDeleted","fileDeleted","isUploading","finishedFileStates","Cancelled","Aborted","stillUploading","currentFile","getQueue","addToQueue","allowedFiles","filterElement","isAllowed","isFileNameAllowed","isParentFolderAllowed","fileRelativePath","webkitRelativePath","folderToExclude","pathElement","Minimatch","uploadFilesInTheQueue","successEmitter","errorEmitter","onUploadStarting","beginUpload","next_1","cancelUpload","isSaveToAbortFile","abort","abortedFile","getAction","performAction","clearQueue","getUploadPromise","renditions","overwrite","comment","autoRename","updateNodeContent","uploadFile","parentId","on","onUploadProgress","onUploadAborted","onUploadError","deleteAbortedNode","deleteAbortedNodeVersion","onUploadComplete","Starting","Progress","onUploadCancelled","onUploadDeleted","deleteVersion","SearchTextStateEnum","pictureId","externalId","userImage","created","createdBy","PaginationModel","count","hasMoreItems","totalItems","maxItems","Pagination","apps","capabilities","company","fullname","groups","lastUpdate","latestSyncTimeStamp","tenantId","tenantName","tenantPictureId","avatarId","skypeId","googleId","instantMessageId","jobTitle","mobile","telephone","statusUpdatedAt","userStatus","emailNotificationsEnabled","aspectNames","composite","containerId","scopeParamRequired","metadata","ViewerComponent","viewUtilService","uploadService","urlFile","urlFileViewer","sharedLinkId","overlayMode","showViewer","showToolbar","allowGoBack","allowDownload","allowPrint","allowFullScreen","allowNavigate","canNavigateBefore","canNavigateNext","allowLeftSidebar","allowRightSidebar","allowThumbnails","showRightSidebar","showLeftSidebar","sidebarRightTemplate","sidebarLeftTemplate","thumbnailsTemplate","goBack","showViewerChange","extensionChange","navigateBefore","navigateNext","invalidSharedLink","viewerType","isLoading","extensionTemplates","externalExtensions","sidebarRightTemplateContext","sidebarLeftTemplateContext","viewerExtensions","readOnly","cacheTypeForContent","shouldCloseViewer","keyDown$","fromEvent","isSourceDefined","blobFile","getNodeVersionProperty","nodeEntry","onNodeUpdated","closeOverlayManager","loadExtensions","getViewerExtensions","extension","fileExtension","generateCacheBusterNumber","setUpNodeFile","setUpBlobData","setUpUrlFile","getVersion","versionEntry","sharedLinksApi","getSharedLink","sharedLinkEntry","setUpSharedLinkFile","fileTitle","getDisplayName","filenameFromUrl","getFilenameFromUrl","getFileExtension","getViewerTypeByExtension","nodeData","versionData","currentFileVersion","encodeURI","cacheBusterNumber","setupNode","details","getSharedLinkContentUrl","displaySharedLinkRendition","toggleSidebar","toggleLeftSidebar","scrollTo","isCustomViewerExtension","onBackButtonClick","onNavigateBeforeClick","onNavigateNextClick","otherMenu","hidden","anchor","end","flat","handleKeyboardEvent","enterFullScreen","printContent","container","querySelector","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","sharedId","getSharedLinkRendition","_q","getSharedLinkRenditionUrl","error_1","error_2","checkExtensions","extensionAllowed","currentExtension","onSubmitFile","newImageBlob","newImageFile","File","_g","_f","newFile","_j","_h","_m","_l","_k","_p","_o","onUnsupportedFile","afterOpened","skipWhile","afterAllClosed","ViewerToolbarComponent","ViewerOpenWithComponent","ViewerMoreActionsComponent","ImgViewerComponent","submit","scale","isEditing","initializeScaling","round","scaling","cropper","Cropper","imageElement","autoCrop","dragMode","background","scalable","zoomOnWheel","toggleDragModeOnDblclick","viewMode","checkCrossOrigin","ready","updateCanvasContainer","destroy","move","zoomIn","zoomOut","rotateImage","zoom","rotate","cropImage","setDragMode","crop","getCroppedCanvas","toBlob","toDataURL","getContainerData","setCanvasData","onImageError","ViewChild","static","MediaPlayerComponent","viewUtils","onMediaPlayerError","PdfPasswordDialogComponent","passwordFormControl","FormControl","Validators","required","isError","reason","pdfjsLib","PasswordResponses","INCORRECT_PASSWORD","hasError","RenderingQueueServices","renderingStates","INITIAL","RUNNING","PAUSED","FINISHED","CLEANUP_TIMEOUT","pdfViewer","pdfThumbnailViewer","onIdle","highestPriorityPage","idleTimeout","printing","isThumbnailViewEnabled","setViewer","setThumbnailViewer","isHighestPriority","renderingId","renderHighestPriority","currentlyVisiblePages","clearTimeout","forceRendering","getHighestPriority","views","scrolledDown","visibleViews","numVisible","isViewFinished","nextPageIndex","last","previousPageIndex","renderingState","renderView","resume","continueRendering","draw","PdfViewerComponent","renderingQueueServices","cacheType","rendered","currentScaleMode","currentScale","MAX_AUTO_SCALE","DEFAULT_SCALE_DELTA","MIN_SCALE","MAX_SCALE","isPanelDisabled","showThumbnails","pdfThumbnailsContext","viewer","eventBus","pdfjsViewer","EventBus","pdfjsDefaultOptions","disableAutoFetch","disableStream","onPageChange","onPagesLoaded","onPageRendered","randomPdfId","generateUuid","getUserScaling","scaleConfig","checkLimits","reader_1","FileReader","pdfSource","executePdf","readAsArrayBuffer","httpHeaders","Cache-Control","pdfOptions","GlobalWorkerOptions","workerSrc","loadingTask","getDocument","onPassword","callback","onPdfPassword","onProgress","progressData","loadingPercent","pdfDocument","totalPages","numPages","page","displayPage","initPDFViewer","getPage","scalePage","getViewer","getDocumentContainer","PDFViewer","renderingQueue","setDocument","off","toggleThumbnails","scaleMode","viewerContainer","getElementById","documentContainer","widthContainer","heightContainer","clientWidth","clientHeight","currentPage","_pages","_currentPageNumber","pageWidthScale","pageHeightScale","checkPageFitInContainer","setScaleUpdatePages","horizontalScale","isLandscape","documentContainerSize","fround","newScale","isSameScale","update","oldScale","onResize","pageFit","ticks","ceil","previousPage","currentPageNumber","nextPage","inputPage","pageInput","pageNumber","random","PdfThumbComponent","image$","getThumb","viewport","getViewport","canvas","getCanvas","render","canvasContext","getContext","imageSource","getWidth","getHeight","PdfThumbListComponent","virtualHeight","translateY","renderItems","currentHeight","margin","itemHeight","previouslyFocusedElement","calculateItems","canSelectPreviousItem","canSelectNextItem","ESCAPE","setFocusOrigin","setHeight","getPages","activeElement","thumbsList","delay","getPageIndex","scrollInto","trackByFn","goTo","index","calculateHeight","pageRatio","getContainerSetup","viewPort","itemsInView","indexByScrollTop","start","elementRec","toArray","pagesCount","TxtViewerComponent","readBlob","getUrlContent","withCredentialsMode","responseType","onerror","readAsText","ViewerExtensionDirective","viewerComponent","templateModel","isVisible","supportedExtensions","supportedExtension","ToolbarComponent","ToolbarTitleComponent","ToolbarDividerComponent","FormsModule","ReactiveFormsModule","ToolbarModule","FlexLayoutModule","A11yModule","ExtensionsModule","UnknownFormatComponent","ViewerToolbarActionsComponent","BpmUserService","getCurrentUserInfo","userRepresentation","BpmUserModel","getCurrentUserProfileImage","getProfilePictureUrl","EcmUserService","_peopleApi","PeopleApi","getUserInfo","userName","getPerson","personEntry","EcmUserModel","getUserProfileImage","JSON_TYPE","OAuth2Service","oauth2Auth","request","apiClient","callCustomApi","httpMethod","pathParams","queryParams","bodyParam","put","post","IdentityUserService","jwtHelperService","oAuth2Service","buildUserUrl","identityHost","familyName","findUsersByName","findUserByUsername","findUserByEmail","findUserById","clientId","checkUserHasClientApp","clientRoles","checkUserHasAnyClientAppRole","roleNames","roleName","getClientIdByApplicationName","applicationName","checkUserHasApplicationAccess","checkUserHasAnyApplicationRole","getUsers","getUserRoles","getUsersByRolesWithCurrentUser","filteredUsers","toPromise","users","userHasAnyRole","getUsersByRolesWithoutCurrentUser","currentUser_1","userRoles","userRole","checkUserHasRole","queryUsers","requestQuery","getTotalUsersCount","totalCount","pagination","createUser","newUser","updateUser","updatedUser","deleteUser","changePassword","newPassword","getInvolvedGroups","joinGroup","joinGroupRequest","leaveGroup","getAvailableRoles","getAssignedRoles","getEffectiveRoles","assignRoles","roles","removeRoles","removedRoles","UserInfoComponent","ecmUserService","bpmUserService","identityUserService","ecmBackgroundImage","bpmBackgroundImage","menuPositionX","menuPositionY","showName","namePosition","loadIdentityUserInfo","loadEcmUserInfo","loadBpmUserInfo","onKeyPress","closeUserModal","$event","closeMenu","ecmUser$","bpmUser$","identityUser$","stopClosing","getEcmAvatar","getBpmUserImage","MatMenuTrigger","HostSettingsComponent","formBuilder","HOST_REGEX","showSelectProviders","cancel","providerSelected","form","providersControl","addFormGroups","addOAuthFormGroup","addIdentityHostFormControl","valueChanges","removeControl","removeFormGroups","addBPMFormControl","addECMFormControl","oauthFormGroup","createOAuthFormGroup","addControl","isBPM","isALL","isOAUTH","bpmFormControl","createBPMFormControl","identityHostFormControl","createIdentityFormControl","isECM","ecmFormControl","createECMFormControl","scope","secret","silentLogin","implicitFlow","publicUrls","IDENTITY_HOST","onCancel","onSubmit","saveBPMValues","saveECMValues","saveOAuthValues","invalidateSession","keyDownFunction","ENTER","valid","oauthConfig","FormBuilder","PaginationComponent","cdr","_isEmpty","_hasItems","change","changePageNumber","changePageSize","prevPage","_pagination","DEFAULT_PAGINATION","hasItems","addClass","removeClass","isFirstPage","goPrevious","lastPage","isLastPage","fill","rangeString","range","substr","goNext","handlePaginationEvent","previous","onChangePageNumber","onChangePageSize","paginationModel","updatePagination","InfinitePaginationComponent","loadMore","requestPaginationModel","_target","pageSize","onLoadMore","LoginSteps","LoginSubmitEvent","_values","_defaultPrevented","LoginComponent","_fb","userPreferences","route","isPasswordShow","showRememberMe","showLoginActions","needHelpLink","registerLink","logoImageUrl","backgroundImageUrl","copyrightText","successRoute","executeSubmit","actualLoginStep","Landing","minLength","initFormError","initFormFieldsDefault","initFormFieldsMessages","redirectToImplicitLogin","params","fieldsValidation","onValueChanged","disableError","controls","performLogin","field","formError","errors","dirty","_message","translated","Checking","Welcome","LoginSuccessEvent","navigateByUrl","displayErrorMessage","LoginErrorEvent","crossDomain","errorMsg","addCustomFormError","msg","addCustomValidationError","ruleId","toggleShowPassword","isErrorStyle","pristine","trimUsername","getBackgroundUrlImageUrl","bypassSecurityTrustStyle","minlength","compose","ActivatedRoute","LoginHeaderDirective","alfrescoLoginComponent","headerTemplate","LoginFooterDirective","footerTemplate","LoginDialogComponent","buttonActionName","actionName","logged","submitForm","loginPanel","onLoginSuccess","isFormValid","LoginDialogPanelComponent","LanguageService","languages","languages$","customLanguages","setLanguages","changeLanguage","LanguageMenuComponent","languageService","LanguagePickerComponent","icon","InfoDrawerComponent","selectedIndex","currentTab","showTabLayout","contentBlocks","onTabChange","InfoDrawerTabComponent","InfoDrawerLayoutComponent","InfoDrawerTitleDirective","InfoDrawerButtonsDirective","InfoDrawerContentDirective","DataTableSchema","presetKey","presetsModel","layoutPresets","createDatatableSchema","loadLayoutPresets","mergeJsonAndHtmlSchema","externalSettings","customSchemaColumns","getSchemaFromConfig","presetColumn","getDefaultLayoutPreset","setPresetKey","setPresetsModel","transformKeyToObject","reverse","previousValue","CardViewUpdateService","itemUpdated$","itemClicked$","updateItem$","updatedAspect$","clicked","updateNodeAspect","BaseCardView","cardViewUpdateService","destroy$","itemModel","templateTypes","CardViewTextItemComponent","cd","displayEmpty","copyToClipboardAction","useChipsForMultiValueProperty","multiValueSeparator","textInput","textInputValue","editedValue","resetValue","setTemplateType","isEditable","showProperty","isClickable","templateType","isChipViewEnabled","displayValue","setValue","resetErrorMessages","prepareValueForUpload","getValidationErrors","multivalued","removeValueFromList","itemIndex","addValueToList","newListItem","chipInput","chipValue","clickCallBack","clearValue","valueToCopy","clipboardMessage","hasIcon","clickable","displayNoneOption","displayClearAction","CardViewBoolItemComponent","1","MAT_MOMENT_DATETIME_FORMATS","CardViewDateItemComponent","dateAdapter","valueDate","showClearAction","default","showDatePicker","datepicker","onDateChanged","newDateValue","momentDate","toDate","onDateClear","addDateToList","provide","useClass","MAT_DATE_FORMATS","useValue","0","DatetimeAdapter","MomentDatetimeAdapter","MAT_DATETIME_FORMATS","CardViewMapItemComponent","CardViewSelectItemComponent","filter$","showInputFilter","list$","getOptions","optionsLimit","getList","onFilterInputChange","options$","combineLatest","selectedOption","showNoneOption","HIDE_FILTER_LIMIT","CardViewKeyValuePairsItemComponent","matTableValues","MatTableDataSource","onBlur","validValues","getType","DynamicComponentResolver","fromType","DynamicComponentMapper","types","getComponentTypeResolver","setComponentTypeResolver","override","register","components","resolveComponentType","CardViewArrayItemComponent","showClickableIcon","displayCount","noOfItemsToDisplay","CardItemTypeService","int","float","bool","keyvaluepairs","array","CardViewItemDispatcherComponent","cardItemTypeService","componentReference","method","proxy","loadComponent","changeName","inputParamName","simpleChange","factoryClass","factory","methodName","CardViewContentProxyDirective","SelectFilterInputComponent","term","onModelChange","isOpened","selectFilterInput","handleKeydown","TAB","read","CardViewItemIntValidator","isIntegerNumber","parsedNumber","CardViewItemFloatValidator","isDecimalNumber","isFinite","CardViewItemMatchValidator","expression","flags","CardViewItemMinMaxValidator","minValue","maxValue","intValidator","CardViewItemLengthValidator","maxLength","stringLength","parameters","1$1","2","validators","minmax","0$1","CardViewBaseItemModel","cardViewItemProperties","constraints","constraint","validatorsMap","validator","isValidUntilNow","CardViewBoolItemModel","cardViewBoolItemProperties","CardViewDateItemModel","cardViewDateItemProperties","transformDate","localizedDatePipe","CardViewDatetimeItemModel","CardViewTextItemModel","cardViewTextItemProperties","inputType","multiline","pipes","applyPipes","accumulator","CardViewFloatItemModel","CardViewIntItemModel","CardViewMapItemModel","CardViewKeyValuePairsItemModel","cardViewKeyValuePairsItemProperties","CardViewSelectItemModel","cardViewSelectItemProperties","valueFetch$","option","CardViewArrayItemModel","cardViewArrayItemProperties","CardViewComponent","DebugAppConfigService","APPLICATION","AppConfigPipe","HttpClientModule","FormDefinitionModel","lastUpdatedByFullName","lastUpdated","reusable","formImageBase64","formRepresentation","lastUpdatedBy","stencilSetId","referenceId","formDefinition","fields","fieldType","numberOfColumns","sizeX","sizeY","1","metadataToFields","gridsterForm","javascriptEvents","outcomes","tabs","variables","colspan","existingColspan","maxColspan","layout","FormSaveRepresentation","FormFieldTypes","isReadOnlyType","READONLY_TYPES","isContainerType","CONTAINER","GROUP","DYNAMIC_TABLE","MULTILINE_TEXT","DROPDOWN","HYPERLINK","RADIO_BUTTONS","DISPLAY_VALUE","READONLY_TEXT","UPLOAD","TYPEAHEAD","FUNCTIONAL_GROUP","PEOPLE","BOOLEAN","NUMBER","DATE","AMOUNT","DATETIME","ATTACH_FOLDER","FILE_VIEWER","WidgetTypeEnum","tab","WidgetVisibilityModel","operator","nextCondition","nextConditionOperator","rightRestResponseId","rightFormFieldId","leftFormFieldId","leftRestResponseId","variable","leftType","leftValue","rightType","rightValue","ContainerColumnModel","rowspan","hasFields","ErrorMessageModel","attributes","isActive","getAttributesAsJsonObj","obj_1","RequiredFieldValidator","supportedTypes","isSupported","validate","hasEmptyValue","emptyOption","opt","NumberFieldValidator","isNumber","valueStr","enableFractions","validationSummary","DateFieldValidator","isValidDate","inputDate","dateDisplayFormat","DateTimeFieldValidator","BoundaryDateFieldValidator","DATE_FORMAT_CLOUD","checkDate","extractDateFormat","MinDateFieldValidator","fieldValueData","minValueDateFormat","toLocaleUpperCase","MaxDateFieldValidator","maxValueDateFormat","MinDateTimeFieldValidator","MIN_DATETIME_FORMAT","checkDateTime","fieldValueDate","MaxDateTimeFieldValidator","MAX_DATETIME_FORMAT","MinLengthFieldValidator","toLocaleString","MaxLengthFieldValidator","MinValueFieldValidator","MaxValueFieldValidator","RegExFieldValidator","regexPattern","FixedValueFieldValidator","hasValidNameOrValidId","hasValidName","hasValidId","hasStringValue","hasOptions","FORM_FIELD_VALIDATORS","FormFieldModel","_readOnly","_isValid","_required","defaultDateFormat","visibilityCondition","currency","overrideId","restUrl","restResponsePath","restIdProperty","restLabelProperty","optionType","hyperlinkUrl","displayText","getDefaultDateFormat","_value","parseValue","valueFound","processVariables","processVariable","getProcessVariableValue","responseVariable","getFormVariableValue","containerFactory","updateForm","markAsInvalid","fieldValidators","validators_1","validators_1_1","jsonField","originalType","isTypeaheadFieldType","getFieldNameWithLabel","fieldName","currentField","colFields","isDateField","isDateTimeField","dateValue","isCheckboxField","radioButton","hasUpload","elem","typeAheadEntry","dateTimeValue","utc","isInvalidFieldType","onFormFieldChanged","getOptionName","FormWidgetModel","FormEvent","FormFieldEvent","ValidateFormFieldEvent","ValidateFormEvent","errorsField","ContainerModel","TabModel","hasContent","FormOutcomeModel","isSystem","selectedOutcome","SAVE_ACTION","COMPLETE_ACTION","START_PROCESS_ACTION","FormModel","formValues","formService","enableFixedSpace","taskName","UNSET_TASK_NAME","customFieldTemplates","taskId","processDefinitionId","tabCache_1","tabJson","parseRootFields","loadData","parseOutcomes","validateForm","validateField","formFieldValueChanged","validateFormEvent","getFormFields","validateFieldEvent","validateFormField","formWidgetModel","fields_1","fields_1_1","variableId","isDefined","getFormVariable","identifier","names_1","hasTabs","hasOutcomes","getFieldById","fieldId","formFieldModel","saveOutcome","SAVE_OUTCOME","completeOutcome","COMPLETE_OUTCOME","startProcessOutcome","START_PROCESS_OUTCOME","customOutcomes","addValuesNotPresent","valuesToSetIfNotPresent","isEmptyDropdownOption","setNodeIdValueForViewersLinkedToUploadWidget","linkedUploadWidgetContentSelected","uploadWidgetId","FormOutcomeEvent","outcome","_outcome","ContentLinkModel","contentAvailable","previewStatus","relatedContent","simpleType","thumbnailStatus","hasPreviewStatus","isTypeImage","isTypePdf","isTypeDoc","isThumbnailReady","isThumbnailSupported","UploadWidgetContentLinkModel","EcmModelService","createEcmTypeForActivitiForm","formName","searchActivitiEcmModel","saveFomType","typeForm","createActivitiEcmModel","getEcmModels","ecmModels","MODEL_NAME","createEcmModel","MODEL_NAMESPACE","activeEcmModel","modelActive","createEcmTypeWithProperties","typeCreated","searchEcmType","ecmType","createEcmType","TYPE_MODEL","addPropertyToAType","propertyAdded","typeName","modelName","getEcmType","customTypes","prefixedName","customModelApi","activateCustomModel","toJson","nameSpace","createCustomModel","getAllCustomModel","getAllCustomType","parentType","cleanNameType","createCustomType","formFields","dataType","multiValued","mandatory","mandatoryEnforced","addPropertyToType","cleanName","FormService","ecmModelService","formLoaded","formDataRefreshed","formEvents","taskCompleted","taskCompletedError","taskSaved","taskSavedError","formContentClicked","validateDynamicTableRow","executeOutcome","updateFormValuesRequested","modelsApi","editorApi","processApi","processInstanceVariablesApi","usersWorkflowApi","groupsApi","parseForm","fixedSpace","createFormFromANode","createForm","customType","formDefinitionModel","saveForm","formData","dataModel","modelType","stencilSet","createModel","formId","formModel","searchFrom","getModels","forms","getForms","toJsonArray","getProcessDefinitions","getProcessVariablesById","processInstanceId","getProcessInstanceVariables","getTasks","listTasks","getTask","saveTaskForm","saveFormRepresentation","completeTaskForm","completeFormRepresentation","getTaskForm","getFormDefinitionById","getForm","getFormDefinitionByName","filterText","getFormId","getStartFormInstance","processId","getProcessInstanceStartForm","getProcessInstance","getStartFormDefinition","getProcessDefinitionStartForm","getRestFieldValues","getRestFieldValuesByProcessId","getRestFieldValuesColumnByProcessId","getRestTableFieldValues","getRestFieldValuesColumn","getUserProfileImageApi","userApi","getUserProfilePictureUrl","getWorkflowUsers","combineAll","defaultIfEmpty","getWorkflowGroups","getGroups","errMsg","UNKNOWN_ERROR_MESSAGE","statusText","GENERIC_ERROR_MESSAGE","WidgetComponent","fieldChanged","hasField","isRequired","isInvalidFieldRequired","checkVisibility","onFieldChanged","(click)","(blur)","(change)","(focus)","(focusin)","(focusout)","(input)","(invalid)","(select)","ContainerWidgetComponentModel","isExpanded","isCollapsedByDefault","isGroup","isCollapsible","allowCollapse","collapseByDefault","ContainerWidgetComponent","onExpanderClicked","getNumberOfColumnsFromTheBiggestBetweenJsonAndColumnsLengthOrOne","getFields","serialisedFormFields","maxColumnFieldsSize","getMaxColumnFieldSize","this_1","flatMap","currentColumn","firstRowElementColSpan","maxFieldSize","prevColumn","getColumnWith","TabsWidgetComponent","formTabChanged","visibleTabs","ngAfterContentChecked","filterVisibleTabs","tabChanged","UnknownWidgetComponent","ADF_AMOUNT_SETTINGS","AmountWidgetComponent","showPlaceholder","DEFAULT_CURRENCY","showReadonlyPlaceholder","CheckboxWidgetComponent","DateWidgetComponent","minDate","maxDate","displayDate","0$2","DisplayTextWidgetComponent","DocumentWidgetComponent","fileId","hasFile","DropdownWidgetComponent","getValuesByTaskId","getValuesByProcessDefinitionId","formFieldOption","getOptionValue","fieldValue","WidgetVisibilityService","refreshVisibility","processVarList","tabModel","refreshEntityVisibility","outcomeModel","refreshOutcomeVisibility","evaluateVisibility","isParentTabVisible","visibilityObj","isLeftFieldPresent","isFieldVisible","getLeftValue","getRightValue","actualResult","evaluateCondition","isValidOperator","isValidCondition","evaluateLogicalOperation","getVariableValue","getFormValue","variableValue","isInvalidValue","formField","getFormFieldById","isFormFieldValid","getFieldValue","searchValueInForm","valueList","labelFilterByName","isSearchedField","getObjectValue","currentFormField","containers","getFormTabContainers","getCurrentFieldFromTabById","tabFields","tabFields_1","tabFields_1_1","getValueFromOption","fieldToFind","processVariableValue","variableDefaultValue","logicOp","cleanProcessVariable","getTaskProcessVariable","taskFormsApi","getTaskFormVariables","jsonRes","condition","ValidateDynamicTableRowEvent","summary","DateCellValidator","DynamicRowValidationSummary","NumberCellValidator","RequiredCellValidator","DynamicTableModel","visibleColumns","_validators","_selectedRow","definitions","columnDefinitions","flushValue","moveRow","offset","oldIndex","newIndex","arr","deleteRow","selectedRow","addRow","validateRow","e_2","getCellValue","rowValue","getDisplayText","columnName","amountCurrency","DynamicTableWidgetComponent","visibilityService","ERROR_MODEL_NOT_FOUND","editMode","editRow","selectArrayCode","forceFocusOnAddButton","buttonAddRow","isDynamicTableReady","onRowClicked","onKeyPressed","isEnterOrSpacePressed","hasSelection","moveSelectionUp","moveSelectionDown","deleteSelection","addNewRow","isNew","editSelection","copyRow","cellValue","onSaveChanges","copyObject","onCancelChanges","BooleanEditorComponent","DateEditorComponent","table","0$3","1$2","DateTimeEditorComponent","DATE_TIME_FORMAT","0$4","DropdownEditorComponent","dynamicTableColumnOption","RowEditorComponent","TextEditorComponent","AmountEditorComponent","ErrorWidgetComponent","translateParameters","_subscriptAnimationState","FunctionalGroupWidgetComponent","minTermLength","restrictWithGroup","oldValue","onItemClick","onItemSelect","HyperlinkWidgetComponent","linkUrl","linkText","getHyperlinkUrl","getHyperlinkText","DEFAULT_HYPERLINK_SCHEME","DEFAULT_HYPERLINK_URL","MultilineTextWidgetComponentComponent","NumberWidgetComponent","decimalNumberPipe","PeopleProcessService","alfrescoJsApi","searchWord","excludeTaskId","getWorkflowUserApi","getUserImage","involveUserWithTask","idToInvolve","involveUserToTaskApi","removeInvolvedUser","idToRemove","removeInvolvedUserFromTaskApi","taskActionsApi","involveUser","PeopleWidgetComponent","peopleProcessService","searchTerm","searchTerms$","users$","checkUserAndValidateForm","peopleSelected","isValidUser","selectedUser","RadioButtonsWidgetComponent","getOptionsByTaskId","getOptionsByProcessDefinitionId","onOptionClick","optionSelected","CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR","NG_VALUE_ACCESSOR","useExisting","forwardRef","InputMaskDirective","multi","translationMask","0","9","optional","#","recursive","A","S","byPassKeys","invalidCharacters","_onChange","_onTouched","onTextInput","inputMask","mask","maskValue","selectionStart","isReversed","writeValue","registerOnChange","fn","registerOnTouched","actualValue","startCaret","maskToApply","isMaskReversed","getMasked","calculatedCaret","calculateCaretPosition","setCaretPosition","caretPosition","moveStart","moveEnd","newValueLength","oldValueLength","skipMaskChars","lastMaskChar","lastUntranslatedMaskChar","check","buf","maskIndex","maskLen","valueIndex","valueLength","addMethod","resetPos","isToCheck","maskDigit","charAt","valDigit","digit","lastMaskCharDigit","TextWidgetComponent","TypeaheadWidgetComponent","toSelect","isValidOptionName","optionName","isValueDefined","ProcessContentService","createTemporaryRawRelatedContent","contentId","getContent","getFileRawContent","getRawContent","getContentPreview","getFileRawContentUrl","getRawContentUrl","getContentThumbnail","getTaskRelatedContent","getRelatedContentForTask","getProcessRelatedContent","getRelatedContentForProcessInstance","deleteRelatedContent","deleteContent","createProcessRelatedContent","createRelatedContentOnProcessInstance","createTaskRelatedContent","createRelatedContentOnTask","UploadWidgetComponent","processContentService","multipleOption","getMultipleFileParam","removeFile","removeElementFromList","onFileChanged","filesSaved","uploadRawContent","contentBlob","getIcon","fileClicked","contentLinkModel","fetch","1$3","DateTimeWidgetComponent","utcOffset","0$5","JsonWidgetComponent","UploadFolderWidgetComponent","resetFormValueWithNoFiles","FileViewerWidgetComponent","WIDGET_DIRECTIVES","MASK_DIRECTIVE","FormRenderingService","widgets.UnknownWidgetComponent","widgets.TextWidgetComponent","string","integer","widgets.NumberWidgetComponent","multi-line-text","widgets.MultilineTextWidgetComponentComponent","boolean","widgets.CheckboxWidgetComponent","dropdown","widgets.DropdownWidgetComponent","widgets.DateWidgetComponent","amount","widgets.AmountWidgetComponent","radio-buttons","widgets.RadioButtonsWidgetComponent","hyperlink","widgets.HyperlinkWidgetComponent","readonly-text","widgets.DisplayTextWidgetComponent","widgets.JsonWidgetComponent","readonly","typeahead","widgets.TypeaheadWidgetComponent","people","widgets.PeopleWidgetComponent","functional-group","widgets.FunctionalGroupWidgetComponent","dynamic-table","widgets.DynamicTableWidgetComponent","widgets.ContainerWidgetComponent","widgets.DocumentWidgetComponent","widgets.UploadWidgetComponent","widgets.DateTimeWidgetComponent","file-viewer","widgets.FileViewerWidgetComponent","FormFieldComponent","formRenderingService","componentFactoryResolver","compiler","w","adf","originalField","getField","customTemplate","hasController","getComponentFactorySync","componentRef","componentType","wrappedField","componentInfo","createComponentFactorySync","componentClass","cmpClass","decoratedCmp","moduleClass","decoratedNgModule","compileModuleAndAllComponentsSync","componentFactories","focusToggle","Compiler","FormBaseComponent","showTitle","showCompleteButton","disableCompleteButton","disableSaveButton","disableStartProcessButton","showSaveButton","showRefreshButton","showValidationIcon","getParsedFormDefinition","hasForm","isTitleEnabled","titleEnabled","getColorForOutcome","outcomeName","COMPLETE_OUTCOME_NAME","COMPLETE_BUTTON_COLOR","isOutcomeButtonEnabled","isOutcomeButtonVisible","isFormReadOnly","onOutcomeClicked","onExecuteOutcome","SAVE_OUTCOME_ID","COMPLETE_OUTCOME_ID","START_PROCESS_OUTCOME_ID","CUSTOM_OUTCOME_ID","onTaskSaved","storeFormAsMetadata","FormListComponent","ContentWidgetComponent","showDocumentContent","contentClick","thumbnailLoaded","contentLoaded","loadContent","loadThumbnailUrl","observable","thumbnailUrl","openViewer","showDebugButton","ActivitiContentService","getAlfrescoNodes","accountId","folderId","accountShortId","getContentInFolder","getAlfrescoRepositories","includeAccount","includeAccounts","getRepositories","linkAlfrescoNode","createTemporaryRelatedContent","sourceId","applyAlfrescoNode","currentSideId","isLink","NodesApiService","api","preferences","getEntryFromEntity","entity","getNodeChildren","createNode","parentNodeId","nodeBody","addNode","createFolder","updateNode","getNodeMetadata","cleanMetadataFromSemicolon","createNodeMetadata","createNodeInsideRoot","relativePath","NodeMetadata","NodeService","nodesApiService","FormErrorEvent","EditJsonDialogModule","ViewerModule","FormRendererComponent","StartFormCustomButtonDirective","HeaderLayoutComponent","showSidenavToggle","toggleMenu","logo","sidenavAnimation","contentAnimation","margin-left","margin-right","LayoutContainerComponent","hideSidenav","SIDENAV_STATES","MOBILE","EXPANDED","COMPACT","CONTENT_STATES","onMediaQueryChange","sidenavMax","sidenavMin","mediaQueryList","addListener","isMobileScreenSize","sidenavAnimationState","contentAnimationState","toggledContentAnimation","removeListener","sidenav","toggledSidenavAnimation","matches","getContentAnimationState","MatSidenav","SidebarActionMenuComponent","expanded","SidenavLayoutComponent","mediaMatcher","dir","templateContext","isMenuMinimized","initialMenuState","menuOpenStateSubject","menuOpenState$","stepOver","STEP_OVER","matchMedia","_isMenuMinimized","menuState","headerDirective","emptyTemplate","navigationDirective","contentDirective","MediaMatcher","SidenavLayoutHeaderDirective","SidenavLayoutNavigationDirective","SidenavLayoutContentDirective","SidebarMenuDirective","SidebarMenuExpandIconDirective","SidebarMenuTitleIconDirective","CommentListComponent","clickRow","selectComment","selectedComment","getUserShortName","shortName","isPictureDefined","isAContentUsers","CommentProcessService","addTaskComment","CommentModel","getTaskComments","comments","UserProcessModel","getProcessInstanceComments","commentsApi","addProcessInstanceComment","CommentContentService","addNodeComment","addComment","createdAt","getNodeComments","getComments","CommentsComponent","commentProcessService","commentContentService","beingAdded","comment$","commentObserver","resetComments","isATask","comment1","comment2","date1","date2","currentComment","isANode","unshift","ButtonsMenuComponent","isMenuEmpty","buttons","isMobile","userAgent","SortingPickerComponent","ascending","valueChange","sortingChange","onOptionChanged","toggleSortDirection","ErrorContentComponent","UNKNOWN_ERROR","code","errorHasTranslation","checkErrorExists","errorCodeTranslated","subtitle","IconComponent","_isCustom","IconModule","EmptyContentComponent","AuthGuardBase","canActivate","isLoginFragmentPresent","redirectSSOSuccessURL","checkLogin","canActivateChild","redirectFragment","getLoginRoute","redirectToUrl","urlToRedirect","getOauthConfig","getProvider","closeAll","parseUrl","LOGIN_ROUTE","isOAuthWithoutSilentLogin","isSilentLogin","AuthGuard","ticketChangeBind","ticketChange","ticketChangeRedirect","endsWith","reload","AuthGuardEcm","AuthGuardBpm","ContentGroups","PeopleContentService","hasContentAdminRole","hasCheckedIsContentAdmin","getCurrentPerson","listPeople","person","createPerson","newPerson","isContentAdmin","AuthGuardSsoRoleService","peopleContentService","ALFRESCO_ADMINISTRATORS","clientRoleName","AppsProcessService","getDeployedApplications","appsApi","getAppDefinitions","getDeployedApplicationsByName","app","getApplicationDetailsById","appId","PageTitleService","titleService","originalTitle","translatedTitle","onLangChange","onLanguageChanged","setTitle","updateTitle","Title","RenditionsService","getAvailableRenditionForNode","availableRenditions","renditionsAvailable","existingRendition","rend","generateRenditionForNode","empty","encoding","isAvailable","isConversionPossible","getRenditionsListByNodeId","convert","pollingInterval","concatMap","pollRendition","intervalSize","attempts","interval","takeWhile","ComponentTranslationModel","TranslateLoaderService","suffix","registered","fetchLanguageFile","component","fallbackUrl","translationUrl","langId","getComponentToFetch","observableBatch","isComponentInQueue","hasFailures","fullTranslation","DeletedNodesApiService","defaultOptions","FavoritesApiService","remapEntry","cm:title","cm:description","remapFavoritesData","remapFavoriteEntries","getFavorites","where","SearchConfigurationService","generateQueryBody","maxResults","paging","filterQueries","SearchService","searchConfigurationService","dataLoaded","getNodeQueryResults","queriesApi","findNodes","nodePaging","searchQuery","searchByQueryBody","queryBody","SharedLinksApiService","getSharedLinks","findSharedLinks","createSharedLinks","addSharedLink","deleteSharedLink","LoginDialogService","openLogin","openLoginDialog","currentPanelClass","chosenWidth","ExternalAlfrescoApiService","createPrefixFromHost","LockService","hasLockConfigured","isReadOnlyLock","isLockExpired","isLockOwnerAllowed","getLockExpiryTime","expiryLockTime","DemoForm","easyForm","endpoint","requestHeaders","customFieldsValueInfo","globalDateFormat","2","fileSource","serviceId","metaDataColumnDefinitions","folderSource","metaDataAllowed","amountEnableFractions","simpleFormDefinition","cloudFormDefinition","inputMaskReversed","inputMaskPlaceholder","property1","property2","getEasyForm","getFormDefinition","getSimpleFormDefinition","getFormCloudDefinition","CoreAutomationService","setup","adfProxy","getConfigField","setConfigField","setStorageItem","removeStorageItem","getStorageItem","setUserPreference","setFormInEditor","setCloudFormInEditor","clearStorage","apiReset","IdentityGroupService","queryGroups","getTotalGroupsCount","createGroup","newGroup","updateGroup","updatedGroup","deleteGroup","findGroupsByName","searchParams","getGroupRoles","buildRolesUrl","checkGroupHasRole","groupRoles","checkGroupHasClientApp","checkGroupHasAnyClientAppRole","IdentityRoleService","getRoles","preparePaginationWithRoles","addRole","newRole","deleteRole","deletedRole","updateRole","updatedRole","roleId","observableThrowError","AuthBearerInterceptor","loadExcludedUrlsRegex","excludedUrls","excludedUrlsRegex","urlPattern","intercept","req","handle","urlRequest","headersWithBearer","headerWithContentType","appendJsonContentType","kcReq","NotificationHistoryComponent","maxNotifications","notifications","paginatedNotifications","NOTIFICATION_STORAGE","addNewNotification","MAX_NOTIFICATION_STACK_LENGTH","saveNotifications","createPagination","RECURSIVE","onMenuOpened","markAsRead","hasMoreNotifications","onNotificationClick","NotificationIconPipe","PaginationModule","searchAnimation","SearchTextInputComponent","autocomplete","expandable","liveSearchEnabled","searchAutocomplete","collapseOnSubmit","defaultState","collapsed","searchChange","selectResult","animationStates","ltr","active","inactive","rtl","toggleSearch","subscriptAnimationState","toggleAnimation","searchInput","blur","getDefaultState","setValueChangeHandler","setupFocusEventHandlers","applySearchFocus","animationDoneEvent","toState","getAutoComplete","getAnimationState","focusListener","focusEvents","isSearchBarActive","focusSubscription","toggleSearchBar","selectFirstResult","relatedTarget","inputChange","searchSubmit","activateToolbar","SEARCH_AUTOCOMPLETE_VALUE_ACCESSOR","SearchTriggerDirective","changeDetectorRef","_panelOpen","escapeEventStream","onTouched","closingActionsSubscription","searchPanel","showPanel","openPanel","isOpen","subscribeToClosingActions","closePanel","resetResults","hidePanel","outsideClickStream","clickTarget","setTriggerValue","panelOpen","handleInput","keyPressedStream","isPanelOptionClicked","isPanelOption","isNoResultOption","contains","results","firstStable","onStable","optionChanges","setVisibility","panelClosingActions","setValueAndClose","toDisplay","displayWith","textContent","[attr.autocomplete]","aria-autocomplete","[attr.aria-expanded]","(keydown)","BlankPageComponent","AlfrescoApiMock","changeConfig","AppConfigServiceMock","fakeApps","defaultAppId","modelId","theme","deploymentId","AuthenticationMock","setRedirectUrl","getRedirectUrl","fakeBpmUserNoImage","fakeBpmUser","fakeUser1","fakeTasksComment","fakeProcessComment","CookieServiceMock","fakeEcmUser","fakeEcmUser2","fakeEcmUserList","PersonPaging","EventMock","keyDown","createEvent","initEvent","keyUp","resizeMobileView","Event","fakeSearch","mimetype","createdByUser","modifiedByUser","searchMockApi","TranslationMock","AlfrescoApiServiceMock","initialize","formTest","mockIdentityGroup1","subGroups","mockIdentityGroup2","mockIdentityGroup3","mockIdentityGroup4","mockIdentityGroup5","mockIdentityGroups","mockApplicationDetails","roleMappingMock","roleMappingApi","noRoleMappingApi","groupsMockApi","createGroupMappingApi","3","updateGroupMappingApi","4","deleteGroupMappingApi","5","applicationDetailsMockApi","6","mockIdentityRoles","IdentityRoleModel","resetTestingModule","TestBed","preventAngularFromResetting","allowAngularToReset","startupServiceFactory","directionalityConfigFactory","directionalityConfigService","rendererFactory","directionality","createRenderer","versionCompatibilityFactory","RendererFactory2","Directionality","CoreModule","forRoot","ngModule","TranslateStore","TranslateLoader","APP_INITIALIZER","useFactory","deps","DirectionalityConfigService","forChild","AboutModule","SidenavLayoutModule","DialogModule","HostSettingsModule","UserInfoModule","AppConfigModule","CardViewModule","FormBaseModule","CommentsModule","LoginModule","LanguageMenuModule","InfoDrawerModule","ButtonsMenuModule","TemplateModule","SortingPickerModule","NotificationHistoryModule","SearchTextModule","BlankPageModule","1$7","NoopAnimationsModule","RouterTestingModule","0$b","organization","address1","address2","address3","postcode","fax","processDefinitionName","processDefinitionKey","taskDefinitionKey","mimeTypeName","test_1","test_2","test_3","test_4","test_5","fakeEcmUserWithAdminCapabilities","Person","errorKey","briefSummary","stackTrace","descriptionURL","moduleDef","beforeAll","sessionStorage","configureTestingModule","compileComponents","afterAll","standalone"],"mappings":"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uxG,EAAAA,eACA3xG,EAAAA,iBACA,CAAEy1D,QAASm8C,EAAAA,gBAAiBl8C,SAAUipC,IACtC,CACIlpC,QAASo8C,EAAAA,gBACTC,WAAYf,GACZgB,KAAM,CACF5tH,IAEJi/F,OAAO,GAEX,CACI3tB,QAASo8C,EAAAA,gBACTC,WAAYd,GACZe,KAAM,CAAEC,IACR5uB,OAAO,GAEX,CACI3tB,QAASo8C,EAAAA,gBACTC,WAAYT,GACZU,KAAM,CAAEvwF,IACR4hE,OAAO,MAMhBouB,EAAAS,SAAP,WACI,MAAO,CACHP,SAAUF,8BA1GrBz7G,EAAAA,SAAQnlB,KAAA,CAAC,CACNolB,QAAS,CACLoI,EAAAA,gBACA0gD,EAAAA,iBACAozD,GACA3f,GACA4f,GACA12E,GACAv9B,EAAAA,aACAw9B,GACA02E,GACA3zD,EAAAA,YACAC,EAAAA,oBACA2zD,GACAC,GACAn0G,GACAo0G,GACAvK,GACArpD,GACAnjB,GACAg3E,GACAC,GACAC,GACAC,GACAC,GACAC,GACAt3E,GACAY,GACA22E,GACAC,GACAnZ,GACAoZ,GACAC,GACAC,GACAC,IAEJp7G,QAAS,CACLm6G,GACA3f,GACA4f,GACA12E,GACAv9B,EAAAA,aACAw9B,GACA02E,GACAz2E,GACA8iB,EAAAA,YACAC,EAAAA,oBACA2zD,GACAC,GACAn0G,GACAo0G,GACAvK,GACArpD,GACAnjB,GACAg3E,GACAC,GACAC,GACAC,GACAC,GACAC,GACAt3E,GACAY,GACA/9B,EAAAA,gBACA00G,GACAC,GACAC,GACApZ,GACAqZ,GACAC,GACAC,kDAhFCjzG;;;;;;;;;;;;;;;;;OCEe8wG,GAA2BoC,GAM3B/B,MAWxB,kCAjCCt7G,EAAAA,SAAQnlB,KAAA,CAAC,CACNolB,QAAS,CACLq9G,EAAAA,qBACAC,EAAAA,oBACA91C,EAAAA,iBACAp/D,EAAAA,gBAAgBqzG,UAChBD,GAAWC,WAEfrxG,UAAW,CACP0N,EAAAA,SACA,CAAE2nD,QAAStxE,GAAoBuxE,SAAUw5C,IACzC,CAAEz5C,QAASz1E,GAAkB01E,SAAUw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","sourcesContent":["/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, ViewEncapsulation } from '@angular/core';\n\n@Component({\n    selector: 'adf-about-github-link',\n    templateUrl: './about-github-link.component.html',\n    encapsulation: ViewEncapsulation.None\n})\nexport class AboutGithubLinkComponent {\n    /** Commit corresponding to the version of ADF to be used. */\n    @Input()\n    url = 'https://github.com/Alfresco/alfresco-ng2-components/commits/';\n\n    /** Current version of the app running */\n    @Input()\n    version: string = '';\n\n    /** Title of app running */\n    @Input()\n    application: string = '';\n\n    constructor() {}\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class ObjectUtils {\n    /**\n     * Gets a value from an object by composed key\n     * ObjectUtils.getValue({ item: { nodeType: 'cm:folder' }}, 'item.nodeType') ==> 'cm:folder'\n     * @param target\n     * @param key\n     */\n    static getValue(target: any, key: string): any {\n\n        if (!target) {\n            return undefined;\n        }\n\n        const keys = key.split('.');\n        key = '';\n\n        do {\n            key += keys.shift();\n            const value = target[key];\n            if (value !== undefined && (typeof value === 'object' || !keys.length)) {\n                target = value;\n                key = '';\n            } else if (!keys.length) {\n                target = undefined;\n            } else {\n                key += '.';\n            }\n        } while (keys.length);\n\n        return target;\n    }\n\n    static merge(...objects): any {\n        const result = {};\n\n        objects.forEach((source) => {\n            Object.keys(source).forEach((prop) => {\n                if (prop in result && Array.isArray(result[prop])) {\n                    result[prop] = result[prop].concat(source[prop]);\n                } else if (prop in result && typeof result[prop] === 'object') {\n                    result[prop] = ObjectUtils.merge(result[prop], source[prop]);\n                } else {\n                    result[prop] = source[prop];\n                }\n            });\n        });\n\n        return result;\n    }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MatDateFormats } from '@angular/material/core';\n\nexport const MOMENT_DATE_FORMATS: MatDateFormats = {\n    parse: {\n        dateInput: 'DD/MM/YYYY'\n    },\n    display: {\n        dateInput: 'DD/MM/YYYY',\n        monthYearLabel: 'MMMM Y',\n        dateA11yLabel: 'LL',\n        monthYearA11yLabel: 'MMMM Y'\n    }\n};\n\nconst dateNames: string[] = [];\nfor (let date = 1; date <= 31; date++) {\n    dateNames.push(String(date));\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport interface FileInfo {\n    entry?: any;\n    file?: File;\n    relativeFolder?: string;\n}\n\nexport class FileUtils {\n\n    static flatten(folder: any): Promise<FileInfo[]> {\n        const reader = folder.createReader();\n        const files: FileInfo[] = [];\n        return new Promise((resolve) => {\n            const iterations = [];\n            (function traverse() {\n                reader.readEntries((entries) => {\n                    if (!entries.length) {\n                        Promise.all(iterations).then(() => resolve(files));\n                    } else {\n                        iterations.push(Promise.all(entries.map((entry) => {\n                            if (entry.isFile) {\n                                return new Promise((resolveFile) => {\n                                    entry.file(function (file: File) {\n                                        files.push({\n                                            entry: entry,\n                                            file: file,\n                                            relativeFolder: entry.fullPath.replace(/\\/[^\\/]*$/, '')\n                                        });\n                                        resolveFile();\n                                    });\n                                });\n                            } else {\n                                return FileUtils.flatten(entry).then((result) => {\n                                    files.push(...result);\n                                });\n                            }\n                        })));\n                        // Try calling traverse() again for the same dir, according to spec\n                        traverse();\n                    }\n                });\n            })();\n        });\n    }\n\n    static toFileArray(fileList: FileList): File[] {\n        const result = [];\n\n        if (fileList && fileList.length > 0) {\n            for (let i = 0; i < fileList.length; i++) {\n                result.push(fileList[i]);\n            }\n        }\n\n        return result;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { DateAdapter } from '@angular/material/core';\nimport { isMoment, Moment } from 'moment';\nimport moment from 'moment-es6';\n\n@Injectable()\nexport class MomentDateAdapter extends DateAdapter<Moment> {\n\n    private localeData: any = moment.localeData();\n\n    overrideDisplayFormat: string;\n\n    getYear(date: Moment): number {\n        return date.year();\n    }\n\n    getMonth(date: Moment): number {\n        return date.month();\n    }\n\n    getDate(date: Moment): number {\n        return date.date();\n    }\n\n    getDayOfWeek(date: Moment): number {\n        return date.day();\n    }\n\n    getMonthNames(style: 'long' | 'short' | 'narrow'): string[] {\n        switch (style) {\n            case 'long':\n                return this.localeData.months();\n            case 'short':\n                return this.localeData.monthsShort();\n            case 'narrow':\n                return this.localeData.monthsShort().map((month) => month[0]);\n            default :\n                return [];\n        }\n    }\n\n    getDateNames(): string[] {\n        const dateNames: string[] = [];\n        for (let date = 1; date <= 31; date++) {\n            dateNames.push(String(date));\n        }\n\n        return dateNames;\n    }\n\n    getDayOfWeekNames(style: 'long' | 'short' | 'narrow'): string[] {\n        switch (style) {\n            case 'long':\n                return this.localeData.weekdays();\n            case 'short':\n                return this.localeData.weekdaysShort();\n            case 'narrow':\n                return this.localeData.weekdaysShort();\n            default :\n                return [];\n        }\n    }\n\n    getYearName(date: Moment): string {\n        return String(date.year());\n    }\n\n    getFirstDayOfWeek(): number {\n        return this.localeData.firstDayOfWeek();\n    }\n\n    getNumDaysInMonth(date: Moment): number {\n        return date.daysInMonth();\n    }\n\n    clone(date: Moment): Moment {\n        const locale = this.locale || 'en';\n        return date.clone().locale(locale);\n    }\n\n    createDate(year: number, month: number, date: number): Moment {\n        return moment([year, month, date]);\n    }\n\n    today(): Moment {\n        const locale = this.locale || 'en';\n        return moment().locale(locale);\n    }\n\n    parse(value: any, parseFormat: any): Moment {\n        const locale = this.locale || 'en';\n\n        if (value && typeof value === 'string') {\n            let m = moment(value, parseFormat, locale, true);\n            if (!m.isValid()) {\n                // use strict parsing because Moment's parser is very forgiving, and this can lead to undesired behavior.\n                m = moment(value, this.overrideDisplayFormat, locale, true);\n            }\n            if (m.isValid()) {\n                // if user omits year, it defaults to 2001, so check for that issue.\n                if (m.year() === 2001 && value.indexOf('2001') === -1) {\n                    // if 2001 not actually in the value string, change to current year\n                    const currentYear = new Date().getFullYear();\n                    m.set('year', currentYear);\n                    // if date is in the future, set previous year\n                    if (m.isAfter(moment())) {\n                        m.set('year', currentYear - 1);\n                    }\n                }\n            }\n            return m;\n        }\n\n        return value ? moment(value).locale(locale) : null;\n    }\n\n    format(date: Moment, displayFormat: any): string {\n        date = this.clone(date);\n        displayFormat = this.overrideDisplayFormat ? this.overrideDisplayFormat : displayFormat;\n\n        if (date && date.format) {\n            return date.format(displayFormat);\n        } else {\n            return '';\n        }\n    }\n\n    addCalendarYears(date: Moment, years: number): Moment {\n        return date.clone().add(years, 'y');\n    }\n\n    addCalendarMonths(date: Moment, months: number): Moment {\n        return date.clone().add(months, 'M');\n    }\n\n    addCalendarDays(date: Moment, days: number): Moment {\n        return date.clone().add(days, 'd');\n    }\n\n    getISODateString(date: Moment): string {\n        return date.toISOString();\n    }\n\n    setLocale(locale: any): void {\n        super.setLocale(locale);\n\n        this.localeData = moment.localeData(locale);\n    }\n\n    compareDate(first: Moment, second: Moment): number {\n        return first.diff(second, 'seconds', true);\n    }\n\n    sameDate(first: any | Moment, second: any | Moment): boolean {\n        if (first == null) {\n            // same if both null\n            return second == null;\n        } else if (isMoment(first)) {\n            return first.isSame(second);\n        } else {\n            const isSame = super.sameDate(first, second);\n            return isSame;\n        }\n    }\n\n    clampDate(date: Moment, min?: any | Moment, max?: any | Moment): Moment {\n        if (min && date.isBefore(min)) {\n            return min;\n        } else if (max && date.isAfter(max)) {\n            return max;\n        } else {\n            return date;\n        }\n    }\n\n    isDateInstance(date: any) {\n        let isValidDateInstance = false;\n\n        if (date) {\n            isValidDateInstance = date._isAMomentObject;\n        }\n\n        return isValidDateInstance;\n    }\n\n    isValid(date: Moment): boolean {\n        return date.isValid();\n    }\n\n    toIso8601(date: Moment): string {\n        return this.clone(date).format();\n    }\n\n    fromIso8601(iso8601String: string): Moment | null {\n        const locale = this.locale || 'en';\n        const d = moment(iso8601String, moment.ISO_8601).locale(locale);\n        return this.isValid(d) ? d : null;\n    }\n\n    invalid(): Moment {\n        return moment.invalid();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { ObjectUtils } from '../utils/object-utils';\nimport { Observable, Subject } from 'rxjs';\nimport { map, distinctUntilChanged, take } from 'rxjs/operators';\nimport { ExtensionConfig, ExtensionService, mergeObjects } from '@alfresco/adf-extensions';\n\n/* spellchecker: disable */\nexport enum AppConfigValues {\n    APP_CONFIG_LANGUAGES_KEY = 'languages',\n    PROVIDERS = 'providers',\n    OAUTHCONFIG = 'oauth2',\n    ECMHOST = 'ecmHost',\n    BASESHAREURL = 'baseShareUrl',\n    BPMHOST = 'bpmHost',\n    IDENTITY_HOST = 'identityHost',\n    AUTHTYPE = 'authType',\n    CONTEXTROOTECM = 'contextRootEcm',\n    CONTEXTROOTBPM = 'contextRootBpm',\n    ALFRESCO_REPOSITORY_NAME = 'alfrescoRepositoryName',\n    LOG_LEVEL = 'logLevel',\n    LOGIN_ROUTE = 'loginRoute',\n    DISABLECSRF = 'disableCSRF',\n    AUTH_WITH_CREDENTIALS = 'auth.withCredentials',\n    APPLICATION = 'application',\n    STORAGE_PREFIX = 'application.storagePrefix',\n    NOTIFY_DURATION = 'notificationDefaultDuration'\n}\n\nexport enum Status {\n    INIT = 'init',\n    LOADING = 'loading',\n    LOADED = 'loaded'\n}\n\n/* spellchecker: enable */\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AppConfigService {\n\n    config: any = {\n        application: {\n            name: 'Alfresco ADF Application'\n        },\n        ecmHost: 'http://{hostname}{:port}/ecm',\n        bpmHost: 'http://{hostname}{:port}/bpm',\n        logLevel: 'silent'\n    };\n\n    status: Status = Status.INIT;\n    protected onLoadSubject: Subject<any>;\n    onLoad: Observable<any>;\n\n    constructor(protected http: HttpClient, protected extensionService: ExtensionService) {\n        this.onLoadSubject = new Subject();\n        this.onLoad = this.onLoadSubject.asObservable();\n\n        extensionService.setup$.subscribe((config) => {\n            this.onExtensionsLoaded(config);\n        });\n    }\n\n    /**\n     * Requests notification of a property value when it is loaded.\n     * @param property The desired property value\n     * @returns Property value, when loaded\n     */\n    select(property: string): Observable<any> {\n        return this.onLoadSubject\n            .pipe(\n                map((config) => config[property]),\n                distinctUntilChanged()\n            );\n    }\n\n    /**\n     * Gets the value of a named property.\n     * @param key Name of the property\n     * @param defaultValue Value to return if the key is not found\n     * @returns Value of the property\n     */\n    get<T>(key: string, defaultValue?: T): T {\n        let result: any = ObjectUtils.getValue(this.config, key);\n        if (typeof result === 'string') {\n            const keywords = new Map<string, string>();\n            keywords.set('hostname', this.getLocationHostname());\n            keywords.set(':port', this.getLocationPort(':'));\n            keywords.set('port', this.getLocationPort());\n            keywords.set('protocol', this.getLocationProtocol());\n            result = this.formatString(result, keywords);\n        }\n\n        if (typeof result === 'object') {\n            result = JSON.parse(JSON.stringify(result).replace('{hostname}', this.getLocationHostname()));\n            result = JSON.parse(JSON.stringify(result).replace('{:port}', this.getLocationPort(':')));\n            result = JSON.parse(JSON.stringify(result).replace('{protocol}', this.getLocationProtocol()));\n        }\n\n        if (result === undefined) {\n            return defaultValue;\n        }\n\n        return <T> result;\n    }\n\n    /**\n     * Gets the location.protocol value.\n     * @returns The location.protocol string\n     */\n    getLocationProtocol(): string {\n        return location.protocol;\n    }\n\n    /**\n     * Gets the location.hostname property.\n     * @returns Value of the property\n     */\n    getLocationHostname(): string {\n        return location.hostname;\n    }\n\n    /**\n     * Gets the location.port property.\n     * @param prefix Text added before port value\n     * @returns Port with prefix\n     */\n    getLocationPort(prefix: string = ''): string {\n        return location.port ? prefix + location.port : '';\n    }\n\n    protected onLoaded() {\n        this.onLoadSubject.next(this.config);\n    }\n\n    protected onDataLoaded(data: any) {\n        this.config = Object.assign({}, this.config, data || {});\n        this.onLoadSubject.next(this.config);\n\n        this.extensionService.setup$\n            .pipe(take(1))\n            .subscribe((config) => this.onExtensionsLoaded(config));\n    }\n\n    protected onExtensionsLoaded(config: ExtensionConfig) {\n        if (config) {\n            const customConfig = config.appConfig;\n\n            if (customConfig) {\n                this.config = mergeObjects(this.config, customConfig);\n            }\n        }\n    }\n\n    /**\n     * Loads the config file.\n     * @returns Notification when loading is complete\n     */\n    load(): Promise<any> {\n        return new Promise(async (resolve) => {\n            const configUrl = `app.config.json?v=${Date.now()}`;\n\n            if (this.status === Status.INIT) {\n                this.status = Status.LOADING;\n                this.http.get(configUrl).subscribe(\n                    (data: any) => {\n                        this.status = Status.LOADED;\n                        this.onDataLoaded(data);\n                        resolve(this.config);\n                    },\n                    () => {\n                        resolve(this.config);\n                    }\n                );\n            } else if (this.status === Status.LOADED) {\n                resolve(this.config);\n            } else if (this.status === Status.LOADING) {\n                this.onLoad.subscribe(() => {\n                    resolve(this.config);\n                });\n            }\n        });\n    }\n\n    private formatString(str: string, keywords: Map<string, string>): string {\n        let result = str;\n\n        keywords.forEach((value, key) => {\n            const expr = new RegExp('{' + key + '}', 'gm');\n            result = result.replace(expr, value);\n        });\n\n        return result;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ObjectUtils } from '../../utils';\nimport { DataRow } from './data-row.model';\n\n// Simple implementation of the DataRow interface.\nexport class ObjectDataRow implements DataRow {\n\n    constructor(private obj: any, public isSelected: boolean = false) {\n        if (!obj) {\n            throw new Error('Object source not found');\n        }\n\n    }\n\n    getValue(key: string): any {\n        return ObjectUtils.getValue(this.obj, key);\n    }\n\n    hasValue(key: string): boolean {\n        return this.getValue(key) !== undefined;\n    }\n\n    imageErrorResolver(): string {\n        return '';\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TemplateRef } from '@angular/core';\nimport { DataColumn, DataColumnType } from './data-column.model';\n\n// Simple implementation of the DataColumn interface.\nexport class ObjectDataColumn implements DataColumn {\n\n    key: string;\n    type: DataColumnType;\n    format: string;\n    sortable: boolean;\n    title: string;\n    srTitle: string;\n    cssClass: string;\n    template?: TemplateRef<any>;\n    copyContent?: boolean;\n    focus?: boolean;\n    sortingKey?: string;\n    header?: TemplateRef<any>;\n\n    constructor(input: any) {\n        this.key = input.key;\n        this.type = input.type || 'text';\n        this.format = input.format;\n        this.sortable = input.sortable;\n        this.title = input.title;\n        this.srTitle = input.srTitle;\n        this.cssClass = input.cssClass;\n        this.template = input.template;\n        this.copyContent = input.copyContent;\n        this.focus = input.focus;\n        this.sortingKey = input.sortingKey;\n        this.header = input.header;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class DataSorting {\n    constructor(\n        public key?: string,\n        public direction?: string) {\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DataColumn } from './data-column.model';\nimport { DataRow } from './data-row.model';\nimport { ObjectDataRow } from './object-datarow.model';\nimport { ObjectDataColumn } from './object-datacolumn.model';\nimport { DataSorting } from './data-sorting.model';\nimport { DataTableAdapter } from './datatable-adapter';\nimport { Subject } from 'rxjs';\n\n// Simple implementation of the DataTableAdapter interface.\nexport class ObjectDataTableAdapter implements DataTableAdapter {\n\n    private _sorting: DataSorting;\n    private _rows: DataRow[];\n    private _columns: DataColumn[];\n\n    selectedRow: DataRow;\n    rowsChanged: Subject<Array<DataRow>>;\n\n    static generateSchema(data: any[]) {\n        const schema = [];\n\n        if (data && data.length) {\n            const rowToExaminate = data[0];\n\n            if (typeof rowToExaminate === 'object') {\n                for (const key in rowToExaminate) {\n                    if (rowToExaminate.hasOwnProperty(key)) {\n                        schema.push({\n                            type: 'text',\n                            key: key,\n                            title: key,\n                            sortable: false\n                        });\n                    }\n                }\n            }\n\n        }\n        return schema;\n    }\n\n    constructor(data: any[] = [], schema: DataColumn[] = []) {\n        this._rows = [];\n        this._columns = [];\n\n        if (data && data.length > 0) {\n            this._rows = data.map((item) => {\n                return new ObjectDataRow(item);\n            });\n        }\n\n        if (schema && schema.length > 0) {\n            this._columns = schema.map((item) => {\n                return new ObjectDataColumn(item);\n            });\n\n            // Sort by first sortable or just first column\n            const sortable = this._columns.filter((column) => column.sortable);\n            if (sortable.length > 0) {\n                this.sort(sortable[0].key, 'asc');\n            }\n        }\n\n        this.rowsChanged = new Subject<Array<DataRow>>();\n    }\n\n    getRows(): Array<DataRow> {\n        return this._rows;\n    }\n\n    setRows(rows: Array<DataRow>) {\n        this._rows = rows || [];\n        this.sort();\n        this.rowsChanged.next(this._rows);\n    }\n\n    getColumns(): Array<DataColumn> {\n        return this._columns;\n    }\n\n    setColumns(columns: Array<DataColumn>) {\n        this._columns = columns || [];\n    }\n\n    getValue(row: DataRow, col: DataColumn, resolver?: (row: DataRow, col: DataColumn) => any ): any {\n        if (!row) {\n            throw new Error('Row not found');\n        }\n        if (!col) {\n            throw new Error('Column not found');\n        }\n\n        if (resolver) {\n            return resolver(row, col);\n        }\n\n        const value = row.getValue(col.key);\n\n        if (col.type === 'icon') {\n            const icon = row.getValue(col.key);\n            return icon;\n        }\n\n        return value;\n    }\n\n    getSorting(): DataSorting {\n        return this._sorting;\n    }\n\n    setSorting(sorting: DataSorting): void {\n        this._sorting = sorting;\n\n        if (sorting && sorting.key) {\n            this._rows.sort((a: DataRow, b: DataRow) => {\n                let left = a.getValue(sorting.key);\n                if (left) {\n                    left = (left instanceof Date) ? left.valueOf().toString() : left.toString();\n                } else {\n                    left = '';\n                }\n\n                let right = b.getValue(sorting.key);\n                if (right) {\n                    right = (right instanceof Date) ? right.valueOf().toString() : right.toString();\n                } else {\n                    right = '';\n                }\n\n                return sorting.direction === 'asc'\n                    ? left.localeCompare(right)\n                    : right.localeCompare(left);\n            });\n        }\n    }\n\n    sort(key?: string, direction?: string): void {\n        const sorting = this._sorting || new DataSorting();\n        if (key) {\n            sorting.key = key;\n            sorting.direction = direction || 'asc';\n        }\n        this.setSorting(sorting);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class StorageService {\n\n    private memoryStore: { [key: string]: any } = {};\n    private readonly useLocalStorage: boolean = false;\n    private _prefix: string = '';\n\n    get prefix() {\n        return this._prefix;\n    }\n\n    set prefix(prefix: string) {\n        this._prefix = prefix ? prefix + '_' : '';\n    }\n\n    constructor() {\n        this.useLocalStorage = this.storageAvailable('localStorage');\n    }\n\n    /**\n     * Gets an item.\n     * @param key Key to identify the item\n     * @returns The item (if any) retrieved by the key\n     */\n    getItem(key: string): string | null {\n        if (this.useLocalStorage) {\n            return localStorage.getItem(this.prefix + key);\n        } else {\n            return this.memoryStore.hasOwnProperty(this.prefix + key) ? this.memoryStore[this.prefix + key] : null;\n        }\n    }\n\n    /**\n     * Stores an item\n     * @param key Key to identify the item\n     * @param data Data to store\n     */\n    setItem(key: string, data: string) {\n        if (this.useLocalStorage) {\n            localStorage.setItem(this.prefix + key, data);\n        } else {\n            this.memoryStore[this.prefix + key] = data.toString();\n        }\n    }\n\n    /** Removes all currently stored items. */\n    clear() {\n        if (this.useLocalStorage) {\n            localStorage.clear();\n        } else {\n            this.memoryStore = {};\n        }\n    }\n\n    /**\n     * Removes a single item.\n     * @param key Key to identify the item\n     */\n    removeItem(key: string) {\n        if (this.useLocalStorage) {\n            localStorage.removeItem(this.prefix + key);\n        } else {\n            delete this.memoryStore[this.prefix + key];\n        }\n    }\n\n    /**\n     * Is any item currently stored under `key`?\n     * @param key Key identifying item to check\n     * @returns True if key retrieves an item, false otherwise\n     */\n    hasItem(key: string): boolean {\n        if (this.useLocalStorage) {\n            return localStorage.getItem(this.prefix + key) ? true : false;\n        } else {\n            return this.memoryStore.hasOwnProperty(key);\n        }\n    }\n\n    private storageAvailable(type: string): boolean {\n        try {\n            const storage = window[type];\n            const key = '__storage_test__';\n            storage.setItem(key, key);\n            storage.removeItem(key, key);\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport {\n    ContentApi,\n    Core,\n    Activiti,\n    SearchApi,\n    Node,\n    GroupsApi,\n    AlfrescoApiCompatibility, AlfrescoApiConfig, AspectsApi, TypesApi\n} from '@alfresco/js-api';\nimport { AppConfigService, AppConfigValues } from '../app-config/app-config.service';\nimport { Subject, ReplaySubject } from 'rxjs';\nimport { OauthConfigModel } from '../models/oauth-config.model';\nimport { StorageService } from './storage.service';\n\n/* tslint:disable:adf-file-name */\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AlfrescoApiService {\n    /**\n     * Publish/subscribe to events related to node updates.\n     */\n    nodeUpdated = new Subject<Node>();\n\n    alfrescoApiInitialized: ReplaySubject<boolean> = new ReplaySubject(1);\n\n    protected alfrescoApi: AlfrescoApiCompatibility;\n\n    lastConfig: AlfrescoApiConfig;\n\n    private excludedErrorUrl: string[] = ['api/enterprise/system/properties'];\n\n    getInstance(): AlfrescoApiCompatibility {\n        return this.alfrescoApi;\n    }\n\n    get taskApi(): Activiti.TaskApi {\n        return this.getInstance().activiti.taskApi;\n    }\n\n    get contentApi(): ContentApi {\n        return this.getInstance().content;\n    }\n\n    get nodesApi(): Core.NodesApi {\n        return this.getInstance().nodes;\n    }\n\n    get renditionsApi(): Core.RenditionsApi {\n        return this.getInstance().core.renditionsApi;\n    }\n\n    get sharedLinksApi(): Core.SharedlinksApi {\n        return this.getInstance().core.sharedlinksApi;\n    }\n\n    get sitesApi(): Core.SitesApi {\n        return this.getInstance().core.sitesApi;\n    }\n\n    get favoritesApi(): Core.FavoritesApi {\n        return this.getInstance().core.favoritesApi;\n    }\n\n    get peopleApi(): Core.PeopleApi {\n        return this.getInstance().core.peopleApi;\n    }\n\n    get searchApi(): SearchApi {\n        return this.getInstance().search.searchApi;\n    }\n\n    get versionsApi(): Core.VersionsApi {\n        return this.getInstance().core.versionsApi;\n    }\n\n    get classesApi(): Core.ClassesApi {\n        return this.getInstance().core.classesApi;\n    }\n\n    get groupsApi(): GroupsApi {\n        return new GroupsApi(this.getInstance());\n    }\n\n    get aspectsApi(): AspectsApi {\n        return new AspectsApi(this.getInstance());\n    }\n\n    get typesApi(): TypesApi {\n        return new TypesApi(this.getInstance());\n    }\n\n    constructor(\n        protected appConfig: AppConfigService,\n        protected storageService: StorageService) {\n    }\n\n    async load() {\n        await this.appConfig.load().then(() => {\n            this.storageService.prefix = this.appConfig.get<string>(AppConfigValues.STORAGE_PREFIX, '');\n            this.initAlfrescoApi();\n            this.alfrescoApiInitialized.next(true);\n        });\n    }\n\n    reset() {\n        this.initAlfrescoApi();\n    }\n\n    protected initAlfrescoApi() {\n        const oauth: OauthConfigModel = Object.assign({}, this.appConfig.get<OauthConfigModel>(AppConfigValues.OAUTHCONFIG, null));\n        if (oauth) {\n            oauth.redirectUri = window.location.origin + (oauth.redirectUri || '/');\n            oauth.redirectUriLogout = window.location.origin + (oauth.redirectUriLogout || '/');\n        }\n\n        const config = new AlfrescoApiConfig({\n            provider: this.appConfig.get<string>(AppConfigValues.PROVIDERS),\n            hostEcm: this.appConfig.get<string>(AppConfigValues.ECMHOST),\n            hostBpm: this.appConfig.get<string>(AppConfigValues.BPMHOST),\n            authType: this.appConfig.get<string>(AppConfigValues.AUTHTYPE, 'BASIC'),\n            contextRootBpm: this.appConfig.get<string>(AppConfigValues.CONTEXTROOTBPM),\n            contextRoot: this.appConfig.get<string>(AppConfigValues.CONTEXTROOTECM),\n            disableCsrf: this.appConfig.get<boolean>(AppConfigValues.DISABLECSRF),\n            withCredentials: this.appConfig.get<boolean>(AppConfigValues.AUTH_WITH_CREDENTIALS, false),\n            domainPrefix : this.appConfig.get<string>(AppConfigValues.STORAGE_PREFIX),\n            oauth2: oauth\n        });\n\n        if (this.alfrescoApi && this.isDifferentConfig(this.lastConfig, config)) {\n            this.lastConfig = config;\n            this.alfrescoApi.configureJsApi(config);\n        } else {\n            this.lastConfig = config;\n            this.alfrescoApi = new AlfrescoApiCompatibility(config);\n        }\n\n    }\n\n    isDifferentConfig(lastConfig: AlfrescoApiConfig, newConfig: AlfrescoApiConfig) {\n        return JSON.stringify(lastConfig) !== JSON.stringify(newConfig);\n    }\n\n    isExcludedErrorListener(currentFullPath: string): boolean {\n        const formattedPath = currentFullPath.replace(this.lastConfig.hostBpm + '/' + this.lastConfig.contextRootBpm, '');\n        return this.excludedErrorUrl.includes(formattedPath);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CookieService {\n\n    cookieEnabled = false;\n\n    constructor() {\n        // for certain scenarios Chrome may say 'true' but have cookies still disabled\n        if (navigator.cookieEnabled === false) {\n            this.cookieEnabled = false;\n        }\n\n        this.setItem('test-cookie', 'test');\n        this.cookieEnabled = document.cookie.indexOf('test-cookie') >= 0;\n        this.deleteCookie('test-cookie');\n    }\n\n    /**\n     * Checks if cookies are enabled.\n     * @returns True if enabled, false otherwise\n     */\n    isEnabled(): boolean {\n        return this.cookieEnabled;\n    }\n\n    /**\n     * Retrieves a cookie by its key.\n     * @param key Key to identify the cookie\n     * @returns The cookie data or null if it is not found\n     */\n    getItem(key: string): string | null {\n        const regexp = new RegExp('(?:' + key + '|;\\s*' + key + ')=(.*?)(?:;|$)', 'g');\n        const result = regexp.exec(document.cookie);\n        return (result === null) ? null : result[1];\n    }\n\n    /**\n     * Sets a cookie.\n     * @param key Key to identify the cookie\n     * @param data Data value to set for the cookie\n     * @param expiration Expiration date of the data\n     * @param path \"Pathname\" to store the cookie\n     */\n    setItem(key: string, data: string, expiration: Date | null = null, path: string | null = null): void {\n        document.cookie = `${key}=${data}` +\n            (expiration ? ';expires=' + expiration.toUTCString() : '') +\n            (path ? `;path=${path}` : ';path=/');\n    }\n\n    /**\n     * Delete a cookie Key.\n     * @param key Key to identify the cookie\n     * @param path \"Pathname\" to store the cookie\n     */\n    deleteCookie(key: string, path: string | null = null): void {\n        document.cookie = key + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT;' +\n            (path ? `;path=${path}` : ';path=/');\n    }\n\n    /** Placeholder for testing purposes - do not use. */\n    clear() {\n        /* placeholder for testing purposes */\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class LogLevelsEnum extends Number {\n    static TRACE: number = 5;\n    static DEBUG: number = 4;\n    static INFO: number = 3;\n    static WARN: number = 2;\n    static ERROR: number = 1;\n    static SILENT: number = 0;\n}\n\nexport let logLevels: any[] = [\n    {level: LogLevelsEnum.TRACE, name: 'TRACE'},\n    {level: LogLevelsEnum.DEBUG, name: 'DEBUG'},\n    {level: LogLevelsEnum.INFO, name: 'INFO'},\n    {level: LogLevelsEnum.WARN, name: 'WARN'},\n    {level: LogLevelsEnum.ERROR, name: 'ERROR'},\n    {level: LogLevelsEnum.SILENT, name: 'SILENT'}\n];\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:no-console  */\n\nimport { Injectable } from '@angular/core';\nimport { AppConfigService, AppConfigValues } from '../app-config/app-config.service';\nimport { logLevels, LogLevelsEnum } from '../models/log-levels.model';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LogService {\n\n    get currentLogLevel() {\n        const configLevel: string = this.appConfig.get<string>(AppConfigValues.LOG_LEVEL);\n\n        if (configLevel) {\n            return this.getLogLevel(configLevel);\n        }\n\n        return LogLevelsEnum.TRACE;\n    }\n\n    onMessage: Subject<any>;\n\n    constructor(private appConfig: AppConfigService) {\n        this.onMessage = new Subject();\n    }\n\n    /**\n     * Logs a message at the \"ERROR\" level.\n     * @param message Message to log\n     * @param optionalParams Interpolation values for the message in \"printf\" format\n     */\n    error(message?: any, ...optionalParams: any[]) {\n        if (this.currentLogLevel >= LogLevelsEnum.ERROR) {\n\n            this.messageBus(message, 'ERROR');\n\n            console.error(message, ...optionalParams);\n        }\n    }\n\n    /**\n     * Logs a message at the \"DEBUG\" level.\n     * @param message Message to log\n     * @param optionalParams Interpolation values for the message in \"printf\" format\n     */\n    debug(message?: any, ...optionalParams: any[]) {\n        if (this.currentLogLevel >= LogLevelsEnum.DEBUG) {\n\n            this.messageBus(message, 'DEBUG');\n\n            console.debug(message, ...optionalParams);\n        }\n    }\n\n    /**\n     * Logs a message at the \"INFO\" level.\n     * @param message Message to log\n     * @param optionalParams Interpolation values for the message in \"printf\" format\n     */\n    info(message?: any, ...optionalParams: any[]) {\n        if (this.currentLogLevel >= LogLevelsEnum.INFO) {\n\n            this.messageBus(message, 'INFO');\n\n            console.info(message, ...optionalParams);\n        }\n    }\n\n    /**\n     * Logs a message at any level from \"TRACE\" upwards.\n     * @param message Message to log\n     * @param optionalParams Interpolation values for the message in \"printf\" format\n     */\n    log(message?: any, ...optionalParams: any[]) {\n        if (this.currentLogLevel >= LogLevelsEnum.TRACE) {\n\n            this.messageBus(message, 'LOG');\n\n            console.log(message, ...optionalParams);\n        }\n    }\n\n    /**\n     * Logs a message at the \"TRACE\" level.\n     * @param message Message to log\n     * @param optionalParams Interpolation values for the message in \"printf\" format\n     */\n    trace(message?: any, ...optionalParams: any[]) {\n        if (this.currentLogLevel >= LogLevelsEnum.TRACE) {\n\n            this.messageBus(message, 'TRACE');\n\n            console.trace(message, ...optionalParams);\n        }\n    }\n\n    /**\n     * Logs a message at the \"WARN\" level.\n     * @param message Message to log\n     * @param optionalParams Interpolation values for the message in \"printf\" format\n     */\n    warn(message?: any, ...optionalParams: any[]) {\n        if (this.currentLogLevel >= LogLevelsEnum.WARN) {\n\n            this.messageBus(message, 'WARN');\n\n            console.warn(message, ...optionalParams);\n        }\n    }\n\n    /**\n     * Logs a message if a boolean test fails.\n     * @param test Test value (typically a boolean expression)\n     * @param message Message to show if test is false\n     * @param optionalParams Interpolation values for the message in \"printf\" format\n     */\n    assert(test?: boolean, message?: string, ...optionalParams: any[]) {\n        if (this.currentLogLevel !== LogLevelsEnum.SILENT) {\n\n            this.messageBus(message, 'ASSERT');\n\n            console.assert(test, message, ...optionalParams);\n        }\n    }\n\n    /**\n     * Starts an indented group of log messages.\n     * @param groupTitle Title shown at the start of the group\n     * @param optionalParams Interpolation values for the title in \"printf\" format\n     */\n    group(groupTitle?: string, ...optionalParams: any[]) {\n        if (this.currentLogLevel !== LogLevelsEnum.SILENT) {\n            console.group(groupTitle, ...optionalParams);\n        }\n    }\n\n    /**\n     * Ends a indented group of log messages.\n     */\n    groupEnd() {\n        if (this.currentLogLevel !== LogLevelsEnum.SILENT) {\n            console.groupEnd();\n        }\n    }\n\n    /**\n     * Converts a log level name string into its numeric equivalent.\n     * @param level Level name\n     * @returns Numeric log level\n     */\n    getLogLevel(level: string): LogLevelsEnum {\n        const referencedLevel = logLevels.find((currentLevel: any) => {\n            return currentLevel.name.toLocaleLowerCase() === level.toLocaleLowerCase();\n        });\n\n        return referencedLevel ? referencedLevel.level : 5;\n    }\n\n    /**\n     * Triggers notification callback for log messages.\n     * @param text Message text\n     * @param logLevel Log level for the message\n     */\n    messageBus(text: string, logLevel: string) {\n        this.onMessage.next({ text: text, type: logLevel });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { StorageService } from './storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class JwtHelperService {\n\n    static USER_NAME = 'name';\n    static FAMILY_NAME = 'family_name';\n    static GIVEN_NAME = 'given_name';\n    static USER_EMAIL = 'email';\n    static USER_ACCESS_TOKEN = 'access_token';\n    static REALM_ACCESS = 'realm_access';\n    static RESOURCE_ACCESS = 'resource_access';\n    static USER_PREFERRED_USERNAME = 'preferred_username';\n\n    constructor(private storageService: StorageService) {\n    }\n\n    /**\n     * Decodes a JSON web token into a JS object.\n     * @param token Token in encoded form\n     * @returns Decoded token data object\n     */\n    decodeToken(token): Object {\n        const parts = token.split('.');\n\n        if (parts.length !== 3) {\n            throw new Error('JWT must have 3 parts');\n        }\n\n        const decoded = this.urlBase64Decode(parts[1]);\n        if (!decoded) {\n            throw new Error('Cannot decode the token');\n        }\n\n        return JSON.parse(decoded);\n    }\n\n    private urlBase64Decode(token): string {\n        let output = token.replace(/-/g, '+').replace(/_/g, '/');\n        switch (output.length % 4) {\n            case 0: {\n                break;\n            }\n            case 2: {\n                output += '==';\n                break;\n            }\n            case 3: {\n                output += '=';\n                break;\n            }\n            default: {\n                throw new Error('Illegal base64url string!');\n            }\n        }\n        return decodeURIComponent(escape(window.atob(output)));\n    }\n\n    /**\n     * Gets a named value from the user access token.\n     * @param key Key name of the field to retrieve\n     * @returns Value from the token\n     */\n    getValueFromLocalAccessToken<T>(key: string): T {\n        return this.getValueFromToken(this.getAccessToken(), key);\n    }\n\n    /**\n     * Gets access token\n     * @returns access token\n     */\n    getAccessToken(): string {\n        return this.storageService.getItem(JwtHelperService.USER_ACCESS_TOKEN);\n    }\n\n    /**\n     * Gets a named value from the user access token.\n     * @param accessToken your SSO access token where the value is encode\n     * @param key Key name of the field to retrieve\n     * @returns Value from the token\n     */\n    getValueFromToken<T>(accessToken: string, key: string): T {\n        let value;\n        if (accessToken) {\n            const tokenPayload = this.decodeToken(accessToken);\n            value = tokenPayload[key];\n        }\n        return <T> value;\n    }\n\n    /**\n     * Gets realm roles.\n     * @returns Array of realm roles\n     */\n    getRealmRoles(): string[] {\n        const access = this.getValueFromLocalAccessToken<any>(JwtHelperService.REALM_ACCESS);\n        return access ? access['roles'] : [];\n    }\n\n    /**\n     * Gets Client roles.\n     * @returns Array of client roles\n     */\n    getClientRoles(clientName: string): string[] {\n        const clientRole = this.getValueFromLocalAccessToken<any>(JwtHelperService.RESOURCE_ACCESS)[clientName];\n        return clientRole ? clientRole['roles'] : [];\n    }\n\n    /**\n     * Checks for single realm role.\n     * @param role Role name to check\n     * @returns True if it contains given role, false otherwise\n     */\n    hasRealmRole(role: string): boolean {\n        let hasRole = false;\n        if (this.getAccessToken()) {\n            const realmRoles = this.getRealmRoles();\n            hasRole = realmRoles.some((currentRole) => {\n                return currentRole === role;\n            });\n        }\n        return hasRole;\n    }\n\n    /**\n     * Checks for realm roles.\n     * @param rolesToCheck List of role names to check\n     * @returns True if it contains at least one of the given roles, false otherwise\n     */\n    hasRealmRoles(rolesToCheck: string []): boolean {\n        return rolesToCheck.some((currentRole) => {\n            return this.hasRealmRole(currentRole);\n        });\n    }\n\n    /**\n     * Checks for client roles.\n     * @param clientName Targeted client name\n     * @param rolesToCheck List of role names to check\n     * @returns True if it contains at least one of the given roles, false otherwise\n     */\n    hasRealmRolesForClientRole(clientName: string, rolesToCheck: string []): boolean {\n        return rolesToCheck.some((currentRole) => {\n            return this.hasClientRole(clientName, currentRole);\n        });\n    }\n\n    /**\n     * Checks for client role.\n     * @param clientName Targeted client name\n     * @param role Role name to check\n     * @returns True if it contains given role, false otherwise\n     */\n    hasClientRole(clientName: string, role: string): boolean {\n        let hasRole = false;\n        if (this.getAccessToken()) {\n            const clientRoles = this.getClientRoles(clientName);\n            hasRole = clientRoles.some((currentRole) => {\n                return currentRole === role;\n            });\n        }\n        return hasRole;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, from, throwError, Observer, ReplaySubject } from 'rxjs';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { CookieService } from './cookie.service';\nimport { LogService } from './log.service';\nimport { RedirectionModel } from '../models/redirection.model';\nimport { AppConfigService, AppConfigValues } from '../app-config/app-config.service';\nimport { UserRepresentation } from '@alfresco/js-api';\nimport { map, catchError, tap } from 'rxjs/operators';\nimport { HttpHeaders } from '@angular/common/http';\nimport { JwtHelperService } from './jwt-helper.service';\nimport { StorageService } from './storage.service';\n\nconst REMEMBER_ME_COOKIE_KEY = 'ALFRESCO_REMEMBER_ME';\nconst REMEMBER_ME_UNTIL = 1000 * 60 * 60 * 24 * 30;\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthenticationService {\n    private redirectUrl: RedirectionModel = null;\n\n    private bearerExcludedUrls: string[] = ['auth/realms', 'resources/', 'assets/'];\n    /**\n     * Emits Basic auth login event\n     */\n    onLogin: ReplaySubject<any> = new ReplaySubject<any>(1);\n\n    /**\n     * Emits logout event\n     */\n    onLogout: ReplaySubject<any> = new ReplaySubject<any>(1);\n\n    constructor(\n        private appConfig: AppConfigService,\n        private storageService: StorageService,\n        private alfrescoApi: AlfrescoApiService,\n        private cookie: CookieService,\n        private logService: LogService) {\n        this.alfrescoApi.alfrescoApiInitialized.subscribe(() => {\n            this.alfrescoApi.getInstance().reply('logged-in', () => this.onLogin.next());\n        });\n    }\n\n    /**\n     * Checks if the user logged in.\n     * @returns True if logged in, false otherwise\n     */\n    isLoggedIn(): boolean {\n        if (!this.isOauth() && this.cookie.isEnabled() && !this.isRememberMeSet()) {\n            return false;\n        }\n        return this.alfrescoApi.getInstance().isLoggedIn();\n    }\n\n    isLoggedInWith(provider: string): boolean {\n        if (provider === 'BPM') {\n            return this.isBpmLoggedIn();\n        } else if (provider === 'ECM') {\n            return this.isEcmLoggedIn();\n        } else {\n            return this.isLoggedIn();\n        }\n    }\n\n    /**\n     * Does the provider support OAuth?\n     * @returns True if supported, false otherwise\n     */\n    isOauth(): boolean {\n        return this.alfrescoApi.getInstance().isOauthConfiguration();\n    }\n\n    isPublicUrl(): boolean {\n        return this.alfrescoApi.getInstance().isPublicUrl();\n    }\n\n    /**\n     * Does the provider support ECM?\n     * @returns True if supported, false otherwise\n     */\n    isECMProvider(): boolean {\n        return this.alfrescoApi.getInstance().isEcmConfiguration();\n    }\n\n    /**\n     * Does the provider support BPM?\n     * @returns True if supported, false otherwise\n     */\n    isBPMProvider(): boolean {\n        return this.alfrescoApi.getInstance().isBpmConfiguration();\n    }\n\n    /**\n     * Does the provider support both ECM and BPM?\n     * @returns True if both are supported, false otherwise\n     */\n    isALLProvider(): boolean {\n        return this.alfrescoApi.getInstance().isEcmBpmConfiguration();\n    }\n\n    /**\n     * Logs the user in.\n     * @param username Username for the login\n     * @param password Password for the login\n     * @param rememberMe Stores the user's login details if true\n     * @returns Object with auth type (\"ECM\", \"BPM\" or \"ALL\") and auth ticket\n     */\n    login(username: string, password: string, rememberMe: boolean = false): Observable<{ type: string, ticket: any }> {\n        return from(this.alfrescoApi.getInstance().login(username, password))\n            .pipe(\n                map((response: any) => {\n                    this.saveRememberMeCookie(rememberMe);\n                    this.onLogin.next(response);\n                    return {\n                        type: this.appConfig.get(AppConfigValues.PROVIDERS),\n                        ticket: response\n                    };\n                }),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Logs the user in with SSO\n     */\n    ssoImplicitLogin() {\n        this.alfrescoApi.getInstance().implicitLogin();\n    }\n\n    /**\n     * Saves the \"remember me\" cookie as either a long-life cookie or a session cookie.\n     * @param rememberMe Enables a long-life cookie\n     */\n    private saveRememberMeCookie(rememberMe: boolean): void {\n        let expiration = null;\n\n        if (rememberMe) {\n            expiration = new Date();\n            const time = expiration.getTime();\n            const expireTime = time + REMEMBER_ME_UNTIL;\n            expiration.setTime(expireTime);\n        }\n        this.cookie.setItem(REMEMBER_ME_COOKIE_KEY, '1', expiration, null);\n    }\n\n    /**\n     * Checks whether the \"remember me\" cookie was set or not.\n     * @returns True if set, false otherwise\n     */\n    isRememberMeSet(): boolean {\n        return (this.cookie.getItem(REMEMBER_ME_COOKIE_KEY) !== null);\n    }\n\n    /**\n     * Logs the user out.\n     * @returns Response event called when logout is complete\n     */\n    logout() {\n        return from(this.callApiLogout())\n            .pipe(\n                tap((response) => {\n                    this.onLogout.next(response);\n                    return response;\n                }),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    private callApiLogout(): Promise<any> {\n        if (this.alfrescoApi.getInstance()) {\n            return this.alfrescoApi.getInstance().logout();\n        }\n        return Promise.resolve();\n    }\n\n    /**\n     * Gets the ECM ticket stored in the Storage.\n     * @returns The ticket or `null` if none was found\n     */\n    getTicketEcm(): string | null {\n        return this.alfrescoApi.getInstance().getTicketEcm();\n    }\n\n    /**\n     * Gets the BPM ticket stored in the Storage.\n     * @returns The ticket or `null` if none was found\n     */\n    getTicketBpm(): string | null {\n        return this.alfrescoApi.getInstance().getTicketBpm();\n    }\n\n    /**\n     * Gets the BPM ticket from the Storage in Base 64 format.\n     * @returns The ticket or `null` if none was found\n     */\n    getTicketEcmBase64(): string | null {\n        const ticket = this.alfrescoApi.getInstance().getTicketEcm();\n        if (ticket) {\n            return 'Basic ' + btoa(ticket);\n        }\n        return null;\n    }\n\n    /**\n     * Checks if the user is logged in on an ECM provider.\n     * @returns True if logged in, false otherwise\n     */\n    isEcmLoggedIn(): boolean {\n        if (this.isECMProvider() || this.isALLProvider()) {\n            if (!this.isOauth() && this.cookie.isEnabled() && !this.isRememberMeSet()) {\n                return false;\n            }\n            return this.alfrescoApi.getInstance().isEcmLoggedIn();\n        }\n        return false;\n    }\n\n    /**\n     * Checks if the user is logged in on a BPM provider.\n     * @returns True if logged in, false otherwise\n     */\n    isBpmLoggedIn(): boolean {\n        if (this.isBPMProvider() || this.isALLProvider()) {\n            if (!this.isOauth() && this.cookie.isEnabled() && !this.isRememberMeSet()) {\n                return false;\n            }\n            return this.alfrescoApi.getInstance().isBpmLoggedIn();\n        }\n        return false;\n    }\n\n    /**\n     * Gets the ECM username.\n     * @returns The ECM username\n     */\n    getEcmUsername(): string {\n        return this.alfrescoApi.getInstance().getEcmUsername();\n    }\n\n    /**\n     * Gets the BPM username\n     * @returns The BPM username\n     */\n    getBpmUsername(): string {\n        return this.alfrescoApi.getInstance().getBpmUsername();\n    }\n\n    /** Sets the URL to redirect to after login.\n     * @param url URL to redirect to\n     */\n    setRedirect(url: RedirectionModel) {\n        this.redirectUrl = url;\n    }\n\n    /** Gets the URL to redirect to after login.\n     * @returns The redirect URL\n     */\n    getRedirect(): string {\n        const provider = <string> this.appConfig.get(AppConfigValues.PROVIDERS);\n        return this.hasValidRedirection(provider) ? this.redirectUrl.url : null;\n    }\n\n    /**\n     * Gets information about the user currently logged into APS.\n     * @returns User information\n     */\n    getBpmLoggedUser(): Observable<UserRepresentation> {\n        return from(this.alfrescoApi.getInstance().activiti.profileApi.getProfile());\n    }\n\n    private hasValidRedirection(provider: string): boolean {\n        return this.redirectUrl && (this.redirectUrl.provider === provider || this.hasSelectedProviderAll(provider));\n    }\n\n    private hasSelectedProviderAll(provider: string): boolean {\n        return this.redirectUrl && (this.redirectUrl.provider === 'ALL' || provider === 'ALL');\n    }\n\n    /**\n     * Prints an error message in the console browser\n     * @param error Error message\n     * @returns Object representing the error message\n     */\n    handleError(error: any): Observable<any> {\n        this.logService.error('Error when logging in', error);\n        return throwError(error || 'Server error');\n    }\n\n    /**\n     * Gets the set of URLs that the token bearer is excluded from.\n     * @returns Array of URL strings\n     */\n    getBearerExcludedUrls(): string[] {\n        return this.bearerExcludedUrls;\n    }\n\n    /**\n     * Gets the auth token.\n     * @returns Auth token string\n     */\n    getToken(): string {\n        return this.storageService.getItem(JwtHelperService.USER_ACCESS_TOKEN);\n    }\n\n    /**\n     * Adds the auth token to an HTTP header using the 'bearer' scheme.\n     * @param headersArg Header that will receive the token\n     * @returns The new header with the token added\n     */\n    addTokenToHeader(headersArg?: HttpHeaders): Observable<HttpHeaders> {\n        return new Observable((observer: Observer<any>) => {\n            let headers = headersArg;\n            if (!headers) {\n                headers = new HttpHeaders();\n            }\n            try {\n                const token: string = this.getToken();\n                headers = headers.set('Authorization', 'bearer ' + token);\n                observer.next(headers);\n                observer.complete();\n            } catch (error) {\n                observer.error(error);\n            }\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class BpmProductVersionModel {\n    edition: string;\n    majorVersion: string;\n    revisionVersion: string;\n    minorVersion: string;\n    type: string;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.edition = obj.edition || null;\n            this.majorVersion = obj.majorVersion || null;\n            this.revisionVersion = obj.revisionVersion || null;\n            this.minorVersion = obj.minorVersion || null;\n            this.type = obj.type || null;\n        }\n    }\n}\n\nexport class VersionModel {\n    major: string;\n    minor: string;\n    patch: string;\n    hotfix: string;\n    schema: number;\n    label: string;\n    display: string;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.major = obj.major || null;\n            this.minor = obj.minor || null;\n            this.patch = obj.patch || null;\n            this.hotfix = obj.hotfix || null;\n            this.schema = obj.schema || null;\n            this.label = obj.label || null;\n            this.display = obj.display || null;\n        }\n    }\n}\n\nexport class LicenseModel {\n    issuedAt: string;\n    expiresAt: string;\n    remainingDays: number;\n    holder: string;\n    mode: string;\n    isClusterEnabled: boolean;\n    isCryptodocEnabled: boolean;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.issuedAt = obj.issuedAt || null;\n            this.expiresAt = obj.expiresAt || null;\n            this.remainingDays = obj.remainingDays || null;\n            this.holder = obj.holder || null;\n            this.mode = obj.mode || null;\n            this.isClusterEnabled = !!obj.isClusterEnabled;\n            this.isCryptodocEnabled = !!obj.isCryptodocEnabled;\n        }\n    }\n}\n\nexport class VersionStatusModel {\n    isReadOnly: boolean;\n    isAuditEnabled: boolean;\n    isQuickShareEnabled: boolean;\n    isThumbnailGenerationEnabled: boolean;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.isReadOnly = !!obj.isReadOnly;\n            this.isAuditEnabled = !!obj.isAuditEnabled;\n            this.isQuickShareEnabled = !!obj.isQuickShareEnabled;\n            this.isThumbnailGenerationEnabled = !!obj.isThumbnailGenerationEnabled;\n        }\n    }\n}\n\nexport class VersionModuleModel {\n    id: string;\n    title: string;\n    description: string;\n    version: string;\n    installDate: string;\n    installState: string;\n    versionMin: string;\n    versionMax: string;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.id = obj.id || null;\n            this.title = obj.title || null;\n            this.description = obj.description || null;\n            this.version = obj.version || null;\n            this.installDate = obj.installDate || null;\n            this.installState = obj.installState || null;\n            this.versionMin = obj.versionMin || null;\n            this.versionMax = obj.versionMax || null;\n        }\n    }\n}\n\nexport class EcmProductVersionModel {\n    edition: string;\n    version: VersionModel;\n    license: LicenseModel;\n    status: VersionStatusModel;\n    modules: VersionModuleModel[] = [];\n\n    constructor(obj?: any) {\n        if (obj && obj.entry && obj.entry.repository) {\n            this.edition = obj.entry.repository.edition || null;\n            this.version = new VersionModel(obj.entry.repository.version);\n            this.license = new LicenseModel(obj.entry.repository.license);\n            this.status = new VersionStatusModel(obj.entry.repository.status);\n            if (obj.entry.repository.modules) {\n                obj.entry.repository.modules.forEach((module) => {\n                    this.modules.push(new VersionModuleModel(module));\n                });\n            }\n        }\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { from, Observable, throwError, Subject } from 'rxjs';\nimport { BpmProductVersionModel, EcmProductVersionModel } from '../models/product-version.model';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { catchError, map, switchMap, filter, take } from 'rxjs/operators';\nimport { Activiti, SystemPropertiesRepresentation } from '@alfresco/js-api';\nimport { AuthenticationService } from './authentication.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DiscoveryApiService {\n\n    /**\n     * Gets product information for Content Services.\n     */\n    ecmProductInfo$ = new Subject<EcmProductVersionModel>();\n\n    constructor(\n        private apiService: AlfrescoApiService,\n        private authenticationService: AuthenticationService) {\n\n        this.authenticationService.onLogin\n            .pipe(\n                filter(() => this.apiService.getInstance()?.isEcmLoggedIn()),\n                take(1),\n                switchMap(() => this.getEcmProductInfo())\n            )\n            .subscribe((info) => this.ecmProductInfo$.next(info));\n    }\n\n    /**\n     * Gets product information for Content Services.\n     * @returns ProductVersionModel containing product details\n     */\n    public getEcmProductInfo(): Observable<EcmProductVersionModel> {\n        return from(this.apiService.getInstance().discovery.discoveryApi.getRepositoryInformation())\n            .pipe(\n                map((res) => new EcmProductVersionModel(res)),\n                catchError((err) => throwError(err))\n            );\n    }\n\n    /**\n     * Gets product information for Process Services.\n     * @returns ProductVersionModel containing product details\n     */\n    public getBpmProductInfo(): Observable<BpmProductVersionModel> {\n        return from(this.apiService.getInstance().activiti.aboutApi.getAppVersion())\n            .pipe(\n                map((res) => new BpmProductVersionModel(res)),\n                catchError((err) => throwError(err))\n            );\n    }\n\n    private get systemPropertiesApi(): Activiti.SystemPropertiesApi {\n        return this.apiService.getInstance().activiti.systemPropertiesApi;\n    }\n\n    public getBPMSystemProperties(): Observable<SystemPropertiesRepresentation> {\n        return from(this.systemPropertiesApi.getProperties())\n            .pipe(\n                map((res) => {\n                    if ('string' === typeof (res)) {\n                        throw new Error('Not valid response');\n                    }\n                    return res;\n                }),\n                catchError((err) => throwError(err.error))\n            );\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { BpmProductVersionModel, EcmProductVersionModel } from '../../models/product-version.model';\nimport { ObjectDataTableAdapter } from '../../datatable/data/object-datatable-adapter';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { DiscoveryApiService } from '../../services/discovery-api.service';\n\n@Component({\n    selector: 'adf-about-product-version',\n    templateUrl: './about-product-version.component.html',\n    encapsulation: ViewEncapsulation.None\n})\nexport class AboutProductVersionComponent implements OnInit {\n\n    ecmVersion: EcmProductVersionModel = null;\n    bpmVersion: BpmProductVersionModel = null;\n\n    status: ObjectDataTableAdapter;\n    license: ObjectDataTableAdapter;\n    modules: ObjectDataTableAdapter;\n\n    constructor(private authService: AuthenticationService,\n                private discovery: DiscoveryApiService) {}\n\n    ngOnInit() {\n        if (this.authService.isEcmLoggedIn()) {\n            this.setECMInfo();\n        }\n\n        if (this.authService.isBpmLoggedIn()) {\n            this.setBPMInfo();\n        }\n    }\n\n    setECMInfo() {\n        this.discovery.getEcmProductInfo().subscribe((ecmVers) => {\n            this.ecmVersion = ecmVers;\n\n            this.modules = new ObjectDataTableAdapter(this.ecmVersion.modules, [\n                { type: 'text', key: 'id', title: 'ABOUT.TABLE_HEADERS.MODULES.ID', sortable: true },\n                { type: 'text', key: 'title', title: 'ABOUT.TABLE_HEADERS.MODULES.TITLE', sortable: true },\n                { type: 'text', key: 'version', title: 'ABOUT.TABLE_HEADERS.MODULES.DESCRIPTION', sortable: true },\n                {\n                    type: 'text',\n                    key: 'installDate',\n                    title: 'ABOUT.TABLE_HEADERS.MODULES.INSTALL_DATE',\n                    sortable: true\n                },\n                {\n                    type: 'text',\n                    key: 'installState',\n                    title: 'ABOUT.TABLE_HEADERS.MODULES.INSTALL_STATE',\n                    sortable: true\n                },\n                {\n                    type: 'text',\n                    key: 'versionMin',\n                    title: 'ABOUT.TABLE_HEADERS.MODULES.VERSION_MIN',\n                    sortable: true\n                },\n                {\n                    type: 'text',\n                    key: 'versionMax',\n                    title: 'ABOUT.TABLE_HEADERS.MODULES.VERSION_MAX',\n                    sortable: true\n                }\n            ]);\n\n            this.status = new ObjectDataTableAdapter([this.ecmVersion.status], [\n                { type: 'text', key: 'isReadOnly', title: 'ABOUT.TABLE_HEADERS.STATUS.READ_ONLY', sortable: true },\n                {\n                    type: 'text',\n                    key: 'isAuditEnabled',\n                    title: 'ABOUT.TABLE_HEADERS.STATUS.AUDIT_ENABLED',\n                    sortable: true\n                },\n                {\n                    type: 'text',\n                    key: 'isQuickShareEnabled',\n                    title: 'ABOUT.TABLE_HEADERS.STATUS.QUICK_SHARE_ENABLED',\n                    sortable: true\n                },\n                {\n                    type: 'text',\n                    key: 'isThumbnailGenerationEnabled',\n                    title: 'ABOUT.TABLE_HEADERS.STATUS.THUMBNAIL_ENABLED',\n                    sortable: true\n                }\n            ]);\n\n            this.license = new ObjectDataTableAdapter([this.ecmVersion.license], [\n                { type: 'text', key: 'issuedAt', title: 'ABOUT.TABLE_HEADERS.LICENSE.ISSUES_AT', sortable: true },\n                { type: 'text', key: 'expiresAt', title: 'ABOUT.TABLE_HEADERS.LICENSE.EXPIRES_AT', sortable: true },\n                {\n                    type: 'text',\n                    key: 'remainingDays',\n                    title: 'ABOUT.TABLE_HEADERS.LICENSE.REMAINING_DAYS',\n                    sortable: true\n                },\n                { type: 'text', key: 'holder', title: 'ABOUT.TABLE_HEADERS.LICENSE.HOLDER', sortable: true },\n                { type: 'text', key: 'mode', title: 'ABOUT.TABLE_HEADERS.LICENSE.MODE', sortable: true },\n                {\n                    type: 'text',\n                    key: 'isClusterEnabled',\n                    title: 'ABOUT.TABLE_HEADERS.LICENSE.CLUSTER_ENABLED',\n                    sortable: true\n                },\n                {\n                    type: 'text',\n                    key: 'isCryptodocEnabled',\n                    title: 'ABOUT.TABLE_HEADERS.LICENSE.CRYPTODOC_ENABLED',\n                    sortable: true\n                }\n            ]);\n        });\n    }\n\n    setBPMInfo() {\n        this.discovery.getBpmProductInfo().subscribe((bpmVersion) => {\n            this.bpmVersion = bpmVersion;\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ObjectDataTableAdapter } from '../../datatable/data/object-datatable-adapter';\nimport { AppExtensionService, ExtensionRef } from '@alfresco/adf-extensions';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-about-application-modules',\n    templateUrl: './about-application-modules.component.html',\n    encapsulation: ViewEncapsulation.None\n})\nexport class AboutApplicationModulesComponent implements OnInit, OnDestroy {\n\n    extensionColumns: string[] = ['$id', '$name', '$version', '$vendor', '$license', '$runtime', '$description'];\n\n    dependencyEntries: ObjectDataTableAdapter;\n    extensions: ExtensionRef[];\n\n    /** Toggles showing/hiding of extensions block. */\n    @Input()\n    showExtensions = true;\n\n    /** Regular expression for filtering dependencies packages. */\n    @Input() regexp = '^(@alfresco)';\n\n    /** Current version of the app running */\n    @Input() dependencies: any;\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(private appExtensions: AppExtensionService) {\n    }\n\n    ngOnInit() {\n        const alfrescoPackages = Object.keys(this.dependencies).filter((val) => {\n            return new RegExp(this.regexp).test(val);\n        });\n\n        const alfrescoPackagesTableRepresentation = [];\n        alfrescoPackages.forEach((val) => {\n            alfrescoPackagesTableRepresentation.push({\n                name: val,\n                version: (this.dependencies[val])\n            });\n        });\n\n        this.dependencyEntries = new ObjectDataTableAdapter(alfrescoPackagesTableRepresentation, [\n            { type: 'text', key: 'name', title: 'Name', sortable: true },\n            { type: 'text', key: 'version', title: 'Version', sortable: true }\n        ]);\n\n        this.appExtensions.references$\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe((extensions) => this.extensions = extensions);\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { AppConfigService, AppConfigValues } from '../../app-config/app-config.service';\n\n@Component({\n    selector: 'adf-about-server-settings',\n    templateUrl: './about-server-settings.component.html',\n    encapsulation: ViewEncapsulation.None\n})\nexport class AboutServerSettingsComponent implements OnInit {\n    ecmHost = '';\n    bpmHost = '';\n\n    constructor(private appConfig: AppConfigService) {}\n\n    ngOnInit() {\n        this.ecmHost = this.appConfig.get<string>(AppConfigValues.ECMHOST);\n        this.bpmHost = this.appConfig.get<string>(AppConfigValues.BPMHOST);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NgModule } from '@angular/core';\nimport { MatDatetimepickerModule, MatNativeDatetimeModule } from '@mat-datetimepicker/core';\n\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatNativeDateModule, MatOptionModule, MatRippleModule } from '@angular/material/core';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatBadgeModule } from '@angular/material/badge';\n\n@NgModule({\n    imports: [\n        MatAutocompleteModule, MatButtonModule, MatCardModule, MatCheckboxModule,\n        MatChipsModule, MatDatepickerModule, MatDialogModule, MatGridListModule, MatIconModule,\n        MatInputModule, MatListModule, MatNativeDateModule, MatOptionModule, MatProgressSpinnerModule, MatRadioModule,\n        MatRippleModule, MatSelectModule, MatSlideToggleModule, MatTableModule, MatTabsModule,\n        MatMenuModule, MatProgressBarModule, MatSidenavModule, MatSnackBarModule, MatToolbarModule,\n        MatTooltipModule, MatDatetimepickerModule, MatNativeDatetimeModule, MatExpansionModule, MatBadgeModule\n    ],\n    exports: [\n        MatAutocompleteModule, MatButtonModule, MatCardModule, MatCheckboxModule,\n        MatChipsModule, MatDatepickerModule, MatDialogModule, MatGridListModule, MatIconModule,\n        MatInputModule, MatListModule, MatNativeDateModule, MatOptionModule, MatProgressSpinnerModule, MatRadioModule,\n        MatRippleModule, MatSelectModule, MatSlideToggleModule, MatTableModule, MatTabsModule,\n        MatMenuModule, MatProgressBarModule, MatSidenavModule, MatSnackBarModule, MatToolbarModule,\n        MatTooltipModule, MatDatetimepickerModule, MatNativeDatetimeModule, MatExpansionModule, MatBadgeModule\n    ]\n})\nexport class MaterialModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayRef } from '@angular/cdk/overlay';\n\nexport class ContextMenuOverlayRef {\n\n    constructor(private overlayRef: OverlayRef) { }\n\n    close(): void {\n        this.overlayRef.dispose();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InjectionToken } from '@angular/core';\n\nexport const CONTEXT_MENU_DATA = new InjectionToken<any>('CONTEXT_MENU_DATA');\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    state,\n    style,\n    animate,\n    transition,\n    query,\n    group,\n    sequence,\n    AnimationStateMetadata,\n    AnimationTransitionMetadata\n} from '@angular/animations';\n\nexport const contextMenuAnimation: ( AnimationStateMetadata | AnimationTransitionMetadata)[] = [\n    state('void', style({\n        opacity: 0,\n        transform: 'scale(0.01, 0.01)'\n    })),\n    transition('void => *', sequence([\n        query('.mat-menu-content', style({ opacity: 0 })),\n        animate('100ms linear', style({ opacity: 1, transform: 'scale(1, 0.5)' })),\n        group([\n            query('.mat-menu-content', animate('400ms cubic-bezier(0.55, 0, 0.55, 0.2)',\n                style({ opacity: 1 })\n            )),\n            animate('300ms cubic-bezier(0.25, 0.8, 0.25, 1)', style({ transform: 'scale(1, 1)' }))\n        ])\n    ])),\n    transition('* => void', animate('150ms 50ms linear', style({ opacity: 0 })))\n];\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Component, ViewEncapsulation, HostListener, AfterViewInit,\n    Optional, Inject, QueryList, ViewChildren\n} from '@angular/core';\nimport { trigger } from '@angular/animations';\nimport { DOWN_ARROW, UP_ARROW } from '@angular/cdk/keycodes';\nimport { FocusKeyManager } from '@angular/cdk/a11y';\nimport { MatMenuItem } from '@angular/material/menu';\nimport { ContextMenuOverlayRef } from './context-menu-overlay';\nimport { contextMenuAnimation } from './animations';\nimport { CONTEXT_MENU_DATA } from './context-menu.tokens';\n\n@Component({\n    selector: 'adf-context-menu',\n    template: `\n        <div mat-menu class=\"mat-menu-panel\" @panelAnimation>\n            <div id=\"adf-context-menu-content\" class=\"mat-menu-content\">\n                <ng-container *ngFor=\"let link of links\">\n                    <button *ngIf=\"link.model?.visible\"\n                            [attr.data-automation-id]=\"'context-'+((link.title || link.model?.title) | translate)\"\n                            mat-menu-item\n                            [disabled]=\"link.model?.disabled\"\n                            (click)=\"onMenuItemClick($event, link)\">\n                        <mat-icon *ngIf=\"link.model?.icon\">{{ link.model.icon }}</mat-icon>\n                        <span>{{ (link.title || link.model?.title) | translate }}</span>\n                    </button>\n                </ng-container>\n            </div>\n        </div>\n    `,\n    host: {\n        role: 'menu',\n        class: 'adf-context-menu'\n    },\n    encapsulation: ViewEncapsulation.None,\n    animations: [\n        trigger('panelAnimation', contextMenuAnimation)\n    ]\n})\nexport class ContextMenuListComponent implements AfterViewInit {\n    private keyManager: FocusKeyManager<MatMenuItem>;\n    @ViewChildren(MatMenuItem) items: QueryList<MatMenuItem>;\n    links: any[];\n\n    @HostListener('document:keydown.Escape', ['$event'])\n    handleKeydownEscape(event: KeyboardEvent) {\n        if (event) {\n            this.contextMenuOverlayRef.close();\n        }\n    }\n\n    @HostListener('document:keydown', ['$event'])\n    handleKeydownEvent(event: KeyboardEvent) {\n        if (event) {\n            const keyCode = event.keyCode;\n            if (keyCode === UP_ARROW || keyCode === DOWN_ARROW) {\n                this.keyManager.onKeydown(event);\n            }\n        }\n    }\n\n    constructor(\n        @Inject(ContextMenuOverlayRef) private contextMenuOverlayRef: ContextMenuOverlayRef,\n        @Optional() @Inject(CONTEXT_MENU_DATA) private data: any\n    ) {\n        this.links = this.data;\n    }\n\n    onMenuItemClick(event: Event, menuItem: any) {\n        if (menuItem && menuItem.model && menuItem.model.disabled) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            return;\n        }\n\n        menuItem.subject.next(menuItem);\n        this.contextMenuOverlayRef.close();\n    }\n\n    ngAfterViewInit() {\n        this.keyManager = new FocusKeyManager<MatMenuItem>(this.items);\n        this.keyManager.setFirstItemActive();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable, Injector, ElementRef, ComponentRef } from '@angular/core';\nimport { Overlay, OverlayConfig, OverlayRef } from '@angular/cdk/overlay';\nimport { PortalInjector, ComponentPortal } from '@angular/cdk/portal';\nimport { ContextMenuOverlayRef } from './context-menu-overlay';\nimport { ContextMenuOverlayConfig } from './interfaces';\nimport { CONTEXT_MENU_DATA } from './context-menu.tokens';\nimport { ContextMenuListComponent } from './context-menu-list.component';\n\nconst DEFAULT_CONFIG: ContextMenuOverlayConfig = {\n    panelClass: 'cdk-overlay-pane',\n    backdropClass: 'cdk-overlay-transparent-backdrop',\n    hasBackdrop: true\n};\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ContextMenuOverlayService {\n\n    constructor(\n        private injector: Injector,\n        private overlay: Overlay\n    ) {}\n\n    open(config: ContextMenuOverlayConfig): ContextMenuOverlayRef {\n        const overlayConfig = { ...DEFAULT_CONFIG, ...config };\n\n        const overlay = this.createOverlay(overlayConfig);\n\n        const overlayRef = new ContextMenuOverlayRef(overlay);\n\n        this.attachDialogContainer(overlay, config, overlayRef);\n\n        overlay.backdropClick().subscribe(() => overlayRef.close());\n\n        // prevent native contextmenu on overlay element if config.hasBackdrop is true\n        if (overlayConfig.hasBackdrop) {\n            (<any> overlay)._backdropElement\n                .addEventListener('contextmenu', (event) => {\n                    event.preventDefault();\n                    (<any> overlay)._backdropClick.next(null);\n                }, true);\n        }\n\n        return overlayRef;\n    }\n\n    private createOverlay(config: ContextMenuOverlayConfig): OverlayRef {\n        const overlayConfig = this.getOverlayConfig(config);\n        return this.overlay.create(overlayConfig);\n    }\n\n    private attachDialogContainer(overlay: OverlayRef, config: ContextMenuOverlayConfig, contextMenuOverlayRef: ContextMenuOverlayRef) {\n        const injector = this.createInjector(config, contextMenuOverlayRef);\n\n        const containerPortal = new ComponentPortal(ContextMenuListComponent, null, injector);\n        const containerRef: ComponentRef<ContextMenuListComponent> = overlay.attach(containerPortal);\n\n        return containerRef.instance;\n    }\n\n    private createInjector(config: ContextMenuOverlayConfig, contextMenuOverlayRef: ContextMenuOverlayRef): PortalInjector {\n        const injectionTokens = new WeakMap();\n\n        injectionTokens.set(ContextMenuOverlayRef, contextMenuOverlayRef);\n        injectionTokens.set(CONTEXT_MENU_DATA, config.data);\n\n        return new PortalInjector(this.injector, injectionTokens);\n    }\n\n    private getOverlayConfig(config: ContextMenuOverlayConfig): OverlayConfig {\n        const { clientY, clientX  } = config.source;\n\n        const fakeElement: any = {\n            getBoundingClientRect: (): ClientRect => ({\n                bottom: clientY,\n                height: 0,\n                left: clientX,\n                right: clientX,\n                top: clientY,\n                width: 0\n            })\n        };\n\n        const positionStrategy = this.overlay.position()\n            .connectedTo(\n                new ElementRef(fakeElement),\n                { originX: 'start', originY: 'bottom' },\n                { overlayX: 'start', overlayY: 'top' })\n            .withFallbackPosition(\n                { originX: 'start', originY: 'top' },\n                { overlayX: 'start', overlayY: 'bottom' })\n            .withFallbackPosition(\n                { originX: 'end', originY: 'top' },\n                { overlayX: 'start', overlayY: 'top' })\n            .withFallbackPosition(\n                { originX: 'start', originY: 'top' },\n                { overlayX: 'end', overlayY: 'top' })\n            .withFallbackPosition(\n                { originX: 'end', originY: 'center' },\n                { overlayX: 'start', overlayY: 'center' })\n            .withFallbackPosition(\n                { originX: 'start', originY: 'center' },\n                { overlayX: 'end', overlayY: 'center' }\n            );\n\n        const overlayConfig = new OverlayConfig({\n            hasBackdrop: config.hasBackdrop,\n            backdropClass: config.backdropClass,\n            panelClass: config.panelClass,\n            scrollStrategy: this.overlay.scrollStrategies.close(),\n            positionStrategy\n        });\n\n        return overlayConfig;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:no-input-rename  */\n\nimport { Directive, HostListener, Input } from '@angular/core';\nimport { ContextMenuOverlayService } from './context-menu-overlay.service';\n\n@Directive({\n    selector: '[adf-context-menu]'\n})\nexport class ContextMenuDirective {\n    /** Items for the menu. */\n    @Input('adf-context-menu')\n    links: any[];\n\n    /** Is the menu enabled? */\n    @Input('adf-context-menu-enabled')\n    enabled: boolean = false;\n\n    constructor(private contextMenuService: ContextMenuOverlayService) {}\n\n    @HostListener('contextmenu', ['$event'])\n    onShowContextMenu(event?: MouseEvent) {\n        if (this.enabled) {\n            if (event) {\n                event.preventDefault();\n            }\n\n            if (this.links && this.links.length > 0) {\n                this.contextMenuService.open({\n                    source: event,\n                    data: this.links\n                });\n            }\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { AppConfigService, AppConfigValues } from '../app-config/app-config.service';\nimport { LanguageItem } from './language.service';\nimport { StorageService } from './storage.service';\nimport { distinctUntilChanged, map, filter } from 'rxjs/operators';\nimport { AlfrescoApiService } from './alfresco-api.service';\n\nexport enum UserPreferenceValues {\n    PaginationSize = 'paginationSize',\n    Locale = 'locale',\n    SupportedPageSizes = 'supportedPageSizes',\n    ExpandedSideNavStatus = 'expandedSidenav'\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class UserPreferencesService {\n\n    defaults = {\n        paginationSize: 25,\n        supportedPageSizes: [5, 10, 15, 20],\n        locale: 'en',\n        expandedSidenav: true\n    };\n\n    private userPreferenceStatus: any = this.defaults;\n    private onChangeSubject: BehaviorSubject<any>;\n    onChange: Observable<any>;\n\n    constructor(public translate: TranslateService,\n                private appConfig: AppConfigService,\n                private storage: StorageService,\n                private alfrescoApiService: AlfrescoApiService) {\n        this.alfrescoApiService.alfrescoApiInitialized.pipe(filter(status => status)).subscribe(this.initUserPreferenceStatus.bind(this));\n        this.onChangeSubject = new BehaviorSubject(this.userPreferenceStatus);\n        this.onChange = this.onChangeSubject.asObservable();\n    }\n\n    private initUserPreferenceStatus() {\n        this.initUserLanguage();\n        this.set(UserPreferenceValues.PaginationSize, this.paginationSize);\n        this.set(UserPreferenceValues.SupportedPageSizes, JSON.stringify(this.supportedPageSizes));\n    }\n\n    private initUserLanguage() {\n        if (this.locale || this.appConfig.get<string>(UserPreferenceValues.Locale)) {\n            const locale = this.locale || this.getDefaultLocale();\n\n            this.set(UserPreferenceValues.Locale, locale);\n            this.set('textOrientation', this.getLanguageByKey(locale).direction || 'ltr');\n        } else {\n            const locale = this.locale || this.getDefaultLocale();\n\n            this.setWithoutStore(UserPreferenceValues.Locale, locale);\n            this.setWithoutStore('textOrientation', this.getLanguageByKey(locale).direction || 'ltr');\n        }\n    }\n\n    /**\n     * Sets up a callback to notify when a property has changed.\n     * @param property The property to watch\n     * @returns Notification callback\n     */\n    select(property: string): Observable<any> {\n        return this.onChange\n            .pipe(\n                map((userPreferenceStatus) => userPreferenceStatus[property]),\n                distinctUntilChanged()\n            );\n    }\n\n    /**\n     * Gets a preference property.\n     * @param property Name of the property\n     * @param defaultValue Default to return if the property is not found\n     * @returns Preference property\n     */\n    get(property: string, defaultValue?: string): string {\n        const key = this.getPropertyKey(property);\n        const value = this.storage.getItem(key);\n        if (value === undefined || value === null) {\n            return defaultValue;\n        }\n        return value;\n    }\n\n    /**\n     * Sets a preference property.\n     * @param property Name of the property\n     * @param value New value for the property\n     */\n    set(property: string, value: any) {\n        if (!property) {\n            return;\n        }\n        this.storage.setItem(\n            this.getPropertyKey(property),\n            value\n        );\n        this.userPreferenceStatus[property] = value;\n        this.onChangeSubject.next(this.userPreferenceStatus);\n    }\n\n    /**\n     * Sets a preference property.\n     * @param property Name of the property\n     * @param value New value for the property\n     */\n    setWithoutStore(property: string, value: any) {\n        if (!property) {\n            return;\n        }\n        this.userPreferenceStatus[property] = value;\n        this.onChangeSubject.next(this.userPreferenceStatus);\n    }\n\n    /**\n     * Check if an item is present in the storage\n     * @param property Name of the property\n     * @returns True if the item is present, false otherwise\n     */\n    hasItem(property: string): boolean {\n        if (!property) {\n            return false;\n        }\n        return this.storage.hasItem(\n            this.getPropertyKey(property)\n        );\n    }\n\n    /**\n     * Gets the active storage prefix for preferences.\n     * @returns Storage prefix\n     */\n    getStoragePrefix(): string {\n        return this.storage.getItem('USER_PROFILE') || 'GUEST';\n    }\n\n    /**\n     * Sets the active storage prefix for preferences.\n     * @param value Name of the prefix\n     */\n    setStoragePrefix(value: string) {\n        this.storage.setItem('USER_PROFILE', value || 'GUEST');\n        this.initUserPreferenceStatus();\n    }\n\n    /**\n     * Gets the full property key with prefix.\n     * @param property The property name\n     * @returns Property key\n     */\n    getPropertyKey(property: string): string {\n        return `${this.getStoragePrefix()}__${property}`;\n    }\n\n    /**\n     * Gets an array containing the available page sizes.\n     * @returns Array of page size values\n     */\n    get supportedPageSizes(): number[] {\n        const supportedPageSizes = this.get(UserPreferenceValues.SupportedPageSizes);\n\n        if (supportedPageSizes) {\n            return JSON.parse(supportedPageSizes);\n        } else {\n            return this.appConfig.get('pagination.supportedPageSizes', this.defaults.supportedPageSizes);\n        }\n    }\n\n    set supportedPageSizes(value: number[]) {\n        this.set(UserPreferenceValues.SupportedPageSizes, JSON.stringify(value));\n    }\n\n    /** Pagination size. */\n    set paginationSize(value: number) {\n        this.set(UserPreferenceValues.PaginationSize, value);\n    }\n\n    get paginationSize(): number {\n        const paginationSize = this.get(UserPreferenceValues.PaginationSize);\n\n        if (paginationSize) {\n            return Number(paginationSize);\n        } else {\n            return Number(this.appConfig.get('pagination.size', this.defaults.paginationSize));\n        }\n    }\n\n    /** Current locale setting. */\n    get locale(): string {\n        return this.get(UserPreferenceValues.Locale);\n    }\n\n    set locale(value: string) {\n        this.set(UserPreferenceValues.Locale, value);\n    }\n\n    /**\n     * Gets the default locale.\n     * @returns Default locale language code\n     */\n    public getDefaultLocale(): string {\n        return this.appConfig.get<string>(UserPreferenceValues.Locale) || this.translate.getBrowserCultureLang() || 'en';\n    }\n\n    private getLanguageByKey(key: string): LanguageItem {\n        return (\n            this.appConfig\n                .get<Array<LanguageItem>>(AppConfigValues.APP_CONFIG_LANGUAGES_KEY, [<LanguageItem> { key: 'en' }])\n                .find((language) => key.includes(language.key)) || <LanguageItem> { key: 'en' }\n        );\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MaterialModule } from '../material.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { ContextMenuDirective } from './context-menu.directive';\nimport { ContextMenuListComponent } from './context-menu-list.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule\n    ],\n    declarations: [\n        ContextMenuDirective,\n        ContextMenuListComponent\n    ],\n    exports: [\n        ContextMenuDirective\n    ]\n})\nexport class ContextMenuModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Inject, Injectable, InjectionToken, Optional } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable } from 'rxjs';\nimport { TranslateLoaderService } from './translate-loader.service';\nimport { UserPreferencesService, UserPreferenceValues } from './user-preferences.service';\n\nexport const TRANSLATION_PROVIDER = new InjectionToken('Injection token for translation providers.');\n\nexport interface TranslationProvider {\n    name: string;\n    source: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TranslationService {\n    defaultLang: string;\n    userLang: string;\n    customLoader: TranslateLoaderService;\n\n    constructor(public translate: TranslateService,\n                userPreferencesService: UserPreferencesService,\n                @Optional() @Inject(TRANSLATION_PROVIDER) providers: TranslationProvider[]) {\n        this.customLoader = <TranslateLoaderService> this.translate.currentLoader;\n\n        this.defaultLang = 'en';\n        translate.setDefaultLang(this.defaultLang);\n        this.customLoader.setDefaultLang(this.defaultLang);\n\n        if (providers && providers.length > 0) {\n            for (const provider of providers) {\n                this.addTranslationFolder(provider.name, provider.source);\n            }\n        }\n\n        userPreferencesService.select(UserPreferenceValues.Locale).subscribe((locale) => {\n            if (locale) {\n                this.userLang = locale;\n                this.use(this.userLang);\n            }\n        });\n    }\n\n    /**\n     * Adds a new folder of translation source files.\n     * @param name Name for the translation provider\n     * @param path Path to the folder\n     */\n    addTranslationFolder(name: string = '', path: string = '') {\n        if (!this.customLoader.providerRegistered(name)) {\n            this.customLoader.registerProvider(name, path);\n\n            if (this.userLang) {\n                this.loadTranslation(this.userLang, this.defaultLang);\n            } else {\n                this.loadTranslation(this.defaultLang);\n            }\n        }\n    }\n\n    /**\n     * Loads a translation file.\n     * @param lang Language code for the language to load\n     * @param fallback Language code to fall back to if the first one was unavailable\n     */\n    loadTranslation(lang: string, fallback?: string) {\n        this.translate.getTranslation(lang).subscribe(\n            () => {\n                this.translate.use(lang);\n                this.onTranslationChanged(lang);\n            },\n            () => {\n                if (fallback && fallback !== lang) {\n                    this.loadTranslation(fallback);\n                }\n            }\n        );\n    }\n\n    /**\n     * Triggers a notification callback when the translation language changes.\n     * @param lang The new language code\n     */\n    onTranslationChanged(lang: string): void {\n        this.translate.onTranslationChange.next({\n            lang: lang,\n            translations: this.customLoader.getFullTranslationJSON(lang)\n        });\n    }\n\n    /**\n     * Sets the target language for translations.\n     * @param lang Code name for the language\n     * @returns Translations available for the language\n     */\n    use(lang: string): Observable<any> {\n        this.customLoader.init(lang);\n        return this.translate.use(lang);\n    }\n\n    /**\n     * Gets the translation for the supplied key.\n     * @param key Key to translate\n     * @param interpolateParams String(s) to be interpolated into the main message\n     * @returns Translated text\n     */\n    get(key: string | Array<string>, interpolateParams?: Object): Observable<string | any> {\n        return this.translate.get(key, interpolateParams);\n    }\n\n    /**\n     * Directly returns the translation for the supplied key.\n     * @param key Key to translate\n     * @param interpolateParams String(s) to be interpolated into the main message\n     * @returns Translated text\n     */\n    instant(key: string | Array<string>, interpolateParams?: Object): string | any {\n        return key ? this.translate.instant(key, interpolateParams) : '';\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { TranslationService } from '../services/translation.service';\n\n@Pipe({\n    name: 'adfFileSize',\n    pure: false\n})\nexport class FileSizePipe implements PipeTransform {\n\n    constructor(private translation: TranslationService) {\n    }\n\n    transform(paramByte: any, decimals: number = 2): string {\n        if (paramByte == null) {\n            return '';\n        }\n\n        const bytes = parseInt(paramByte, 10);\n        if (isNaN(bytes)) {\n            return '';\n        }\n\n        if (bytes === 0) {\n            return '0 ' + this.translation.instant('CORE.FILE_SIZE.BYTES');\n        }\n\n        const k = 1024,\n            dm = decimals || 2,\n            sizes = ['BYTES', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            i = Math.floor(Math.log(bytes) / Math.log(k));\n\n        const i18nSize = this.translation.instant(`CORE.FILE_SIZE.${sizes[i]}`);\n\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + i18nSize;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* spellchecker: disable */\nimport { Injectable } from '@angular/core';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { NodeEntry } from '@alfresco/js-api';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ThumbnailService {\n\n    DEFAULT_ICON: string = './assets/images/ft_ic_miscellaneous.svg';\n\n    mimeTypeIcons: any = {\n        'image/png': './assets/images/ft_ic_raster_image.svg',\n        'image/jpeg': './assets/images/ft_ic_raster_image.svg',\n        'image/gif': './assets/images/ft_ic_raster_image.svg',\n        'image/bmp': './assets/images/ft_ic_raster_image.svg',\n        'image/cgm': './assets/images/ft_ic_raster_image.svg',\n        'image/ief': './assets/images/ft_ic_raster_image.svg',\n        'image/jp2': './assets/images/ft_ic_raster_image.svg',\n        'image/tiff': './assets/images/ft_ic_raster_image.svg',\n        'image/vnd.adobe.photoshop': './assets/images/ft_ic_raster_image.svg',\n        'image/vnd.adobe.premiere': './assets/images/ft_ic_raster_image.svg',\n        'image/x-cmu-raster': './assets/images/ft_ic_raster_image.svg',\n        'image/x-dwt': './assets/images/ft_ic_raster_image.svg',\n        'image/x-portable-anymap': './assets/images/ft_ic_raster_image.svg',\n        'image/x-portable-bitmap': './assets/images/ft_ic_raster_image.svg',\n        'image/x-portable-graymap': './assets/images/ft_ic_raster_image.svg',\n        'image/x-portable-pixmap': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-adobe': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-canon': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-fuji': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-hasselblad': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-kodak': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-leica': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-minolta': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-nikon': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-olympus': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-panasonic': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-pentax': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-red': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-sigma': './assets/images/ft_ic_raster_image.svg',\n        'image/x-raw-sony': './assets/images/ft_ic_raster_image.svg',\n        'image/x-xbitmap': './assets/images/ft_ic_raster_image.svg',\n        'image/x-xpixmap': './assets/images/ft_ic_raster_image.svg',\n        'image/x-xwindowdump': './assets/images/ft_ic_raster_image.svg',\n        'image/svg+xml': './assets/images/ft_ic_vector_image.svg',\n        'application/eps': './assets/images/ft_ic_raster_image.svg',\n        'application/illustrator': './assets/images/ft_ic_raster_image.svg',\n        'application/pdf': './assets/images/ft_ic_pdf.svg',\n        'application/vnd.ms-excel': './assets/images/ft_ic_ms_excel.svg',\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': './assets/images/ft_ic_ms_excel.svg',\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.template': './assets/images/ft_ic_ms_excel.svg',\n        'application/vnd.ms-excel.addin.macroenabled.12': './assets/images/ft_ic_ms_excel.svg',\n        'application/vnd.ms-excel.sheet.binary.macroenabled.12': './assets/images/ft_ic_ms_excel.svg',\n        'application/vnd.ms-excel.sheet.macroenabled.12': './assets/images/ft_ic_ms_excel.svg',\n        'application/vnd.ms-excel.template.macroenabled.12': './assets/images/ft_ic_ms_excel.svg',\n        'application/vnd.sun.xml.calc': './assets/images/ft_ic_ms_excel.svg',\n        'application/vnd.sun.xml.calc.template': './assets/images/ft_ic_ms_excel.svg',\n        'application/vnd.ms-outlook': './assets/images/ft_ic_document.svg',\n        'application/msword': './assets/images/ft_ic_ms_word.svg',\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document': './assets/images/ft_ic_ms_word.svg',\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.template': './assets/images/ft_ic_ms_word.svg',\n        'application/vnd.ms-word.document.macroenabled.12': './assets/images/ft_ic_ms_word.svg',\n        'application/vnd.ms-word.template.macroenabled.12': './assets/images/ft_ic_ms_word.svg',\n        'application/vnd.sun.xml.writer': './assets/images/ft_ic_ms_word.svg',\n        'application/vnd.sun.xml.writer.template': './assets/images/ft_ic_ms_word.svg',\n        'application/rtf': './assets/images/ft_ic_ms_word.svg',\n        'text/rtf': './assets/images/ft_ic_ms_word.svg',\n        'application/vnd.ms-powerpoint': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.openxmlformats-officedocument.presentationml.presentation': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.openxmlformats-officedocument.presentationml.template': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.openxmlformats-officedocument.presentationml.slideshow': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.oasis.opendocument.presentation': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.oasis.opendocument.presentation-template': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.openxmlformats-officedocument.presentationml.slide': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.sun.xml.impress': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.sun.xml.impress.template': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.oasis.opendocument.spreadsheet': './assets/images/ft_ic_ms_excel.svg',\n        'application/vnd.oasis.opendocument.spreadsheet-template': './assets/images/ft_ic_ms_excel.svg',\n        'application/vnd.ms-powerpoint.addin.macroenabled.12': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.ms-powerpoint.presentation.macroenabled.12': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.ms-powerpoint.slide.macroenabled.12': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.ms-powerpoint.slideshow.macroenabled.12': './assets/images/ft_ic_ms_powerpoint.svg',\n        'application/vnd.ms-powerpoint.template.macroenabled.12': './assets/images/ft_ic_ms_powerpoint.svg',\n        'video/mp4': './assets/images/ft_ic_video.svg',\n        'video/3gpp': './assets/images/ft_ic_video.svg',\n        'video/3gpp2': './assets/images/ft_ic_video.svg',\n        'video/mp2t': './assets/images/ft_ic_video.svg',\n        'video/mpeg': './assets/images/ft_ic_video.svg',\n        'video/mpeg2': './assets/images/ft_ic_video.svg',\n        'video/ogg': './assets/images/ft_ic_video.svg',\n        'video/quicktime': './assets/images/ft_ic_video.svg',\n        'video/webm': './assets/images/ft_ic_video.svg',\n        'video/x-flv': './assets/images/ft_ic_video.svg',\n        'video/x-m4v': './assets/images/ft_ic_video.svg',\n        'video/x-ms-asf': './assets/images/ft_ic_video.svg',\n        'video/x-ms-wmv': './assets/images/ft_ic_video.svg',\n        'video/x-msvideo': './assets/images/ft_ic_video.svg',\n        'video/x-rad-screenplay':  './assets/images/ft_ic_video.svg',\n        'video/x-sgi-movie': './assets/images/ft_ic_video.svg',\n        'video/x-matroska': './assets/images/ft_ic_video.svg',\n        'audio/mpeg': './assets/images/ft_ic_audio.svg',\n        'audio/ogg': './assets/images/ft_ic_audio.svg',\n        'audio/wav': './assets/images/ft_ic_audio.svg',\n        'audio/basic': './assets/images/ft_ic_audio.svg',\n        'audio/mp3': './assets/images/ft_ic_audio.svg',\n        'audio/mp4': './assets/images/ft_ic_audio.svg',\n        'audio/vnd.adobe.soundbooth': './assets/images/ft_ic_audio.svg',\n        'audio/vorbis': './assets/images/ft_ic_audio.svg',\n        'audio/x-aiff': './assets/images/ft_ic_audio.svg',\n        'audio/x-flac': './assets/images/ft_ic_audio.svg',\n        'audio/x-ms-wma': './assets/images/ft_ic_audio.svg',\n        'audio/x-wav': './assets/images/ft_ic_audio.svg',\n        'x-world/x-vrml': './assets/images/ft_ic_video.svg',\n        'text/plain': './assets/images/ft_ic_document.svg',\n        'application/vnd.oasis.opendocument.text': './assets/images/ft_ic_document.svg',\n        'application/vnd.oasis.opendocument.text-template': './assets/images/ft_ic_document.svg',\n        'application/x-javascript': './assets/images/ft_ic_document.svg',\n        'application/json': './assets/images/ft_ic_document.svg',\n        'text/csv': './assets/images/ft_ic_document.svg',\n        'text/xml': './assets/images/ft_ic_document.svg',\n        'text/html': './assets/images/ft_ic_website.svg',\n        'application/x-compressed': './assets/images/ft_ic_archive.svg',\n        'application/x-zip-compressed': './assets/images/ft_ic_archive.svg',\n        'application/zip': './assets/images/ft_ic_archive.svg',\n        'application/x-tar': './assets/images/ft_ic_archive.svg',\n        'application/vnd.apple.keynote': './assets/images/ft_ic_presentation.svg',\n        'application/vnd.apple.pages': './assets/images/ft_ic_document.svg',\n        'application/vnd.apple.numbers': './assets/images/ft_ic_spreadsheet.svg',\n        'application/vnd.visio': './assets/images/ft_ic_document.svg',\n        'application/wordperfect': './assets/images/ft_ic_document.svg',\n        'application/x-cpio': './assets/images/ft_ic_document.svg',\n        'folder': './assets/images/ft_ic_folder.svg',\n        'smartFolder': './assets/images/ft_ic_smart_folder.svg',\n        'ruleFolder': './assets/images/ft_ic_folder_rule.svg',\n        'linkFolder': './assets/images/ft_ic_folder_shortcut_link.svg',\n        'disable/folder': './assets/images/ft_ic_folder_disable.svg',\n        'selected': './assets/images/ft_ic_selected.svg',\n        'dynamic-feed': './assets/images/dynamic_feed-24px.svg',\n        'ic-process': './assets/images/ic-process.svg',\n        'filter': './assets/images/ft_ic_filter.svg',\n        'save-as': './assets/images/save-as.svg',\n        'save': './assets/images/save.svg',\n        'task': './assets/images/task.svg'\n    };\n\n    constructor(protected apiService: AlfrescoApiService, matIconRegistry: MatIconRegistry, sanitizer: DomSanitizer) {\n        Object.keys(this.mimeTypeIcons).forEach((key) => {\n            const url = sanitizer.bypassSecurityTrustResourceUrl(this.mimeTypeIcons[key]);\n\n            matIconRegistry.addSvgIcon(key, url);\n            matIconRegistry.addSvgIconInNamespace('adf', key, url);\n        });\n    }\n\n    /**\n     * Gets a thumbnail URL for the given document node.\n     * @param node Node or Node ID to get URL for.\n     * @param attachment Toggles whether to retrieve content as an attachment for download\n     * @param ticket Custom ticket to use for authentication\n     * @returns URL string\n     */\n    getDocumentThumbnailUrl(node: NodeEntry | string, attachment?: boolean, ticket?: string): string {\n        let resultUrl: string;\n\n        if (node) {\n            let nodeId: string;\n\n            if (typeof node === 'string') {\n                nodeId = node;\n            } else if (node.entry) {\n                nodeId = node.entry.id;\n            }\n\n            resultUrl = this.apiService.contentApi.getDocumentThumbnailUrl(nodeId, attachment, ticket);\n        }\n\n        return resultUrl || this.DEFAULT_ICON;\n    }\n\n    /**\n     * Gets a thumbnail URL for a MIME type.\n     * @param mimeType MIME type for the thumbnail\n     * @returns URL string\n     */\n    public getMimeTypeIcon(mimeType: string): string {\n        const icon = this.mimeTypeIcons[mimeType];\n        return (icon || this.DEFAULT_ICON);\n    }\n\n    /**\n     * Gets a \"miscellaneous\" thumbnail URL for types with no other icon defined.\n     * @returns URL string\n     */\n    public getDefaultMimeTypeIcon(): string {\n        return this.DEFAULT_ICON;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { ThumbnailService } from '../services/thumbnail.service';\n\n@Pipe({\n    name: 'adfMimeTypeIcon'\n})\nexport class MimeTypeIconPipe implements PipeTransform {\n\n    constructor(private thumbnailService: ThumbnailService) { }\n\n    transform(text: string): string {\n        return this.thumbnailService.getMimeTypeIcon(text);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { NodeEntry } from '@alfresco/js-api';\n\n@Pipe({\n    name: 'adfNodeNameTooltip'\n})\nexport class NodeNameTooltipPipe implements PipeTransform {\n\n    transform(node: NodeEntry): string {\n        if (node) {\n            return this.getNodeTooltip(node);\n        }\n        return null;\n    }\n\n    private containsLine(lines: string[], line: string): boolean {\n        return lines.some((item: string) => {\n            return item.toLowerCase() === line.toLowerCase();\n        });\n    }\n\n    private removeDuplicateLines(lines: string[]): string[] {\n        const reducer = (acc: string[], line: string): string[] => {\n            if (!this.containsLine(acc, line)) { acc.push(line); }\n            return acc;\n        };\n\n        return lines.reduce(reducer, []);\n    }\n\n    private getNodeTooltip(node: NodeEntry): string {\n        if (!node || !node.entry) {\n            return null;\n        }\n\n        const { entry: { properties, name } } = node;\n        const lines = [ name ];\n\n        if (properties) {\n            const {\n                'cm:title': title,\n                'cm:description': description\n            } = properties;\n\n            if (title && description) {\n                lines[0] = title;\n                lines[1] = description;\n            }\n\n            if (title) {\n                lines[1] = title;\n            }\n\n            if (description) {\n                lines[1] = description;\n            }\n        }\n\n        return this.removeDuplicateLines(lines).join(`\\n`);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\n\nexport interface HighlightTransformResult {\n    text: string;\n    changed: boolean;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class HighlightTransformService {\n\n    /**\n     * Searches for `search` string(s) within `text` and highlights all occurrences.\n     * @param text Text to search within\n     * @param search Text pattern to search for\n     * @param wrapperClass CSS class used to provide highlighting style\n     * @returns New text along with boolean value to indicate whether anything was highlighted\n     */\n    public highlight(text: string, search: string, wrapperClass: string = 'adf-highlight'): HighlightTransformResult {\n        let isMatching = false,\n            result = text;\n\n        if (search && text) {\n            let pattern = search.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n            pattern = pattern.split(' ').filter((t) => {\n                return t.length > 0;\n            }).join('|');\n\n            const regex = new RegExp(pattern, 'gi');\n            result = text.replace(/<[^>]+>/g, '').replace(regex, (match) => {\n                isMatching = true;\n                return `<span class=\"${wrapperClass}\">${match}</span>`;\n            });\n\n            return { text: result, changed: isMatching };\n        } else {\n            return { text: result, changed: isMatching };\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { HighlightTransformService, HighlightTransformResult } from '../services/highlight-transform.service';\n\n@Pipe({\n    name: 'highlight'\n})\nexport class HighlightPipe implements PipeTransform {\n\n    constructor(private highlightTransformService: HighlightTransformService) { }\n\n    transform(text: string, search: string): string {\n        const highlightTransformResult: HighlightTransformResult = this.highlightTransformService.highlight(text, search);\n        return highlightTransformResult.text;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport moment from 'moment-es6';\nimport { Pipe, PipeTransform, OnDestroy } from '@angular/core';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { UserPreferenceValues, UserPreferencesService } from '../services/user-preferences.service';\nimport { DatePipe } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Pipe({\n    name: 'adfTimeAgo'\n})\nexport class TimeAgoPipe implements PipeTransform, OnDestroy {\n\n    static DEFAULT_LOCALE = 'en-US';\n    static DEFAULT_DATE_TIME_FORMAT = 'dd/MM/yyyy HH:mm';\n\n    defaultLocale: string;\n    defaultDateTimeFormat: string;\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(public userPreferenceService: UserPreferencesService,\n                public appConfig: AppConfigService) {\n        this.userPreferenceService\n            .select(UserPreferenceValues.Locale)\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe(locale => {\n                this.defaultLocale = locale || TimeAgoPipe.DEFAULT_LOCALE;\n            });\n        this.defaultDateTimeFormat = this.appConfig.get<string>('dateValues.defaultDateTimeFormat', TimeAgoPipe.DEFAULT_DATE_TIME_FORMAT);\n    }\n\n    transform(value: Date, locale?: string) {\n        if (value !== null && value !== undefined ) {\n            const actualLocale = locale || this.defaultLocale;\n            const then = moment(value);\n            const diff = moment().locale(actualLocale).diff(then, 'days');\n            if ( diff > 7) {\n                const datePipe: DatePipe = new DatePipe(actualLocale);\n                return datePipe.transform(value, this.defaultDateTimeFormat);\n            } else {\n                return then.locale(actualLocale).fromNow();\n            }\n        }\n        return '';\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\nimport { UserProcessModel } from '../models/user-process.model';\nimport { EcmUserModel } from '../models/ecm-user.model';\nimport { IdentityUserModel } from '../models/identity-user.model';\n\nexport type User = (EcmUserModel | UserProcessModel  | IdentityUserModel) & { displayName?: string };\n\n@Pipe({\n    name: 'usernameInitials'\n})\nexport class InitialUsernamePipe implements PipeTransform {\n\n    constructor(private sanitized: DomSanitizer) {\n    }\n\n    transform(user: User, className: string = '', delimiter: string = ''): SafeHtml {\n        let safeHtml: SafeHtml = '';\n        if (user) {\n            const initialResult = this.getInitialUserName(user.firstName || user.displayName, user.lastName, delimiter);\n            safeHtml = this.sanitized.bypassSecurityTrustHtml(`<div id=\"user-initials-image\" class=\"${className}\">${initialResult}</div>`);\n        }\n        return safeHtml;\n    }\n\n    getInitialUserName(firstName: string, lastName: string, delimiter: string): string {\n        firstName = (firstName ? firstName[0] : '');\n        lastName = (lastName ? lastName[0] : '');\n        return firstName + delimiter + lastName;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'fullName' })\nexport class FullNamePipe implements PipeTransform {\n    transform(user: any): string {\n        let fullName = '';\n        if (user) {\n            if (user.firstName && user.firstName !== 'null') {\n                fullName += user.firstName;\n            }\n            if (user.lastName && user.lastName !== 'null') {\n                fullName += fullName.length > 0 ? ' ' : '';\n                fullName += user.lastName;\n            }\n            if (!fullName) {\n                fullName += user.username ? user.username : user.email ? user.email : '';\n            }\n        }\n        return fullName;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'formatSpace'\n})\nexport class FormatSpacePipe implements PipeTransform {\n\n    transform(inputValue: string, replaceChar: string = '_', lowerCase: boolean = true): string {\n        let transformedString = '';\n        if (inputValue) {\n            transformedString = lowerCase ? inputValue.trim().split(' ').join(replaceChar).toLocaleLowerCase() :\n                inputValue.trim().split(' ').join(replaceChar);\n        }\n        return transformedString;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PipeTransform, Pipe } from '@angular/core';\n\n@Pipe({\n    name: 'fileType',\n    pure: true\n})\nexport class FileTypePipe implements PipeTransform {\n\n    transform(value: string) {\n\n        if ( value == null ) {\n            return '';\n        } else {\n            const fileInfo = value.substring(value.lastIndexOf('/') + 1).replace(/\\.[a-z]+/, '');\n            return fileInfo.split('_').pop();\n        }\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'multiValue' })\nexport class MultiValuePipe implements PipeTransform {\n\n    static DEFAULT_SEPARATOR = ', ';\n\n    transform(values: any | any[], valueSeparator: string = MultiValuePipe.DEFAULT_SEPARATOR): string {\n\n        if (values && values instanceof Array) {\n            return values.join(valueSeparator);\n        }\n\n        return values;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DatePipe } from '@angular/common';\nimport { Pipe, PipeTransform, OnDestroy } from '@angular/core';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { UserPreferencesService, UserPreferenceValues } from '../services/user-preferences.service';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Pipe({\n    name: 'adfLocalizedDate',\n    pure: false\n})\nexport class LocalizedDatePipe implements PipeTransform, OnDestroy {\n\n    static DEFAULT_LOCALE = 'en-US';\n    static DEFAULT_DATE_FORMAT = 'mediumDate';\n\n    defaultLocale: string = LocalizedDatePipe.DEFAULT_LOCALE;\n    defaultFormat: string = LocalizedDatePipe.DEFAULT_DATE_FORMAT;\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(public userPreferenceService?: UserPreferencesService,\n                public appConfig?: AppConfigService) {\n\n        if (this.userPreferenceService) {\n            this.userPreferenceService\n                .select(UserPreferenceValues.Locale)\n                .pipe(takeUntil(this.onDestroy$))\n                .subscribe(locale => {\n                    if (locale) {\n                        this.defaultLocale = locale;\n                    }\n                });\n        }\n\n        if (this.appConfig) {\n            this.defaultFormat = this.appConfig.get<string>('dateValues.defaultDateFormat', LocalizedDatePipe.DEFAULT_DATE_FORMAT);\n        }\n    }\n\n    transform(value: any, format?: string, locale?: string): any {\n        const actualFormat = format || this.defaultFormat;\n        const actualLocale = locale || this.defaultLocale;\n        const datePipe: DatePipe = new DatePipe(actualLocale);\n        return datePipe.transform(value, actualFormat);\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DecimalPipe } from '@angular/common';\nimport { Pipe, PipeTransform, OnDestroy } from '@angular/core';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { UserPreferencesService, UserPreferenceValues } from '../services/user-preferences.service';\nimport { DecimalNumberModel } from '../models/decimal-number.model';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Pipe({\n    name: 'adfDecimalNumber',\n    pure: false\n})\nexport class DecimalNumberPipe implements PipeTransform, OnDestroy {\n\n    static DEFAULT_LOCALE = 'en-US';\n    static DEFAULT_MIN_INTEGER_DIGITS = 1;\n    static DEFAULT_MIN_FRACTION_DIGITS = 0;\n    static DEFAULT_MAX_FRACTION_DIGITS = 2;\n\n    defaultLocale: string = DecimalNumberPipe.DEFAULT_LOCALE;\n    defaultMinIntegerDigits: number = DecimalNumberPipe.DEFAULT_MIN_INTEGER_DIGITS;\n    defaultMinFractionDigits: number = DecimalNumberPipe.DEFAULT_MIN_FRACTION_DIGITS;\n    defaultMaxFractionDigits: number = DecimalNumberPipe.DEFAULT_MAX_FRACTION_DIGITS;\n\n    onDestroy$: Subject<boolean> = new Subject<boolean>();\n\n    constructor(public userPreferenceService?: UserPreferencesService,\n                public appConfig?: AppConfigService) {\n\n        if (this.userPreferenceService) {\n            this.userPreferenceService.select(UserPreferenceValues.Locale)\n                .pipe(\n                    takeUntil(this.onDestroy$)\n                )\n                .subscribe((locale) => {\n                    if (locale) {\n                        this.defaultLocale = locale;\n                    }\n                });\n        }\n\n        if (this.appConfig) {\n            this.defaultMinIntegerDigits = this.appConfig.get<number>('decimalValues.minIntegerDigits', DecimalNumberPipe.DEFAULT_MIN_INTEGER_DIGITS);\n            this.defaultMinFractionDigits = this.appConfig.get<number>('decimalValues.minFractionDigits', DecimalNumberPipe.DEFAULT_MIN_FRACTION_DIGITS);\n            this.defaultMaxFractionDigits = this.appConfig.get<number>('decimalValues.maxFractionDigits', DecimalNumberPipe.DEFAULT_MAX_FRACTION_DIGITS);\n        }\n    }\n\n    transform(value: any, digitsInfo?: DecimalNumberModel, locale?: string): any {\n        const actualMinIntegerDigits: number = digitsInfo && digitsInfo.minIntegerDigits ? digitsInfo.minIntegerDigits : this.defaultMinIntegerDigits;\n        const actualMinFractionDigits: number = digitsInfo && digitsInfo.minFractionDigits ? digitsInfo.minFractionDigits : this.defaultMinFractionDigits;\n        const actualMaxFractionDigits: number = digitsInfo && digitsInfo.maxFractionDigits ? digitsInfo.maxFractionDigits : this.defaultMaxFractionDigits;\n\n        const actualDigitsInfo = `${actualMinIntegerDigits}.${actualMinFractionDigits}-${actualMaxFractionDigits}`;\n        const actualLocale = locale || this.defaultLocale;\n\n        const decimalPipe: DecimalPipe = new DecimalPipe(actualLocale);\n        return decimalPipe.transform(value, actualDigitsInfo);\n    }\n\n    ngOnDestroy(): void {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { TranslationService } from '../services/translation.service';\n\n@Pipe({\n    name: 'adfLocalizedRole'\n})\nexport class LocalizedRolePipe implements PipeTransform {\n    constructor(private translationService: TranslationService) {\n    }\n\n    transform(value: string): any {\n        if (value) {\n            const key = `ADF.ROLES.${value.toUpperCase()}`;\n            const translation = this.translationService.instant(key);\n\n            if (translation) {\n                return translation;\n            }\n        }\n        return value;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { FileSizePipe } from './file-size.pipe';\nimport { MimeTypeIconPipe } from './mime-type-icon.pipe';\nimport { NodeNameTooltipPipe } from './node-name-tooltip.pipe';\nimport { HighlightPipe } from './text-highlight.pipe';\nimport { TimeAgoPipe } from './time-ago.pipe';\nimport { InitialUsernamePipe } from './user-initial.pipe';\nimport { FullNamePipe } from './full-name.pipe';\nimport { FormatSpacePipe } from './format-space.pipe';\nimport { FileTypePipe } from './file-type.pipe';\nimport { MultiValuePipe } from './multi-value.pipe';\nimport { LocalizedDatePipe } from './localized-date.pipe';\nimport { DecimalNumberPipe } from './decimal-number.pipe';\nimport { LocalizedRolePipe } from './localized-role.pipe';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        TranslateModule\n    ],\n    declarations: [\n        FileSizePipe,\n        HighlightPipe,\n        TimeAgoPipe,\n        MimeTypeIconPipe,\n        InitialUsernamePipe,\n        FullNamePipe,\n        NodeNameTooltipPipe,\n        FormatSpacePipe,\n        FileTypePipe,\n        MultiValuePipe,\n        LocalizedDatePipe,\n        DecimalNumberPipe,\n        LocalizedRolePipe\n    ],\n    providers: [\n        FileSizePipe,\n        HighlightPipe,\n        TimeAgoPipe,\n        MimeTypeIconPipe,\n        InitialUsernamePipe,\n        NodeNameTooltipPipe,\n        FormatSpacePipe,\n        FileTypePipe,\n        MultiValuePipe,\n        LocalizedDatePipe,\n        DecimalNumberPipe,\n        LocalizedRolePipe\n    ],\n    exports: [\n        FileSizePipe,\n        HighlightPipe,\n        TimeAgoPipe,\n        MimeTypeIconPipe,\n        InitialUsernamePipe,\n        FullNamePipe,\n        NodeNameTooltipPipe,\n        FormatSpacePipe,\n        FileTypePipe,\n        MultiValuePipe,\n        LocalizedDatePipe,\n        DecimalNumberPipe,\n        LocalizedRolePipe\n    ]\n})\nexport class PipeModule {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:no-input-rename  */\n\nimport { Directive, ElementRef, Input, Renderer2, AfterViewChecked } from '@angular/core';\nimport { HighlightTransformService, HighlightTransformResult } from '../services/highlight-transform.service';\n\n@Directive({\n    selector: '[adf-highlight]'\n})\nexport class HighlightDirective implements AfterViewChecked {\n\n    /** Class selector for highlightable elements. */\n    @Input('adf-highlight-selector')\n    selector: string = '';\n\n    /** Text to highlight. */\n    @Input('adf-highlight')\n    search: string = '';\n\n    /** CSS class used to apply highlighting. */\n    @Input('adf-highlight-class')\n    classToApply: string = 'adf-highlight';\n\n    constructor(\n        private el: ElementRef,\n        private renderer: Renderer2,\n        private highlightTransformService: HighlightTransformService) {\n    }\n\n    ngAfterViewChecked() {\n        this.highlight();\n    }\n\n    public highlight(search = this.search, selector = this.selector, classToApply = this.classToApply) {\n        if (search && selector) {\n            const elements = this.el.nativeElement.querySelectorAll(selector);\n\n            elements.forEach((element) => {\n                const highlightTransformResult: HighlightTransformResult = this.highlightTransformService.highlight(element.innerHTML, search, classToApply);\n                if (highlightTransformResult.changed) {\n                    this.renderer.setProperty(element, 'innerHTML', highlightTransformResult.text);\n                }\n            });\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Input, Directive, ElementRef, OnInit, Renderer2 } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { AuthenticationService } from '../services/authentication.service';\n\n@Directive({\n    selector: '[adf-logout]'\n})\nexport class LogoutDirective implements OnInit {\n\n    /** URI to redirect to after logging out. */\n    @Input()\n    redirectUri: string;\n\n    /** Enable redirecting after logout */\n    @Input()\n    enableRedirect: boolean = true;\n\n    constructor(private elementRef: ElementRef,\n                private renderer: Renderer2,\n                private router: Router,\n                private appConfig: AppConfigService,\n                private auth: AuthenticationService) {\n    }\n\n    ngOnInit() {\n\n        if (this.elementRef.nativeElement) {\n            this.renderer.listen(this.elementRef.nativeElement, 'click', (evt) => {\n                evt.preventDefault();\n                this.logout();\n            });\n        }\n    }\n\n    getRedirectUri () {\n        if (this.redirectUri === undefined ) {\n            return this.appConfig.get<string>('loginRoute', '/login');\n        }\n        return this.redirectUri;\n    }\n\n    logout() {\n        this.auth.logout().subscribe(\n            () => this.redirectToUri(),\n            () => this.redirectToUri()\n        );\n    }\n\n    redirectToUri() {\n        if (this.enableRedirect && !this.auth.isOauth()) {\n            const redirectRoute = this.getRedirectUri();\n            this.router.navigate([redirectRoute]);\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:no-input-rename  */\n\nimport { Directive, ElementRef, EventEmitter, HostListener, Input, OnChanges, Output } from '@angular/core';\nimport { NodeEntry, Node, DeletedNodeEntity, DeletedNode } from '@alfresco/js-api';\nimport { Observable, forkJoin, from, of } from 'rxjs';\nimport { AlfrescoApiService } from '../services/alfresco-api.service';\nimport { TranslationService } from '../services/translation.service';\nimport { map, catchError, retry } from 'rxjs/operators';\n\ninterface ProcessedNodeData {\n    entry: Node | DeletedNode;\n    status: number;\n}\n\ninterface ProcessStatus {\n    success: ProcessedNodeData[];\n    failed: ProcessedNodeData[];\n\n    someFailed();\n\n    someSucceeded();\n\n    oneFailed();\n\n    oneSucceeded();\n\n    allSucceeded();\n\n    allFailed();\n}\n\n@Directive({\n    selector: '[adf-delete]'\n})\nexport class NodeDeleteDirective implements OnChanges {\n    /** Array of nodes to delete. */\n    @Input('adf-delete')\n    selection: NodeEntry[] | DeletedNodeEntity[];\n\n    /** If true then the nodes are deleted immediately rather than being put in the trash */\n    @Input()\n    permanent: boolean = false;\n\n    /** Emitted when the nodes have been deleted. */\n    @Output()\n    delete: EventEmitter<any> = new EventEmitter();\n\n    @HostListener('click')\n    onClick() {\n        this.process(this.selection);\n    }\n\n    constructor(private alfrescoApiService: AlfrescoApiService,\n                private translation: TranslationService,\n                private elementRef: ElementRef) {\n    }\n\n    ngOnChanges() {\n        if (!this.selection || (this.selection && this.selection.length === 0)) {\n            this.setDisableAttribute(true);\n        } else {\n            if (!this.elementRef.nativeElement.hasAttribute('adf-check-allowable-operation')) {\n                this.setDisableAttribute(false);\n            }\n        }\n    }\n\n    private setDisableAttribute(disable: boolean) {\n        this.elementRef.nativeElement.disabled = disable;\n    }\n\n    private process(selection: NodeEntry[] | DeletedNodeEntity[]) {\n        if (selection && selection.length) {\n\n            const batch = this.getDeleteNodesBatch(selection);\n\n            forkJoin(...batch)\n                .subscribe((data: ProcessedNodeData[]) => {\n                    const processedItems: ProcessStatus = this.processStatus(data);\n                    const message = this.getMessage(processedItems);\n\n                    if (message) {\n                        this.delete.emit(message);\n                    }\n                });\n        }\n    }\n\n    private getDeleteNodesBatch(selection: any): Observable<ProcessedNodeData>[] {\n        return selection.map((node) => this.deleteNode(node));\n    }\n\n    private deleteNode(node: NodeEntry | DeletedNodeEntity): Observable<ProcessedNodeData> {\n        const id = (<any> node.entry).nodeId || node.entry.id;\n\n        let promise: Promise<any>;\n\n        if (node.entry.hasOwnProperty('archivedAt') && node.entry['archivedAt']) {\n            promise = this.alfrescoApiService.nodesApi.purgeDeletedNode(id);\n        } else {\n            promise = this.alfrescoApiService.nodesApi.deleteNode(id, { permanent: this.permanent });\n        }\n\n        return from(promise).pipe(\n            retry(3),\n            map(() => ({\n                entry: node.entry,\n                status: 1\n            })),\n            catchError(() => of({\n                entry: node.entry,\n                status: 0\n            }))\n        );\n    }\n\n    private processStatus(data): ProcessStatus {\n        const deleteStatus = {\n            success: [],\n            failed: [],\n            get someFailed() {\n                return !!(this.failed.length);\n            },\n            get someSucceeded() {\n                return !!(this.success.length);\n            },\n            get oneFailed() {\n                return this.failed.length === 1;\n            },\n            get oneSucceeded() {\n                return this.success.length === 1;\n            },\n            get allSucceeded() {\n                return this.someSucceeded && !this.someFailed;\n            },\n            get allFailed() {\n                return this.someFailed && !this.someSucceeded;\n            }\n        };\n\n        return data.reduce(\n            (acc, next) => {\n                if (next.status === 1) {\n                    acc.success.push(next);\n                } else {\n                    acc.failed.push(next);\n                }\n\n                return acc;\n            },\n            deleteStatus\n        );\n    }\n\n    private getMessage(status: ProcessStatus): string | null {\n        if (status.allFailed && !status.oneFailed) {\n            return this.translation.instant(\n                'CORE.DELETE_NODE.ERROR_PLURAL',\n                { number: status.failed.length }\n            );\n        }\n\n        if (status.allSucceeded && !status.oneSucceeded) {\n            return this.translation.instant(\n                'CORE.DELETE_NODE.PLURAL',\n                { number: status.success.length }\n            );\n        }\n\n        if (status.someFailed && status.someSucceeded && !status.oneSucceeded) {\n            return this.translation.instant(\n                'CORE.DELETE_NODE.PARTIAL_PLURAL',\n                {\n                    success: status.success.length,\n                    failed: status.failed.length\n                }\n            );\n        }\n\n        if (status.someFailed && status.oneSucceeded) {\n            return this.translation.instant(\n                'CORE.DELETE_NODE.PARTIAL_SINGULAR',\n                {\n                    success: status.success.length,\n                    failed: status.failed.length\n                }\n            );\n        }\n\n        if (status.oneFailed && !status.someSucceeded) {\n            return this.translation.instant(\n                'CORE.DELETE_NODE.ERROR_SINGULAR',\n                { name: status.failed[0].entry.name }\n            );\n        }\n\n        if (status.oneSucceeded && !status.someFailed) {\n            return this.translation.instant(\n                'CORE.DELETE_NODE.SINGULAR',\n                { name: status.success[0].entry.name }\n            );\n        }\n\n        return null;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:no-input-rename  */\n\nimport { Directive, EventEmitter, HostListener, Input, OnChanges, Output } from '@angular/core';\nimport { FavoriteBody, NodeEntry, SharedLinkEntry, Node, SharedLink } from '@alfresco/js-api';\nimport { Observable, from, forkJoin, of } from 'rxjs';\nimport { AlfrescoApiService } from '../services/alfresco-api.service';\nimport { catchError, map } from 'rxjs/operators';\n\n@Directive({\n    selector: '[adf-node-favorite]',\n    exportAs: 'adfFavorite'\n})\nexport class NodeFavoriteDirective implements OnChanges {\n    favorites: any[] = [];\n\n    /** Array of nodes to toggle as favorites. */\n    @Input('adf-node-favorite')\n    selection: NodeEntry[] = [];\n\n    /** Emitted when the favorite setting is complete. */\n    @Output() toggle: EventEmitter<any> = new EventEmitter();\n\n    /** Emitted when the favorite setting fails. */\n    @Output() error: EventEmitter<any> = new EventEmitter();\n\n    @HostListener('click')\n    onClick() {\n        this.toggleFavorite();\n    }\n\n    constructor(private alfrescoApiService: AlfrescoApiService) {\n    }\n\n    ngOnChanges(changes) {\n        if (!changes.selection.currentValue.length) {\n            this.favorites = [];\n\n            return;\n        }\n\n        this.markFavoritesNodes(changes.selection.currentValue);\n    }\n\n    toggleFavorite() {\n        if (!this.favorites.length) {\n            return;\n        }\n\n        const every = this.favorites.every((selected) => selected.entry.isFavorite);\n\n        if (every) {\n            const batch = this.favorites.map((selected: NodeEntry | SharedLinkEntry) => {\n                // shared files have nodeId\n                const id = (<SharedLinkEntry> selected).entry.nodeId || selected.entry.id;\n\n                return from(this.alfrescoApiService.favoritesApi.removeFavoriteSite('-me-', id));\n            });\n\n            forkJoin(batch).subscribe(\n                () => {\n                    this.favorites.map((selected) => selected.entry.isFavorite = false);\n                    this.toggle.emit();\n                },\n                (error) => this.error.emit(error)\n            );\n        }\n\n        if (!every) {\n            const notFavorite = this.favorites.filter((node) => !node.entry.isFavorite);\n            const body: FavoriteBody[] = notFavorite.map((node) => this.createFavoriteBody(node));\n\n            from(this.alfrescoApiService.favoritesApi.addFavorite('-me-', <any> body))\n                .subscribe(\n                    () => {\n                        notFavorite.map((selected) => selected.entry.isFavorite = true);\n                        this.toggle.emit();\n                    },\n                    (error) => this.error.emit(error)\n                );\n        }\n    }\n\n    markFavoritesNodes(selection: NodeEntry[]) {\n        if (selection.length <= this.favorites.length) {\n            const newFavorites = this.reduce(this.favorites, selection);\n            this.favorites = newFavorites;\n        }\n\n        const result = this.diff(selection, this.favorites);\n        const batch = this.getProcessBatch(result);\n\n        forkJoin(batch).subscribe((data) => {\n            this.favorites.push(...data);\n        });\n    }\n\n    hasFavorites(): boolean {\n        if (this.favorites && !this.favorites.length) {\n            return false;\n        }\n\n        return this.favorites.every((selected) => selected.entry.isFavorite);\n    }\n\n    private getProcessBatch(selection): any[] {\n        return selection.map((selected: NodeEntry) => this.getFavorite(selected));\n    }\n\n    private getFavorite(selected: NodeEntry | SharedLinkEntry): Observable<any> {\n        const node: Node | SharedLink = selected.entry;\n\n        // ACS 6.x with 'isFavorite' include\n        if (node && node.hasOwnProperty('isFavorite')) {\n            return of(selected);\n        }\n\n        // ACS 5.x and 6.x without 'isFavorite' include\n        const { name, isFile, isFolder } = <Node> node;\n        const id =  (<SharedLink> node).nodeId || node.id;\n\n        const promise = this.alfrescoApiService.favoritesApi.getFavorite('-me-', id);\n\n        return from(promise).pipe(\n            map(() => ({\n                entry: {\n                    id,\n                    isFolder,\n                    isFile,\n                    name,\n                    isFavorite: true\n                }\n            })),\n            catchError(() => {\n                return of({\n                    entry: {\n                        id,\n                        isFolder,\n                        isFile,\n                        name,\n                        isFavorite: false\n                    }\n                });\n            })\n        );\n    }\n\n    private createFavoriteBody(node): FavoriteBody {\n        const type = this.getNodeType(node);\n        // shared files have nodeId\n        const id = node.entry.nodeId || node.entry.id;\n\n        return {\n            target: {\n                [type]: {\n                    guid: id\n                }\n            }\n        };\n    }\n\n    private getNodeType(node): string {\n        // shared could only be files\n        if (!node.entry.isFile && !node.entry.isFolder) {\n            return 'file';\n        }\n\n        return node.entry.isFile ? 'file' : 'folder';\n    }\n\n    private diff(list, patch): any[] {\n        const ids = patch.map((item) => item.entry.id);\n\n        return list.filter((item) => ids.includes(item.entry.id) ? null : item);\n    }\n\n    private reduce(patch, comparator): any[] {\n        const ids = comparator.map((item) => item.entry.id);\n\n        return patch.filter((item) => ids.includes(item.entry.id) ? item : null);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* spellchecker: disable */\nexport class PermissionsEnum extends String {\n    static CONTRIBUTOR: string = 'Contributor';\n    static CONSUMER: string = 'Consumer';\n    static COLLABORATOR: string = 'Collaborator';\n    static MANAGER: string = 'Manager';\n    static EDITOR: string = 'Editor';\n    static COORDINATOR: string = 'Coordinator';\n    static NOT_CONTRIBUTOR: string = '!Contributor';\n    static NOT_CONSUMER: string = '!Consumer';\n    static NOT_COLLABORATOR: string = '!Collaborator';\n    static NOT_MANAGER: string = '!Manager';\n    static NOT_EDITOR: string = '!Editor';\n    static NOT_COORDINATOR: string = '!Coordinator';\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* spellchecker: disable */\nexport class AllowableOperationsEnum extends String {\n    static DELETE: string = 'delete';\n    static UPDATE: string = 'update';\n    static CREATE: string = 'create';\n    static COPY: string = 'copy';\n    static LOCK: string = 'lock';\n    static UPDATEPERMISSIONS: string = 'updatePermissions';\n    static NOT_DELETE: string = '!delete';\n    static NOT_UPDATE: string = '!update';\n    static NOT_CREATE: string = '!create';\n    static NOT_UPDATEPERMISSIONS: string = '!updatePermissions';\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DownloadService {\n    private readonly saveData: Function;\n\n    constructor() {\n        this.saveData = (function() {\n            const a = document.createElement('a');\n            document.body.appendChild(a);\n            a.style.display = 'none';\n\n            return function(fileData, format, fileName) {\n                let blob = null;\n\n                if (format === 'blob' || format === 'data') {\n                    blob = new Blob([fileData], { type: 'octet/stream' });\n                }\n\n                if (format === 'object' || format === 'json') {\n                    const json = JSON.stringify(fileData);\n                    blob = new Blob([json], { type: 'octet/stream' });\n                }\n\n                if (blob) {\n                    if (\n                        typeof window.navigator !== 'undefined' &&\n                        window.navigator.msSaveOrOpenBlob\n                    ) {\n                        navigator.msSaveOrOpenBlob(blob, fileName);\n                    } else {\n                        const url = window.URL.createObjectURL(blob);\n                        a.href = url;\n                        a.download = fileName;\n                        a.click();\n\n                        window.URL.revokeObjectURL(url);\n                    }\n                }\n            };\n        })();\n    }\n\n    /**\n     * Invokes content download for a Blob with a file name.\n     * @param blob Content to download.\n     * @param fileName Name of the resulting file.\n     */\n    downloadBlob(blob: Blob, fileName: string): void {\n        this.saveData(blob, 'blob', fileName);\n    }\n\n    /**\n     * Invokes content download for a data array with a file name.\n     * @param data Data to download.\n     * @param fileName Name of the resulting file.\n     */\n    downloadData(data: any, fileName: string): void {\n        this.saveData(data, 'data', fileName);\n    }\n\n    /**\n     * Invokes content download for a JSON object with a file name.\n     * @param json JSON object to download.\n     * @param fileName Name of the resulting file.\n     */\n    downloadJSON(json: any, fileName: string): void {\n        this.saveData(json, 'json', fileName);\n    }\n\n    /**\n     * Invokes the download of the file by its URL address.\n     * @param url Url address pointing to the file.\n     * @param fileName Name of the file download.\n     */\n    downloadUrl(url: string, fileName: string): void {\n        if (url && fileName) {\n            const link = document.createElement('a');\n\n            link.style.display = 'none';\n            link.download = fileName;\n            link.href = url;\n\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ContentApi, MinimalNode, Node, NodeEntry } from '@alfresco/js-api';\nimport { Observable, Subject, from, throwError } from 'rxjs';\nimport { FolderCreatedEvent } from '../events/folder-created.event';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { AuthenticationService } from './authentication.service';\nimport { LogService } from './log.service';\nimport { catchError } from 'rxjs/operators';\nimport { PermissionsEnum } from '../models/permissions.enum';\nimport { AllowableOperationsEnum } from '../models/allowable-operations.enum';\nimport { DownloadService } from './download.service';\nimport { ThumbnailService } from './thumbnail.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ContentService {\n\n    folderCreated: Subject<FolderCreatedEvent> = new Subject<FolderCreatedEvent>();\n    folderCreate: Subject<MinimalNode> = new Subject<MinimalNode>();\n    folderEdit: Subject<MinimalNode> = new Subject<MinimalNode>();\n\n    constructor(public authService: AuthenticationService,\n                public apiService: AlfrescoApiService,\n                private logService: LogService,\n                private sanitizer: DomSanitizer,\n                private downloadService: DownloadService,\n                private thumbnailService: ThumbnailService) {\n    }\n\n    /**\n     * @deprecated in 3.2.0, use DownloadService instead.\n     * Invokes content download for a Blob with a file name.\n     * @param blob Content to download.\n     * @param fileName Name of the resulting file.\n     */\n    downloadBlob(blob: Blob, fileName: string): void {\n        this.downloadService.downloadBlob(blob, fileName);\n    }\n\n    /**\n     * @deprecated in 3.2.0, use DownloadService instead.\n     * Invokes content download for a data array with a file name.\n     * @param data Data to download.\n     * @param fileName Name of the resulting file.\n     */\n    downloadData(data: any, fileName: string): void {\n        this.downloadService.downloadData(data, fileName);\n    }\n\n    /**\n     * @deprecated in 3.2.0, use DownloadService instead.\n     * Invokes content download for a JSON object with a file name.\n     * @param json JSON object to download.\n     * @param fileName Name of the resulting file.\n     */\n    downloadJSON(json: any, fileName: string): void {\n        this.downloadService.downloadJSON(json, fileName);\n    }\n\n    /**\n     * Creates a trusted object URL from the Blob.\n     * WARNING: calling this method with untrusted user data exposes your application to XSS security risks!\n     * @param  blob Data to wrap into object URL\n     * @returns URL string\n     */\n    createTrustedUrl(blob: Blob): string {\n        const url = window.URL.createObjectURL(blob);\n        return <string> this.sanitizer.bypassSecurityTrustUrl(url);\n    }\n\n    private get contentApi(): ContentApi {\n        return this.apiService.getInstance().content;\n    }\n\n    /**\n     * @deprecated in 3.2.0, use ThumbnailService instead.\n     * Gets a thumbnail URL for the given document node.\n     * @param node Node or Node ID to get URL for.\n     * @param attachment Toggles whether to retrieve content as an attachment for download\n     * @param ticket Custom ticket to use for authentication\n     * @returns URL string\n     */\n    getDocumentThumbnailUrl(node: NodeEntry | string, attachment?: boolean, ticket?: string): string {\n        return this.thumbnailService.getDocumentThumbnailUrl(node, attachment, ticket);\n    }\n\n    /**\n     * Gets a content URL for the given node.\n     * @param node Node or Node ID to get URL for.\n     * @param attachment Toggles whether to retrieve content as an attachment for download\n     * @param ticket Custom ticket to use for authentication\n     * @returns URL string or `null`\n     */\n    getContentUrl(node: NodeEntry | string, attachment?: boolean, ticket?: string): string {\n        if (node) {\n            let nodeId: string;\n\n            if (typeof node === 'string') {\n                nodeId = node;\n            } else if (node.entry) {\n                nodeId = node.entry.id;\n            }\n\n            return this.contentApi.getContentUrl(nodeId, attachment, ticket);\n        }\n\n        return null;\n    }\n\n    /**\n     * Gets content for the given node.\n     * @param nodeId ID of the target node\n     * @returns Content data\n     */\n    getNodeContent(nodeId: string): Observable<any> {\n        return from(this.apiService.getInstance().core.nodesApi.getFileContent(nodeId))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets a Node via its node ID.\n     * @param nodeId ID of the target node\n     * @param opts Options supported by JS-API\n     * @returns Details of the folder\n     */\n    getNode(nodeId: string, opts?: any): Observable<NodeEntry> {\n        return from(this.apiService.getInstance().nodes.getNode(nodeId, opts));\n    }\n\n    /**\n     * Checks if the user has permission on that node\n     * @param node Node to check permissions\n     * @param permission Required permission type\n     * @param userId Optional current user id will be taken by default\n     * @returns True if the user has the required permissions, false otherwise\n     */\n    hasPermissions(node: Node, permission: PermissionsEnum | string, userId?: string): boolean {\n        let hasPermissions = false;\n        userId = userId ?? this.authService.getEcmUsername();\n\n        const permissions = [ ...(node.permissions?.locallySet || []), ...(node.permissions?.inherited || []) ]\n             .filter((currentPermission) => currentPermission.authorityId === userId);\n        if (permissions.length) {\n            if (permission && permission.startsWith('!')) {\n                hasPermissions = permissions.find((currentPermission) => currentPermission.name === permission.replace('!', '')) ? false : true;\n            } else {\n                hasPermissions = permissions.find((currentPermission) => currentPermission.name === permission) ? true : false;\n            }\n\n        } else {\n\n            if (permission === PermissionsEnum.CONSUMER) {\n                hasPermissions = true;\n            } else if (permission === PermissionsEnum.NOT_CONSUMER) {\n                hasPermissions = false;\n            } else if (permission && permission.startsWith('!')) {\n                hasPermissions = true;\n            }\n        }\n\n        return hasPermissions;\n    }\n\n    /**\n     * Checks if the user has permissions on that node\n     * @param node Node to check allowableOperations\n     * @param allowableOperation Create, delete, update, updatePermissions, !create, !delete, !update, !updatePermissions\n     * @returns True if the user has the required permissions, false otherwise\n     */\n    hasAllowableOperations(node: Node, allowableOperation: AllowableOperationsEnum | string): boolean {\n        let hasAllowableOperations = false;\n\n        if (node && node.allowableOperations) {\n            if (allowableOperation && allowableOperation.startsWith('!')) {\n                hasAllowableOperations = node.allowableOperations.find((currentOperation) => currentOperation === allowableOperation.replace('!', '')) ? false : true;\n            } else {\n                hasAllowableOperations = node.allowableOperations.find((currentOperation) => currentOperation === allowableOperation) ? true : false;\n            }\n\n        } else {\n            if (allowableOperation && allowableOperation.startsWith('!')) {\n                hasAllowableOperations = true;\n            }\n        }\n\n        if (allowableOperation === AllowableOperationsEnum.COPY) {\n            hasAllowableOperations = true;\n        }\n\n        if (allowableOperation === AllowableOperationsEnum.LOCK) {\n            hasAllowableOperations = node.isFile;\n\n            if (node.isLocked && node.allowableOperations) {\n                hasAllowableOperations = !!~node.allowableOperations.indexOf('updatePermissions');\n            }\n        }\n\n        return hasAllowableOperations;\n    }\n\n    private handleError(error: any) {\n        this.logService.error(error);\n        return throwError(error || 'Server error');\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, InjectionToken } from '@angular/core';\n\nexport const EXTENDIBLE_COMPONENT = new InjectionToken<Component>('extendible.component');\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:no-input-rename  */\n\nimport { ChangeDetectorRef, Directive, ElementRef, Host, Inject, Input, OnChanges, Optional, Renderer2,  SimpleChanges } from '@angular/core';\nimport { NodeEntry } from '@alfresco/js-api';\nimport { ContentService } from './../services/content.service';\nimport { EXTENDIBLE_COMPONENT } from './../interface/injection.tokens';\n\nexport interface NodeAllowableOperationSubject {\n    disabled: boolean;\n}\n\n@Directive({\n    selector: '[adf-check-allowable-operation]'\n})\nexport class CheckAllowableOperationDirective implements OnChanges {\n\n    /** Node permission to check (create, delete, update, updatePermissions,\n     * !create, !delete, !update, !updatePermissions).\n     */\n    @Input('adf-check-allowable-operation')\n    permission: string  = null;\n\n    /** Nodes to check permission for. */\n    @Input('adf-nodes')\n    nodes: NodeEntry[] = [];\n\n    constructor(private elementRef: ElementRef,\n                private renderer: Renderer2,\n                private contentService: ContentService,\n                private changeDetector: ChangeDetectorRef,\n\n                @Host()\n                @Optional()\n                @Inject(EXTENDIBLE_COMPONENT) private parentComponent?: NodeAllowableOperationSubject) {\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.nodes && !changes.nodes.firstChange) {\n            this.updateElement();\n        }\n    }\n\n    /**\n     * Updates disabled state for the decorated element\n     *\n     * @memberof CheckAllowableOperationDirective\n     */\n    updateElement(): boolean {\n        const enable = this.hasAllowableOperations(this.nodes, this.permission);\n\n        if (enable) {\n            this.enable();\n        } else {\n            this.disable();\n        }\n\n        return enable;\n    }\n\n    private enable(): void {\n        if (this.parentComponent) {\n            this.parentComponent.disabled = false;\n            this.changeDetector.detectChanges();\n        } else {\n            this.enableElement();\n        }\n    }\n\n    private disable(): void {\n        if (this.parentComponent) {\n            this.parentComponent.disabled = true;\n            this.changeDetector.detectChanges();\n        } else {\n            this.disableElement();\n        }\n    }\n\n    /**\n     * Enables decorated element\n     *\n     * @memberof CheckAllowableOperationDirective\n     */\n    enableElement(): void {\n        this.renderer.removeAttribute(this.elementRef.nativeElement, 'disabled');\n    }\n\n    /**\n     * Disables decorated element\n     *\n     * @memberof CheckAllowableOperationDirective\n     */\n    disableElement(): void {\n        this.renderer.setAttribute(this.elementRef.nativeElement, 'disabled', 'true');\n    }\n\n    /**\n     * Checks whether all nodes have a particular permission\n     *\n     * @param  nodes Node collection to check\n     * @param  permission Permission to check for each node\n     * @memberof CheckAllowableOperationDirective\n     */\n    hasAllowableOperations(nodes: NodeEntry[], permission: string): boolean {\n        if (nodes && nodes.length > 0) {\n            return nodes.every((node) => this.contentService.hasAllowableOperations(node.entry, permission));\n        }\n\n        return false;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector no-input-rename */\n\nimport { Directive, EventEmitter, HostListener, Input, Output } from '@angular/core';\nimport { DeletedNodeEntry, DeletedNodesPaging, PathInfoEntity } from '@alfresco/js-api';\nimport { Observable, forkJoin, from, of } from 'rxjs';\nimport { AlfrescoApiService } from '../services/alfresco-api.service';\nimport { TranslationService } from '../services/translation.service';\nimport { tap, mergeMap, map, catchError } from 'rxjs/operators';\n\nexport class RestoreMessageModel {\n    message: string;\n    path: PathInfoEntity;\n    action: string;\n}\n\n@Directive({\n    selector: '[adf-restore]'\n})\nexport class NodeRestoreDirective {\n    private readonly restoreProcessStatus;\n\n    /** Array of deleted nodes to restore. */\n    @Input('adf-restore')\n    selection: DeletedNodeEntry[];\n\n    /** Emitted when restoration is complete. */\n    @Output()\n    restore: EventEmitter<RestoreMessageModel> = new EventEmitter();\n\n    @HostListener('click')\n    onClick() {\n        this.recover(this.selection);\n    }\n\n    constructor(private alfrescoApiService: AlfrescoApiService,\n                private translation: TranslationService) {\n        this.restoreProcessStatus = this.processStatus();\n    }\n\n    private recover(selection: any) {\n        if (!selection.length) {\n            return;\n        }\n\n        const nodesWithPath = this.getNodesWithPath(selection);\n\n        if (selection.length && nodesWithPath.length) {\n\n            this.restoreNodesBatch(nodesWithPath).pipe(\n                tap((restoredNodes) => {\n                    const status = this.processStatus(restoredNodes);\n\n                    this.restoreProcessStatus.fail.push(...status.fail);\n                    this.restoreProcessStatus.success.push(...status.success);\n                }),\n                mergeMap(() => this.getDeletedNodes())\n            )\n            .subscribe((deletedNodesList) => {\n                const { entries: nodeList } = deletedNodesList.list;\n                const { fail: restoreErrorNodes } = this.restoreProcessStatus;\n                const selectedNodes = this.diff(restoreErrorNodes, selection, false);\n                const remainingNodes = this.diff(selectedNodes, nodeList);\n\n                if (!remainingNodes.length) {\n                    this.notification();\n                } else {\n                    this.recover(remainingNodes);\n                }\n            });\n        } else {\n            this.restoreProcessStatus.fail.push(...selection);\n            this.notification();\n            return;\n        }\n    }\n\n    private restoreNodesBatch(batch: DeletedNodeEntry[]): Observable<DeletedNodeEntry[]> {\n        return forkJoin(batch.map((node) => this.restoreNode(node)));\n    }\n\n    private getNodesWithPath(selection): DeletedNodeEntry[] {\n        return selection.filter((node) => node.entry.path);\n    }\n\n    private getDeletedNodes(): Observable<DeletedNodesPaging> {\n        const promise = this.alfrescoApiService.getInstance()\n            .core.nodesApi.getDeletedNodes({ include: ['path'] });\n\n        return from(promise);\n    }\n\n    private restoreNode(node): Observable<any> {\n        const { entry } = node;\n\n        const promise = this.alfrescoApiService.getInstance().nodes.restoreNode(entry.id);\n\n        return from(promise).pipe(\n            map(() => ({\n                status: 1,\n                entry\n            })),\n            catchError((error) => {\n                const { statusCode } = (JSON.parse(error.message)).error;\n\n                return of({\n                    status: 0,\n                    statusCode,\n                    entry\n                });\n            })\n        );\n    }\n\n    private diff(selection, list, fromList = true): any {\n        const ids = selection.map((item) => item.entry.id);\n\n        return list.filter((item) => {\n            if (fromList) {\n                return ids.includes(item.entry.id) ? item : null;\n            } else {\n                return !ids.includes(item.entry.id) ? item : null;\n            }\n        });\n    }\n\n    private processStatus(data = []): any {\n        const status = {\n            fail: [],\n            success: [],\n            get someFailed() {\n                return !!(this.fail.length);\n            },\n            get someSucceeded() {\n                return !!(this.success.length);\n            },\n            get oneFailed() {\n                return this.fail.length === 1;\n            },\n            get oneSucceeded() {\n                return this.success.length === 1;\n            },\n            get allSucceeded() {\n                return this.someSucceeded && !this.someFailed;\n            },\n            get allFailed() {\n                return this.someFailed && !this.someSucceeded;\n            },\n            reset() {\n                this.fail = [];\n                this.success = [];\n            }\n        };\n\n        return data.reduce(\n            (acc, node) => {\n                if (node.status) {\n                    acc.success.push(node);\n                } else {\n                    acc.fail.push(node);\n                }\n\n                return acc;\n            },\n            status\n        );\n    }\n\n    private getRestoreMessage(): string | null {\n        const { restoreProcessStatus: status } = this;\n\n        if (status.someFailed && !status.oneFailed) {\n            return this.translation.instant(\n                'CORE.RESTORE_NODE.PARTIAL_PLURAL',\n                {\n                    number: status.fail.length\n                }\n            );\n        }\n\n        if (status.oneFailed && status.fail[0].statusCode) {\n            if (status.fail[0].statusCode === 409) {\n                return this.translation.instant(\n                    'CORE.RESTORE_NODE.NODE_EXISTS',\n                    {\n                        name: status.fail[0].entry.name\n                    }\n                );\n            } else {\n                return this.translation.instant(\n                    'CORE.RESTORE_NODE.GENERIC',\n                    {\n                        name: status.fail[0].entry.name\n                    }\n                );\n            }\n        }\n\n        if (status.oneFailed && !status.fail[0].statusCode) {\n            return this.translation.instant(\n                'CORE.RESTORE_NODE.LOCATION_MISSING',\n                {\n                    name: status.fail[0].entry.name\n                }\n            );\n        }\n\n        if (status.allSucceeded && !status.oneSucceeded) {\n            return this.translation.instant('CORE.RESTORE_NODE.PLURAL');\n        }\n\n        if (status.allSucceeded && status.oneSucceeded) {\n            return this.translation.instant(\n                'CORE.RESTORE_NODE.SINGULAR',\n                {\n                    name: status.success[0].entry.name\n                }\n            );\n        }\n\n        return null;\n    }\n\n    private notification(): void {\n        const status = Object.assign({}, this.restoreProcessStatus);\n\n        const message = this.getRestoreMessage();\n        this.reset();\n\n        const action = (status.oneSucceeded && !status.someFailed) ? this.translation.instant('CORE.RESTORE_NODE.VIEW') : '';\n\n        let path;\n        if (status.success && status.success.length > 0) {\n            path = status.success[0].entry.path;\n        }\n        this.restore.emit({\n            message: message,\n            action: action,\n            path: path\n        });\n    }\n\n    private reset(): void {\n        this.restoreProcessStatus.reset();\n        this.selection = [];\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:no-input-rename  */\n\nimport { Directive, ElementRef, HostListener, Input, NgZone, OnDestroy, OnInit, Renderer2 } from '@angular/core';\nimport { FileInfo, FileUtils } from '../utils/file-utils';\n\n@Directive({\n    selector: '[adf-upload]'\n})\nexport class UploadDirective implements OnInit, OnDestroy {\n\n    /** Enables/disables uploading. */\n    @Input('adf-upload')\n    enabled: boolean = true;\n\n    /** Data to upload. */\n    @Input('adf-upload-data')\n    data: any;\n\n    /** Upload mode. Can be \"drop\" (receives dropped files) or \"click\"\n     * (clicking opens a file dialog). Both modes can be active at once.\n     */\n    @Input()\n    mode: string[] = ['drop']; // click|drop\n\n    /** Toggles multiple file uploads. */\n    @Input()\n    multiple: boolean;\n\n    /** (Click mode only) MIME type filter for files to accept. */\n    @Input()\n    accept: string;\n\n    /** (Click mode only) Toggles uploading of directories. */\n    @Input()\n    directory: boolean;\n\n    isDragging: boolean = false;\n\n    private cssClassName: string = 'adf-upload__dragging';\n    private upload: HTMLInputElement;\n    private element: HTMLElement;\n\n    constructor(private el: ElementRef, private renderer: Renderer2, private ngZone: NgZone) {\n        this.element = el.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.isClickMode() && this.renderer) {\n            const inputUpload = this.renderer.createElement('input');\n            this.upload = this.el.nativeElement.parentElement.appendChild(inputUpload);\n\n            this.upload.type = 'file';\n            this.upload.style.display = 'none';\n            this.upload.addEventListener('change', (event) => this.onSelectFiles(event));\n\n            if (this.multiple) {\n                this.upload.setAttribute('multiple', '');\n            }\n\n            if (this.accept) {\n                this.upload.setAttribute('accept', this.accept);\n            }\n\n            if (this.directory) {\n                this.upload.setAttribute('webkitdirectory', '');\n            }\n        }\n\n        if (this.isDropMode()) {\n            this.ngZone.runOutsideAngular(() => {\n                this.element.addEventListener('dragenter', this.onDragEnter.bind(this));\n                this.element.addEventListener('dragover', this.onDragOver.bind(this));\n                this.element.addEventListener('dragleave', this.onDragLeave.bind(this));\n                this.element.addEventListener('drop', this.onDrop.bind(this));\n            });\n        }\n    }\n\n    ngOnDestroy() {\n        this.element.removeEventListener('dragenter', this.onDragEnter);\n        this.element.removeEventListener('dragover', this.onDragOver);\n        this.element.removeEventListener('dragleave', this.onDragLeave);\n        this.element.removeEventListener('drop', this.onDrop);\n    }\n\n    @HostListener('click', ['$event'])\n    onClick(event: Event) {\n        if (this.isClickMode() && this.upload) {\n            event.preventDefault();\n            this.upload.click();\n        }\n    }\n\n    onDragEnter(event: DragEvent) {\n        if (this.isDropMode()) {\n            event.dataTransfer.dropEffect = 'copy';\n            this.element.classList.add(this.cssClassName);\n            this.isDragging = true;\n        }\n    }\n\n    onDragOver(event: DragEvent) {\n        event.preventDefault();\n        if (this.isDropMode()) {\n            event.dataTransfer.dropEffect = 'copy';\n            this.element.classList.add(this.cssClassName);\n            this.isDragging = true;\n        }\n        return false;\n    }\n\n    onDragLeave() {\n        if (this.isDropMode()) {\n            this.element.classList.remove(this.cssClassName);\n            this.isDragging = false;\n        }\n    }\n\n    onDrop(event: Event) {\n        if (this.isDropMode()) {\n\n            event.stopPropagation();\n            event.preventDefault();\n\n            this.element.classList.remove(this.cssClassName);\n            this.isDragging = false;\n\n            const dataTransfer = this.getDataTransfer(event);\n            if (dataTransfer) {\n                this.getFilesDropped(dataTransfer).then((files) => {\n                    this.onUploadFiles(files);\n                });\n\n            }\n        }\n        return false;\n    }\n\n    onUploadFiles(files: FileInfo[]) {\n        if (this.enabled && files.length > 0) {\n            const customEvent = new CustomEvent('upload-files', {\n                detail: {\n                    sender: this,\n                    data: this.data,\n                    files: files\n                },\n                bubbles: true\n            });\n\n            this.el.nativeElement.dispatchEvent(customEvent);\n        }\n    }\n\n    protected hasMode(mode: string): boolean {\n        return this.enabled && mode && this.mode && this.mode.indexOf(mode) > -1;\n    }\n\n    protected isDropMode(): boolean {\n        return this.hasMode('drop');\n    }\n\n    protected isClickMode(): boolean {\n        return this.hasMode('click');\n    }\n\n    getDataTransfer(event: Event | any): DataTransfer {\n        if (event && event.dataTransfer) {\n            return event.dataTransfer;\n        }\n        if (event && event.originalEvent && event.originalEvent.dataTransfer) {\n            return event.originalEvent.dataTransfer;\n        }\n        return null;\n    }\n\n    /**\n     * Extract files from the DataTransfer object used to hold the data that is being dragged during a drag and drop operation.\n     * @param dataTransfer DataTransfer object\n     */\n    getFilesDropped(dataTransfer: DataTransfer): Promise<FileInfo[]> {\n        return new Promise((resolve) => {\n            const iterations = [];\n\n            if (dataTransfer) {\n                const items = dataTransfer.items;\n                if (items) {\n                    for (let i = 0; i < items.length; i++) {\n                        if (typeof items[i].webkitGetAsEntry !== 'undefined') {\n                            const item = items[i].webkitGetAsEntry();\n                            if (item) {\n                                if (item.isFile) {\n                                    iterations.push(Promise.resolve(<FileInfo> {\n                                        entry: item,\n                                        file: items[i].getAsFile(),\n                                        relativeFolder: '/'\n                                    }));\n                                } else if (item.isDirectory) {\n                                    iterations.push(new Promise((resolveFolder) => {\n                                        FileUtils.flatten(item).then((files) => resolveFolder(files));\n                                    }));\n                                }\n                            }\n                        } else {\n                            iterations.push(Promise.resolve(<FileInfo> {\n                                entry: null,\n                                file: items[i].getAsFile(),\n                                relativeFolder: '/'\n                            }));\n                        }\n                    }\n                } else {\n                    // safari or FF\n                    const files = FileUtils\n                        .toFileArray(dataTransfer.files)\n                        .map((file) => <FileInfo> {\n                            entry: null,\n                            file: file,\n                            relativeFolder: '/'\n                        });\n\n                    iterations.push(Promise.resolve(files));\n                }\n            }\n\n            Promise.all(iterations).then((result) => {\n                resolve(result.reduce((a, b) => a.concat(b), []));\n            });\n        });\n    }\n\n    /**\n     * Invoked when user selects files or folders by means of File Dialog\n     * @param event DOM event\n     */\n    onSelectFiles(event: any): void {\n        if (this.isClickMode()) {\n            const input = (<HTMLInputElement> event.currentTarget);\n            const files = FileUtils.toFileArray(input.files);\n            this.onUploadFiles(files.map((file) => <FileInfo> {\n                entry: null,\n                file: file,\n                relativeFolder: '/'\n            }));\n            event.target.value = '';\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NodeEntry, DownloadEntry, DownloadBodyCreate } from '@alfresco/js-api';\nimport { Injectable } from '@angular/core';\nimport { Observable, from, throwError } from 'rxjs';\nimport { LogService } from './log.service';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DownloadZipService {\n\n    constructor(private apiService: AlfrescoApiService,\n                private logService: LogService) {\n    }\n\n    /**\n     * Creates a new download.\n     * @param payload Object containing the node IDs of the items to add to the ZIP file\n     * @returns Status object for the download\n     */\n    createDownload(payload: DownloadBodyCreate): Observable<DownloadEntry> {\n        return from(this.apiService.getInstance().core.downloadsApi.createDownload(payload)).pipe(\n            catchError((err) => this.handleError(err))\n        );\n    }\n\n    /**\n     * Gets a content URL for the given node.\n     * @param nodeId Node to get URL for.\n     * @param attachment Toggles whether to retrieve content as an attachment for download\n     * @returns URL string\n     */\n    getContentUrl(nodeId: string, attachment?: boolean): string {\n        return this.apiService.getInstance().content.getContentUrl(nodeId, attachment);\n    }\n\n    /**\n     * Gets a Node via its node ID.\n     * @param nodeId ID of the target node\n     * @returns Details of the node\n     */\n    getNode(nodeId: string): Observable<NodeEntry> {\n        return from(this.apiService.getInstance().core.nodesApi.getNode(nodeId));\n    }\n\n    /**\n     * Gets status information for a download node.\n     * @param downloadId ID of the download node\n     * @returns Status object for the download\n     */\n    getDownload(downloadId: string): Observable<DownloadEntry> {\n        return from(this.apiService.getInstance().core.downloadsApi.getDownload(downloadId));\n    }\n\n    /**\n     * Cancels a download.\n     * @param downloadId ID of the target download node\n     */\n    cancelDownload(downloadId: string) {\n        this.apiService.getInstance().core.downloadsApi.cancelDownload(downloadId);\n    }\n\n    private handleError(error: any) {\n        this.logService.error(error);\n        return throwError(error || 'Server error');\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Inject, OnInit, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { DownloadEntry, NodeEntry } from '@alfresco/js-api';\nimport { LogService } from '../../services/log.service';\nimport { DownloadZipService } from '../../services/download-zip.service';\n\n@Component({\n    selector: 'adf-download-zip-dialog',\n    templateUrl: './download-zip.dialog.html',\n    styleUrls: ['./download-zip.dialog.scss'],\n    host: { 'class': 'adf-download-zip-dialog' },\n    encapsulation: ViewEncapsulation.None\n})\nexport class DownloadZipDialogComponent implements OnInit {\n\n    // flag for async threads\n    cancelled = false;\n    downloadId: string;\n\n    constructor(private dialogRef: MatDialogRef<DownloadZipDialogComponent>,\n                @Inject(MAT_DIALOG_DATA)\n                public data: any,\n                private logService: LogService,\n                private downloadZipService: DownloadZipService) {\n    }\n\n    ngOnInit() {\n        if (this.data && this.data.nodeIds && this.data.nodeIds.length > 0) {\n            if (!this.cancelled) {\n                this.downloadZip(this.data.nodeIds);\n            } else {\n                this.logService.log('Cancelled');\n            }\n        }\n    }\n\n    cancelDownload() {\n        this.cancelled = true;\n        this.downloadZipService.cancelDownload(this.downloadId);\n        this.dialogRef.close(false);\n    }\n\n    downloadZip(nodeIds: string[]) {\n        if (nodeIds && nodeIds.length > 0) {\n\n            this.downloadZipService.createDownload({ nodeIds }).subscribe((data: DownloadEntry) => {\n                if (data && data.entry && data.entry.id) {\n                    const url = this.downloadZipService.getContentUrl(data.entry.id, true);\n\n                    this.downloadZipService.getNode(data.entry.id).subscribe((downloadNode: NodeEntry) => {\n                        this.logService.log(downloadNode);\n                        const fileName = downloadNode.entry.name;\n                        this.downloadId = data.entry.id;\n                        this.waitAndDownload(data.entry.id, url, fileName);\n                    });\n                }\n            });\n        }\n    }\n\n    waitAndDownload(downloadId: string, url: string, fileName: string) {\n        if (this.cancelled) {\n            return;\n        }\n\n        this.downloadZipService.getDownload(downloadId).subscribe((downloadEntry: DownloadEntry) => {\n            if (downloadEntry.entry) {\n                if (downloadEntry.entry.status === 'DONE') {\n                    this.download(url, fileName);\n                } else {\n                    setTimeout(() => {\n                        this.waitAndDownload(downloadId, url, fileName);\n                    }, 1000);\n                }\n            }\n        });\n    }\n\n    download(url: string, fileName: string) {\n        if (url && fileName) {\n            const link = document.createElement('a');\n\n            link.style.display = 'none';\n            link.download = fileName;\n            link.href = url;\n\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        }\n        this.dialogRef.close(true);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Directive, Input, HostListener } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AlfrescoApiService } from '../services/alfresco-api.service';\nimport { DownloadZipDialogComponent } from '../dialogs/download-zip/download-zip.dialog';\nimport { NodeEntry, VersionEntry } from '@alfresco/js-api';\nimport { DownloadService } from '../services/download.service';\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0\n */\n@Directive({\n    // tslint:disable-next-line: directive-selector\n    selector: '[adfNodeDownload]'\n})\nexport class NodeDownloadDirective {\n\n    /** Nodes to download. */\n    @Input('adfNodeDownload')\n    nodes: NodeEntry | NodeEntry[];\n\n    /** Node's version to download. */\n    @Input()\n    version: VersionEntry;\n\n    @HostListener('click')\n    onClick() {\n        this.downloadNodes(this.nodes);\n    }\n\n    constructor(\n        private apiService: AlfrescoApiService,\n        private downloadService: DownloadService,\n        private dialog: MatDialog) {\n    }\n\n    /**\n     * Downloads multiple selected nodes.\n     * Packs result into a .ZIP archive if there is more than one node selected.\n     * @param selection Multiple selected nodes to download\n     */\n    downloadNodes(selection: NodeEntry | Array<NodeEntry>) {\n\n        if (!this.isSelectionValid(selection)) {\n            return;\n        }\n        if (selection instanceof Array) {\n            if (selection.length === 1) {\n                this.downloadNode(selection[0]);\n            } else {\n                this.downloadZip(selection);\n            }\n        } else {\n            this.downloadNode(selection);\n        }\n    }\n\n    /**\n     * Downloads a single node.\n     * Packs result into a .ZIP archive is the node is a Folder.\n     * @param node Node to download\n     */\n    downloadNode(node: NodeEntry) {\n        if (node && node.entry) {\n            const entry = node.entry;\n\n            if (entry.isFile) {\n                this.downloadFile(node);\n            }\n\n            if (entry.isFolder) {\n                this.downloadZip([node]);\n            }\n\n            // Check if there's nodeId for Shared Files\n            if (!entry.isFile && !entry.isFolder && (<any> entry).nodeId) {\n                this.downloadFile(node);\n            }\n        }\n    }\n\n    private isSelectionValid(selection: NodeEntry | Array<NodeEntry>) {\n        return selection || (selection instanceof Array && selection.length > 0);\n    }\n\n    private downloadFile(node: NodeEntry) {\n        if (node && node.entry) {\n            const contentApi = this.apiService.getInstance().content;\n            // nodeId for Shared node\n            const id = (<any> node.entry).nodeId || node.entry.id;\n\n            let url, fileName;\n            if (this.version) {\n                url = contentApi.getVersionContentUrl(id, this.version.entry.id, true);\n                fileName = this.version.entry.name;\n            } else {\n                url = contentApi.getContentUrl(id, true);\n                fileName = node.entry.name;\n            }\n\n            this.downloadService.downloadUrl(url, fileName);\n        }\n    }\n\n    private downloadZip(selection: Array<NodeEntry>) {\n        if (selection && selection.length > 0) {\n            // nodeId for Shared node\n            const nodeIds = selection.map((node: any) => (node.entry.nodeId || node.entry.id));\n\n            this.dialog.open(DownloadZipDialogComponent, {\n                width: '600px',\n                disableClose: true,\n                data: {\n                    nodeIds\n                }\n            });\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { DiscoveryApiService } from './discovery-api.service';\nimport { VersionModel, EcmProductVersionModel } from '../models/product-version.model';\nimport { filter } from 'rxjs/operators';\nimport { ReplaySubject } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class VersionCompatibilityService {\n    private acsVersion: VersionModel;\n\n    acsVersionInitialized$ = new ReplaySubject();\n\n    constructor(private discoveryApiService: DiscoveryApiService) {\n        this.discoveryApiService.ecmProductInfo$\n            .pipe(filter(acsInfo => !!acsInfo))\n            .subscribe((acsInfo: EcmProductVersionModel) => this.initializeAcsVersion(acsInfo.version));\n    }\n\n    private initializeAcsVersion(acsVersion: VersionModel) {\n        this.acsVersion = acsVersion;\n        this.acsVersionInitialized$.next();\n    }\n\n    getAcsVersion(): VersionModel {\n        return this.acsVersion;\n    }\n\n    isVersionSupported(requiredVersion: string): boolean {\n        const parsedRequiredVersion = this.parseVersion(requiredVersion);\n        const currentVersion = this.getAcsVersion();\n\n        let versionSupported = false;\n\n        if (currentVersion) {\n            if (+currentVersion.major > +parsedRequiredVersion.major) {\n                versionSupported = true;\n            } else if (currentVersion.major === parsedRequiredVersion.major &&\n                +currentVersion.minor > +parsedRequiredVersion.minor) {\n                versionSupported = true;\n            } else if (currentVersion.major === parsedRequiredVersion.major &&\n                currentVersion.minor === parsedRequiredVersion.minor &&\n                +currentVersion.patch >= +parsedRequiredVersion.patch) {\n                versionSupported = true;\n            }\n        }\n\n        return versionSupported;\n    }\n\n    private parseVersion(version: string): VersionModel {\n        const major = version.split('.')[0];\n        const minor = version.split('.')[1] || '0';\n        const patch = version.split('.')[2] || '0';\n\n        return {\n            major: major,\n            minor: minor,\n            patch: patch\n        } as VersionModel;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Directive, Input, ViewContainerRef, TemplateRef } from '@angular/core';\nimport { VersionCompatibilityService } from '../services/version-compatibility.service';\nimport { take } from 'rxjs/operators';\n\n@Directive({\n    selector: '[adf-acs-version]'\n})\nexport class VersionCompatibilityDirective {\n\n    /** Minimum version required for component to work correctly . */\n    @Input('adf-acs-version')\n    set version(requiredVersion: string) {\n        this.validateAcsVersion(requiredVersion);\n    }\n\n    constructor(\n        private templateRef: TemplateRef<any>,\n        private viewContainer: ViewContainerRef,\n        private versionCompatibilityService: VersionCompatibilityService\n    ) {\n    }\n\n    private validateAcsVersion(requiredVersion: string) {\n        this.versionCompatibilityService.acsVersionInitialized$.pipe(take(1)).subscribe(() => {\n            this.viewContainer.clear();\n            if (requiredVersion && this.versionCompatibilityService.isVersionSupported(requiredVersion)) {\n                this.viewContainer.createEmbeddedView(this.templateRef);\n            }\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Component, Input, SecurityContext } from '@angular/core';\nimport { animate, style, transition, trigger } from '@angular/animations';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n    selector: 'adf-tooltip-card-component',\n    templateUrl: './tooltip-card.component.html',\n    animations: [\n        trigger('tooltip', [\n            transition(':enter', [\n                style({ opacity: 0 }),\n                animate(200, style({ opacity: 1 }))\n            ]),\n            transition(':leave', [\n                animate(200, style({ opacity: 0 }))\n\n            ])\n        ])\n    ]\n})\nexport class TooltipCardComponent {\n    @Input() image = '';\n    @Input() text = '';\n    @Input() htmlContent = '';\n    @Input() width = '300';\n\n    constructor(private sanitizer: DomSanitizer) { }\n\n    sanitizedHtmlContent(): string {\n        return this.sanitizer.sanitize(SecurityContext.HTML, this.htmlContent);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ComponentRef, Directive, ElementRef, HostListener, Input, OnDestroy, OnInit } from '@angular/core';\nimport { Overlay, OverlayPositionBuilder, OverlayRef } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { TooltipCardComponent } from './tooltip-card.component';\n\n@Directive({ selector: '[adf-tooltip-card]' })\nexport class TooltipCardDirective implements OnInit, OnDestroy {\n\n    @Input('adf-tooltip-card') text = '';\n    @Input() image = '';\n    @Input() width = '300';\n    @Input() htmlContent = '';\n    @Input() originX: 'start' | 'center' | 'end' = 'start';\n    @Input() originY: 'top' | 'center' | 'bottom' = 'top';\n    @Input() overlayX: 'start' | 'center' | 'end' = 'start';\n    @Input() overlayY: 'top' | 'center' | 'bottom' = 'bottom';\n    @Input() offsetX = 0;\n    @Input() offsetY = -8;\n\n    private overlayRef: OverlayRef;\n\n    constructor(\n        private overlay: Overlay,\n        private overlayPositionBuilder: OverlayPositionBuilder,\n        private elementRef: ElementRef) {\n    }\n\n    ngOnDestroy(): void {\n        this.hide();\n    }\n\n    ngOnInit(): void {\n        const positionStrategy = this.overlayPositionBuilder\n            .flexibleConnectedTo(this.elementRef)\n            .withPositions([{\n                originX: this.originX,\n                originY: this.originY,\n                overlayX: this.overlayX,\n                overlayY: this.overlayY,\n                offsetY: this.offsetY,\n                offsetX: this.offsetX\n            }]);\n\n        this.overlayRef = this.overlay.create({ positionStrategy });\n    }\n\n    @HostListener('mouseenter')\n    show() {\n        const tooltipRef: ComponentRef<TooltipCardComponent>\n            = this.overlayRef.attach(new ComponentPortal(TooltipCardComponent));\n        tooltipRef.instance.text = this.text;\n        tooltipRef.instance.image = this.image;\n        tooltipRef.instance.width = this.width;\n        tooltipRef.instance.htmlContent = this.htmlContent;\n    }\n\n    @HostListener('mouseleave')\n    hide() {\n        this.overlayRef.detach();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Inject, AfterViewInit, Directive, EventEmitter, OnDestroy, Output } from '@angular/core';\nimport { MatSelect } from '@angular/material/select';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nconst SELECT_ITEM_HEIGHT_EM = 3;\n\n@Directive({\n    selector: '[adf-infinite-select-scroll]'\n})\nexport class InfiniteSelectScrollDirective implements AfterViewInit, OnDestroy {\n    static readonly MAX_ITEMS = 50;\n\n    /** Emitted when scroll reaches the last item. */\n    @Output() scrollEnd = new EventEmitter<Event>();\n\n    private onDestroy$ = new Subject<boolean>();\n    private itemHeightToWaitBeforeLoadNext = 0;\n\n    constructor(@Inject(MatSelect) private matSelect: MatSelect) {}\n\n    ngAfterViewInit() {\n        this.matSelect.openedChange\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe((opened: boolean) => {\n                if (opened) {\n                    this.itemHeightToWaitBeforeLoadNext = (this.getItemHeight() * (InfiniteSelectScrollDirective.MAX_ITEMS / 2));\n                    this.matSelect.panel.nativeElement.addEventListener('scroll', (event: Event) => this.handleScrollEvent(event));\n                }\n            });\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    private handleScrollEvent(event: Event) {\n        if (this.isScrollInNextFetchArea(event)) {\n            this.scrollEnd.emit(event);\n        }\n    }\n\n    private isScrollInNextFetchArea(event: Event): boolean {\n        const target = event.target as HTMLElement;\n        return target.scrollTop >= (target.scrollHeight - target.offsetHeight - this.itemHeightToWaitBeforeLoadNext);\n    }\n\n    private getItemHeight(): number {\n        return parseFloat(getComputedStyle(this.matSelect.panel.nativeElement).fontSize || '0') * SELECT_ITEM_HEIGHT_EM;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Directive, HostListener, Input, OnChanges, Output, EventEmitter } from '@angular/core';\nimport { SiteBody, FavoriteBody, FavoriteEntry, Site } from '@alfresco/js-api';\nimport { AlfrescoApiService } from '../services/alfresco-api.service';\n\nexport interface LibraryEntity {\n    entry: Site;\n    isLibrary: boolean;\n    isFavorite: boolean;\n}\n\n@Directive({\n    selector: '[adf-favorite-library]',\n    exportAs: 'favoriteLibrary'\n})\nexport class LibraryFavoriteDirective implements OnChanges {\n    @Input('adf-favorite-library')\n    library: LibraryEntity = null;\n\n    @Output() toggle = new EventEmitter<any>();\n    // tslint:disable-next-line: no-output-native\n    @Output() error = new EventEmitter<any>();\n\n    private targetLibrary = null;\n\n    @HostListener('click')\n    onClick() {\n        const guid = this.targetLibrary.entry.guid;\n\n        if (this.targetLibrary.isFavorite) {\n            this.removeFavorite(guid);\n        } else {\n            this.addFavorite({\n                target: {\n                    site: {\n                        guid\n                    }\n                }\n            });\n        }\n    }\n\n    constructor(private alfrescoApiService: AlfrescoApiService) {}\n\n    ngOnChanges(changes) {\n        if (!changes.library.currentValue) {\n            this.targetLibrary = null;\n            return;\n        }\n\n        this.targetLibrary = changes.library.currentValue;\n        this.markFavoriteLibrary(changes.library.currentValue);\n    }\n\n    isFavorite(): boolean {\n        return this.targetLibrary && this.targetLibrary.isFavorite;\n    }\n\n    private async markFavoriteLibrary(library: LibraryEntity) {\n        if (this.targetLibrary.isFavorite === undefined) {\n            try {\n                await this.alfrescoApiService.peopleApi.getFavoriteSite('-me-', library.entry.id);\n                this.targetLibrary.isFavorite = true;\n            } catch {\n                this.targetLibrary.isFavorite = false;\n            }\n        } else {\n            this.targetLibrary = library;\n        }\n    }\n\n    private addFavorite(favoriteBody: FavoriteBody) {\n        this.alfrescoApiService.peopleApi\n            .addFavorite('-me-', favoriteBody)\n            .then((libraryEntry: FavoriteEntry) => {\n                this.targetLibrary.isFavorite = true;\n                this.toggle.emit(libraryEntry);\n            })\n            .catch((error) => this.error.emit(error));\n    }\n\n    private removeFavorite(favoriteId: string) {\n        this.alfrescoApiService.favoritesApi\n            .removeFavoriteSite('-me-', favoriteId)\n            .then((libraryBody: SiteBody) => {\n                this.targetLibrary.isFavorite = false;\n                this.toggle.emit(libraryBody);\n            })\n            .catch((error) => this.error.emit(error));\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { from, Observable, throwError } from 'rxjs';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport {\n    MinimalNode,\n    SiteBodyCreate,\n    SiteEntry,\n    SiteGroupEntry,\n    SiteGroupPaging,\n    SiteMemberEntry,\n    SiteMemberPaging,\n    SiteMembershipBodyCreate,\n    SiteMembershipBodyUpdate,\n    SiteMembershipRequestWithPersonPaging,\n    SitePaging,\n    SitesApi\n} from '@alfresco/js-api';\nimport { catchError } from 'rxjs/operators';\nimport { LogService } from './log.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SitesService {\n\n    sitesApi: SitesApi;\n\n    constructor(private apiService: AlfrescoApiService, private logService: LogService) {\n        this.sitesApi = new SitesApi(apiService.getInstance());\n    }\n\n    /**\n     * Create a site\n     * @param siteBody SiteBodyCreate to create site\n     * @returns site SiteEntry\n     */\n    createSite(siteBody: SiteBodyCreate): Observable<SiteEntry> {\n        return from(this.sitesApi.createSite(siteBody))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets a list of all sites in the repository.\n     * @param opts Options supported by JS-API\n     * @returns List of sites\n     */\n    getSites(opts: any = {}): Observable<SitePaging> {\n        const defaultOptions = {\n            skipCount: 0,\n            include: ['properties']\n        };\n        const queryOptions = Object.assign({}, defaultOptions, opts);\n        return from(this.sitesApi.listSites(queryOptions))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets the details for a site.\n     * @param siteId ID of the target site\n     * @param opts Options supported by JS-API\n     * @returns Information about the site\n     */\n    getSite(siteId: string, opts?: any): Observable<SiteEntry | {}> {\n        return from(this.sitesApi.getSite(siteId, opts))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Deletes a site.\n     * @param siteId Site to delete\n     * @param permanentFlag True: deletion is permanent; False: site is moved to the trash\n     * @returns Null response notifying when the operation is complete\n     */\n    deleteSite(siteId: string, permanentFlag: boolean = true): Observable<any> {\n        const options: any = {};\n        options.permanent = permanentFlag;\n        return from(this.sitesApi.deleteSite(siteId, options))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets a site's content.\n     * @param siteId ID of the target site\n     * @returns Site content\n     */\n    getSiteContent(siteId: string): Observable<SiteEntry | {}> {\n        return this.getSite(siteId, { relations: ['containers'] });\n    }\n\n    /**\n     * Gets a list of all a site's members.\n     * @param siteId ID of the target site\n     * @returns Site members\n     */\n    getSiteMembers(siteId: string): Observable<SiteEntry | {}> {\n        return this.getSite(siteId, { relations: ['members'] });\n    }\n\n    /**\n     * Gets a list of all a site's members.\n     * @param siteId ID of the target site\n     * @param opts Optional parameters supported by JS-API\n     * @returns Observable<SiteMemberPaging>\n     */\n    listSiteMemberships(siteId: string, opts: any): Observable<SiteMemberPaging> {\n        return from(this.sitesApi.listSiteMemberships(siteId, opts));\n    }\n\n    /**\n     * Gets the username of the user currently logged into ACS.\n     * @returns Username string\n     */\n    getEcmCurrentLoggedUserName(): string {\n        return this.apiService.getInstance().getEcmUsername();\n    }\n\n    /**\n     * Looks for a site inside the path of a Node and returns its guid if it finds one.\n     * (return an empty string if no site is found)\n     * @param node Node to look for parent site\n     * @returns Site guid\n     */\n    getSiteNameFromNodePath(node: MinimalNode): string {\n        let siteName = '';\n        if (node.path && node.path.elements) {\n            const foundNode = node.path\n                .elements.find((pathNode: MinimalNode) =>\n                    pathNode.nodeType === 'st:site' &&\n                    pathNode.name !== 'Sites');\n            siteName = foundNode ? foundNode.name : '';\n        }\n        return siteName.toLocaleLowerCase();\n    }\n\n    /**\n     * Gets a list of site membership requests.\n     * @param opts Options supported by JS-API\n     * @returns Site membership requests\n     */\n    getSiteMembershipRequests(opts?: any): Observable<SiteMembershipRequestWithPersonPaging> {\n        return from(this.sitesApi.getSiteMembershipRequests(opts))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Creates a site membership for person **personId** on site **siteId**.\n     * @param siteId The identifier of a site\n     * @param siteMembershipBodyCreate The person to add and their role\n     * @param opts Optional parameters\n     * @return Observable<SiteMemberEntry>\n     */\n    createSiteMembership(siteId: string, siteMembershipBodyCreate: SiteMembershipBodyCreate, opts?: any): Observable<SiteMemberEntry> {\n        return from(this.sitesApi.createSiteMembership(siteId, siteMembershipBodyCreate, opts))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Update a site membership\n     * @param siteId The identifier of a site.\n     * @param personId The identifier of a person.\n     * @param siteMembershipBodyUpdate The persons new role\n     * @param opts Optional parameters\n     * @return Observable<SiteMemberEntry>\n     */\n    updateSiteMembership(siteId: string, personId: string, siteMembershipBodyUpdate: SiteMembershipBodyUpdate, opts?: any): Observable<SiteMemberEntry> {\n        return from(this.sitesApi.updateSiteMembership(siteId, personId, siteMembershipBodyUpdate, opts))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Delete a site membership\n     * @param siteId The identifier of a site.\n     * @param personId The identifier of a person.\n     * @return  Null response notifying when the operation is complete\n     */\n    deleteSiteMembership(siteId: string, personId: string): Observable<void> {\n        return from(this.sitesApi.deleteSiteMembership(siteId, personId))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Accept site membership requests.\n     * @param siteId The identifier of a site.\n     * @param inviteeId The invitee user name.\n     * @param opts Options supported by JS-API\n     * @returns  Null response notifying when the operation is complete\n     */\n    approveSiteMembershipRequest(siteId: string, inviteeId: string, opts?: any): Observable<SiteMembershipRequestWithPersonPaging> {\n        return from(this.sitesApi.approveSiteMembershipRequest(siteId, inviteeId, opts))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Reject site membership requests.\n     * @param siteId The identifier of a site.\n     * @param inviteeId The invitee user name.\n     * @param opts Options supported by JS-API\n     * @returns  Null response notifying when the operation is complete\n     */\n    rejectSiteMembershipRequest(siteId: string, inviteeId: string, opts?: any): Observable<SiteMembershipRequestWithPersonPaging> {\n        return from(this.sitesApi.rejectSiteMembershipRequest(siteId, inviteeId, opts))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * List group membership for site\n     * @param siteId The identifier of a site.\n     * @param opts Options supported by JS-API\n     * @returns  Observable<SiteGroupPaging>\n     */\n    listSiteGroups(siteId: string, opts?: any): Observable<SiteGroupPaging> {\n        return from(this.sitesApi.listSiteGroups(siteId, opts))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Create a site membership for group\n     * @param siteId The identifier of a site.\n     * @param siteMembershipBodyCreate The Group to add and its role\n     * @returns Observable<SiteGroupEntry>\n     */\n    createSiteGroupMembership(siteId: string, siteMembershipBodyCreate: SiteMembershipBodyCreate): Observable<SiteGroupEntry> {\n        return from(this.sitesApi.createSiteGroupMembership(siteId, siteMembershipBodyCreate))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Get information about site membership of group\n     * @param siteId The identifier of a site.\n     * @param groupId The authorityId of a group.\n     * @return Observable<SiteGroupEntry>\n     */\n    getSiteGroupMembership(siteId: string, groupId: string): Observable<SiteGroupEntry> {\n        return from(this.sitesApi.getSiteGroupMembership(siteId, groupId))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Update site membership of group\n     * @param siteId The identifier of a site.\n     * @param groupId The authorityId of a group.\n     * @param siteMembershipBodyUpdate The group new role\n     * @return Observable<SiteGroupEntry>\n     */\n    updateSiteGroupMembership(siteId: string, groupId: string, siteMembershipBodyUpdate: SiteMembershipBodyUpdate): Observable<SiteGroupEntry> {\n        return from(this.sitesApi.updateSiteGroupMembership(siteId, groupId, siteMembershipBodyUpdate))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Delete a group membership for site\n     * @param siteId The identifier of a site.\n     * @param groupId The authorityId of a group.\n     * @return Observable<void>\n     */\n    deleteSiteGroupMembership(siteId: string, groupId: string): Observable<void> {\n        return from(this.sitesApi.deleteSiteGroupMembership(siteId, groupId))\n            .pipe(\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    private handleError(error: any): Observable<never> {\n        this.logService.error(error);\n        return throwError(error || 'Server error');\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Directive, EventEmitter, HostListener, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\nimport { SiteEntry, SiteMembershipRequestBody, SiteMemberEntry, SiteMembershipRequestEntry } from '@alfresco/js-api';\nimport { BehaviorSubject, from, Observable } from 'rxjs';\nimport { AlfrescoApiService } from '../services/alfresco-api.service';\nimport { SitesService } from '../services/sites.service';\nimport { VersionCompatibilityService } from '../services/version-compatibility.service';\n\nexport interface LibraryMembershipToggleEvent {\n    updatedEntry?: any;\n    shouldReload: boolean;\n    i18nKey: string;\n}\n\nexport interface LibraryMembershipErrorEvent {\n    error: any;\n    i18nKey: string;\n}\n\n@Directive({\n    selector: '[adf-library-membership]',\n    exportAs: 'libraryMembership'\n})\nexport class LibraryMembershipDirective implements OnChanges {\n    targetSite: any = null;\n\n    isJoinRequested: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n    /** Site for which to toggle the membership request. */\n    @Input('adf-library-membership')\n    selection: SiteEntry = null;\n\n    /** Site for which to toggle the membership request. */\n    @Input()\n    isAdmin = false;\n\n    @Output()\n    toggle = new EventEmitter<LibraryMembershipToggleEvent>();\n\n    // tslint:disable-next-line: no-output-native\n    @Output()\n    error = new EventEmitter<LibraryMembershipErrorEvent>();\n\n    @HostListener('click')\n    onClick() {\n        this.toggleMembershipRequest();\n    }\n\n    constructor(\n        private alfrescoApiService: AlfrescoApiService,\n        private sitesService: SitesService,\n        private versionCompatibilityService: VersionCompatibilityService\n    ) {}\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (!changes.selection.currentValue || !changes.selection.currentValue.entry) {\n            this.targetSite = null;\n\n            return;\n        }\n        this.targetSite = changes.selection.currentValue.entry;\n        this.markMembershipRequest();\n    }\n\n    toggleMembershipRequest() {\n        if (!this.targetSite) {\n            return;\n        }\n\n        if (this.targetSite.joinRequested) {\n            this.cancelJoinRequest().subscribe(\n                () => {\n                    this.targetSite.joinRequested = false;\n                    this.isJoinRequested.next(false);\n                    const info = {\n                        updatedEntry: this.targetSite,\n                        shouldReload: false,\n                        i18nKey: 'APP.MESSAGES.INFO.JOIN_CANCELED'\n                    };\n                    this.toggle.emit(info);\n                },\n                (error) => {\n                    const errWithMessage = {\n                        error,\n                        i18nKey: 'APP.MESSAGES.ERRORS.JOIN_CANCEL_FAILED'\n                    };\n                    this.error.emit(errWithMessage);\n                }\n            );\n        }\n\n        if (!this.targetSite.joinRequested && !this.isAdmin) {\n            this.joinLibraryRequest().subscribe(\n                (createdMembership) => {\n                    this.targetSite.joinRequested = true;\n                    this.isJoinRequested.next(true);\n\n                    if (createdMembership.entry && createdMembership.entry.site && createdMembership.entry.site.role) {\n                        const info = {\n                            shouldReload: true,\n                            i18nKey: 'APP.MESSAGES.INFO.JOINED'\n                        };\n                        this.toggle.emit(info);\n                    } else {\n                        const info = {\n                            updatedEntry: this.targetSite,\n                            shouldReload: false,\n                            i18nKey: 'APP.MESSAGES.INFO.JOIN_REQUESTED'\n                        };\n                        this.toggle.emit(info);\n                    }\n                },\n                (error) => {\n                    const errWithMessage = {\n                        error,\n                        i18nKey: 'APP.MESSAGES.ERRORS.JOIN_REQUEST_FAILED'\n                    };\n\n                    const senderEmailCheck = 'Failed to resolve sender mail address';\n                    const receiverEmailCheck = 'All recipients for the mail action were invalid';\n\n                    if (error.message) {\n                        if (error.message.includes(senderEmailCheck)) {\n                            errWithMessage.i18nKey = 'APP.MESSAGES.ERRORS.INVALID_SENDER_EMAIL';\n                        } else if (error.message.includes(receiverEmailCheck)) {\n                            errWithMessage.i18nKey = 'APP.MESSAGES.ERRORS.INVALID_RECEIVER_EMAIL';\n                        }\n                    }\n\n                    this.error.emit(errWithMessage);\n                }\n            );\n        }\n\n        if (this.isAdmin) {\n            this.joinLibrary().subscribe(\n                (createdMembership: SiteMemberEntry) => {\n                    if (createdMembership.entry && createdMembership.entry.role) {\n                        const info = {\n                            shouldReload: true,\n                            i18nKey: 'APP.MESSAGES.INFO.JOINED'\n                        };\n                        this.toggle.emit(info);\n                    }\n                },\n                (error) => {\n                    const errWithMessage = {\n                        error,\n                        i18nKey: 'APP.MESSAGES.ERRORS.JOIN_REQUEST_FAILED'\n                    };\n\n                    const senderEmailCheck = 'Failed to resolve sender mail address';\n                    const receiverEmailCheck = 'All recipients for the mail action were invalid';\n\n                    if (error.message) {\n                        if (error.message.includes(senderEmailCheck)) {\n                            errWithMessage.i18nKey = 'APP.MESSAGES.ERRORS.INVALID_SENDER_EMAIL';\n                        } else if (error.message.includes(receiverEmailCheck)) {\n                            errWithMessage.i18nKey = 'APP.MESSAGES.ERRORS.INVALID_RECEIVER_EMAIL';\n                        }\n                    }\n\n                    this.error.emit(errWithMessage);\n                }\n            );\n        }\n    }\n\n    markMembershipRequest() {\n        if (!this.targetSite) {\n            return;\n        }\n\n        this.getMembershipRequest().subscribe(\n            (data) => {\n                if (data.entry.id === this.targetSite.id) {\n                    this.targetSite.joinRequested = true;\n                    this.isJoinRequested.next(true);\n                }\n            },\n            () => {\n                this.targetSite.joinRequested = false;\n                this.isJoinRequested.next(false);\n            }\n        );\n    }\n\n    private joinLibraryRequest(): Observable<SiteMembershipRequestEntry> {\n        const memberBody = {\n            id: this.targetSite.id\n        } as SiteMembershipRequestBody;\n\n        if (this.versionCompatibilityService.isVersionSupported('7.0.0')) {\n            memberBody.client = 'workspace';\n        }\n        return from(this.alfrescoApiService.peopleApi.addSiteMembershipRequest('-me-', memberBody));\n    }\n\n    private joinLibrary() {\n        return this.sitesService.createSiteMembership(this.targetSite.id, {\n            role: 'SiteConsumer',\n            id: '-me-'\n        });\n    }\n\n    private cancelJoinRequest() {\n        return from(this.alfrescoApiService.peopleApi.removeSiteMembershipRequest('-me-', this.targetSite.id));\n    }\n\n    private getMembershipRequest() {\n        return from(this.alfrescoApiService.peopleApi.getSiteMembershipRequest('-me-', this.targetSite.id));\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MaterialModule } from '../material.module';\n\nimport { HighlightDirective } from './highlight.directive';\nimport { LogoutDirective } from './logout.directive';\nimport { NodeDeleteDirective } from './node-delete.directive';\nimport { NodeFavoriteDirective } from './node-favorite.directive';\nimport { CheckAllowableOperationDirective } from './check-allowable-operation.directive';\nimport { NodeRestoreDirective } from './node-restore.directive';\nimport { UploadDirective } from './upload.directive';\nimport { NodeDownloadDirective } from './node-download.directive';\nimport { VersionCompatibilityDirective } from './version-compatibility.directive';\nimport { TooltipCardDirective } from './tooltip-card/tooltip-card.directive';\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { TooltipCardComponent } from './tooltip-card/tooltip-card.component';\nimport { InfiniteSelectScrollDirective } from './infinite-select-scroll.directive';\nimport { LibraryFavoriteDirective } from './library-favorite.directive';\nimport { LibraryMembershipDirective } from './library-membership.directive';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        OverlayModule\n    ],\n    declarations: [\n        HighlightDirective,\n        LogoutDirective,\n        NodeDeleteDirective,\n        NodeFavoriteDirective,\n        CheckAllowableOperationDirective,\n        NodeRestoreDirective,\n        NodeDownloadDirective,\n        UploadDirective,\n        VersionCompatibilityDirective,\n        TooltipCardDirective,\n        TooltipCardComponent,\n        InfiniteSelectScrollDirective,\n        LibraryFavoriteDirective,\n        LibraryMembershipDirective\n    ],\n    exports: [\n        HighlightDirective,\n        LogoutDirective,\n        NodeDeleteDirective,\n        NodeFavoriteDirective,\n        CheckAllowableOperationDirective,\n        NodeRestoreDirective,\n        NodeDownloadDirective,\n        UploadDirective,\n        VersionCompatibilityDirective,\n        TooltipCardDirective,\n        InfiniteSelectScrollDirective,\n        LibraryFavoriteDirective,\n        LibraryMembershipDirective\n    ]\n})\nexport class DirectiveModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    Input,\n    OnInit,\n    ViewEncapsulation,\n    OnDestroy\n} from '@angular/core';\nimport { DataColumn } from '../../data/data-column.model';\nimport { DataRow } from '../../data/data-row.model';\nimport { DataTableAdapter } from '../../data/datatable-adapter';\nimport { AlfrescoApiService } from '../../../services/alfresco-api.service';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-datatable-cell',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    template: `\n        <ng-container>\n            <span *ngIf=\"copyContent; else defaultCell\"\n                adf-clipboard=\"CLIPBOARD.CLICK_TO_COPY\"\n                [clipboard-notification]=\"'CLIPBOARD.SUCCESS_COPY'\"\n                [attr.aria-label]=\"value$ | async\"\n                [title]=\"tooltip\"\n                class=\"adf-datatable-cell-value\"\n                >{{ value$ | async }}</span>\n        </ng-container>\n        <ng-template #defaultCell>\n            <span\n                [attr.aria-label]=\"value$ | async\"\n                [title]=\"tooltip\"\n                class=\"adf-datatable-cell-value\"\n            >{{ value$ | async }}</span>\n        </ng-template>\n    `,\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-datatable-content-cell' }\n})\nexport class DataTableCellComponent implements OnInit, OnDestroy {\n    /** Data table adapter instance. */\n    @Input()\n    data: DataTableAdapter;\n\n    /** Data that defines the column. */\n    @Input()\n    column: DataColumn;\n\n    /** Data that defines the row. */\n    @Input()\n    row: DataRow;\n\n    value$ = new BehaviorSubject<any>('');\n\n    /** Enables/disables a Clipboard directive to allow copying of the cell's content. */\n    @Input()\n    copyContent: boolean;\n\n    /** Text for the cell's tooltip. */\n    @Input()\n    tooltip: string;\n\n    /** Custom resolver function which is used to parse dynamic column objects */\n    @Input()\n    resolverFn: (row: DataRow, col: DataColumn) => any  = null;\n\n    protected onDestroy$ = new Subject<boolean>();\n\n    constructor(protected alfrescoApiService: AlfrescoApiService) {}\n\n    ngOnInit() {\n        this.updateValue();\n        this.alfrescoApiService.nodeUpdated\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe(node => {\n                if (this.row) {\n                    if (this.row['node'].entry.id === node.id) {\n                        this.row['node'].entry = node;\n                        this.row['cache'][this.column.key] = this.column.key.split('.').reduce((source, key) => source ? source[key] : '', node);\n                        this.updateValue();\n                    }\n                }\n            });\n    }\n\n    protected updateValue() {\n        if (this.column && this.column.key && this.row && this.data) {\n            const value = this.data.getValue(this.row, this.column, this.resolverFn);\n\n            this.value$.next(value);\n\n            if (!this.tooltip) {\n                this.tooltip = value;\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Component,\n    ViewEncapsulation,\n    ElementRef,\n    Input,\n    HostBinding,\n    HostListener,\n    Output,\n    EventEmitter\n} from '@angular/core';\nimport { FocusableOption } from '@angular/cdk/a11y';\nimport { DataRow } from '../../data/data-row.model';\n\n@Component({\n    selector: 'adf-datatable-row',\n    template: `<ng-content></ng-content>`,\n    encapsulation: ViewEncapsulation.None,\n    host: {\n        class: 'adf-datatable-row',\n        tabindex: '0',\n        role: 'row'\n    }\n})\nexport class DataTableRowComponent implements FocusableOption {\n    @Input() row: DataRow;\n\n    @Input() disabled = false;\n\n    @Output()\n    select: EventEmitter<any> = new EventEmitter<any>();\n\n    @HostBinding('class.adf-is-selected')\n    get isSelected(): boolean {\n        if (!this.row) {\n            return false;\n        }\n        return this.row.isSelected;\n    }\n\n    @HostBinding('attr.aria-selected')\n    get isAriaSelected(): boolean {\n        if (!this.row) {\n           return false;\n        }\n        return this.row.isSelected;\n    }\n\n    @HostBinding('attr.aria-label')\n    get ariaLabel(): string|null {\n        if (!this.row) {\n            return null;\n        }\n        if (this.row.isSelected) {\n            return this.row.getValue('name') + ' selected' || '';\n        } else {\n            return this.row.getValue('name') || '';\n        }\n    }\n\n    @HostBinding('attr.tabindex')\n    get tabindex(): number|null {\n        return this.disabled ? null : 0;\n    }\n\n    @HostListener('keydown.space', ['$event'])\n    onKeyDown(event: KeyboardEvent) {\n        if ((event.target as Element).tagName === this.element.nativeElement.tagName) {\n            event.preventDefault();\n            this.select.emit(event);\n        }\n    }\n\n    constructor(private element: ElementRef) {}\n\n    focus() {\n        this.element.nativeElement.focus();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector no-input-rename  */\n\nimport { Component, ContentChild, Input, OnInit, TemplateRef } from '@angular/core';\n\n@Component({\n    selector: 'data-column',\n    template: ''\n})\nexport class DataColumnComponent implements OnInit {\n\n    /** Data source key. Can be either a column/property key like `title`\n     *  or a property path like `createdBy.name`.\n     */\n    @Input()\n    key: string;\n\n    /** Value type for the column. Possible settings are 'text', 'image',\n     * 'date', 'fileSize', 'location', and 'json'.\n     */\n    @Input()\n    type: string = 'text';\n\n    /** Value format (if supported by the parent component), for example format of the date. */\n    @Input()\n    format: string;\n\n    /** Toggles ability to sort by this column, for example by clicking the column header. */\n    @Input()\n    sortable: boolean = true;\n\n    /** Display title of the column, typically used for column headers. You can use the\n     * i18n resource key to get it translated automatically.\n     */\n    @Input()\n    title: string = '';\n\n    @ContentChild(TemplateRef)\n    template: any;\n\n    /** Custom tooltip formatter function. */\n    @Input()\n    formatTooltip: Function;\n\n    /** Title to be used for screen readers. */\n    @Input('sr-title')\n    srTitle: string;\n\n    /** Additional CSS class to be applied to column (header and cells). */\n    @Input('class')\n    cssClass: string;\n\n     /** Enables/disables a Clipboard directive to allow copying of cell contents. */\n    @Input()\n    copyContent: boolean;\n\n    /**  Toggles the editing support of the column data. */\n    @Input()\n    editable: boolean = false;\n\n    /**  Enable or disable cell focus */\n    @Input()\n    focus: boolean = true;\n\n    /** When using server side sorting the column used by the api call where the sorting will be performed */\n    @Input()\n    sortingKey: string;\n\n    /** Data column header template */\n    header?: TemplateRef<any>;\n\n    ngOnInit() {\n        if (!this.srTitle && this.key === '$thumbnail') {\n            this.srTitle = 'Thumbnail';\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { Component, ContentChildren, QueryList } from '@angular/core';\nimport { DataColumnComponent } from './data-column.component';\n\n@Component({\n    selector: 'data-columns',\n    template: ''\n})\nexport class DataColumnListComponent {\n\n    @ContentChildren(DataColumnComponent) columns: QueryList<DataColumnComponent>;\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AssocChildBody, AssociationBody } from '@alfresco/js-api';\n\nexport interface FileUploadProgress {\n    loaded: number;\n    total: number;\n    percent: number;\n}\n\nexport class FileUploadOptions {\n    comment?: string;\n    newVersion?: boolean;\n    majorVersion?: boolean;\n    parentId?: string;\n    path?: string;\n    nodeType?: string;\n    properties?: any;\n    association?: any;\n    secondaryChildren?: AssocChildBody[];\n    targets?: AssociationBody[];\n}\n\nexport enum FileUploadStatus {\n    Pending = 0,\n    Complete = 1,\n    Starting = 2,\n    Progress = 3,\n    Cancelled = 4,\n    Aborted = 5,\n    Error = 6,\n    Deleted = 7\n}\n\nexport class FileModel {\n    readonly name: string;\n    readonly size: number;\n    readonly file: File;\n\n    id: string;\n    status: FileUploadStatus = FileUploadStatus.Pending;\n    errorCode: number;\n    progress: FileUploadProgress;\n    options: FileUploadOptions;\n    data: any;\n\n    constructor(file: File, options?: FileUploadOptions, id?: string) {\n        this.file = file;\n        this.id = id;\n        this.name = file.name;\n        this.size = file.size;\n        this.data = null;\n        this.errorCode = null;\n\n        this.progress = {\n            loaded: 0,\n            total: 0,\n            percent: 0\n        };\n\n        this.options = Object.assign({}, {\n            newVersion: false\n        }, options);\n    }\n\n    get extension(): string {\n        return this.name.slice((Math.max(0, this.name.lastIndexOf('.')) || Infinity) + 1);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** Base cancellable event implementation */\nexport class BaseEvent<T> {\n\n    private isDefaultPrevented: boolean = false;\n\n    value: T;\n\n    get defaultPrevented() {\n        return this.isDefaultPrevented;\n    }\n\n    preventDefault() {\n        this.isDefaultPrevented = true;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseEvent } from './base.event';\n\n/** Base container for any event which takes place in the DOM  */\nexport class BaseUIEvent<T> extends BaseEvent<T> {\n\n    /** Original DOM event */\n    event: Event;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    ViewChildren, QueryList, HostListener,\n    AfterContentInit, Component, ContentChild, DoCheck, ElementRef, EventEmitter, Input,\n    IterableDiffers, OnChanges, Output, SimpleChange, SimpleChanges, TemplateRef, ViewEncapsulation, OnDestroy\n} from '@angular/core';\nimport { FocusKeyManager } from '@angular/cdk/a11y';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { MatMenuTrigger } from '@angular/material/menu';\nimport { Subscription, Observable, Observer } from 'rxjs';\nimport { DataColumnListComponent } from '../../../data-column/data-column-list.component';\nimport { DataColumn } from '../../data/data-column.model';\nimport { DataRowEvent } from '../../data/data-row-event.model';\nimport { DataRow } from '../../data/data-row.model';\nimport { DataSorting } from '../../data/data-sorting.model';\nimport { DataTableAdapter } from '../../data/datatable-adapter';\nimport { DataTableRowComponent } from '../datatable-row/datatable-row.component';\n\nimport { ObjectDataRow } from '../../data/object-datarow.model';\nimport { ObjectDataColumn } from '../../data/object-datacolumn.model';\nimport { ObjectDataTableAdapter } from '../../data/object-datatable-adapter';\nimport { DataCellEvent } from '../data-cell.event';\nimport { DataRowActionEvent } from '../data-row-action.event';\nimport { share, buffer, map, filter, debounceTime } from 'rxjs/operators';\n\nexport enum DisplayMode {\n    List = 'list',\n    Gallery = 'gallery'\n}\n\nexport enum ShowHeaderMode {\n    Never = 'never',\n    Always = 'always',\n    Data = 'data'\n}\n\n@Component({\n    selector: 'adf-datatable',\n    templateUrl: './datatable.component.html',\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-datatable' }\n})\nexport class DataTableComponent implements AfterContentInit, OnChanges, DoCheck, OnDestroy {\n\n    @ViewChildren(DataTableRowComponent)\n    rowsList: QueryList<DataTableRowComponent>;\n\n    @ContentChild(DataColumnListComponent)\n    columnList: DataColumnListComponent;\n\n    /** Data source for the table */\n    @Input()\n    data: DataTableAdapter;\n\n    /** Selects the display mode of the table. Can be \"list\" or \"gallery\". */\n    @Input()\n    display: string = DisplayMode.List;\n\n    /** The rows that the datatable will show. */\n    @Input()\n    rows: any[] = [];\n\n    /** Define the sort order of the datatable. Possible values are :\n     * [`created`, `desc`], [`created`, `asc`], [`due`, `desc`], [`due`, `asc`]\n     */\n    @Input()\n    sorting: any[] = [];\n\n    /** The columns that the datatable will show. */\n    @Input()\n    columns: any[] = [];\n\n    /** Row selection mode. Can be none, `single` or `multiple`. For `multiple` mode,\n     * you can use Cmd (macOS) or Ctrl (Win) modifier key to toggle selection for multiple rows.\n     */\n    @Input()\n    selectionMode: string = 'single'; // none|single|multiple\n\n    /** Toggles multiple row selection, which renders checkboxes at the beginning of each row. */\n    @Input()\n    multiselect: boolean = false;\n\n    /** Toggles the data actions column. */\n    @Input()\n    actions: boolean = false;\n\n    /** Position of the actions dropdown menu. Can be \"left\" or \"right\". */\n    @Input()\n    actionsPosition: string = 'right'; // left|right\n\n    /** Toggles whether the actions dropdown should only be visible if the row is hovered over or the dropdown menu is open. */\n    @Input()\n    actionsVisibleOnHover: boolean = false;\n\n    /** Fallback image for rows where the thumbnail is missing. */\n    @Input()\n    fallbackThumbnail: string;\n\n    /** Toggles custom context menu for the component. */\n    @Input()\n    contextMenu: boolean = false;\n\n    /** The inline style to apply to every row. See\n     * [NgStyle](https://angular.io/docs/ts/latest/api/common/index/NgStyle-directive.html)\n     * docs for more details and usage examples.\n     */\n    @Input()\n    rowStyle: { [key: string]: any; };\n\n    /** The CSS class to apply to every row. */\n    @Input()\n    rowStyleClass: string = '';\n\n    /** Toggles the header. */\n    @Input()\n    showHeader = ShowHeaderMode.Data;\n\n    /** Toggles the sticky header mode. */\n    @Input()\n    stickyHeader: boolean = false;\n\n    /** Emitted when the user clicks a row. */\n    @Output()\n    rowClick = new EventEmitter<DataRowEvent>();\n\n    /** Emitted when the user double-clicks a row. */\n    @Output()\n    rowDblClick = new EventEmitter<DataRowEvent>();\n\n    /** Emitted before the context menu is displayed for a row. */\n    @Output()\n    showRowContextMenu = new EventEmitter<DataCellEvent>();\n\n    /** Emitted before the actions menu is displayed for a row. */\n    @Output()\n    showRowActionsMenu = new EventEmitter<DataCellEvent>();\n\n    /** Emitted when the user executes a row action. */\n    @Output()\n    executeRowAction = new EventEmitter<DataRowActionEvent>();\n\n    /** Flag that indicates if the datatable is in loading state and needs to show the\n     * loading template (see the docs to learn how to configure a loading template).\n     */\n    @Input()\n    loading: boolean = false;\n\n    /** Flag that indicates if the datatable should show the \"no permission\" template. */\n    @Input()\n    noPermission: boolean = false;\n\n    /**\n     * Should the items for the row actions menu be cached for reuse after they are loaded\n     * the first time?\n     */\n    @Input()\n    rowMenuCacheEnabled = true;\n\n    /**\n     * Custom resolver function which is used to parse dynamic column objects\n     * see the docs to learn how to configure a resolverFn.\n     */\n    @Input()\n    resolverFn: (row: DataRow, col: DataColumn) => any = null;\n\n    /**\n     * Flag that indicate if the datatable allow the use facet widget search for filtering.\n     */\n    @Input()\n    allowFiltering: boolean = false;\n\n    headerFilterTemplate: TemplateRef<any>;\n    noContentTemplate: TemplateRef<any>;\n    noPermissionTemplate: TemplateRef<any>;\n    loadingTemplate: TemplateRef<any>;\n\n    isSelectAllIndeterminate: boolean = false;\n    isSelectAllChecked: boolean = false;\n    selection = new Array<DataRow>();\n\n    /** This array of fake rows fix the flex layout for the gallery view */\n    fakeRows = [];\n\n    private keyManager: FocusKeyManager<DataTableRowComponent>;\n    private clickObserver: Observer<DataRowEvent>;\n    private click$: Observable<DataRowEvent>;\n\n    private differ: any;\n    private rowMenuCache: object = {};\n\n    private subscriptions: Subscription[] = [];\n    private singleClickStreamSub: Subscription;\n    private multiClickStreamSub: Subscription;\n    private dataRowsChanged: Subscription;\n\n    @HostListener('keyup', ['$event'])\n    onKeydown(event: KeyboardEvent): void {\n        this.keyManager.onKeydown(event);\n    }\n\n    constructor(private elementRef: ElementRef,\n                differs: IterableDiffers) {\n        if (differs) {\n            this.differ = differs.find([]).create(null);\n        }\n        this.click$ = new Observable<DataRowEvent>((observer) => this.clickObserver = observer)\n            .pipe(share());\n    }\n\n    ngAfterContentInit() {\n        if (this.columnList) {\n            this.subscriptions.push(\n                this.columnList.columns.changes.subscribe(() => {\n                    this.setTableSchema();\n                })\n            );\n        }\n        this.datatableLayoutFix();\n        this.setTableSchema();\n    }\n\n    ngAfterViewInit() {\n        this.keyManager = new FocusKeyManager(this.rowsList)\n            .withWrap()\n            .skipPredicate(item => item.disabled);\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        this.initAndSubscribeClickStream();\n\n        const dataChanges = changes['data'];\n        const rowChanges = changes['rows'];\n        const columnChanges = changes['columns'];\n\n        if (this.isPropertyChanged(dataChanges) || this.isPropertyChanged(rowChanges) || this.isPropertyChanged(columnChanges)) {\n            if (this.isTableEmpty()) {\n                this.initTable();\n            } else {\n                if (dataChanges) {\n                    this.data = changes['data'].currentValue;\n                    this.resetSelection();\n                } else if (rowChanges) {\n                    this.setTableRows(changes['rows'].currentValue);\n                    this.setTableSorting(this.sorting);\n                } else {\n                    this.setTableColumns(changes['columns'].currentValue);\n                }\n            }\n            return;\n        }\n\n        if (changes.selectionMode && !changes.selectionMode.isFirstChange()) {\n            this.resetSelection();\n            this.emitRowSelectionEvent('row-unselect', null);\n        }\n\n        if (this.isPropertyChanged(changes['sorting'])) {\n            this.setTableSorting(changes['sorting'].currentValue);\n        }\n\n        if (this.isPropertyChanged(changes['display'])) {\n            this.datatableLayoutFix();\n        }\n    }\n\n    isColumnSortActive(column: DataColumn): boolean {\n        if (!column || !this.data.getSorting()) {\n            return false;\n        }\n        return column.key === this.data.getSorting().key;\n    }\n\n    ngDoCheck() {\n        const changes = this.differ.diff(this.rows);\n        if (changes) {\n            this.setTableRows(this.rows);\n        }\n    }\n\n    isPropertyChanged(property: SimpleChange): boolean {\n        return !!(property && property.currentValue);\n    }\n\n    convertToRowsData(rows: any []): ObjectDataRow[] {\n        return rows.map((row) => new ObjectDataRow(row, row.isSelected));\n    }\n\n    convertToColumnsData(columns: any []): ObjectDataColumn[] {\n        return columns.map((column) => new ObjectDataColumn(column));\n    }\n\n    convertToDataSorting(sorting: any[]): DataSorting | null {\n        if (sorting && sorting.length > 0) {\n            return new DataSorting(sorting[0], sorting[1]);\n        }\n        return null;\n    }\n\n    private initAndSubscribeClickStream() {\n        this.unsubscribeClickStream();\n        const singleClickStream = this.click$\n            .pipe(\n                buffer(\n                    this.click$.pipe(\n                        debounceTime(250)\n                    )\n                ),\n                map((list) => list),\n                filter((x) => x.length === 1)\n            );\n\n        this.singleClickStreamSub = singleClickStream.subscribe((dataRowEvents: DataRowEvent[]) => {\n            const event: DataRowEvent = dataRowEvents[0];\n            this.handleRowSelection(event.value, <MouseEvent | KeyboardEvent> event.event);\n            this.rowClick.emit(event);\n            if (!event.defaultPrevented) {\n                this.elementRef.nativeElement.dispatchEvent(\n                    new CustomEvent('row-click', {\n                        detail: event,\n                        bubbles: true\n                    })\n                );\n            }\n        });\n\n        const multiClickStream = this.click$\n            .pipe(\n                buffer(\n                    this.click$.pipe(\n                        debounceTime(250)\n                    )\n                ),\n                map((list) => list),\n                filter((x) => x.length >= 2)\n            );\n\n        this.multiClickStreamSub = multiClickStream.subscribe((dataRowEvents: DataRowEvent[]) => {\n            const event: DataRowEvent = dataRowEvents[0];\n            this.rowDblClick.emit(event);\n            if (!event.defaultPrevented) {\n                this.elementRef.nativeElement.dispatchEvent(\n                    new CustomEvent('row-dblclick', {\n                        detail: event,\n                        bubbles: true\n                    })\n                );\n            }\n        });\n    }\n\n    private unsubscribeClickStream() {\n        if (this.singleClickStreamSub) {\n            this.singleClickStreamSub.unsubscribe();\n            this.singleClickStreamSub = null;\n        }\n        if (this.multiClickStreamSub) {\n            this.multiClickStreamSub.unsubscribe();\n            this.multiClickStreamSub = null;\n        }\n    }\n\n    private initTable() {\n        const runtimeColumns = this.getRuntimeColumns();\n        this.data = new ObjectDataTableAdapter(this.rows, runtimeColumns);\n\n        this.setTableSorting(this.sorting);\n        this.resetSelection();\n        this.rowMenuCache = {};\n    }\n\n    isTableEmpty(): boolean {\n        return this.data === undefined || this.data === null;\n    }\n\n    private setTableRows(rows: any[]) {\n        if (this.data) {\n            this.resetSelection();\n            const rowsData = this.convertToRowsData(rows);\n            this.data.setRows(rowsData);\n        }\n    }\n\n    private setTableColumns(columns: any[]) {\n        if (this.data) {\n            this.resetSelection();\n            const columnsData = this.convertToColumnsData(columns);\n            this.data.setColumns(columnsData);\n        }\n    }\n\n    private getRuntimeColumns(): any[] {\n        return [\n            ...(this.columns || []),\n            ...this.getSchemaFromHtml()\n        ];\n    }\n\n    private setTableSchema() {\n        const columns = this.getRuntimeColumns();\n\n        if (this.data && columns.length > 0) {\n            this.data.setColumns(columns);\n        }\n    }\n\n    private setTableSorting(sorting: any[]) {\n        if (this.data) {\n            this.data.setSorting(this.convertToDataSorting(sorting));\n        }\n    }\n\n    public getSchemaFromHtml(): any {\n        let schema = [];\n        if (this.columnList && this.columnList.columns && this.columnList.columns.length > 0) {\n            schema = this.columnList.columns.map((c) => <DataColumn> c);\n        }\n        return schema;\n    }\n\n    onRowClick(row: DataRow, mouseEvent: MouseEvent) {\n        if (mouseEvent) {\n            mouseEvent.preventDefault();\n        }\n\n        if (row) {\n            const rowIndex = this.data.getRows().indexOf(row) + (this.isHeaderListVisible() ? 1 : 0);\n            this.keyManager.setActiveItem(rowIndex);\n\n            const dataRowEvent = new DataRowEvent(row, mouseEvent, this);\n            this.clickObserver.next(dataRowEvent);\n        }\n    }\n\n    onEnterKeyPressed(row: DataRow, e: KeyboardEvent) {\n        if (row) {\n            this.handleRowSelection(row, e);\n        }\n    }\n\n    private isHeaderListVisible(): boolean {\n        return this.isHeaderVisible() && this.display === DisplayMode.List;\n    }\n\n    private handleRowSelection(row: DataRow, e: KeyboardEvent | MouseEvent) {\n        if (this.data) {\n            if (this.isSingleSelectionMode()) {\n                this.resetSelection();\n                this.selectRow(row, true);\n                this.emitRowSelectionEvent('row-select', row);\n            }\n\n            if (this.isMultiSelectionMode()) {\n                const modifier = e && (e.metaKey || e.ctrlKey);\n                let newValue: boolean;\n                if (this.selection.length === 1) {\n                    newValue = !row.isSelected;\n                } else {\n                    newValue = modifier ? !row.isSelected : true;\n                }\n                const domEventName = newValue ? 'row-select' : 'row-unselect';\n\n                if (!modifier) {\n                    this.resetSelection();\n                }\n                this.selectRow(row, newValue);\n                this.emitRowSelectionEvent(domEventName, row);\n            }\n        }\n    }\n\n    resetSelection(): void {\n        if (this.data) {\n            const rows = this.data.getRows();\n            if (rows && rows.length > 0) {\n                rows.forEach((r) => r.isSelected = false);\n            }\n            this.selection = [];\n        }\n        this.isSelectAllChecked = false;\n    }\n\n    onRowDblClick(row: DataRow, event?: Event) {\n        if (event) {\n            event.preventDefault();\n        }\n        const dataRowEvent = new DataRowEvent(row, event, this);\n        this.clickObserver.next(dataRowEvent);\n    }\n\n    onRowEnterKeyDown(row: DataRow, keyboardEvent: KeyboardEvent) {\n        if (keyboardEvent.key === 'Enter') {\n            this.onKeyboardNavigate(row, keyboardEvent);\n        }\n    }\n\n    onRowKeyUp(row: DataRow, keyboardEvent: KeyboardEvent) {\n        const event = new CustomEvent('row-keyup', {\n            detail: {\n                row: row,\n                keyboardEvent: keyboardEvent,\n                sender: this\n            },\n            bubbles: true\n        });\n\n        this.elementRef.nativeElement.dispatchEvent(event);\n\n        if (event.defaultPrevented) {\n            keyboardEvent.preventDefault();\n        }\n    }\n\n    private onKeyboardNavigate(row: DataRow, keyboardEvent: KeyboardEvent) {\n        if (keyboardEvent) {\n            keyboardEvent.preventDefault();\n        }\n\n        const event = new DataRowEvent(row, keyboardEvent, this);\n\n        this.rowDblClick.emit(event);\n        this.elementRef.nativeElement.dispatchEvent(\n            new CustomEvent('row-dblclick', {\n                detail: event,\n                bubbles: true\n            })\n        );\n    }\n\n    onColumnHeaderClick(column: DataColumn) {\n        if (column && column.sortable) {\n            const current = this.data.getSorting();\n            let newDirection = 'asc';\n            if (current && column.key === current.key) {\n                newDirection = current.direction?.toLowerCase() === 'asc' ? 'desc' : 'asc';\n            }\n            this.sorting = [column.key, newDirection];\n            this.data.setSorting(new DataSorting(column.key, newDirection));\n            this.emitSortingChangedEvent(column.key, column.sortingKey, newDirection);\n        }\n\n        this.keyManager.updateActiveItem(0);\n    }\n\n    onSelectAllClick(matCheckboxChange: MatCheckboxChange) {\n        this.isSelectAllChecked = matCheckboxChange.checked;\n        this.isSelectAllIndeterminate = false;\n\n        if (this.multiselect) {\n            const rows = this.data.getRows();\n            if (rows && rows.length > 0) {\n                for (let i = 0; i < rows.length; i++) {\n                    this.selectRow(rows[i], matCheckboxChange.checked);\n                }\n            }\n\n            const domEventName = matCheckboxChange.checked ? 'row-select' : 'row-unselect';\n            const row = this.selection.length > 0 ? this.selection[0] : null;\n\n            this.emitRowSelectionEvent(domEventName, row);\n        }\n    }\n\n    onCheckboxChange(row: DataRow, event: MatCheckboxChange) {\n        const newValue = event.checked;\n\n        this.selectRow(row, newValue);\n\n        const domEventName = newValue ? 'row-select' : 'row-unselect';\n        this.emitRowSelectionEvent(domEventName, row);\n        this.checkSelectAllCheckboxState();\n    }\n\n    checkSelectAllCheckboxState() {\n        if (this.multiselect) {\n            let numberOfSelectedRows: number = 0;\n            const rows = this.data.getRows();\n            rows.forEach((row) => {\n                if (row.isSelected) {\n                    numberOfSelectedRows++;\n                }\n            });\n            if (numberOfSelectedRows === rows.length) {\n                this.isSelectAllChecked = true;\n                this.isSelectAllIndeterminate = false;\n            } else if (numberOfSelectedRows > 0 && numberOfSelectedRows < rows.length) {\n                this.isSelectAllChecked = false;\n                this.isSelectAllIndeterminate = true;\n            } else {\n                this.isSelectAllChecked = false;\n                this.isSelectAllIndeterminate = false;\n            }\n        }\n    }\n\n    onImageLoadingError(event: Event, row: DataRow) {\n        if (event) {\n            const element = <any> event.target;\n\n            if (this.fallbackThumbnail) {\n                element.src = this.fallbackThumbnail;\n            } else {\n                element.src = row.imageErrorResolver(event);\n            }\n        }\n    }\n\n    isIconValue(row: DataRow, col: DataColumn): boolean {\n        if (row && col) {\n            const value = row.getValue(col.key);\n            return value && value.startsWith('material-icons://');\n        }\n        return false;\n    }\n\n    asIconValue(row: DataRow, col: DataColumn): string {\n        if (this.isIconValue(row, col)) {\n            const value = row.getValue(col.key) || '';\n            return value.replace('material-icons://', '');\n        }\n        return null;\n    }\n\n    iconAltTextKey(value: string): string {\n        return value ? 'ICONS.' + value.substring(value.lastIndexOf('/') + 1).replace(/\\.[a-z]+/, '') : '';\n    }\n\n    isColumnSorted(col: DataColumn, direction: string): boolean {\n        if (col && direction) {\n            const sorting = this.data.getSorting();\n            return sorting && sorting.key === col.key && sorting.direction.toLocaleLowerCase() === direction;\n        }\n        return false;\n    }\n\n    getContextMenuActions(row: DataRow, col: DataColumn): any[] {\n        const event = new DataCellEvent(row, col, []);\n        this.showRowContextMenu.emit(event);\n        return event.value.actions;\n    }\n\n    getRowActions(row: DataRow, col?: DataColumn): any[] {\n        const id = row.getValue('id');\n\n        if (!this.rowMenuCache[id]) {\n            const event = new DataCellEvent(row, col, []);\n            this.showRowActionsMenu.emit(event);\n            if (!this.rowMenuCacheEnabled) {\n                return this.getVisibleActions(event.value.actions);\n            }\n            this.rowMenuCache[id] = event.value.actions;\n        }\n\n        return this.getVisibleActions(this.rowMenuCache[id]);\n    }\n\n    getVisibleActions(actions: any[]): any[] {\n        return actions.filter((action) => action.visible || action.visible === undefined);\n    }\n\n    onExecuteRowAction(row: DataRow, action: any) {\n        if (action.disabled || action.disabled) {\n            event.stopPropagation();\n        } else {\n            this.executeRowAction.emit(new DataRowActionEvent(row, action));\n        }\n    }\n\n    getHideActionsWithoutHoverClass(actionsMenuTrigger: MatMenuTrigger) {\n        return { 'adf-datatable-hide-actions-without-hover': this.actionsVisibleOnHover && !actionsMenuTrigger.menuOpen };\n    }\n\n    rowAllowsDrop(row: DataRow): boolean {\n        return row.isDropTarget === true;\n    }\n\n    hasSelectionMode(): boolean {\n        return this.isSingleSelectionMode() || this.isMultiSelectionMode();\n    }\n\n    isSingleSelectionMode(): boolean {\n        return this.selectionMode && this.selectionMode.toLowerCase() === 'single';\n    }\n\n    isMultiSelectionMode(): boolean {\n        return this.selectionMode && this.selectionMode.toLowerCase() === 'multiple';\n    }\n\n    getRowStyle(row: DataRow): string {\n        row.cssClass = row.cssClass ? row.cssClass : '';\n        this.rowStyleClass = this.rowStyleClass ? this.rowStyleClass : '';\n        return `${row.cssClass} ${this.rowStyleClass}`;\n    }\n\n    getSortingKey(): string | null {\n        if (this.data.getSorting()) {\n            return this.data.getSorting().key;\n        }\n\n        return null;\n    }\n\n    selectRow(row: DataRow, value: boolean) {\n        if (row) {\n            row.isSelected = value;\n            const idx = row?.id ? this.findSelectionById(row.id) : this.selection.indexOf(row);\n            if (value) {\n                if (idx < 0) {\n                    this.selection.push(row);\n                }\n            } else {\n                if (idx > -1) {\n                    this.selection.splice(idx, 1);\n                }\n            }\n        }\n    }\n\n    findSelectionById(id: string): number {\n        return this.selection.findIndex(selection => selection?.id === id);\n    }\n\n    getCellTooltip(row: DataRow, col: DataColumn): string {\n        if (row && col && col.formatTooltip) {\n            const result: string = col.formatTooltip(row, col);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n\n    getSortableColumns() {\n        return this.data.getColumns().filter((column) => {\n            return column.sortable === true;\n        });\n    }\n\n    isEmpty() {\n        return this.data.getRows().length === 0;\n    }\n\n    isHeaderVisible() {\n        let headerVisibility: boolean;\n\n        if (this.showHeader === ShowHeaderMode.Data) {\n            headerVisibility = !this.loading && !this.noPermission && !this.isEmpty();\n        } else if (this.showHeader === ShowHeaderMode.Always) {\n            headerVisibility = !this.loading && !this.noPermission;\n        } else if (this.showHeader === ShowHeaderMode.Never) {\n            headerVisibility = false;\n        }\n        return headerVisibility;\n    }\n\n    isStickyHeaderEnabled() {\n        return this.stickyHeader && this.isHeaderVisible();\n    }\n\n    private emitRowSelectionEvent(name: string, row: DataRow) {\n        const domEvent = new CustomEvent(name, {\n            detail: {\n                row: row,\n                selection: this.selection\n            },\n            bubbles: true\n        });\n        this.elementRef.nativeElement.dispatchEvent(domEvent);\n    }\n\n    private emitSortingChangedEvent(key: string, sortingKey: string, direction: string) {\n        const domEvent = new CustomEvent('sorting-changed', {\n            detail: {\n                key,\n                sortingKey,\n                direction\n            },\n            bubbles: true\n        });\n        this.elementRef.nativeElement.dispatchEvent(domEvent);\n    }\n\n    ngOnDestroy() {\n        this.unsubscribeClickStream();\n\n        this.subscriptions.forEach((s) => s.unsubscribe());\n        this.subscriptions = [];\n\n        if (this.dataRowsChanged) {\n            this.dataRowsChanged.unsubscribe();\n            this.dataRowsChanged = null;\n        }\n    }\n\n    datatableLayoutFix() {\n        const maxGalleryRows = 25;\n\n        if (this.display === 'gallery') {\n            for (let i = 0; i < maxGalleryRows; i++) {\n               this.fakeRows.push('');\n            }\n        } else {\n            this.fakeRows = [];\n        }\n    }\n\n    getNameColumnValue() {\n        return this.data.getColumns().find( (el: any) => {\n            return el.key.includes('name');\n        });\n    }\n\n    getAutomationValue(row: DataRow): any {\n        const name = this.getNameColumnValue();\n        return name ? row.getValue(name.key) : '';\n    }\n\n    getAriaSort(column: DataColumn): string {\n        if (!this.isColumnSortActive(column)) {\n            return 'ADF-DATATABLE.ACCESSIBILITY.SORT_NONE';\n        }\n\n        return this.isColumnSorted(column, 'asc') ?\n            'ADF-DATATABLE.ACCESSIBILITY.SORT_ASCENDING' :\n            'ADF-DATATABLE.ACCESSIBILITY.SORT_DESCENDING';\n    }\n\n    getSortLiveAnnouncement(column: DataColumn): string {\n        if (!this.isColumnSortActive(column)) {\n            return 'ADF-DATATABLE.ACCESSIBILITY.SORT_DEFAULT' ;\n        }\n        return this.isColumnSorted(column, 'asc') ?\n            'ADF-DATATABLE.ACCESSIBILITY.SORT_ASCENDING_BY' :\n            'ADF-DATATABLE.ACCESSIBILITY.SORT_DESCENDING_BY';\n    }\n}\n\nexport interface DataTableDropEvent {\n    detail: {\n        target: 'cell' | 'header';\n        event: Event;\n        column: DataColumn;\n        row?: DataRow\n    };\n\n    preventDefault(): void;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FileModel, FileUploadStatus } from '../models/file.model';\n\nexport class FileUploadEvent {\n\n    constructor(\n        public readonly file: FileModel,\n        public readonly status: FileUploadStatus = FileUploadStatus.Pending,\n        public readonly error: any = null) {\n    }\n\n}\n\nexport class FileUploadCompleteEvent extends FileUploadEvent {\n\n    constructor(file: FileModel, public totalComplete: number = 0, public data?: any, public totalAborted: number = 0) {\n        super(file, FileUploadStatus.Complete);\n    }\n\n}\n\nexport class FileUploadDeleteEvent extends FileUploadEvent {\n\n    constructor(file: FileModel, public totalComplete: number = 0) {\n        super(file, FileUploadStatus.Deleted);\n    }\n\n}\n\nexport class FileUploadErrorEvent extends FileUploadEvent {\n\n    constructor(file: FileModel, public error: any, public totalError: number = 0) {\n        super(file, FileUploadStatus.Error);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseUIEvent } from '../../events';\nimport { DataRow } from './data-row.model';\n\nexport class DataRowEvent extends BaseUIEvent<DataRow> {\n\n    sender: any;\n\n    constructor(value: DataRow, domEvent: Event, sender?: any) {\n        super();\n        this.value = value;\n        this.event = domEvent;\n        this.sender = sender;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseEvent } from '../../events';\nimport { DataColumn } from '../data/data-column.model';\nimport { DataRow } from '../data/data-row.model';\n\nexport class DataCellEventModel {\n\n    readonly row: DataRow;\n    readonly col: DataColumn;\n    actions: any[];\n\n    constructor(row: DataRow, col: DataColumn, actions: any[]) {\n        this.row = row;\n        this.col = col;\n        this.actions = actions || [];\n    }\n\n}\n\nexport class DataCellEvent extends BaseEvent<DataCellEventModel> {\n\n    constructor(row: DataRow, col: DataColumn, actions: any[]) {\n        super();\n        this.value = new DataCellEventModel(row, col, actions);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseEvent } from '../../events';\nimport { DataRow } from '../data/data-row.model';\n\nexport class DataRowActionModel {\n\n    row: DataRow;\n    action: any;\n\n    constructor(row: DataRow, action: any) {\n        this.row = row;\n        this.action = action;\n    }\n}\n\nexport class DataRowActionEvent extends BaseEvent<DataRowActionModel> {\n\n    // backwards compatibility with 1.2.0 and earlier\n    get args(): DataRowActionModel {\n        return this.value;\n    }\n\n    constructor(row: DataRow, action: any) {\n        super();\n        this.value = new DataRowActionModel(row, action);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ViewEncapsulation } from '@angular/core';\nimport { DataTableCellComponent } from '../datatable-cell/datatable-cell.component';\nimport {\n    UserPreferencesService,\n    UserPreferenceValues\n} from '../../../services/user-preferences.service';\nimport { AlfrescoApiService } from '../../../services/alfresco-api.service';\nimport { AppConfigService } from '../../../app-config/app-config.service';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-date-cell',\n\n    template: `\n        <ng-container>\n            <span\n                [attr.aria-label]=\"value$ | async | adfTimeAgo: currentLocale\"\n                title=\"{{ tooltip | adfLocalizedDate: 'medium' }}\"\n                class=\"adf-datatable-cell-value\"\n                *ngIf=\"format === 'timeAgo'; else standard_date\">\n                {{ value$ | async | adfTimeAgo: currentLocale }}\n            </span>\n        </ng-container>\n        <ng-template #standard_date>\n            <span\n                class=\"adf-datatable-cell-value\"\n                title=\"{{ tooltip | adfLocalizedDate: format }}\"\n                class=\"adf-datatable-cell-value\"\n                [attr.aria-label]=\"value$ | async | adfLocalizedDate: format\">\n                {{ value$ | async | adfLocalizedDate: format }}\n            </span>\n        </ng-template>\n    `,\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-date-cell adf-datatable-content-cell' }\n})\nexport class DateCellComponent extends DataTableCellComponent {\n\n    static DATE_FORMAT = 'medium';\n\n    currentLocale: string;\n    dateFormat: string;\n\n    get format(): string {\n        if (this.column) {\n            return this.column.format || this.dateFormat;\n        }\n        return this.dateFormat;\n    }\n\n    constructor(\n        userPreferenceService: UserPreferencesService,\n        alfrescoApiService: AlfrescoApiService,\n        appConfig: AppConfigService\n    ) {\n        super(alfrescoApiService);\n\n        this.dateFormat = appConfig.get('dateValues.defaultDateFormat', DateCellComponent.DATE_FORMAT);\n        if (userPreferenceService) {\n            userPreferenceService\n                .select(UserPreferenceValues.Locale)\n                .pipe(takeUntil(this.onDestroy$))\n                .subscribe(locale => this.currentLocale = locale);\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Directive, ViewEncapsulation } from '@angular/core';\n\n@Component({\n    selector: 'adf-empty-list',\n    styleUrls: ['./empty-list.component.scss'],\n    templateUrl: './empty-list.component.html',\n    encapsulation: ViewEncapsulation.None\n})\nexport class EmptyListComponent {}\n\n@Directive({ selector: '[adf-empty-list-header]' }) export class EmptyListHeaderDirective {}\n@Directive({ selector: '[adf-empty-list-body]' }) export class EmptyListBodyDirective {}\n@Directive({ selector: '[adf-empty-list-footer]' }) export class EmptyListFooterDirective {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ViewEncapsulation } from '@angular/core';\nimport { DataTableCellComponent } from '../datatable-cell/datatable-cell.component';\nimport { AlfrescoApiService } from '../../../services/alfresco-api.service';\n\n@Component({\n    selector: 'adf-filesize-cell',\n    template: `\n        <ng-container *ngIf=\"(value$ | async | adfFileSize) as fileSize\">\n            <span\n                [title]=\"tooltip\"\n                [attr.aria-label]=\"fileSize\"\n                >{{ fileSize }}</span\n            >\n        </ng-container>\n    `,\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-filesize-cell' }\n})\nexport class FileSizeCellComponent extends DataTableCellComponent {\n    constructor(alfrescoApiService: AlfrescoApiService) {\n        super(alfrescoApiService);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    Input,\n    OnInit,\n    ViewEncapsulation\n} from '@angular/core';\nimport { PathInfoEntity } from '@alfresco/js-api';\nimport { DataTableCellComponent } from '../datatable-cell/datatable-cell.component';\nimport { AlfrescoApiService } from '../../../services/alfresco-api.service';\n\n@Component({\n    selector: 'adf-location-cell',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    template: `\n        <ng-container>\n            <a href=\"\" [title]=\"tooltip\" [routerLink]=\"link\">\n                {{ value$ | async }}\n            </a>\n        </ng-container>\n    `,\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-location-cell adf-datatable-content-cell' }\n})\nexport class LocationCellComponent extends DataTableCellComponent implements OnInit {\n    @Input()\n    link: any[];\n\n    constructor(alfrescoApiService: AlfrescoApiService) {\n        super(alfrescoApiService);\n    }\n\n    /** @override */\n    ngOnInit() {\n        if (this.column && this.column.key && this.row && this.data) {\n            const path: PathInfoEntity = this.data.getValue(\n                this.row,\n                this.column,\n                this.resolverFn\n            );\n\n            if (path && path.name && path.elements) {\n                this.value$.next(path.name.split('/').pop());\n\n                if (!this.tooltip) {\n                    this.tooltip = path.name;\n                }\n\n                const parent = path.elements[path.elements.length - 1];\n                this.link = [this.column.format, parent.id];\n            }\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AfterContentInit, ContentChild, Directive, TemplateRef } from '@angular/core';\nimport { DataTableComponent } from '../components/datatable/datatable.component';\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0\n */\n@Directive({\n    selector: 'adf-loading-content-template, loading-content-template'\n})\nexport class LoadingContentTemplateDirective implements AfterContentInit {\n\n    @ContentChild(TemplateRef)\n    template: any;\n\n    constructor(private dataTable: DataTableComponent) {\n    }\n\n    ngAfterContentInit() {\n        if (this.dataTable) {\n            this.dataTable.loadingTemplate = this.template;\n        }\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AfterContentInit, ContentChild, Directive, TemplateRef } from '@angular/core';\nimport { DataTableComponent } from '../components/datatable/datatable.component';\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0\n */\n@Directive({\n    selector: 'adf-no-content-template, no-content-template'\n})\nexport class NoContentTemplateDirective implements AfterContentInit {\n\n    @ContentChild(TemplateRef)\n    template: any;\n\n    constructor(private dataTable: DataTableComponent) {\n    }\n\n    ngAfterContentInit() {\n        if (this.dataTable) {\n            this.dataTable.noContentTemplate = this.template;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AfterContentInit, ContentChild, Directive, TemplateRef } from '@angular/core';\nimport { DataTableComponent } from '../components/datatable/datatable.component';\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0\n */\n@Directive({\n    selector: 'adf-no-permission-template, no-permission-template'\n})\nexport class NoPermissionTemplateDirective implements AfterContentInit {\n\n    @ContentChild(TemplateRef)\n    template: any;\n\n    constructor(private dataTable: DataTableComponent) {\n    }\n\n    ngAfterContentInit() {\n        if (this.dataTable) {\n            this.dataTable.noPermissionTemplate = this.template;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AfterContentInit, ContentChild, Directive, TemplateRef } from '@angular/core';\nimport { DataTableComponent } from '../components/datatable/datatable.component';\n\n@Directive({\n    selector: 'adf-header-filter-template'\n})\nexport class HeaderFilterTemplateDirective implements AfterContentInit {\n\n    @ContentChild(TemplateRef)\n    template: any;\n\n    constructor(private dataTable: DataTableComponent) {\n    }\n\n    ngAfterContentInit() {\n        if (this.dataTable) {\n            this.dataTable.headerFilterTemplate = this.template;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Directive } from '@angular/core';\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0.\n * The empty-folder-content selector will be deprecated as it has been replace by\n * adf-custom-empty-content-template.\n */\n@Directive({\n    selector: 'adf-custom-empty-content-template, empty-folder-content'\n})\n\nexport class CustomEmptyContentTemplateDirective {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Directive } from '@angular/core';\n\n@Directive({\n    selector: 'adf-custom-loading-content-template'\n})\nexport class CustomLoadingContentTemplateDirective {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Directive } from '@angular/core';\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0.\n * The no-permission-content selector will be deprecated as it has been replace by\n * adf-custom-no-permission-template.\n */\n@Directive({\n    selector: 'adf-custom-no-permission-template, no-permission-content'\n})\nexport class CustomNoPermissionTemplateDirective {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Inject, OnInit, Input, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nexport interface EditJsonDialogSettings {\n    title?: string;\n    editable?: boolean;\n    value?: string;\n}\n\n@Component({\n    templateUrl: './edit-json.dialog.html',\n    styleUrls: ['./edit-json.dialog.scss'],\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-edit-json-dialog' }\n})\nexport class EditJsonDialogComponent implements OnInit {\n\n    editable: boolean = false;\n    title: string = 'JSON';\n\n    @Input()\n    value: string = '';\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private settings: EditJsonDialogSettings\n    ) {}\n\n    ngOnInit() {\n        if (this.settings) {\n            this.editable = this.settings.editable;\n            this.value = this.settings.value || '';\n            this.title = this.settings.title || 'JSON';\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport enum NOTIFICATION_TYPE {\n    INFO = 'info',\n    WARN = 'warning',\n    ERROR = 'error',\n    RECURSIVE = 'recursive'\n}\n\nexport interface NotificationInitiator {\n    key: string | Symbol;\n    displayName: string;\n    firstName?: string;\n    lastName?: string;\n    extra?: any;\n}\n\nexport interface NotificationModel {\n    type: NOTIFICATION_TYPE;\n    initiator: NotificationInitiator;\n    datetime: Date;\n    messages: string[];\n    icon?: string;\n    clickCallBack?: any;\n    args?: any;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ChangeDetectionStrategy, Component, OnInit, ViewEncapsulation, Input } from '@angular/core';\nimport { DataTableCellComponent } from '../datatable-cell/datatable-cell.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { EditJsonDialogComponent, EditJsonDialogSettings } from '../../../dialogs/edit-json/edit-json.dialog';\nimport { AlfrescoApiService } from '../../../services/alfresco-api.service';\n\n@Component({\n    selector: 'adf-json-cell',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    template: `\n        <ng-container *ngIf=\"value$ | async as value; else editEmpty\">\n            <button mat-button color=\"primary\" (click)=\"view()\">json</button>\n        </ng-container>\n\n        <ng-template #editEmpty>\n            <button *ngIf=\"editable\" mat-button color=\"primary\" (click)=\"view()\">json</button>\n        </ng-template>\n    `,\n    styleUrls: ['./json-cell.component.scss'],\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-datatable-content-cell' }\n})\nexport class JsonCellComponent extends DataTableCellComponent implements OnInit {\n\n    /** Editable JSON. */\n    @Input()\n    editable: boolean = false;\n\n    constructor(\n        private dialog: MatDialog,\n        alfrescoApiService: AlfrescoApiService\n    ) {\n        super(alfrescoApiService);\n    }\n\n    ngOnInit() {\n        if (this.column && this.column.key && this.row && this.data) {\n            this.value$.next(this.data.getValue(this.row, this.column, this.resolverFn));\n        }\n    }\n\n    view() {\n        const rawValue: string | object = this.data.getValue(this.row, this.column, this.resolverFn);\n        const value = typeof rawValue === 'object'\n            ? JSON.stringify(rawValue || {}, null, 2)\n            : rawValue;\n\n        const settings: EditJsonDialogSettings = {\n            title: this.column.title,\n            editable: this.editable,\n            value\n        };\n\n        this.dialog.open(EditJsonDialogComponent, {\n            data: settings,\n            minWidth: '50%',\n            minHeight: '50%'\n        }).afterClosed().subscribe((/*result: string*/) => {\n            if (typeof rawValue === 'object') {\n                // todo: update cell value as object\n            } else {\n                // todo: update cell value as string\n            }\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    NotificationInitiator,\n    NOTIFICATION_TYPE,\n    NotificationModel\n} from '../models/notification.model';\n\nexport const rootInitiator: NotificationInitiator  = {\n    key: '*',\n    displayName: 'SYSTEM'\n};\n\nexport function info(messages: string | string[], initiator: NotificationInitiator = rootInitiator): NotificationModel {\n    return {\n        type: NOTIFICATION_TYPE.INFO,\n        datetime: new Date(),\n        initiator,\n        messages: [].concat(messages)\n    };\n}\n\nexport function warning(messages: string | string[], initiator: NotificationInitiator = rootInitiator): NotificationModel {\n    return {\n        type: NOTIFICATION_TYPE.WARN,\n        datetime: new Date(),\n        initiator,\n        messages: [].concat(messages)\n    };\n}\n\nexport function error(messages: string | string[], initiator: NotificationInitiator = rootInitiator): NotificationModel {\n    return {\n        type: NOTIFICATION_TYPE.ERROR,\n        datetime: new Date(),\n        initiator,\n        messages: [].concat(messages)\n    };\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { MatSnackBar, MatSnackBarRef, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { TranslationService } from '../../services/translation.service';\nimport { AppConfigService, AppConfigValues } from '../../app-config/app-config.service';\nimport { Subject } from 'rxjs';\nimport { NotificationModel } from '../models/notification.model';\nimport { info, warning, error } from '../helpers/notification.factory';\n\nconst INFO_SNACK_CLASS = 'adf-info-snackbar';\nconst WARN_SNACK_CLASS = 'adf-warning-snackbar';\nconst ERROR_SNACK_CLASS = 'adf-error-snackbar';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class NotificationService {\n\n    DEFAULT_DURATION_MESSAGE: number = 5000;\n\n    notifications$: Subject<NotificationModel> = new Subject();\n\n    constructor(private snackBar: MatSnackBar,\n                private translationService: TranslationService,\n                private appConfigService: AppConfigService) {\n        this.DEFAULT_DURATION_MESSAGE = this.appConfigService.get<number>(AppConfigValues.NOTIFY_DURATION) || this.DEFAULT_DURATION_MESSAGE;\n    }\n\n    /**\n     * Opens a SnackBar notification to show a message.\n     * @param message The message (or resource key) to show.\n     * @param config Time before notification disappears after being shown or MatSnackBarConfig object\n     * @param interpolateArgs The interpolation parameters to add for the translation\n     * @returns Information/control object for the SnackBar\n     */\n    openSnackMessage(message: string, config?: number | MatSnackBarConfig, interpolateArgs?: any): MatSnackBarRef<any> {\n        return this.dispatchNotification(message, null, config, interpolateArgs);\n    }\n\n    /**\n     * Opens a SnackBar notification with a message and a response button.\n     * @param message The message (or resource key) to show.\n     * @param action Caption for the response button\n     * @param config Time before notification disappears after being shown or MatSnackBarConfig object\n     * @param interpolateArgs The interpolation parameters to add for the translation\n     * @returns Information/control object for the SnackBar\n     */\n    openSnackMessageAction(message: string, action: string, config?: number | MatSnackBarConfig, interpolateArgs?: any): MatSnackBarRef<any> {\n        return this.dispatchNotification(message, action, config, interpolateArgs);\n    }\n\n    /**\n     * Rase error message\n     * @param message Text message or translation key for the message.\n     * @param action Action name\n     * @param interpolateArgs The interpolation parameters to add for the translation\n     */\n    showError(message: string, action?: string, interpolateArgs?: any): MatSnackBarRef<any> {\n        return this.dispatchNotification(message, action, { panelClass: ERROR_SNACK_CLASS }, interpolateArgs);\n    }\n\n    /**\n     * Rase info message\n     * @param message Text message or translation key for the message.\n     * @param action Action name\n     * @param interpolateArgs The interpolation parameters to add for the translation\n     */\n    showInfo(message: string, action?: string, interpolateArgs?: any): MatSnackBarRef<any> {\n        return this.dispatchNotification(message, action, { panelClass: INFO_SNACK_CLASS }, interpolateArgs);\n    }\n\n    /**\n     * Rase warning message\n     * @param message Text message or translation key for the message.\n     * @param action Action name\n     * @param interpolateArgs The interpolation parameters to add for the translation\n     */\n    showWarning(message: string, action?: string, interpolateArgs?: any): MatSnackBarRef<any> {\n        return this.dispatchNotification(message, action, { panelClass: WARN_SNACK_CLASS }, interpolateArgs);\n    }\n\n    /**\n     *  dismiss the notification snackbar\n     */\n    dismissSnackMessageAction() {\n        return this.snackBar.dismiss();\n    }\n\n    /**\n     * Push new notification to Notification History\n     * @param notification - Notification model to be pushed.\n     */\n    pushToNotificationHistory(notification: NotificationModel) {\n        this.notifications$.next(notification);\n    }\n\n    private dispatchNotification(message: string, action?: string, config?: number | MatSnackBarConfig, interpolateArgs?: any):  MatSnackBarRef<any> {\n            const translatedMessage: string = this.translationService.instant(message, interpolateArgs);\n            const translatedAction: string = this.translationService.instant(action, interpolateArgs);\n            const createNotification = this.getNotificationCreator(config);\n            this.notifications$.next(createNotification(translatedMessage));\n\n            return this.snackBar.open(translatedMessage, translatedAction, {\n                duration: (typeof config === 'number') ? config : this.DEFAULT_DURATION_MESSAGE,\n                panelClass: INFO_SNACK_CLASS,\n                ...( (typeof config === 'object') ? config : {} )\n            });\n    }\n\n    private getNotificationCreator(config?: number | MatSnackBarConfig) {\n        let panelClass: string = null;\n        if (typeof config === 'object') {\n            panelClass = Array.isArray(config.panelClass) ? config.panelClass[0] : config.panelClass;\n        }\n\n        switch (panelClass) {\n            case ERROR_SNACK_CLASS:\n                return error;\n            case WARN_SNACK_CLASS:\n                return warning;\n            default:\n                return info;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable, Inject } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { LogService } from '../services/log.service';\nimport { NotificationService } from '../notifications/services/notification.service';\n\n@Injectable({ providedIn: 'root' })\nexport class ClipboardService {\n\n    constructor(\n        @Inject(DOCUMENT) private document: any,\n        private logService: LogService,\n        private notificationService: NotificationService) {}\n\n    /**\n     * Checks if the target element can have its text copied.\n     * @param target Target HTML element\n     * @returns True if the text can be copied, false otherwise\n     */\n    isTargetValid(target: HTMLInputElement | HTMLTextAreaElement) {\n        if (target instanceof HTMLInputElement || target instanceof HTMLTextAreaElement) {\n            return !target.hasAttribute('disabled');\n        }\n        return false;\n    }\n\n    /**\n     * Copies text from an HTML element to the clipboard.\n     * @param target HTML element to be copied\n     * @param message Snackbar message to alert when copying happens\n     */\n    copyToClipboard(target: HTMLInputElement | HTMLTextAreaElement, message?: string) {\n        if (this.isTargetValid(target)) {\n            try {\n                target.select();\n                target.setSelectionRange(0, target.value.length);\n                this.document.execCommand('copy');\n                this.notify(message);\n            } catch (error) {\n                this.logService.error(error);\n            }\n        }\n    }\n\n    /**\n     * Copies a text string to the clipboard.\n     * @param content Text to copy\n     * @param message Snackbar message to alert when copying happens\n     */\n    copyContentToClipboard(content: string, message: string) {\n        try {\n            document.addEventListener('copy', (e: ClipboardEvent) => {\n                e.clipboardData.setData('text/plain', (content));\n                e.preventDefault();\n                document.removeEventListener('copy', null);\n              });\n            document.execCommand('copy');\n            this.notify(message);\n        } catch (error) {\n            this.logService.error(error);\n        }\n    }\n\n    private notify(message) {\n        if (message) {\n            this.notificationService.openSnackMessage(message);\n        }\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Directive, Input, HostListener, Component, ViewContainerRef, ComponentFactoryResolver, ViewEncapsulation, OnInit } from '@angular/core';\nimport { ClipboardService } from './clipboard.service';\n\n@Directive({\n    selector: '[adf-clipboard]',\n    exportAs: 'adfClipboard'\n})\nexport class ClipboardDirective {\n    /** Translation key or message for the tooltip. */\n    // tslint:disable-next-line:no-input-rename\n    @Input('adf-clipboard')\n    placeholder: string;\n\n    /** Reference to the HTML element containing the text to copy. */\n    @Input()\n    target: HTMLInputElement | HTMLTextAreaElement;\n\n    /** Translation key or message for snackbar notification. */\n    // tslint:disable-next-line:no-input-rename\n    @Input('clipboard-notification') message: string;\n\n    constructor(private clipboardService: ClipboardService,\n                public viewContainerRef: ViewContainerRef,\n                private resolver: ComponentFactoryResolver) {}\n\n    @HostListener('click', ['$event'])\n    handleClickEvent(event: MouseEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.copyToClipboard();\n    }\n\n    @HostListener('mouseenter')\n    showTooltip() {\n        if (this.placeholder) {\n            const componentFactory = this.resolver.resolveComponentFactory(ClipboardComponent);\n            const componentRef = this.viewContainerRef.createComponent(componentFactory).instance;\n            componentRef.placeholder = this.placeholder;\n        }\n    }\n\n    @HostListener('mouseleave')\n    closeTooltip() {\n        this.viewContainerRef.remove();\n    }\n\n    private copyToClipboard() {\n        const isValidTarget = this.clipboardService.isTargetValid(this.target);\n\n        if (isValidTarget) {\n            this.clipboardService.copyToClipboard(this.target, this.message);\n        } else {\n            this.copyContentToClipboard(this.viewContainerRef.element.nativeElement.innerHTML);\n        }\n    }\n\n    private copyContentToClipboard(content) {\n        this.clipboardService.copyContentToClipboard(content, this.message);\n    }\n}\n\n@Component({\n    selector: 'adf-copy-content-tooltip',\n    template: `<span class='adf-copy-tooltip'>{{ placeholder | translate }} </span>`,\n    encapsulation: ViewEncapsulation.None\n})\nexport class ClipboardComponent implements OnInit {\n    placeholder: string;\n\n    ngOnInit() {\n        this.placeholder = this.placeholder || 'CLIPBOARD.CLICK_TO_COPY';\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ClipboardDirective, ClipboardComponent } from './clipboard.directive';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        TranslateModule\n    ],\n    declarations: [\n        ClipboardDirective,\n        ClipboardComponent\n    ],\n    exports: [\n        ClipboardDirective\n    ]\n})\n\nexport class ClipboardModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Directive, Input, ElementRef, NgZone, OnInit, OnDestroy } from '@angular/core';\nimport { DataRow } from '../data/data-row.model';\nimport { DataColumn } from '../data/data-column.model';\n\n@Directive({\n    selector: '[adf-drop-zone]'\n})\nexport class DropZoneDirective implements OnInit, OnDestroy {\n    private element: HTMLElement;\n\n    @Input()\n    dropTarget: 'header' | 'cell' = 'cell';\n\n    @Input()\n    dropRow: DataRow;\n\n    @Input()\n    dropColumn: DataColumn;\n\n    constructor(elementRef: ElementRef, private ngZone: NgZone) {\n        this.element = elementRef.nativeElement;\n    }\n\n    ngOnInit() {\n        this.ngZone.runOutsideAngular(() => {\n            this.element.addEventListener('dragenter', this.onDragEnter.bind(this));\n            this.element.addEventListener('dragover', this.onDragOver.bind(this));\n            this.element.addEventListener('drop', this.onDrop.bind(this));\n        });\n    }\n\n    ngOnDestroy() {\n        this.element.removeEventListener('dragenter', this.onDragEnter);\n        this.element.removeEventListener('dragover', this.onDragOver);\n        this.element.removeEventListener('drop', this.onDrop);\n    }\n\n    onDragEnter(event: DragEvent) {\n        const domEvent = this.dispatchDomEvent(event, 'dragenter');\n\n        if (domEvent.defaultPrevented) {\n            event.dataTransfer.dropEffect = 'copy';\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    }\n\n    onDragOver(event: DragEvent) {\n        const domEvent = this.dispatchDomEvent(event, 'dragover');\n\n        if (domEvent.defaultPrevented) {\n            event.dataTransfer.dropEffect = 'copy';\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    }\n\n    onDrop(event: Event) {\n        const domEvent = this.dispatchDomEvent(event, 'drop');\n\n        if (domEvent.defaultPrevented) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    }\n\n    private dispatchDomEvent(originalEvent: Event, eventName: string): CustomEvent {\n        const domEvent = new CustomEvent(`${this.dropTarget}-${eventName}`, {\n            detail: {\n                target: this.dropTarget,\n                event: originalEvent,\n                column: this.dropColumn,\n                row: this.dropRow\n            },\n            bubbles: true\n        });\n\n        this.element.dispatchEvent(domEvent);\n        return domEvent;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector no-input-rename  */\n\nimport { Component, ContentChild, TemplateRef } from '@angular/core';\nimport { DataColumnComponent } from './data-column.component';\n\n@Component({\n    selector: 'adf-data-column-header',\n    template: ''\n})\nexport class DateColumnHeaderComponent {\n\n    @ContentChild(TemplateRef)\n    public header: TemplateRef<any>;\n\n    constructor(private columnComponent: DataColumnComponent) {}\n\n    ngAfterContentInit() {\n        if (this.columnComponent) {\n            this.columnComponent.header = this.header;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { DataColumnListComponent } from './data-column-list.component';\nimport { DataColumnComponent } from './data-column.component';\nimport { DateColumnHeaderComponent } from './data-column-header.component';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        DataColumnComponent,\n        DataColumnListComponent,\n        DateColumnHeaderComponent\n    ],\n    exports: [\n        DataColumnComponent,\n        DataColumnListComponent,\n        DateColumnHeaderComponent\n    ]\n})\nexport class DataColumnModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { MaterialModule } from '../material.module';\nimport { ContextMenuModule } from '../context-menu/context-menu.module';\nimport { PipeModule } from '../pipes/pipe.module';\n\nimport { DirectiveModule } from '../directives/directive.module';\nimport { DataTableCellComponent } from './components/datatable-cell/datatable-cell.component';\nimport { DataTableRowComponent } from './components/datatable-row/datatable-row.component';\nimport { DataTableComponent } from './components/datatable/datatable.component';\nimport { DateCellComponent } from './components/date-cell/date-cell.component';\nimport { EmptyListBodyDirective,\n    EmptyListComponent,\n    EmptyListFooterDirective,\n    EmptyListHeaderDirective } from './components/empty-list/empty-list.component';\nimport { FileSizeCellComponent } from './components/filesize-cell/filesize-cell.component';\nimport { LocationCellComponent } from './components/location-cell/location-cell.component';\nimport { LoadingContentTemplateDirective } from './directives/loading-template.directive';\nimport { NoContentTemplateDirective } from './directives/no-content-template.directive';\nimport { NoPermissionTemplateDirective } from './directives/no-permission-template.directive';\nimport { HeaderFilterTemplateDirective } from './directives/header-filter-template.directive';\nimport { CustomEmptyContentTemplateDirective } from './directives/custom-empty-content-template.directive';\nimport { CustomLoadingContentTemplateDirective } from './directives/custom-loading-template.directive';\nimport { CustomNoPermissionTemplateDirective } from './directives/custom-no-permission-template.directive';\nimport { JsonCellComponent } from './components/json-cell/json-cell.component';\nimport { ClipboardModule } from '../clipboard/clipboard.module';\nimport { DropZoneDirective } from './directives/drop-zone.directive';\nimport { DataColumnModule } from '../data-column/data-column.module';\n\n@NgModule({\n    imports: [\n        RouterModule,\n        MaterialModule,\n        CommonModule,\n        TranslateModule,\n        DataColumnModule,\n        ContextMenuModule,\n        PipeModule,\n        DirectiveModule,\n        ClipboardModule\n    ],\n    declarations: [\n        DataTableComponent,\n        EmptyListComponent,\n        EmptyListHeaderDirective,\n        EmptyListBodyDirective,\n        EmptyListFooterDirective,\n        DataTableCellComponent,\n        DataTableRowComponent,\n        DateCellComponent,\n        FileSizeCellComponent,\n        LocationCellComponent,\n        JsonCellComponent,\n        NoContentTemplateDirective,\n        NoPermissionTemplateDirective,\n        LoadingContentTemplateDirective,\n        HeaderFilterTemplateDirective,\n        CustomEmptyContentTemplateDirective,\n        CustomLoadingContentTemplateDirective,\n        CustomNoPermissionTemplateDirective,\n        DropZoneDirective\n    ],\n    exports: [\n        DataTableComponent,\n        EmptyListComponent,\n        EmptyListHeaderDirective,\n        EmptyListBodyDirective,\n        EmptyListFooterDirective,\n        DataTableCellComponent,\n        DataTableRowComponent,\n        DateCellComponent,\n        FileSizeCellComponent,\n        LocationCellComponent,\n        JsonCellComponent,\n        NoContentTemplateDirective,\n        NoPermissionTemplateDirective,\n        LoadingContentTemplateDirective,\n        HeaderFilterTemplateDirective,\n        CustomEmptyContentTemplateDirective,\n        CustomLoadingContentTemplateDirective,\n        CustomNoPermissionTemplateDirective,\n        DropZoneDirective\n    ]\n\n})\nexport class DataTableModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MaterialModule } from '../material.module';\nimport { DataTableModule } from '../datatable/datatable.module';\nimport { AboutApplicationModulesComponent } from './about-application-modules/about-application-modules.component';\nimport { AboutProductVersionComponent } from './about-product-version/about-product-version.component';\nimport { AboutGithubLinkComponent } from './about-github-link/about-github-link.component';\nimport { AboutServerSettingsComponent } from './about-server-settings/about-server-settings.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule,\n        DataTableModule\n    ],\n    declarations: [\n        AboutApplicationModulesComponent,\n        AboutProductVersionComponent,\n        AboutGithubLinkComponent,\n        AboutServerSettingsComponent\n    ],\n    exports: [\n        AboutApplicationModulesComponent,\n        AboutProductVersionComponent,\n        AboutGithubLinkComponent,\n        AboutServerSettingsComponent\n    ]\n})\nexport class AboutModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { RenditionEntry, RenditionPaging } from '@alfresco/js-api';\nimport { AlfrescoApiService } from '../../services/alfresco-api.service';\nimport { LogService } from '../../services/log.service';\nimport { Subject } from 'rxjs';\nimport { Track } from '../models/viewer.model';\nimport { TranslationService } from '../../services/translation.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ViewUtilService {\n    static TARGET = '_new';\n\n    /**\n     * Content groups based on categorization of files that can be viewed in the web browser. This\n     * implementation or grouping is tied to the definition the ng component: ViewerComponent\n     */\n    // tslint:disable-next-line:variable-name\n    static ContentGroup = {\n        IMAGE: 'image',\n        MEDIA: 'media',\n        PDF: 'pdf',\n        TEXT: 'text'\n    };\n\n    /**\n     * The name of the rendition with the media subtitles in the supported format\n     */\n    /* tslint:disable-next-line */\n    static SUBTITLES_RENDITION_NAME = 'webvtt';\n\n    /**\n     * Based on ViewerComponent Implementation, this value is used to determine how many times we try\n     * to get the rendition of a file for preview, or printing.\n     */\n    maxRetries = 5;\n\n    /**\n     * Mime-type grouping based on the ViewerComponent.\n     */\n    private mimeTypes = {\n        text: ['text/plain', 'text/csv', 'text/xml', 'text/html', 'application/x-javascript'],\n        pdf: ['application/pdf'],\n        image: ['image/png', 'image/jpeg', 'image/gif', 'image/bmp', 'image/svg+xml'],\n        media: ['video/mp4', 'video/webm', 'video/ogg', 'audio/mpeg', 'audio/ogg', 'audio/wav']\n    };\n\n    /**\n     * Timeout used for setInterval.\n     */\n    TRY_TIMEOUT: number = 10000;\n\n    /**\n     * Subscribers needed for ViewerComponent to update the viewerType and urlFileContent.\n     */\n    viewerTypeChange: Subject<string> = new Subject<string>();\n    urlFileContentChange: Subject<string> = new Subject<string>();\n\n    constructor(private apiService: AlfrescoApiService,\n                private logService: LogService,\n                private translateService: TranslationService) {\n    }\n\n    /**\n     * This method takes a url to trigger the print dialog against, and the type of artifact that it\n     * is.\n     * This URL should be one that can be rendered in the browser, for example PDF, Image, or Text\n     */\n    printFile(url: string, type: string): void {\n        const pwa = window.open(url, ViewUtilService.TARGET);\n        if (pwa) {\n            // Because of the way chrome focus and close image window vs. pdf preview window\n            if (type === ViewUtilService.ContentGroup.IMAGE) {\n                pwa.onfocus = () => {\n                    setTimeout(() => {\n                        pwa.close();\n                    }, 500);\n                };\n            }\n\n            pwa.onload = () => {\n                pwa.print();\n            };\n        }\n    }\n\n    /**\n     * Launch the File Print dialog from anywhere other than the preview service, which resolves the\n     * rendition of the object that can be printed from a web browser.\n     * These are: images, PDF files, or PDF rendition of files.\n     * We also force PDF rendition for TEXT type objects, otherwise the default URL is to download.\n     * TODO there are different TEXT type objects, (HTML, plaintext, xml, etc. we should determine how these are handled)\n     */\n    printFileGeneric(objectId: string, mimeType: string): void {\n        const nodeId = objectId;\n        const type: string = this.getViewerTypeByMimeType(mimeType);\n\n        this.getRendition(nodeId, ViewUtilService.ContentGroup.PDF)\n            .then((value) => {\n                const url: string = this.getRenditionUrl(nodeId, type, (value ? true : false));\n                const printType = (type === ViewUtilService.ContentGroup.PDF\n                    || type === ViewUtilService.ContentGroup.TEXT)\n                    ? ViewUtilService.ContentGroup.PDF : type;\n                this.printFile(url, printType);\n            })\n            .catch((err) => {\n                this.logService.error('Error with Printing');\n                this.logService.error(err);\n            });\n    }\n\n    getRenditionUrl(nodeId: string, type: string, renditionExists: boolean): string {\n        return (renditionExists && type !== ViewUtilService.ContentGroup.IMAGE) ?\n            this.apiService.contentApi.getRenditionUrl(nodeId, ViewUtilService.ContentGroup.PDF) :\n            this.apiService.contentApi.getContentUrl(nodeId, false);\n    }\n\n    private async waitRendition(nodeId: string, renditionId: string, retries: number): Promise<RenditionEntry> {\n        const rendition = await this.apiService.renditionsApi.getRendition(nodeId, renditionId);\n\n        if (this.maxRetries < retries) {\n            const status = rendition.entry.status.toString();\n\n            if (status === 'CREATED') {\n                return rendition;\n            } else {\n                retries += 1;\n                await this.wait(1000);\n                return this.waitRendition(nodeId, renditionId, retries);\n            }\n        }\n\n        return Promise.resolve(null);\n    }\n\n    getViewerTypeByMimeType(mimeType: string): string {\n        if (mimeType) {\n            mimeType = mimeType.toLowerCase();\n\n            const editorTypes = Object.keys(this.mimeTypes);\n            for (const type of editorTypes) {\n                if (this.mimeTypes[type].indexOf(mimeType) >= 0) {\n                    return type;\n                }\n            }\n        }\n        return 'unknown';\n    }\n\n    wait(ms: number): Promise<any> {\n        return new Promise((resolve) => setTimeout(resolve, ms));\n    }\n\n    async getRendition(nodeId: string, renditionId: string): Promise<RenditionEntry> {\n        const renditionPaging: RenditionPaging = await this.apiService.renditionsApi.getRenditions(nodeId);\n        let rendition: RenditionEntry = renditionPaging.list.entries.find((renditionEntry: RenditionEntry) => renditionEntry.entry.id.toLowerCase() === renditionId);\n\n        if (rendition) {\n            const status = rendition.entry.status.toString();\n\n            if (status === 'NOT_CREATED') {\n                try {\n                    await this.apiService.renditionsApi.createRendition(nodeId, { id: renditionId });\n                    rendition = await this.waitRendition(nodeId, renditionId, 0);\n                } catch (err) {\n                    this.logService.error(err);\n                }\n            }\n        }\n        return new Promise<RenditionEntry>((resolve) => resolve(rendition));\n    }\n\n    async displayNodeRendition(nodeId: string, versionId?: string) {\n        try {\n            const rendition = versionId ? await this.resolveNodeRendition(nodeId, 'pdf', versionId) :\n                await this.resolveNodeRendition(nodeId, 'pdf');\n            if (rendition) {\n                const renditionId = rendition.entry.id;\n\n                if (renditionId === 'pdf') {\n                    this.viewerTypeChange.next('pdf');\n                } else if (renditionId === 'imgpreview') {\n                    this.viewerTypeChange.next('image');\n                }\n\n                const urlFileContent = versionId ? this.apiService.contentApi.getVersionRenditionUrl(nodeId, versionId, renditionId) :\n                    this.apiService.contentApi.getRenditionUrl(nodeId, renditionId);\n                this.urlFileContentChange.next(urlFileContent);\n            }\n        } catch (err) {\n            this.logService.error(err);\n        }\n    }\n\n    private async resolveNodeRendition(nodeId: string, renditionId: string, versionId?: string): Promise<RenditionEntry> {\n        renditionId = renditionId.toLowerCase();\n\n        const supportedRendition: RenditionPaging = versionId ? await this.apiService.versionsApi.listVersionRenditions(nodeId, versionId) :\n            await this.apiService.renditionsApi.getRenditions(nodeId);\n\n        let rendition: RenditionEntry = supportedRendition.list.entries.find((renditionEntry: RenditionEntry) => renditionEntry.entry.id.toLowerCase() === renditionId);\n        if (!rendition) {\n            renditionId = 'imgpreview';\n            rendition = supportedRendition.list.entries.find((renditionEntry: RenditionEntry) => renditionEntry.entry.id.toLowerCase() === renditionId);\n        }\n\n        if (rendition) {\n            const status: string = rendition.entry.status.toString();\n\n            if (status === 'NOT_CREATED') {\n                try {\n                    if (versionId) {\n                        await this.apiService.versionsApi.createVersionRendition(nodeId, versionId, { id: renditionId }).then(() => {\n                            this.viewerTypeChange.next('in_creation');\n                        });\n                    } else {\n                        await this.apiService.renditionsApi.createRendition(nodeId, { id: renditionId }).then(() => {\n                            this.viewerTypeChange.next('in_creation');\n                        });\n                    }\n                    try {\n                        rendition = versionId ? await this.waitNodeRendition(nodeId, renditionId, versionId) : await this.waitNodeRendition(nodeId, renditionId);\n                    } catch (e) {\n                        this.viewerTypeChange.next('error_in_creation');\n                        rendition = null;\n                    }\n\n                } catch (err) {\n                    this.logService.error(err);\n                }\n            }\n        }\n\n        return rendition;\n    }\n\n    private async waitNodeRendition(nodeId: string, renditionId: string, versionId?: string): Promise<RenditionEntry> {\n        let currentRetry: number = 0;\n        return new Promise<RenditionEntry>((resolve, reject) => {\n            const intervalId = setInterval(() => {\n                currentRetry++;\n                if (this.maxRetries >= currentRetry) {\n                    if (versionId) {\n                        this.apiService.versionsApi.getVersionRendition(nodeId, versionId, renditionId).then((rendition: RenditionEntry) => {\n                            const status: string = rendition.entry.status.toString();\n\n                            if (status === 'CREATED') {\n                                this.handleNodeRendition(nodeId, renditionId, versionId);\n                                clearInterval(intervalId);\n                                return resolve(rendition);\n                            }\n                        }, () => {\n                            return reject();\n                        });\n                    } else {\n                        this.apiService.renditionsApi.getRendition(nodeId, renditionId).then((rendition: RenditionEntry) => {\n                            const status: string = rendition.entry.status.toString();\n\n                            if (status === 'CREATED') {\n                                this.handleNodeRendition(nodeId, renditionId);\n                                clearInterval(intervalId);\n                                return resolve(rendition);\n                            }\n                        }, () => {\n                            return reject();\n                        });\n                    }\n                } else {\n                    clearInterval(intervalId);\n                    return reject();\n                }\n            }, this.TRY_TIMEOUT);\n        });\n    }\n\n    private async handleNodeRendition(nodeId: string, renditionId: string, versionId?: string) {\n        if (renditionId === 'pdf') {\n            this.viewerTypeChange.next('pdf');\n        } else if (renditionId === 'imgpreview') {\n            this.viewerTypeChange.next('image');\n        }\n\n        const urlFileContent = versionId ? this.apiService.contentApi.getVersionRenditionUrl(nodeId, versionId, renditionId) :\n            this.apiService.contentApi.getRenditionUrl(nodeId, renditionId);\n        this.urlFileContentChange.next(urlFileContent);\n    }\n\n    async generateMediaTracks(nodeId: string): Promise<Track[]> {\n        return this.isRenditionAvailable(nodeId, ViewUtilService.SUBTITLES_RENDITION_NAME)\n            .then((value) => {\n                const tracks = [];\n                if (value) {\n                    tracks.push({\n                        kind: 'subtitles',\n                        src: this.apiService.contentApi.getRenditionUrl(nodeId, ViewUtilService.SUBTITLES_RENDITION_NAME),\n                        label: this.translateService.instant('ADF_VIEWER.SUBTITLES')\n                    });\n                }\n                return tracks;\n            })\n            .catch((err) => {\n                this.logService.error('Error while retrieving ' + ViewUtilService.SUBTITLES_RENDITION_NAME + ' rendition');\n                this.logService.error(err);\n                return [];\n            });\n    }\n\n    private async isRenditionAvailable(nodeId: string, renditionId: string): Promise<boolean> {\n        const renditionPaging: RenditionPaging = await this.apiService.renditionsApi.getRenditions(nodeId);\n        const rendition: RenditionEntry = renditionPaging.list.entries.find((renditionEntry: RenditionEntry) => renditionEntry.entry.id.toLowerCase() === renditionId);\n\n        return rendition?.entry?.status?.toString() === 'CREATED' || false;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n    selector: 'adf-viewer-more-actions',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: { class: 'adf-viewer-more-actions' },\n    template: `<ng-content></ng-content>`\n})\nexport class ViewerMoreActionsComponent {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n    selector: 'adf-viewer-open-with',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: { class: 'adf-viewer-open-with' },\n    template: `<ng-content></ng-content>`\n})\nexport class ViewerOpenWithComponent {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ChangeDetectionStrategy, Component, HostListener, ViewEncapsulation } from '@angular/core';\n\n@Component({\n    selector: 'adf-viewer-sidebar',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: { class: 'adf-viewer-sidebar' },\n    template: `<ng-content></ng-content>`\n})\nexport class ViewerSidebarComponent {\n    @HostListener('keydown', ['$event'])\n    onKeyDown(event: KeyboardEvent) {\n        event.cancelBubble = true;\n    }\n\n    @HostListener('keyup', ['$event'])\n    onKeyUp(event: KeyboardEvent) {\n        event.cancelBubble = true;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n    selector: 'adf-viewer-toolbar',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: { class: 'adf-viewer-toolbar' },\n    template: `<ng-content></ng-content>`\n})\nexport class ViewerToolbarComponent {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EventEmitter, Injectable } from '@angular/core';\nimport { Minimatch } from 'minimatch';\nimport { Subject } from 'rxjs';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport {\n    FileUploadCompleteEvent,\n    FileUploadDeleteEvent,\n    FileUploadErrorEvent,\n    FileUploadEvent\n} from '../events/file.event';\nimport { FileModel, FileUploadProgress, FileUploadStatus } from '../models/file.model';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { DiscoveryApiService } from './discovery-api.service';\nimport { filter } from 'rxjs/operators';\n\nconst MIN_CANCELLABLE_FILE_SIZE = 1000000;\nconst MAX_CANCELLABLE_FILE_PERCENTAGE = 50;\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class UploadService {\n    private cache: { [key: string]: any } = {};\n    private totalComplete: number = 0;\n    private totalAborted: number = 0;\n    private totalError: number = 0;\n    private excludedFileList: string[] = [];\n    private excludedFoldersList: string[] = [];\n    private matchingOptions: any = null;\n    private folderMatchingOptions: any = null;\n    private abortedFile: string;\n    private isThumbnailGenerationEnabled: boolean;\n\n    activeTask: Promise<any> = null;\n    queue: FileModel[] = [];\n\n    queueChanged: Subject<FileModel[]> = new Subject<FileModel[]>();\n    fileUpload: Subject<FileUploadEvent> = new Subject<FileUploadEvent>();\n    fileUploadStarting: Subject<FileUploadEvent> = new Subject<\n        FileUploadEvent\n    >();\n    fileUploadCancelled: Subject<FileUploadEvent> = new Subject<\n        FileUploadEvent\n    >();\n    fileUploadProgress: Subject<FileUploadEvent> = new Subject<\n        FileUploadEvent\n    >();\n    fileUploadAborted: Subject<FileUploadEvent> = new Subject<\n        FileUploadEvent\n    >();\n    fileUploadError: Subject<FileUploadErrorEvent> = new Subject<\n        FileUploadErrorEvent\n    >();\n    fileUploadComplete: Subject<FileUploadCompleteEvent> = new Subject<\n        FileUploadCompleteEvent\n    >();\n    fileUploadDeleted: Subject<FileUploadDeleteEvent> = new Subject<\n        FileUploadDeleteEvent\n    >();\n    fileDeleted: Subject<string> = new Subject<string>();\n\n    constructor(\n        protected apiService: AlfrescoApiService,\n        private appConfigService: AppConfigService,\n        private discoveryApiService: DiscoveryApiService) {\n\n        this.discoveryApiService.ecmProductInfo$.pipe(filter(info => !!info))\n            .subscribe(({ status }) => {\n                this.isThumbnailGenerationEnabled = status.isThumbnailGenerationEnabled;\n            });\n    }\n\n    /**\n     * Checks whether the service still has files uploading or awaiting upload.\n     * @returns True if files in the queue are still uploading, false otherwise\n     */\n    isUploading(): boolean {\n        const finishedFileStates = [FileUploadStatus.Complete, FileUploadStatus.Cancelled, FileUploadStatus.Aborted, FileUploadStatus.Error, FileUploadStatus.Deleted];\n        return this.queue.reduce((stillUploading: boolean, currentFile: FileModel) => {\n            return stillUploading || finishedFileStates.indexOf(currentFile.status) === -1;\n        }, false);\n    }\n\n    /**\n     * Gets the file Queue\n     * @returns Array of files that form the queue\n     */\n    getQueue(): FileModel[] {\n        return this.queue;\n    }\n\n    /**\n     * Adds files to the uploading queue to be uploaded\n     * @param files One or more separate parameters or an array of files to queue\n     * @returns Array of files that were not blocked from upload by the ignore list\n     */\n    addToQueue(...files: FileModel[]): FileModel[] {\n        const allowedFiles = files.filter((currentFile) =>\n            this.filterElement(currentFile)\n        );\n        this.queue = this.queue.concat(allowedFiles);\n        this.queueChanged.next(this.queue);\n        return allowedFiles;\n    }\n\n    private filterElement(file: FileModel) {\n        this.excludedFileList = <string[]> this.appConfigService.get('files.excluded');\n        this.excludedFoldersList = <string[]> this.appConfigService.get('folders.excluded');\n        let isAllowed = true;\n\n        if (this.excludedFileList) {\n            this.matchingOptions = this.appConfigService.get('files.match-options');\n            isAllowed = this.isFileNameAllowed(file);\n        }\n\n        if (isAllowed && this.excludedFoldersList) {\n            this.folderMatchingOptions = this.appConfigService.get('folders.match-options');\n            isAllowed = this.isParentFolderAllowed(file);\n        }\n        return isAllowed;\n    }\n\n    private isParentFolderAllowed(file: FileModel): boolean {\n        let isAllowed: boolean = true;\n        const currentFile: any = file.file;\n        const fileRelativePath = currentFile.webkitRelativePath ? currentFile.webkitRelativePath : file.options.path;\n        if (currentFile && fileRelativePath) {\n            isAllowed =\n                this.excludedFoldersList.filter((folderToExclude) => {\n                    return fileRelativePath\n                        .split('/')\n                        .some((pathElement) => {\n                            const minimatch = new Minimatch(folderToExclude, this.folderMatchingOptions);\n                            return minimatch.match(pathElement);\n                        });\n                }).length === 0;\n        }\n        return isAllowed;\n    }\n\n    private isFileNameAllowed(file: FileModel): boolean {\n        return (\n            this.excludedFileList.filter((pattern) => {\n                const minimatch = new Minimatch(pattern, this.matchingOptions);\n                return minimatch.match(file.name);\n            }).length === 0\n        );\n    }\n\n    /**\n     * Finds all the files in the queue that are not yet uploaded and uploads them into the directory folder.\n     * @param successEmitter Emitter to invoke on file success status change\n     * @param errorEmitter Emitter to invoke on file error status change\n     */\n    uploadFilesInTheQueue(successEmitter?: EventEmitter<any>, errorEmitter?: EventEmitter<any>): void {\n        if (!this.activeTask) {\n            const file = this.queue.find(\n                (currentFile) => currentFile.status === FileUploadStatus.Pending\n            );\n            if (file) {\n                this.onUploadStarting(file);\n\n                const promise = this.beginUpload(file, successEmitter, errorEmitter);\n                this.activeTask = promise;\n                this.cache[file.name] = promise;\n\n                const next = () => {\n                    this.activeTask = null;\n                    setTimeout(() => this.uploadFilesInTheQueue(successEmitter, errorEmitter), 100);\n                };\n\n                promise.next = next;\n\n                promise.then(\n                    () => next(),\n                    () => next()\n                );\n            }\n        }\n    }\n\n    /**\n     * Cancels uploading of files.\n     * If the file is smaller than 1 MB the file will be uploaded and then the node deleted\n     * to prevent having files that were aborted but still uploaded.\n     * @param files One or more separate parameters or an array of files specifying uploads to cancel\n     */\n    cancelUpload(...files: FileModel[]) {\n        files.forEach((file) => {\n            const promise = this.cache[file.name];\n            if (promise) {\n                if (this.isSaveToAbortFile(file)) {\n                    promise.abort();\n                }\n                this.abortedFile = file.name;\n                delete this.cache[file.name];\n                promise.next();\n            } else {\n                const performAction = this.getAction(file);\n                performAction();\n            }\n        });\n    }\n\n    /** Clears the upload queue */\n    clearQueue() {\n        this.queue = [];\n        this.totalComplete = 0;\n        this.totalAborted = 0;\n        this.totalError = 0;\n    }\n\n    /**\n     * Gets an upload promise for a file.\n     * @param file The target file\n     * @returns Promise that is resolved if the upload is successful or error otherwise\n     */\n    getUploadPromise(file: FileModel): any {\n        const opts: any = {\n            include: ['allowableOperations']\n        };\n\n        if (this.isThumbnailGenerationEnabled) {\n            opts.renditions = 'doclib';\n        }\n\n        if (file.options.newVersion === true) {\n            opts.overwrite = true;\n            opts.majorVersion = file.options.majorVersion;\n            opts.comment = file.options.comment;\n            opts.name = file.name;\n        } else {\n            opts.autoRename = true;\n        }\n\n        if (file.options.nodeType) {\n            opts.nodeType = file.options.nodeType;\n        }\n\n        if (file.id) {\n            return this.apiService\n                .getInstance()\n                .node.updateNodeContent(file.id, file.file, opts);\n        } else {\n            return this.apiService\n                .getInstance()\n                .upload.uploadFile(\n                    file.file,\n                    file.options.path,\n                    file.options.parentId,\n                    file.options,\n                    opts\n                );\n        }\n    }\n\n    private beginUpload(file: FileModel, successEmitter?: EventEmitter<any>, errorEmitter?: EventEmitter<any>): any {\n        const promise = this.getUploadPromise(file);\n        promise\n            .on('progress', (progress: FileUploadProgress) => {\n                this.onUploadProgress(file, progress);\n            })\n            .on('abort', () => {\n                this.onUploadAborted(file);\n                if (successEmitter) {\n                    successEmitter.emit({ value: 'File aborted' });\n                }\n            })\n            .on('error', (err) => {\n                this.onUploadError(file, err);\n                if (errorEmitter) {\n                    errorEmitter.emit({ value: 'Error file uploaded' });\n                }\n            })\n            .on('success', (data) => {\n                if (this.abortedFile === file.name) {\n                    this.onUploadAborted(file);\n                    if (file.id === undefined) {\n                        this.deleteAbortedNode(data.entry.id);\n                    } else {\n                        this.deleteAbortedNodeVersion(data.entry.id, data.entry.properties['cm:versionLabel']);\n                    }\n                    if (successEmitter) {\n                        successEmitter.emit({ value: 'File deleted' });\n                    }\n                } else {\n                    this.onUploadComplete(file, data);\n                    if (successEmitter) {\n                        successEmitter.emit({ value: data });\n                    }\n                }\n            })\n            .catch(() => {});\n\n        return promise;\n    }\n\n    private onUploadStarting(file: FileModel): void {\n        if (file) {\n            file.status = FileUploadStatus.Starting;\n            const event = new FileUploadEvent(file, FileUploadStatus.Starting);\n            this.fileUpload.next(event);\n            this.fileUploadStarting.next(event);\n        }\n    }\n\n    private onUploadProgress(\n        file: FileModel,\n        progress: FileUploadProgress\n    ): void {\n        if (file) {\n            file.progress = progress;\n            file.status = FileUploadStatus.Progress;\n\n            const event = new FileUploadEvent(file, FileUploadStatus.Progress);\n            this.fileUpload.next(event);\n            this.fileUploadProgress.next(event);\n        }\n    }\n\n    private onUploadError(file: FileModel, error: any): void {\n        if (file) {\n            file.errorCode = (error || {}).status;\n            file.status = FileUploadStatus.Error;\n            this.totalError++;\n\n            const promise = this.cache[file.name];\n            if (promise) {\n                delete this.cache[file.name];\n            }\n\n            const event = new FileUploadErrorEvent(\n                file,\n                error,\n                this.totalError\n            );\n            this.fileUpload.next(event);\n            this.fileUploadError.next(event);\n        }\n    }\n\n    private onUploadComplete(file: FileModel, data: any): void {\n        if (file) {\n            file.status = FileUploadStatus.Complete;\n            file.data = data;\n            this.totalComplete++;\n            const promise = this.cache[file.name];\n            if (promise) {\n                delete this.cache[file.name];\n            }\n\n            const event = new FileUploadCompleteEvent(\n                file,\n                this.totalComplete,\n                data,\n                this.totalAborted\n            );\n            this.fileUpload.next(event);\n            this.fileUploadComplete.next(event);\n        }\n    }\n\n    private onUploadAborted(file: FileModel): void {\n        if (file) {\n            file.status = FileUploadStatus.Aborted;\n            this.totalAborted++;\n\n            const event = new FileUploadEvent(file, FileUploadStatus.Aborted);\n            this.fileUpload.next(event);\n            this.fileUploadAborted.next(event);\n        }\n    }\n\n    private onUploadCancelled(file: FileModel): void {\n        if (file) {\n            file.status = FileUploadStatus.Cancelled;\n\n            const event = new FileUploadEvent(file, FileUploadStatus.Cancelled);\n            this.fileUpload.next(event);\n            this.fileUploadCancelled.next(event);\n        }\n    }\n\n    private onUploadDeleted(file: FileModel): void {\n        if (file) {\n            file.status = FileUploadStatus.Deleted;\n            this.totalComplete--;\n\n            const event = new FileUploadDeleteEvent(file, this.totalComplete);\n            this.fileUpload.next(event);\n            this.fileUploadDeleted.next(event);\n        }\n    }\n\n    private getAction(file: FileModel) {\n        const actions = {\n            [FileUploadStatus.Pending]: () => this.onUploadCancelled(file),\n            [FileUploadStatus.Deleted]: () => this.onUploadDeleted(file),\n            [FileUploadStatus.Error]: () => this.onUploadError(file, null)\n        };\n\n        return actions[file.status];\n    }\n\n    private deleteAbortedNode(nodeId: string) {\n        this.apiService\n            .getInstance()\n            .core.nodesApi.deleteNode(nodeId, { permanent: true })\n            .then(() => (this.abortedFile = undefined));\n    }\n\n    private deleteAbortedNodeVersion(nodeId: string, versionId: string) {\n        this.apiService\n            .getInstance()\n            .core.versionsApi.deleteVersion(nodeId, versionId)\n            .then(() => (this.abortedFile = undefined));\n    }\n\n    private isSaveToAbortFile(file: FileModel): boolean {\n        return (\n            file.size > MIN_CANCELLABLE_FILE_SIZE &&\n            file.progress.percent < MAX_CANCELLABLE_FILE_PERCENTAGE\n        );\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport enum SearchTextStateEnum {\n    expanded = 'expanded',\n    collapsed = 'collapsed'\n}\n\nexport interface SearchAnimationState {\n    value: string;\n    params?: any;\n}\n\nexport interface SearchAnimationControl {\n    active: SearchAnimationState;\n    inactive: SearchAnimationState;\n}\n\nexport interface SearchAnimationDirection {\n    ltr: SearchAnimationControl;\n    rtl: SearchAnimationControl;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * This object represent the process service user.*\n */\n\nimport { LightUserRepresentation } from '@alfresco/js-api';\n\nexport class UserProcessModel implements LightUserRepresentation {\n    id?: number;\n    email?: string;\n    firstName?: string;\n    lastName?: string;\n    pictureId?: number;\n    externalId?: string;\n    userImage?: string;\n\n    constructor(input?: any) {\n        if (input) {\n            this.id = input.id;\n            this.email = input.email || null;\n            this.firstName = input.firstName || null;\n            this.lastName = input.lastName || null;\n            this.pictureId = input.pictureId || null;\n            this.externalId = input.externalId || null;\n            this.userImage = input.userImage;\n        }\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EcmUserModel } from './ecm-user.model';\n\nexport class CommentModel {\n    id: number;\n    message: string;\n    created: Date;\n    createdBy: EcmUserModel;\n    isSelected: boolean;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.id = obj.id;\n            this.message = obj.message;\n            this.created = obj.created;\n            this.createdBy = obj.createdBy;\n            this.isSelected = obj.isSelected ? obj.isSelected : false;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class EcmCompanyModel {\n      organization: string;\n      address1: string;\n      address2: string;\n      address3: string;\n      postcode: string;\n      telephone: string;\n      fax: string;\n      email: string;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * This object represent the user redirection guard.*\n */\n\nexport class RedirectionModel {\n    provider: string;\n    url?: string;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.provider = obj.provider;\n            this.url = obj.url || null;\n        }\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pagination } from '@alfresco/js-api';\n\nexport class PaginationModel extends Pagination {\n    merge?: boolean;\n\n    constructor(input?: any) {\n        super(input);\n        if (input) {\n            this.count = input.count;\n            this.hasMoreItems = input.hasMoreItems ? input.hasMoreItems : false;\n            this.merge = input.merge ? input.merge : false;\n            this.totalItems = input.totalItems;\n            this.skipCount = input.skipCount;\n            this.maxItems = input.maxItems;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class RequestPaginationModel {\n\n    skipCount?: number;\n\n    maxItems?: number;\n\n    merge?: boolean = false;\n\n    constructor(input?: any) {\n        if (input) {\n            Object.assign(this, input);\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class DecimalNumberModel {\n    minIntegerDigits: number;\n    minFractionDigits: number;\n    maxFractionDigits: number;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.minIntegerDigits = obj.minIntegerDigits;\n            this.minFractionDigits = obj.minFractionDigits;\n            this.maxFractionDigits = obj.maxFractionDigits;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { UserRepresentation } from '@alfresco/js-api';\n\nexport class BpmUserModel implements UserRepresentation {\n    apps: any;\n    capabilities: string[];\n    company: string;\n    created: Date;\n    email: string;\n    externalId: string;\n    firstName: string;\n    lastName: string;\n    fullname: string;\n    groups: any;\n    id: number;\n    lastUpdate: Date;\n    latestSyncTimeStamp: Date;\n    password: string;\n    pictureId: number;\n    status: string;\n    tenantId: number;\n    tenantName: string;\n    tenantPictureId: number;\n    type: string;\n\n    constructor(input?: any) {\n        if (input) {\n            this.apps = input.apps;\n            this.capabilities = input.capabilities;\n            this.company = input.company;\n            this.created = input.created;\n            this.email = input.email;\n            this.externalId = input.externalId;\n            this.firstName = input.firstName;\n            this.lastName = input.lastName;\n            this.fullname = input.fullname;\n            this.groups = input.groups;\n            this.id = input.id;\n            this.lastUpdate = input.lastUpdate;\n            this.latestSyncTimeStamp = input.latestSyncTimeStamp;\n            this.password = input.password;\n            this.pictureId = input.pictureId;\n            this.status = input.status;\n            this.tenantId = input.tenantId;\n            this.tenantName = input.tenantName;\n            this.tenantPictureId = input.tenantPictureId;\n            this.type = input.type;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Capabilities } from '@alfresco/js-api';\nimport { EcmCompanyModel } from './ecm-company.model';\n\nexport class EcmUserModel {\n    id: string;\n    firstName: string;\n    lastName?: string;\n    displayName?: string;\n    description?: string;\n    avatarId?: string;\n    email: string;\n    skypeId?: string;\n    googleId?: string;\n    instantMessageId?: string;\n    jobTitle?: string;\n    location?: string;\n    company: EcmCompanyModel;\n    mobile?: string;\n    telephone?: string;\n    statusUpdatedAt?: Date;\n    userStatus?: string;\n    enabled: boolean;\n    emailNotificationsEnabled?: boolean;\n    aspectNames?: string[];\n    properties?: { [key: string]: string; };\n    capabilities?: Capabilities;\n\n    constructor(obj?: any) {\n        this.id = obj && obj.id || null;\n        this.firstName = obj && obj.firstName;\n        this.lastName = obj && obj.lastName;\n        this.description = obj && obj.description || null;\n        this.avatarId = obj && obj.avatarId || null;\n        this.email = obj && obj.email || null;\n        this.skypeId = obj && obj.skypeId;\n        this.googleId = obj && obj.googleId;\n        this.instantMessageId = obj && obj.instantMessageId;\n        this.jobTitle = obj && obj.jobTitle || null;\n        this.location = obj && obj.location || null;\n        this.company = obj && obj.company;\n        this.mobile = obj && obj.mobile;\n        this.telephone = obj && obj.telephone;\n        this.statusUpdatedAt = obj && obj.statusUpdatedAt;\n        this.userStatus = obj && obj.userStatus;\n        this.enabled = obj && obj.enabled;\n        this.emailNotificationsEnabled = obj && obj.emailNotificationsEnabled;\n        this.aspectNames = obj && obj.aspectNames;\n        this.properties = obj && obj.properties;\n        this.capabilities = obj && obj.capabilities;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport class IdentityRoleModel {\n    id: string;\n    name: string;\n    description?: string;\n    clientRole?: boolean;\n    composite?: boolean;\n    containerId?: string;\n    scopeParamRequired?: boolean;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.id = obj.id || null;\n            this.name = obj.name || null;\n            this.description = obj.description || null;\n            this.clientRole = obj.clientRole || null;\n            this.composite = obj.composite || null;\n            this.containerId = obj.containerId || null;\n            this.scopeParamRequired = obj.scopeParamRequired || null;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class NodeMetadata {\n    metadata: any;\n    nodeType: string;\n\n    constructor(metadata: any, nodeType: string) {\n        this.metadata = metadata;\n        this.nodeType = nodeType;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Component, ContentChild, EventEmitter, HostListener, ElementRef,\n    Input, OnChanges, Output, TemplateRef,\n    ViewEncapsulation, OnInit, OnDestroy\n} from '@angular/core';\nimport { SharedLinkEntry, Node, Version, RenditionEntry, NodeEntry, VersionEntry } from '@alfresco/js-api';\nimport { BaseEvent } from '../../events';\nimport { AlfrescoApiService } from '../../services/alfresco-api.service';\nimport { LogService } from '../../services/log.service';\nimport { ViewerMoreActionsComponent } from './viewer-more-actions.component';\nimport { ViewerOpenWithComponent } from './viewer-open-with.component';\nimport { ViewerSidebarComponent } from './viewer-sidebar.component';\nimport { ViewerToolbarComponent } from './viewer-toolbar.component';\nimport { fromEvent, Subject } from 'rxjs';\nimport { ViewUtilService } from '../services/view-util.service';\nimport { AppExtensionService, ViewerExtensionRef } from '@alfresco/adf-extensions';\nimport { filter, skipWhile, takeUntil } from 'rxjs/operators';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ContentService } from '../../services/content.service';\nimport { UploadService } from '../../services/upload.service';\nimport { FileModel } from '../../models';\n\n@Component({\n    selector: 'adf-viewer',\n    templateUrl: './viewer.component.html',\n    host: { 'class': 'adf-viewer' },\n    encapsulation: ViewEncapsulation.None\n})\nexport class ViewerComponent implements OnChanges, OnInit, OnDestroy {\n\n    @ContentChild(ViewerToolbarComponent)\n    toolbar: ViewerToolbarComponent;\n\n    @ContentChild(ViewerSidebarComponent)\n    sidebar: ViewerSidebarComponent;\n\n    @ContentChild(ViewerOpenWithComponent)\n    mnuOpenWith: ViewerOpenWithComponent;\n\n    @ContentChild(ViewerMoreActionsComponent)\n    mnuMoreActions: ViewerMoreActionsComponent;\n\n    /** If you want to load an external file that does not come from ACS you\n     * can use this URL to specify where to load the file from.\n     */\n    @Input()\n    urlFile = '';\n\n    /** Viewer to use with the `urlFile` address (`pdf`, `image`, `media`, `text`).\n     * Used when `urlFile` has no filename and extension.\n     */\n    @Input()\n    urlFileViewer: string = null;\n\n    /** Loads a Blob File */\n    @Input()\n    blobFile: Blob;\n\n    /** Node Id of the file to load. */\n    @Input()\n    nodeId: string = null;\n\n    /** Version Id of the file to load. */\n    @Input()\n    versionId: string = null;\n\n    /** Shared link id (to display shared file). */\n    @Input()\n    sharedLinkId: string = null;\n\n    /** If `true` then show the Viewer as a full page over the current content.\n     * Otherwise fit inside the parent div.\n     */\n    @Input()\n    overlayMode = false;\n\n    /** Hide or show the viewer */\n    @Input()\n    showViewer = true;\n\n    /** Hide or show the toolbar */\n    @Input()\n    showToolbar = true;\n\n    /** Specifies the name of the file when it is not available from the URL. */\n    @Input()\n    displayName: string;\n\n    /** @deprecated 3.2.0 */\n    /** Allows `back` navigation */\n    @Input()\n    allowGoBack = true;\n\n    /** Toggles downloading. */\n    @Input()\n    allowDownload = true;\n\n    /** Toggles printing. */\n    @Input()\n    allowPrint = false;\n\n    /** Toggles the 'Full Screen' feature. */\n    @Input()\n    allowFullScreen = true;\n\n    /** Toggles before/next navigation. You can use the arrow buttons to navigate\n     * between documents in the collection.\n     */\n    @Input()\n    allowNavigate = false;\n\n    /** Toggles the \"before\" (\"<\") button. Requires `allowNavigate` to be enabled. */\n    @Input()\n    canNavigateBefore = true;\n\n    /** Toggles the next (\">\") button. Requires `allowNavigate` to be enabled. */\n    @Input()\n    canNavigateNext = true;\n\n    /** Allow the left the sidebar. */\n    @Input()\n    allowLeftSidebar = false;\n\n    /** Allow the right sidebar. */\n    @Input()\n    allowRightSidebar = false;\n\n    /** Toggles PDF thumbnails. */\n    @Input()\n    allowThumbnails = true;\n\n    /** Toggles right sidebar visibility. Requires `allowRightSidebar` to be set to `true`. */\n    @Input()\n    showRightSidebar = false;\n\n    /** Toggles left sidebar visibility. Requires `allowLeftSidebar` to be set to `true`. */\n    @Input()\n    showLeftSidebar = false;\n\n    /** The template for the right sidebar. The template context contains the loaded node data. */\n    @Input()\n    sidebarRightTemplate: TemplateRef<any> = null;\n\n    /** The template for the left sidebar. The template context contains the loaded node data. */\n    @Input()\n    sidebarLeftTemplate: TemplateRef<any> = null;\n\n    /** The template for the pdf thumbnails. */\n    @Input()\n    thumbnailsTemplate: TemplateRef<any> = null;\n\n    /** MIME type of the file content (when not determined by the filename extension). */\n    @Input()\n    mimeType: string;\n\n    /** Content filename. */\n    @Input()\n    fileName: string;\n\n    /** Number of times the Viewer will retry fetching content Rendition.\n     * There is a delay of at least one second between attempts.\n     */\n    @Input()\n    maxRetries = 30;\n\n    /** Emitted when user clicks the 'Back' button. */\n    @Output()\n    goBack = new EventEmitter<BaseEvent<any>>();\n\n    /** Emitted when user clicks the 'Print' button. */\n    @Output()\n    print = new EventEmitter<BaseEvent<any>>();\n\n    /** Emitted when the viewer is shown or hidden. */\n    @Output()\n    showViewerChange = new EventEmitter<boolean>();\n\n    /** Emitted when the filename extension changes. */\n    @Output()\n    extensionChange = new EventEmitter<string>();\n\n    /** Emitted when user clicks 'Navigate Before' (\"<\") button. */\n    @Output()\n    navigateBefore = new EventEmitter<MouseEvent|KeyboardEvent>();\n\n    /** Emitted when user clicks 'Navigate Next' (\">\") button. */\n    @Output()\n    navigateNext = new EventEmitter<MouseEvent|KeyboardEvent>();\n\n    /** Emitted when the shared link used is not valid. */\n    @Output()\n    invalidSharedLink = new EventEmitter();\n\n    TRY_TIMEOUT: number = 10000;\n\n    viewerType = 'unknown';\n    isLoading = false;\n    nodeEntry: NodeEntry;\n    versionEntry: VersionEntry;\n\n    extensionTemplates: { template: TemplateRef<any>, isVisible: boolean }[] = [];\n    externalExtensions: string[] = [];\n    urlFileContent: string;\n    otherMenu: any;\n    extension: string;\n    sidebarRightTemplateContext: { node: Node } = { node: null };\n    sidebarLeftTemplateContext: { node: Node } = { node: null };\n    fileTitle: string;\n    viewerExtensions: Array<ViewerExtensionRef> = [];\n    readOnly = true;\n\n    private cacheBusterNumber;\n    cacheTypeForContent = '';\n\n    // Extensions that are supported by the Viewer without conversion\n    private extensions = {\n        image: ['png', 'jpg', 'jpeg', 'gif', 'bpm', 'svg'],\n        media: ['wav', 'mp4', 'mp3', 'webm', 'ogg'],\n        text: ['txt', 'xml', 'html', 'json', 'ts', 'css', 'md'],\n        pdf: ['pdf']\n    };\n\n    // Mime types that are supported by the Viewer without conversion\n    private mimeTypes = {\n        text: ['text/plain', 'text/csv', 'text/xml', 'text/html', 'application/x-javascript'],\n        pdf: ['application/pdf'],\n        image: ['image/png', 'image/jpeg', 'image/gif', 'image/bmp', 'image/svg+xml'],\n        media: ['video/mp4', 'video/webm', 'video/ogg', 'audio/mpeg', 'audio/mp3', 'audio/ogg', 'audio/wav']\n    };\n\n    private onDestroy$ = new Subject<boolean>();\n    private shouldCloseViewer = true;\n    private keyDown$ = fromEvent<KeyboardEvent>(document, 'keydown');\n\n    constructor(private apiService: AlfrescoApiService,\n                private viewUtilService: ViewUtilService,\n                private logService: LogService,\n                private extensionService: AppExtensionService,\n                private contentService: ContentService,\n                private uploadService: UploadService,\n                private el: ElementRef,\n                public dialog: MatDialog) {\n        viewUtilService.maxRetries = this.maxRetries;\n    }\n\n    isSourceDefined(): boolean {\n        return !!(this.urlFile || this.blobFile || this.nodeId || this.sharedLinkId);\n    }\n\n    ngOnInit() {\n        this.apiService.nodeUpdated.pipe(\n            filter((node) => {\n                return node && node.id === this.nodeId &&\n                    (node.name !== this.fileName ||\n                        this.getNodeVersionProperty(this.nodeEntry.entry) !== this.getNodeVersionProperty(node));\n            }),\n            takeUntil(this.onDestroy$)\n        ).subscribe((node) => this.onNodeUpdated(node));\n\n        this.viewUtilService.viewerTypeChange.pipe(takeUntil(this.onDestroy$)).subscribe((type: string) => {\n            this.viewerType = type;\n        });\n\n        this.viewUtilService.urlFileContentChange.pipe(takeUntil(this.onDestroy$)).subscribe((content: string) => {\n            this.urlFileContent = content;\n        });\n\n        this.closeOverlayManager();\n        this.loadExtensions();\n        this.cacheTypeForContent = '';\n    }\n\n    private loadExtensions() {\n        this.viewerExtensions = this.extensionService.getViewerExtensions();\n        this.viewerExtensions\n            .forEach((extension: ViewerExtensionRef) => {\n                this.externalExtensions.push(extension.fileExtension);\n            });\n    }\n\n    private getNodeVersionProperty(node: Node): string {\n        return node?.properties['cm:versionLabel'] ?? '';\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    private onNodeUpdated(node: Node) {\n        if (node && node.id === this.nodeId) {\n            this.cacheTypeForContent = 'no-cache';\n            this.generateCacheBusterNumber();\n            this.isLoading = true;\n            this.setUpNodeFile(node).then(() => {\n                this.isLoading = false;\n            });\n        }\n    }\n\n    ngOnChanges() {\n        if (this.showViewer) {\n            if (!this.isSourceDefined()) {\n                throw new Error('A content source attribute value is missing.');\n            }\n            this.isLoading = true;\n\n            if (this.blobFile) {\n                this.setUpBlobData();\n                this.isLoading = false;\n            } else if (this.urlFile) {\n                this.setUpUrlFile();\n                this.isLoading = false;\n            } else if (this.nodeId) {\n                this.apiService.nodesApi.getNode(this.nodeId, { include: ['allowableOperations'] }).then(\n                    (node: NodeEntry) => {\n                        this.nodeEntry = node;\n                        if (this.versionId) {\n                            this.apiService.versionsApi.getVersion(this.nodeId, this.versionId).then(\n                                (version: VersionEntry) => {\n                                    this.versionEntry = version;\n                                    this.setUpNodeFile(node.entry, version.entry).then(() => {\n                                        this.isLoading = false;\n                                    });\n                                }\n                            );\n                        } else {\n                            this.setUpNodeFile(node.entry).then(() => {\n                                this.isLoading = false;\n                            });\n                        }\n                    },\n                    () => {\n                        this.isLoading = false;\n                        this.logService.error('This node does not exist');\n                    }\n                );\n            } else if (this.sharedLinkId) {\n                this.allowGoBack = false;\n\n                this.apiService.sharedLinksApi.getSharedLink(this.sharedLinkId).then(\n                    (sharedLinkEntry: SharedLinkEntry) => {\n                        this.setUpSharedLinkFile(sharedLinkEntry);\n                        this.isLoading = false;\n                    },\n                    () => {\n                        this.isLoading = false;\n                        this.logService.error('This sharedLink does not exist');\n                        this.invalidSharedLink.next();\n                    });\n            }\n        }\n    }\n\n    private setUpBlobData() {\n        this.fileTitle = this.getDisplayName('Unknown');\n        this.mimeType = this.blobFile.type;\n        this.viewerType = this.getViewerTypeByMimeType(this.mimeType);\n\n        this.allowDownload = false;\n        // TODO: wrap blob into the data url and allow downloading\n\n        this.extensionChange.emit(this.mimeType);\n        this.scrollTop();\n    }\n\n    private setUpUrlFile() {\n        const filenameFromUrl = this.getFilenameFromUrl(this.urlFile);\n        this.fileTitle = this.getDisplayName(filenameFromUrl);\n        this.extension = this.getFileExtension(filenameFromUrl);\n        this.urlFileContent = this.urlFile;\n\n        this.fileName = this.displayName;\n\n        this.viewerType = this.urlFileViewer || this.getViewerTypeByExtension(this.extension);\n        if (this.viewerType === 'unknown') {\n            this.viewerType = this.getViewerTypeByMimeType(this.mimeType);\n        }\n\n        this.extensionChange.emit(this.extension);\n        this.scrollTop();\n    }\n\n    private async setUpNodeFile(nodeData: Node, versionData?: Version) {\n        this.readOnly = !this.contentService.hasAllowableOperations(nodeData, 'update');\n\n        let setupNode;\n\n        if (versionData && versionData.content) {\n            this.mimeType = versionData.content.mimeType;\n        } else if (nodeData.content) {\n            this.mimeType = nodeData.content.mimeType;\n        }\n\n        this.fileTitle = this.getDisplayName(versionData ? versionData.name : nodeData.name);\n\n        const currentFileVersion = this.nodeEntry?.entry?.properties && this.nodeEntry.entry.properties['cm:versionLabel'] ?\n            encodeURI(this.nodeEntry?.entry?.properties['cm:versionLabel']) : encodeURI('1.0');\n\n        this.urlFileContent = versionData ? this.apiService.contentApi.getVersionContentUrl(this.nodeId, versionData.id) :\n            this.apiService.contentApi.getContentUrl(this.nodeId);\n        this.urlFileContent = this.cacheBusterNumber ? this.urlFileContent + '&' + currentFileVersion + '&' + this.cacheBusterNumber :\n            this.urlFileContent + '&' + currentFileVersion;\n\n        this.extension = this.getFileExtension(versionData ? versionData.name : nodeData.name);\n\n        this.fileName = versionData ? versionData.name : nodeData.name;\n\n        this.viewerType = this.getViewerTypeByExtension(this.extension);\n        if (this.viewerType === 'unknown') {\n            this.viewerType = this.getViewerTypeByMimeType(this.mimeType);\n        }\n\n        if (this.viewerType === 'unknown') {\n            if (versionData) {\n                setupNode = this.viewUtilService.displayNodeRendition(nodeData.id, versionData.id);\n            } else {\n                setupNode = this.viewUtilService.displayNodeRendition(nodeData.id);\n            }\n        }\n\n        this.extensionChange.emit(this.extension);\n        this.sidebarRightTemplateContext.node = nodeData;\n        this.sidebarLeftTemplateContext.node = nodeData;\n        this.scrollTop();\n\n        return setupNode;\n    }\n\n    private setUpSharedLinkFile(details: any) {\n        this.mimeType = details.entry.content.mimeType;\n        this.fileTitle = this.getDisplayName(details.entry.name);\n        this.extension = this.getFileExtension(details.entry.name);\n        this.fileName = details.entry.name;\n\n        this.urlFileContent = this.apiService.contentApi.getSharedLinkContentUrl(this.sharedLinkId, false);\n\n        this.viewerType = this.getViewerTypeByMimeType(this.mimeType);\n        if (this.viewerType === 'unknown') {\n            this.viewerType = this.getViewerTypeByExtension(this.extension);\n        }\n\n        if (this.viewerType === 'unknown') {\n            this.displaySharedLinkRendition(this.sharedLinkId);\n        }\n\n        this.extensionChange.emit(this.extension);\n    }\n\n    toggleSidebar() {\n        this.showRightSidebar = !this.showRightSidebar;\n        if (this.showRightSidebar && this.nodeId) {\n            this.apiService.getInstance().nodes.getNode(this.nodeId, { include: ['allowableOperations'] })\n                .then((nodeEntry: NodeEntry) => {\n                    this.sidebarRightTemplateContext.node = nodeEntry.entry;\n                });\n        }\n    }\n\n    toggleLeftSidebar() {\n        this.showLeftSidebar = !this.showLeftSidebar;\n        if (this.showRightSidebar && this.nodeId) {\n            this.apiService.getInstance().nodes.getNode(this.nodeId, { include: ['allowableOperations'] })\n                .then((nodeEntry: NodeEntry) => {\n                    this.sidebarLeftTemplateContext.node = nodeEntry.entry;\n                });\n        }\n    }\n\n    private getDisplayName(name) {\n        return this.displayName || name;\n    }\n\n    scrollTop() {\n        window.scrollTo(0, 1);\n    }\n\n    getViewerTypeByMimeType(mimeType: string) {\n        if (mimeType) {\n            mimeType = mimeType.toLowerCase();\n\n            const editorTypes = Object.keys(this.mimeTypes);\n            for (const type of editorTypes) {\n                if (this.mimeTypes[type].indexOf(mimeType) >= 0) {\n                    return type;\n                }\n            }\n        }\n        return 'unknown';\n    }\n\n    getViewerTypeByExtension(extension: string) {\n        if (extension) {\n            extension = extension.toLowerCase();\n        }\n\n        if (this.isCustomViewerExtension(extension)) {\n            return 'custom';\n        }\n\n        if (this.extensions.image.indexOf(extension) >= 0) {\n            return 'image';\n        }\n\n        if (this.extensions.media.indexOf(extension) >= 0) {\n            return 'media';\n        }\n\n        if (this.extensions.text.indexOf(extension) >= 0) {\n            return 'text';\n        }\n\n        if (this.extensions.pdf.indexOf(extension) >= 0) {\n            return 'pdf';\n        }\n\n        return 'unknown';\n    }\n\n    onBackButtonClick() {\n        this.close();\n    }\n\n    onNavigateBeforeClick(event: MouseEvent|KeyboardEvent) {\n        this.navigateBefore.next(event);\n    }\n\n    onNavigateNextClick(event: MouseEvent|KeyboardEvent) {\n        this.navigateNext.next(event);\n    }\n\n    /**\n     * close the viewer\n     */\n    close() {\n        if (this.otherMenu) {\n            this.otherMenu.hidden = false;\n        }\n        this.showViewer = false;\n        this.showViewerChange.emit(this.showViewer);\n    }\n\n    /**\n     * get File name from url\n     *\n     * @param  url - url file\n     */\n    getFilenameFromUrl(url: string): string {\n        const anchor = url.indexOf('#');\n        const query = url.indexOf('?');\n        const end = Math.min(\n            anchor > 0 ? anchor : url.length,\n            query > 0 ? query : url.length);\n        return url.substring(url.lastIndexOf('/', end) + 1, end);\n    }\n\n    /**\n     * Get file extension from the string.\n     * Supports the URL formats like:\n     * http://localhost/test.jpg?cache=1000\n     * http://localhost/test.jpg#cache=1000\n     *\n     * @param fileName - file name\n     */\n    getFileExtension(fileName: string): string {\n        if (fileName) {\n            const match = fileName.match(/\\.([^\\./\\?\\#]+)($|\\?|\\#)/);\n            return match ? match[1] : null;\n        }\n        return null;\n    }\n\n    isCustomViewerExtension(extension: string): boolean {\n        const extensions: any = this.externalExtensions || [];\n\n        if (extension && extensions.length > 0) {\n            extension = extension.toLowerCase();\n            return extensions.flat().indexOf(extension) >= 0;\n        }\n\n        return false;\n    }\n\n    /**\n     * Keyboard event listener\n     * @param  event\n     */\n    @HostListener('document:keyup', ['$event'])\n    handleKeyboardEvent(event: KeyboardEvent) {\n        if (event && event.defaultPrevented) {\n            return;\n        }\n\n        const key = event.keyCode;\n\n        // Left arrow\n        if (key === 37 && this.canNavigateBefore) {\n            event.preventDefault();\n            this.onNavigateBeforeClick(event);\n        }\n\n        // Right arrow\n        if (key === 39 && this.canNavigateNext) {\n            event.preventDefault();\n            this.onNavigateNextClick(event);\n        }\n\n        // Ctrl+F\n        if (key === 70 && event.ctrlKey) {\n            event.preventDefault();\n            this.enterFullScreen();\n        }\n    }\n\n    printContent() {\n        if (this.allowPrint) {\n            const args = new BaseEvent();\n            this.print.next(args);\n\n            if (!args.defaultPrevented) {\n                this.viewUtilService.printFileGeneric(this.nodeId, this.mimeType);\n            }\n        }\n    }\n\n    /**\n     * Triggers full screen mode with a main content area displayed.\n     */\n    enterFullScreen(): void {\n        if (this.allowFullScreen) {\n            const container = this.el.nativeElement.querySelector('.adf-viewer__fullscreen-container');\n            if (container) {\n                if (container.requestFullscreen) {\n                    container.requestFullscreen();\n                } else if (container.webkitRequestFullscreen) {\n                    container.webkitRequestFullscreen();\n                } else if (container.mozRequestFullScreen) {\n                    container.mozRequestFullScreen();\n                } else if (container.msRequestFullscreen) {\n                    container.msRequestFullscreen();\n                }\n            }\n        }\n    }\n\n    private async displaySharedLinkRendition(sharedId: string) {\n        try {\n            const rendition: RenditionEntry = await this.apiService.renditionsApi.getSharedLinkRendition(sharedId, 'pdf');\n            if (rendition.entry.status.toString() === 'CREATED') {\n                this.viewerType = 'pdf';\n                this.urlFileContent = this.apiService.contentApi.getSharedLinkRenditionUrl(sharedId, 'pdf');\n            }\n        } catch (error) {\n            this.logService.error(error);\n            try {\n                const rendition: RenditionEntry = await this.apiService.renditionsApi.getSharedLinkRendition(sharedId, 'imgpreview');\n                if (rendition.entry.status.toString() === 'CREATED') {\n                    this.viewerType = 'image';\n                    this.urlFileContent = this.apiService.contentApi.getSharedLinkRenditionUrl(sharedId, 'imgpreview');\n                }\n            } catch (error) {\n                this.logService.error(error);\n            }\n        }\n    }\n\n    checkExtensions(extensionAllowed) {\n        if (typeof extensionAllowed === 'string') {\n            return this.extension.toLowerCase() === extensionAllowed.toLowerCase();\n        } else if (extensionAllowed.length > 0) {\n            return extensionAllowed.find((currentExtension) => {\n                return this.extension.toLowerCase() === currentExtension.toLowerCase();\n            });\n        }\n\n    }\n\n    onSubmitFile(newImageBlob: Blob) {\n        if (this?.nodeEntry?.entry?.id && !this.readOnly) {\n            const newImageFile: File = new File([newImageBlob], this?.nodeEntry?.entry?.name, { type: this?.nodeEntry?.entry?.content?.mimeType });\n            const newFile = new FileModel(\n                newImageFile,\n                {\n                    majorVersion: false,\n                    newVersion: true,\n                    parentId: this?.nodeEntry?.entry?.parentId,\n                    nodeType: this?.nodeEntry?.entry?.content?.mimeType\n                },\n                this?.nodeEntry?.entry?.id\n            );\n            this.uploadService.addToQueue(...[newFile]);\n            this.uploadService.uploadFilesInTheQueue();\n        }\n    }\n\n    onUnsupportedFile() {\n        this.viewerType = 'unknown';\n    }\n\n    private closeOverlayManager() {\n        this.dialog.afterOpened.pipe(\n            skipWhile(() => !this.overlayMode),\n            takeUntil(this.onDestroy$)\n        ).subscribe(() => this.shouldCloseViewer = false);\n\n        this.dialog.afterAllClosed.pipe(\n            skipWhile(() => !this.overlayMode),\n            takeUntil(this.onDestroy$)\n        ).subscribe(() => this.shouldCloseViewer = true);\n\n        this.keyDown$.pipe(\n            skipWhile(() => !this.overlayMode),\n            filter((e: KeyboardEvent) => e.keyCode === 27),\n            takeUntil(this.onDestroy$)\n        ).subscribe( (event: KeyboardEvent) => {\n            event.preventDefault();\n\n            if (this.shouldCloseViewer) {\n                this.close();\n            }\n        });\n    }\n\n    private generateCacheBusterNumber() {\n        this.cacheBusterNumber = Date.now();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Component,\n    Input,\n    OnChanges,\n    SimpleChanges,\n    ViewEncapsulation,\n    ElementRef,\n    Output,\n    EventEmitter, AfterViewInit, ViewChild, HostListener\n} from '@angular/core';\nimport { ContentService } from '../../services/content.service';\nimport { AppConfigService } from './../../app-config/app-config.service';\nimport Cropper from 'cropperjs';\n\n@Component({\n    selector: 'adf-img-viewer',\n    templateUrl: './img-viewer.component.html',\n    host: { 'class': 'adf-image-viewer' },\n    encapsulation: ViewEncapsulation.None\n})\nexport class ImgViewerComponent implements AfterViewInit, OnChanges {\n\n    @Input()\n    showToolbar = true;\n\n    @Input()\n    readOnly = true;\n\n    @Input()\n    urlFile: string;\n\n    @Input()\n    blobFile: Blob;\n\n    @Input()\n    nameFile: string;\n\n    @Output()\n    error = new EventEmitter<any>();\n\n    @Output()\n    submit = new EventEmitter<any>();\n\n    @ViewChild('image', { static: false})\n    public imageElement: ElementRef;\n\n    public scale: number = 1.0;\n    public cropper: Cropper;\n    public isEditing: boolean = false;\n\n    get currentScaleText(): string {\n        return Math.round(this.scale * 100) + '%';\n    }\n\n    constructor(\n        private appConfigService: AppConfigService,\n        private contentService: ContentService) {\n        this.initializeScaling();\n    }\n\n    initializeScaling() {\n        const scaling = this.appConfigService.get<number>('adf-viewer.image-viewer-scaling', undefined) / 100;\n        if (scaling) {\n            this.scale = scaling;\n        }\n    }\n\n    ngAfterViewInit() {\n        this.cropper = new Cropper(this.imageElement.nativeElement, {\n            autoCrop: false,\n            dragMode: 'move',\n            background: false,\n            scalable: true,\n            zoomOnWheel: false,\n            toggleDragModeOnDblclick: false,\n            viewMode: 1,\n            checkCrossOrigin: false,\n            ready: () => {\n                this.updateCanvasContainer();\n            }\n        });\n    }\n\n    ngOnDestroy() {\n        this.cropper.destroy();\n    }\n\n    @HostListener('document:keydown', ['$event'])\n    onKeyDown(event: KeyboardEvent) {\n        switch (event.key) {\n            case 'ArrowLeft':\n                event.preventDefault();\n                this.cropper.move(-3, 0);\n                break;\n            case 'ArrowUp':\n                event.preventDefault();\n                this.cropper.move(0, -3);\n                break;\n            case 'ArrowRight':\n                event.preventDefault();\n                this.cropper.move(3, 0);\n                break;\n            case 'ArrowDown':\n                event.preventDefault();\n                this.cropper.move(0, 3);\n                break;\n            case 'i':\n                this.zoomIn();\n                break;\n            case 'o':\n                this.zoomOut();\n                break;\n            case 'r':\n                this.rotateImage();\n                break;\n            default:\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const blobFile = changes['blobFile'];\n        if (blobFile && blobFile.currentValue) {\n            this.urlFile = this.contentService.createTrustedUrl(this.blobFile);\n            return;\n        }\n        if (!this.urlFile && !this.blobFile) {\n            throw new Error('Attribute urlFile or blobFile is required');\n        }\n    }\n\n    zoomIn() {\n        this.cropper.zoom( 0.2);\n        this.scale = +((this.scale + 0.2).toFixed(1));\n    }\n\n    zoomOut() {\n        if (this.scale > 0.2) {\n            this.cropper.zoom( -0.2 );\n            this.scale = +((this.scale - 0.2).toFixed(1));\n        }\n    }\n\n    rotateImage() {\n        this.isEditing = true;\n        this.cropper.rotate( -90);\n    }\n\n    cropImage() {\n        this.isEditing = true;\n        this.cropper.setDragMode('crop');\n        this.cropper.crop();\n    }\n\n    save() {\n        this.isEditing = false;\n        this.cropper.setDragMode('move');\n\n        this.cropper.getCroppedCanvas().toBlob((blob) => {\n            this.submit.emit(blob);\n            this.cropper.replace(this.cropper.getCroppedCanvas().toDataURL());\n            this.cropper.clear();\n        });\n    }\n\n    reset() {\n        this.isEditing = false;\n        this.cropper.clear();\n        this.cropper.reset();\n        this.cropper.setDragMode('move');\n        this.scale = 1.0;\n        this.updateCanvasContainer();\n    }\n\n    updateCanvasContainer() {\n        if (this.imageElement.nativeElement.width < this.cropper.getContainerData().width) {\n            const width = this.imageElement.nativeElement.width;\n            const height = this.imageElement.nativeElement.height;\n            const top = (this.cropper.getContainerData().height - this.imageElement.nativeElement.height) / 2;\n            const left = (this.cropper.getContainerData().width - this.imageElement.nativeElement.width) / 2;\n\n            this.cropper.setCanvasData({\n                width,\n                height,\n                top,\n                left\n            });\n        }\n    }\n\n    onImageError() {\n        this.error.emit();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, OnChanges, SimpleChanges, ViewEncapsulation, Output, EventEmitter } from '@angular/core';\nimport { ContentService } from '../../services/content.service';\nimport { Track } from '../models/viewer.model';\nimport { ViewUtilService } from '../services/view-util.service';\n\n@Component({\n    selector: 'adf-media-player',\n    templateUrl: './media-player.component.html',\n    styleUrls: ['./media-player.component.scss'],\n    host: { 'class': 'adf-media-player' },\n    encapsulation: ViewEncapsulation.None\n})\nexport class MediaPlayerComponent implements OnChanges {\n\n    @Input()\n    urlFile: string;\n\n    @Input()\n    blobFile: Blob;\n\n    @Input()\n    mimeType: string;\n\n    @Input()\n    nameFile: string;\n\n    @Input()\n    nodeId: string;\n\n    @Input()\n    tracks: Track[] = [];\n\n    @Output()\n    error = new EventEmitter<any>();\n\n    constructor(private contentService: ContentService, private viewUtils: ViewUtilService) {\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const blobFile = changes['blobFile'];\n        const nodeId = changes['nodeId'];\n\n        if (blobFile && blobFile.currentValue) {\n            this.urlFile = this.contentService.createTrustedUrl(this.blobFile);\n            return;\n        }\n\n        if (nodeId && nodeId.currentValue) {\n            this.viewUtils.generateMediaTracks(this.nodeId).then((tracks) => this.tracks = tracks);\n        }\n\n        if (!this.urlFile && !this.blobFile) {\n            throw new Error('Attribute urlFile or blobFile is required');\n        }\n    }\n\n    onMediaPlayerError() {\n        this.error.emit();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { FormControl, Validators } from '@angular/forms';\n\ndeclare const pdfjsLib: any;\n\n@Component({\n    selector: 'adf-pdf-viewer-password-dialog',\n    templateUrl: './pdf-viewer-password-dialog.html',\n    styleUrls: [ './pdf-viewer-password-dialog.scss' ]\n})\nexport class PdfPasswordDialogComponent implements OnInit {\n    passwordFormControl: FormControl;\n\n    constructor(\n        private dialogRef: MatDialogRef<PdfPasswordDialogComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: any\n    ) {}\n\n    ngOnInit() {\n        this.passwordFormControl = new FormControl('', [Validators.required]);\n    }\n\n    isError(): boolean {\n        return this.data.reason === pdfjsLib.PasswordResponses.INCORRECT_PASSWORD;\n    }\n\n    isValid(): boolean {\n        return !this.passwordFormControl.hasError('required');\n    }\n\n    submit(): void {\n        this.dialogRef.close(this.passwordFormControl.value);\n    }\n}\n","/* tslint:disable:adf-license-banner  */\n\n/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\n\n/**\n *\n * RenderingQueueServices rendering of the views for pages and thumbnails.\n *\n */\n@Injectable()\nexport class RenderingQueueServices {\n\n    renderingStates = {\n        INITIAL: 0,\n        RUNNING: 1,\n        PAUSED: 2,\n        FINISHED: 3\n    };\n\n    CLEANUP_TIMEOUT: number = 30000;\n\n    pdfViewer: any = null;\n    pdfThumbnailViewer: any = null;\n    onIdle: any = null;\n\n    highestPriorityPage: any = null;\n    idleTimeout: any = null;\n    printing: any = false;\n    isThumbnailViewEnabled: any = false;\n\n    /**\n     * @param pdfViewer\n     */\n    setViewer(pdfViewer) {\n        this.pdfViewer = pdfViewer;\n    }\n\n    /**\n     * @param pdfThumbnailViewer\n     */\n    setThumbnailViewer(pdfThumbnailViewer) {\n        this.pdfThumbnailViewer = pdfThumbnailViewer;\n    }\n\n    /**\n     * @param  view\n     */\n    isHighestPriority(view: any): boolean {\n        return this.highestPriorityPage === view.renderingId;\n    }\n\n    renderHighestPriority(currentlyVisiblePages) {\n        if (this.idleTimeout) {\n            clearTimeout(this.idleTimeout);\n            this.idleTimeout = null;\n        }\n\n        // Pages have a higher priority than thumbnails, so check them first.\n        if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n            return;\n        }\n        // No pages needed rendering so check thumbnails.\n        if (this.pdfThumbnailViewer && this.isThumbnailViewEnabled) {\n            if (this.pdfThumbnailViewer.forceRendering()) {\n                return;\n            }\n        }\n\n        if (this.printing) {\n            // If printing is currently ongoing do not reschedule cleanup.\n            return;\n        }\n\n        if (this.onIdle) {\n            this.idleTimeout = setTimeout(this.onIdle.bind(this), this.CLEANUP_TIMEOUT);\n        }\n    }\n\n    getHighestPriority(visible, views, scrolledDown) {\n        // The state has changed figure out which page has the highest priority to\n        // render next (if any).\n        // Priority:\n        // 1 visible pages\n        // 2 if last scrolled down page after the visible pages\n        // 2 if last scrolled up page before the visible pages\n        const visibleViews = visible.views;\n\n        const numVisible = visibleViews.length;\n        if (numVisible === 0) {\n            return false;\n        }\n        for (let i = 0; i < numVisible; ++i) {\n            const view = visibleViews[i].view;\n            if (!this.isViewFinished(view)) {\n                return view;\n            }\n        }\n\n        // All the visible views have rendered, try to render next/previous pages.\n        if (scrolledDown) {\n            const nextPageIndex = visible.last.id;\n            // ID's start at 1 so no need to add 1.\n            if (views[nextPageIndex] && !this.isViewFinished(views[nextPageIndex])) {\n                return views[nextPageIndex];\n            }\n        } else {\n            const previousPageIndex = visible.first.id - 2;\n            if (views[previousPageIndex] && !this.isViewFinished(views[previousPageIndex])) {\n                return views[previousPageIndex];\n            }\n        }\n        // Everything that needs to be rendered has been.\n        return null;\n    }\n\n    /**\n     * @param view\n     */\n    isViewFinished(view): boolean {\n        return view.renderingState === this.renderingStates.FINISHED;\n    }\n\n    /**\n     * Render a page or thumbnail view. This calls the appropriate function\n     * based on the views state. If the view is already rendered it will return\n     * false.\n     * @param view\n     */\n    renderView(view: any) {\n        const state = view.renderingState;\n        switch (state) {\n            case this.renderingStates.FINISHED:\n                return false;\n            case this.renderingStates.PAUSED:\n                this.highestPriorityPage = view.renderingId;\n                view.resume();\n                break;\n            case this.renderingStates.RUNNING:\n                this.highestPriorityPage = view.renderingId;\n                break;\n            case this.renderingStates.INITIAL:\n                this.highestPriorityPage = view.renderingId;\n                const continueRendering = function () {\n                    this.renderHighestPriority();\n                }.bind(this);\n                view.draw().then(continueRendering, continueRendering);\n                break;\n            default:\n                break;\n        }\n        return true;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Component,\n    TemplateRef,\n    HostListener,\n    Output,\n    Input,\n    OnChanges,\n    OnDestroy,\n    ViewEncapsulation,\n    EventEmitter,\n    SimpleChanges\n} from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { LogService } from '../../services/log.service';\nimport { RenderingQueueServices } from '../services/rendering-queue.services';\nimport { PdfPasswordDialogComponent } from './pdf-viewer-password-dialog';\nimport { AppConfigService } from './../../app-config/app-config.service';\nimport { PDFDocumentProxy, PDFSource } from 'pdfjs-dist';\n\ndeclare const pdfjsLib: any;\ndeclare const pdfjsViewer: any;\n\n@Component({\n    selector: 'adf-pdf-viewer',\n    templateUrl: './pdf-viewer.component.html',\n    styleUrls: ['./pdf-viewer-host.component.scss'],\n    providers: [RenderingQueueServices],\n    host: { 'class': 'adf-pdf-viewer' },\n    encapsulation: ViewEncapsulation.None\n})\nexport class PdfViewerComponent implements OnChanges, OnDestroy {\n\n    @Input()\n    urlFile: string;\n\n    @Input()\n    blobFile: Blob;\n\n    @Input()\n    nameFile: string;\n\n    @Input()\n    showToolbar: boolean = true;\n\n    @Input()\n    allowThumbnails = false;\n\n    @Input()\n    thumbnailsTemplate: TemplateRef<any> = null;\n\n    @Input()\n    cacheType: string = '';\n\n    @Output()\n    rendered = new EventEmitter<any>();\n\n    @Output()\n    error = new EventEmitter<any>();\n\n    @Output()\n    close = new EventEmitter<any>();\n\n    page: number;\n    displayPage: number;\n    totalPages: number;\n    loadingPercent: number;\n    pdfViewer: any;\n    currentScaleMode: string = 'auto';\n    currentScale: number = 1;\n\n    MAX_AUTO_SCALE: number = 1.25;\n    DEFAULT_SCALE_DELTA: number = 1.1;\n    MIN_SCALE: number = 0.25;\n    MAX_SCALE: number = 10.0;\n\n    loadingTask: any;\n    isPanelDisabled = true;\n    showThumbnails: boolean = false;\n    pdfThumbnailsContext: { viewer: any } = { viewer: null };\n    randomPdfId: string;\n\n    get currentScaleText(): string {\n        return Math.round(this.currentScale * 100) + '%';\n    }\n\n    private eventBus = new pdfjsViewer.EventBus();\n    private pdfjsDefaultOptions  = {\n        disableAutoFetch: true,\n        disableStream: true\n    };\n\n    constructor(\n        private dialog: MatDialog,\n        private renderingQueueServices: RenderingQueueServices,\n        private logService: LogService,\n        private appConfigService: AppConfigService) {\n        // needed to preserve \"this\" context\n        this.onPageChange = this.onPageChange.bind(this);\n        this.onPagesLoaded = this.onPagesLoaded.bind(this);\n        this.onPageRendered = this.onPageRendered.bind(this);\n        this.randomPdfId = this.generateUuid();\n        this.currentScale = this.getUserScaling();\n    }\n\n    getUserScaling(): number {\n        const scaleConfig = this.appConfigService.get<number>('adf-viewer.pdf-viewer-scaling', undefined) / 100;\n        if (scaleConfig) {\n            return this.checkLimits(scaleConfig);\n        } else {\n            return 1;\n        }\n    }\n\n    checkLimits(scaleConfig: number): number {\n        if (scaleConfig > this.MAX_SCALE) {\n            return this.MAX_SCALE;\n        } else if (scaleConfig < this.MIN_SCALE) {\n            return this.MIN_SCALE;\n        } else {\n            return scaleConfig;\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const blobFile = changes['blobFile'];\n\n        if (blobFile && blobFile.currentValue) {\n            const reader = new FileReader();\n            reader.onload = async () => {\n                const pdfSource: PDFSource = {\n                    ...this.pdfjsDefaultOptions,\n                    data: reader.result,\n                    withCredentials: this.appConfigService.get<boolean>('auth.withCredentials', undefined)\n                };\n                this.executePdf(pdfSource);\n            };\n            reader.readAsArrayBuffer(blobFile.currentValue);\n        }\n\n        const urlFile = changes['urlFile'];\n        if (urlFile && urlFile.currentValue) {\n            const pdfSource: PDFSource = {\n                ...this.pdfjsDefaultOptions,\n                url: urlFile.currentValue,\n                withCredentials: this.appConfigService.get<boolean>('auth.withCredentials', undefined)\n            };\n            if (this.cacheType) {\n                pdfSource.httpHeaders = {\n                    'Cache-Control': this.cacheType\n                };\n            }\n            this.executePdf(pdfSource);\n        }\n\n        if (!this.urlFile && !this.blobFile) {\n            throw new Error('Attribute urlFile or blobFile is required');\n        }\n    }\n\n    executePdf(pdfOptions: PDFSource) {\n        pdfjsLib.GlobalWorkerOptions.workerSrc = 'pdf.worker.min.js';\n\n        this.loadingTask = pdfjsLib.getDocument(pdfOptions);\n\n        this.loadingTask.onPassword = (callback, reason) => {\n            this.onPdfPassword(callback, reason);\n        };\n\n        this.loadingTask.onProgress = (progressData) => {\n            const level = progressData.loaded / progressData.total;\n            this.loadingPercent = Math.round(level * 100);\n        };\n\n        this.loadingTask.promise.then((pdfDocument: PDFDocumentProxy) => {\n            this.totalPages = pdfDocument.numPages;\n            this.page = 1;\n            this.displayPage = 1;\n            this.initPDFViewer(pdfDocument);\n\n            return pdfDocument.getPage(1);\n        })\n        .then(() => this.scalePage('auto'))\n        .catch(() => this.error.emit());\n    }\n\n    initPDFViewer(pdfDocument: PDFDocumentProxy) {\n        const viewer: any = this.getViewer();\n        const container = this.getDocumentContainer();\n\n        if (viewer && container) {\n            this.pdfViewer = new pdfjsViewer.PDFViewer({\n                container: container,\n                viewer: viewer,\n                renderingQueue: this.renderingQueueServices,\n                eventBus: this.eventBus\n            });\n\n            // cspell: disable-next\n            this.eventBus.on('pagechanging', this.onPageChange);\n            // cspell: disable-next\n            this.eventBus.on('pagesloaded', this.onPagesLoaded);\n            // cspell: disable-next\n            this.eventBus.on('textlayerrendered', this.onPageRendered);\n\n            this.renderingQueueServices.setViewer(this.pdfViewer);\n            this.pdfViewer.setDocument(pdfDocument);\n            this.pdfThumbnailsContext.viewer = this.pdfViewer;\n        }\n    }\n\n    ngOnDestroy() {\n        if (this.pdfViewer) {\n            // cspell: disable-next\n            this.eventBus.off('pagechanging');\n            // cspell: disable-next\n            this.eventBus.off('pagesloaded');\n            // cspell: disable-next\n            this.eventBus.off('textlayerrendered');\n        }\n\n        if (this.loadingTask) {\n            try {\n                this.loadingTask.destroy();\n            } catch {\n            }\n\n            this.loadingTask = null;\n        }\n    }\n\n    toggleThumbnails() {\n        this.showThumbnails = !this.showThumbnails;\n    }\n\n    /**\n     * Method to scale the page current support implementation\n     *\n     * @param scaleMode - new scale mode\n     */\n    scalePage(scaleMode) {\n        this.currentScaleMode = scaleMode;\n\n        const viewerContainer = document.getElementById(`${this.randomPdfId}-viewer-main-container`);\n        const documentContainer = this.getDocumentContainer();\n\n        if (this.pdfViewer && documentContainer) {\n\n            let widthContainer;\n            let heightContainer;\n\n            if (viewerContainer && viewerContainer.clientWidth <= documentContainer.clientWidth) {\n                widthContainer = viewerContainer.clientWidth;\n                heightContainer = viewerContainer.clientHeight;\n            } else {\n                widthContainer = documentContainer.clientWidth;\n                heightContainer = documentContainer.clientHeight;\n            }\n\n            const currentPage = this.pdfViewer._pages[this.pdfViewer._currentPageNumber - 1];\n\n            const padding = 20;\n            const pageWidthScale = (widthContainer - padding) / currentPage.width * currentPage.scale;\n            const pageHeightScale = (heightContainer - padding) / currentPage.width * currentPage.scale;\n\n            let scale = this.getUserScaling();\n            if (!scale) {\n                switch (this.currentScaleMode) {\n                    case 'page-actual':\n                        scale = 1;\n                        break;\n                    case 'page-width':\n                        scale = pageWidthScale;\n                        break;\n                    case 'page-height':\n                        scale = pageHeightScale;\n                        break;\n                    case 'page-fit':\n                        scale = Math.min(pageWidthScale, pageHeightScale);\n                        break;\n                    case 'auto':\n                        let horizontalScale;\n                        if (this.isLandscape) {\n                            horizontalScale = Math.min(pageHeightScale, pageWidthScale);\n                        } else {\n                            horizontalScale = pageWidthScale;\n                        }\n                        horizontalScale = Math.round(horizontalScale);\n                        scale = Math.min(this.MAX_AUTO_SCALE, horizontalScale);\n                        scale = this.checkPageFitInContainer(scale);\n\n                        break;\n                    default:\n                        this.logService.error('pdfViewSetScale: \\'' + scaleMode + '\\' is an unknown zoom value.');\n                        return;\n                }\n\n                this.setScaleUpdatePages(scale);\n            } else {\n                this.currentScale = 0;\n                scale = this.checkPageFitInContainer(scale);\n                this.setScaleUpdatePages(scale);\n            }\n        }\n    }\n\n    private getDocumentContainer() {\n        return document.getElementById(`${this.randomPdfId}-viewer-pdf-viewer`);\n    }\n\n    private getViewer() {\n        return document.getElementById(`${this.randomPdfId}-viewer-viewerPdf`);\n    }\n\n    checkPageFitInContainer(scale: number): number {\n        const documentContainerSize = this.getDocumentContainer();\n        const page = this.pdfViewer._pages[this.pdfViewer._currentPageNumber - 1];\n\n        if (page.width > documentContainerSize.clientWidth) {\n            scale = Math.fround((documentContainerSize.clientWidth - 20) / page.width);\n            if (scale < this.MIN_SCALE) {\n                scale = this.MIN_SCALE;\n            }\n        }\n\n        return scale;\n    }\n\n    /**\n     * Update all the pages with the newScale scale\n     *\n     * @param newScale - new scale page\n     */\n    setScaleUpdatePages(newScale: number) {\n        if (this.pdfViewer) {\n            if (!this.isSameScale(this.currentScale, newScale)) {\n                this.currentScale = newScale;\n\n                this.pdfViewer._pages.forEach(function (currentPage) {\n                    currentPage.update(newScale);\n                });\n            }\n\n            this.pdfViewer.update();\n        }\n    }\n\n    /**\n     * Check if the request scale of the page is the same for avoid useless re-rendering\n     *\n     * @param oldScale - old scale page\n     * @param newScale - new scale page\n     *\n     */\n    isSameScale(oldScale: number, newScale: number): boolean {\n        return (newScale === oldScale);\n    }\n\n    /**\n     * Check if is a land scape view\n     *\n     * @param width\n     * @param height\n     */\n    isLandscape(width: number, height: number): boolean {\n        return (width > height);\n    }\n\n    /**\n     * Method triggered when the page is resized\n     */\n    onResize() {\n        this.scalePage(this.currentScaleMode);\n    }\n\n    /**\n     * toggle the fit page pdf\n     */\n    pageFit() {\n        if (this.currentScaleMode !== 'page-fit') {\n            this.scalePage('page-fit');\n        } else {\n            this.scalePage('auto');\n        }\n    }\n\n    /**\n     * zoom in page pdf\n     *\n     * @param ticks\n     */\n    zoomIn(ticks?: number) {\n        let newScale: any = this.currentScale;\n        do {\n            newScale = (newScale * this.DEFAULT_SCALE_DELTA).toFixed(2);\n            newScale = Math.ceil(newScale * 10) / 10;\n            newScale = Math.min(this.MAX_SCALE, newScale);\n        } while (--ticks > 0 && newScale < this.MAX_SCALE);\n        this.currentScaleMode = 'auto';\n        this.setScaleUpdatePages(newScale);\n    }\n\n    /**\n     * zoom out page pdf\n     *\n     * @param ticks\n     */\n    zoomOut(ticks?: number) {\n        let newScale: any = this.currentScale;\n        do {\n            newScale = (newScale / this.DEFAULT_SCALE_DELTA).toFixed(2);\n            newScale = Math.floor(newScale * 10) / 10;\n            newScale = Math.max(this.MIN_SCALE, newScale);\n        } while (--ticks > 0 && newScale > this.MIN_SCALE);\n        this.currentScaleMode = 'auto';\n        this.setScaleUpdatePages(newScale);\n    }\n\n    /**\n     * load the previous page\n     */\n    previousPage() {\n        if (this.pdfViewer && this.page > 1) {\n            this.page--;\n            this.displayPage = this.page;\n\n            this.pdfViewer.currentPageNumber = this.page;\n        }\n    }\n\n    /**\n     * load the next page\n     */\n    nextPage() {\n        if (this.pdfViewer && this.page < this.totalPages) {\n            this.page++;\n            this.displayPage = this.page;\n\n            this.pdfViewer.currentPageNumber = this.page;\n        }\n    }\n\n    /**\n     * load the page in input\n     *\n     * @param page to load\n     */\n    inputPage(page: string) {\n        const pageInput = parseInt(page, 10);\n\n        if (!isNaN(pageInput) && pageInput > 0 && pageInput <= this.totalPages) {\n            this.page = pageInput;\n            this.displayPage = this.page;\n            this.pdfViewer.currentPageNumber = this.page;\n        } else {\n            this.displayPage = this.page;\n        }\n    }\n\n    /**\n     * Page Change Event\n     *\n     * @param event\n     */\n    onPageChange(event: any) {\n        if (event.source && event.source.container.id === `${this.randomPdfId}-viewer-pdf-viewer`) {\n            this.page = event.pageNumber;\n            this.displayPage = event.pageNumber;\n        }\n    }\n\n    onPdfPassword(callback, reason) {\n        this.dialog\n            .open(PdfPasswordDialogComponent, {\n                width: '400px',\n                data: { reason }\n            })\n            .afterClosed().subscribe((password) => {\n            if (password) {\n                callback(password);\n            } else {\n                this.close.emit();\n            }\n        });\n    }\n\n    /**\n     * Page Rendered Event\n     */\n    onPageRendered() {\n        this.rendered.emit();\n    }\n\n    /**\n     * Pages Loaded Event\n     *\n     * @param event\n     */\n    onPagesLoaded() {\n        this.isPanelDisabled = false;\n    }\n\n    /**\n     * Keyboard Event Listener\n     * @param KeyboardEvent event\n     */\n    @HostListener('document:keydown', ['$event'])\n    handleKeyboardEvent(event: KeyboardEvent) {\n        const key = event.keyCode;\n        if (key === 39) { // right arrow\n            this.nextPage();\n        } else if (key === 37) {// left arrow\n            this.previousPage();\n        }\n    }\n\n    private generateUuid() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ElementRef, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { FocusableOption } from '@angular/cdk/a11y';\n\n@Component({\n    selector: 'adf-pdf-thumb',\n    templateUrl: './pdf-viewer-thumb.component.html',\n    encapsulation: ViewEncapsulation.None,\n    host: { tabindex: '0'}\n})\nexport class PdfThumbComponent implements OnInit, FocusableOption {\n\n    @Input()\n    page: any = null;\n\n    image$: Promise<string>;\n\n    constructor(private sanitizer: DomSanitizer, private element: ElementRef) {\n    }\n\n    ngOnInit() {\n        this.image$ = this.page.getPage().then((page) => this.getThumb(page));\n    }\n\n    focus() {\n        this.element.nativeElement.focus();\n    }\n\n    private getThumb(page): Promise<string> {\n        const viewport = page.getViewport({ scale: 1 });\n\n        const canvas = this.getCanvas();\n        const scale = Math.min((canvas.height / viewport.height), (canvas.width / viewport.width));\n\n        return page.render({\n            canvasContext: canvas.getContext('2d'),\n            viewport: page.getViewport({ scale: scale })\n        }).promise.then(() => {\n            const imageSource = canvas.toDataURL();\n            return this.sanitizer.bypassSecurityTrustUrl(imageSource);\n        });\n    }\n\n    private getCanvas(): HTMLCanvasElement {\n        const canvas = document.createElement('canvas');\n        canvas.width = this.page.getWidth();\n        canvas.height = this.page.getHeight();\n        return canvas;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Component, Input, ContentChild, TemplateRef, HostListener, OnInit,\n    AfterViewInit, ElementRef, OnDestroy, ViewEncapsulation, EventEmitter, Output, Inject, ViewChildren, QueryList\n} from '@angular/core';\nimport { ESCAPE, UP_ARROW, DOWN_ARROW } from '@angular/cdk/keycodes';\nimport { DOCUMENT } from '@angular/common';\nimport { FocusKeyManager } from '@angular/cdk/a11y';\nimport { PdfThumbComponent } from './pdf-viewer-thumb.component';\nimport { delay } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-pdf-thumbnails',\n    templateUrl: './pdf-viewer-thumbnails.component.html',\n    host: { class: 'adf-pdf-thumbnails' },\n    encapsulation: ViewEncapsulation.None\n})\nexport class PdfThumbListComponent implements OnInit, AfterViewInit, OnDestroy {\n    @Input() pdfViewer: any;\n\n    @Output()\n    close: EventEmitter<any> = new EventEmitter<void>();\n\n    virtualHeight: number = 0;\n    translateY: number = 0;\n    renderItems = [];\n    width: number = 91;\n    currentHeight: number = 0;\n\n    private items = [];\n    private margin: number = 15;\n    private itemHeight: number = 114 + this.margin;\n    private previouslyFocusedElement: HTMLElement | null = null;\n    private keyManager: FocusKeyManager<PdfThumbComponent>;\n\n    @ContentChild(TemplateRef)\n    template: any;\n\n    @ViewChildren(PdfThumbComponent)\n    thumbsList: QueryList<PdfThumbComponent>;\n\n    @HostListener('keydown', ['$event'])\n    onKeydown(event: KeyboardEvent): void {\n        const keyCode = event.keyCode;\n\n        if (keyCode === UP_ARROW && this.canSelectPreviousItem()) {\n            this.pdfViewer.currentPageNumber -= 1;\n        }\n\n        if (keyCode === DOWN_ARROW && this.canSelectNextItem()) {\n            this.pdfViewer.currentPageNumber += 1;\n        }\n\n        if (keyCode === ESCAPE) {\n            this.close.emit();\n        }\n\n        this.keyManager.setFocusOrigin('keyboard');\n        event.preventDefault();\n    }\n\n    @HostListener('window:resize')\n    onResize() {\n        this.calculateItems();\n    }\n\n    constructor(private element: ElementRef, @Inject(DOCUMENT) private document: any) {\n        this.calculateItems = this.calculateItems.bind(this);\n        this.onPageChange = this.onPageChange.bind(this);\n    }\n\n    ngOnInit() {\n        /* cspell:disable-next-line */\n        this.pdfViewer.eventBus.on('pagechanging', this.onPageChange);\n        this.element.nativeElement.addEventListener('scroll', this.calculateItems, true);\n\n        this.setHeight(this.pdfViewer.currentPageNumber);\n        this.items = this.getPages();\n        this.calculateItems();\n\n        this.previouslyFocusedElement = this.document.activeElement as HTMLElement;\n    }\n\n    ngAfterViewInit() {\n        this.keyManager = new FocusKeyManager(this.thumbsList);\n\n        this.thumbsList.changes\n            .pipe(delay(0))\n            .subscribe(() => this.keyManager.setActiveItem(this.getPageIndex(this.pdfViewer.currentPageNumber)));\n\n        setTimeout(() => {\n            this.scrollInto(this.pdfViewer.currentPageNumber);\n            this.keyManager.setActiveItem(this.getPageIndex(this.pdfViewer.currentPageNumber));\n        }, 0);\n    }\n\n    ngOnDestroy() {\n        this.element.nativeElement.removeEventListener('scroll', this.calculateItems, true);\n        /* cspell:disable-next-line */\n        this.pdfViewer.eventBus.on('pagechanging', this.onPageChange);\n\n        if (this.previouslyFocusedElement) {\n            this.previouslyFocusedElement.focus();\n            this.previouslyFocusedElement = null;\n        }\n    }\n\n    trackByFn(_: number, item: any): number {\n        return item.id;\n    }\n\n    isSelected(pageNumber: number) {\n        return this.pdfViewer.currentPageNumber === pageNumber;\n    }\n\n    goTo(pageNumber: number) {\n        this.pdfViewer.currentPageNumber = pageNumber;\n    }\n\n    scrollInto(pageNumber: number) {\n        if (this.items.length) {\n            const index: number = this.items.findIndex((element) => element.id === pageNumber);\n\n            if (index < 0 || index >= this.items.length) {\n                return;\n            }\n\n            this.element.nativeElement.scrollTop = index * this.itemHeight;\n\n            this.calculateItems();\n        }\n    }\n\n    getPages() {\n        return this.pdfViewer._pages.map((page) => ({\n            id: page.id,\n            getWidth: () => {\n                return this.width;\n            },\n            getHeight: () => {\n                return this.currentHeight;\n            },\n            getPage: () => this.pdfViewer.pdfDocument.getPage(page.id)\n        }));\n    }\n\n    private setHeight(id): number {\n        const height = this.pdfViewer.pdfDocument.getPage(id).then((page) => this.calculateHeight(page));\n        return height;\n    }\n\n    private calculateHeight(page) {\n        const viewport = page.getViewport({ scale: 1 });\n        const pageRatio = viewport.width / viewport.height;\n        const height = Math.floor(this.width / pageRatio);\n\n        this.currentHeight = height;\n        this.itemHeight = height + this.margin;\n    }\n\n    private calculateItems() {\n        const { element, viewPort, itemsInView } = this.getContainerSetup();\n\n        const indexByScrollTop = element.scrollTop / viewPort * this.items.length / itemsInView;\n\n        const start = Math.floor(indexByScrollTop);\n\n        const end = Math.ceil(indexByScrollTop) + (itemsInView);\n\n        this.translateY = this.itemHeight * Math.ceil(start);\n        this.virtualHeight = this.itemHeight * this.items.length - this.translateY;\n        this.renderItems = this.items.slice(start, end);\n    }\n\n    private getContainerSetup() {\n        const element = this.element.nativeElement;\n        const elementRec = element.getBoundingClientRect();\n        const itemsInView = Math.ceil(elementRec.height / this.itemHeight);\n        const viewPort = (this.itemHeight * this.items.length) / itemsInView;\n\n        return {\n            element,\n            viewPort,\n            itemsInView\n        };\n    }\n\n    private onPageChange(event) {\n        const index = this.renderItems.findIndex((element) => element.id === event.pageNumber);\n\n        if (index < 0) {\n            this.scrollInto(event.pageNumber);\n        }\n\n        if (index >= this.renderItems.length - 1) {\n            this.element.nativeElement.scrollTop += this.itemHeight;\n        }\n\n        this.keyManager.setActiveItem(this.getPageIndex(event.pageNumber));\n    }\n\n    private getPageIndex(pageNumber: number): number {\n        const thumbsListArray = this.thumbsList.toArray();\n        return thumbsListArray.findIndex(el => el.page.id === pageNumber);\n    }\n\n    private canSelectNextItem(): boolean {\n        return this.pdfViewer.currentPageNumber !== this.pdfViewer.pagesCount;\n    }\n\n    private canSelectPreviousItem(): boolean {\n        return this.pdfViewer.currentPageNumber !== 1;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { HttpClient } from '@angular/common/http';\nimport { Component, Input, OnChanges, ViewEncapsulation, SimpleChanges } from '@angular/core';\nimport { AppConfigService } from './../../app-config/app-config.service';\n\n@Component({\n    selector: 'adf-txt-viewer',\n    templateUrl: './txt-viewer.component.html',\n    host: { 'class': 'adf-txt-viewer' },\n    encapsulation: ViewEncapsulation.None\n})\nexport class TxtViewerComponent implements OnChanges {\n\n    @Input()\n    urlFile: any;\n\n    @Input()\n    blobFile: Blob;\n\n    content: string | ArrayBuffer;\n\n    constructor(private http: HttpClient, private appConfigService: AppConfigService) {\n    }\n\n    ngOnChanges(changes: SimpleChanges): Promise<any> {\n\n        const blobFile = changes['blobFile'];\n        if (blobFile && blobFile.currentValue) {\n            return this.readBlob(blobFile.currentValue);\n        }\n\n        const urlFile = changes['urlFile'];\n        if (urlFile && urlFile.currentValue) {\n            return this.getUrlContent(urlFile.currentValue);\n        }\n\n        if (!this.urlFile && !this.blobFile) {\n            throw new Error('Attribute urlFile or blobFile is required');\n        }\n\n        return Promise.resolve();\n    }\n\n    private getUrlContent(url: string): Promise<any> {\n        const withCredentialsMode = this.appConfigService.get<boolean>('auth.withCredentials', false);\n\n        return new Promise((resolve, reject) => {\n            this.http.get(url, { responseType: 'text', withCredentials: withCredentialsMode }).subscribe((res) => {\n                this.content = res;\n                resolve();\n            }, (event) => {\n                reject(event);\n            });\n        });\n    }\n\n    private readBlob(blob: Blob): Promise<any> {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n\n            reader.onload = () => {\n                this.content = reader.result;\n                resolve();\n            };\n\n            reader.onerror = (error: any) => {\n                reject(error);\n            };\n\n            reader.readAsText(blob);\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component } from '@angular/core';\n\n@Component({\n    selector: 'adf-viewer-unknown-format',\n    templateUrl: './unknown-format.component.html'\n})\nexport class UnknownFormatComponent {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n    selector: 'adf-viewer-toolbar-actions',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: { class: 'adf-viewer-toolbar-actions' },\n    template: `<ng-content></ng-content>`\n})\nexport class ViewerToolbarActionsComponent {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AfterContentInit, ContentChild, Directive, Input, TemplateRef, OnDestroy } from '@angular/core';\nimport { ViewerComponent } from '../components/viewer.component';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Directive({\n    selector: 'adf-viewer-extension'\n})\nexport class ViewerExtensionDirective implements AfterContentInit, OnDestroy {\n\n    @ContentChild(TemplateRef)\n    template: any;\n\n    @Input()\n    urlFileContent: string;\n\n    @Input()\n    extension: string;\n\n    @Input()\n    supportedExtensions: string[];\n\n    templateModel: any;\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(private viewerComponent: ViewerComponent) {\n    }\n\n    ngAfterContentInit() {\n        this.templateModel = { template: this.template, isVisible: false };\n\n        this.viewerComponent.extensionTemplates.push(this.templateModel);\n\n        this.viewerComponent.extensionChange\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe(fileExtension => {\n                this.templateModel.isVisible = this.isVisible(fileExtension);\n            });\n\n        if (this.supportedExtensions instanceof Array) {\n            this.supportedExtensions.forEach((extension) => {\n                this.viewerComponent.externalExtensions.push(extension);\n            });\n        }\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    /**\n     * check if the current extension in the viewer is compatible with this extension checking against supportedExtensions\n     */\n    isVisible(fileExtension): boolean {\n        let supportedExtension: string;\n\n        if (this.supportedExtensions && (this.supportedExtensions instanceof Array)) {\n            supportedExtension = this.supportedExtensions.find((extension) => {\n                return extension.toLowerCase() === fileExtension;\n\n            });\n        }\n\n        return !!supportedExtension;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n    selector: 'adf-toolbar-divider',\n    template: '<div></div>',\n    host: { 'class': 'adf-toolbar-divider' },\n    styles: [`\n        .adf-toolbar-divider > div {\n            height: 24px;\n            width: 1px;\n            background: rgba(0, 0, 0, 0.26);\n            margin-left: 5px;\n            margin-right: 5px;\n        }\n    `],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ToolbarDividerComponent {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component } from '@angular/core';\n\n@Component({\n    selector: 'adf-toolbar-title',\n    template: '<ng-content></ng-content>',\n    host: { 'class': 'adf-toolbar-title' }\n})\nexport class ToolbarTitleComponent {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\nimport { ThemePalette } from '@angular/material/core';\n\n@Component({\n    selector: 'adf-toolbar',\n    templateUrl: './toolbar.component.html',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    host: { 'class': 'adf-toolbar' }\n})\nexport class ToolbarComponent {\n\n    /** Toolbar title. */\n    @Input()\n    title: string = '';\n\n    /** Toolbar color. Can be changed to empty value (default), `primary`, `accent` or `warn`. */\n    @Input()\n    color: ThemePalette;\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MaterialModule } from '../material.module';\n\nimport { ToolbarDividerComponent } from './toolbar-divider.component';\nimport { ToolbarTitleComponent } from './toolbar-title.component';\nimport { ToolbarComponent } from './toolbar.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule\n    ],\n    declarations: [\n        ToolbarComponent,\n        ToolbarTitleComponent,\n        ToolbarDividerComponent\n    ],\n    exports: [\n        ToolbarComponent,\n        ToolbarTitleComponent,\n        ToolbarDividerComponent\n    ]\n})\nexport class ToolbarModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { ExtensionsModule } from '@alfresco/adf-extensions';\n\nimport { MaterialModule } from '../material.module';\nimport { ToolbarModule } from '../toolbar/toolbar.module';\nimport { PipeModule } from '../pipes/pipe.module';\nimport { ImgViewerComponent } from './components/img-viewer.component';\nimport { MediaPlayerComponent } from './components/media-player.component';\nimport { PdfViewerComponent } from './components/pdf-viewer.component';\nimport { PdfPasswordDialogComponent } from './components/pdf-viewer-password-dialog';\nimport { PdfThumbComponent } from './components/pdf-viewer-thumb.component';\nimport { PdfThumbListComponent } from './components/pdf-viewer-thumbnails.component';\nimport { TxtViewerComponent } from './components/txt-viewer.component';\nimport { UnknownFormatComponent } from './components/unknown-format/unknown-format.component';\nimport { ViewerMoreActionsComponent } from './components/viewer-more-actions.component';\nimport { ViewerOpenWithComponent } from './components/viewer-open-with.component';\nimport { ViewerSidebarComponent } from './components/viewer-sidebar.component';\nimport { ViewerToolbarComponent } from './components/viewer-toolbar.component';\nimport { ViewerComponent } from './components/viewer.component';\nimport { ViewerExtensionDirective } from './directives/viewer-extension.directive';\nimport { ViewerToolbarActionsComponent } from './components/viewer-toolbar-actions.component';\nimport { DirectiveModule } from '../directives/directive.module';\nimport { A11yModule } from '@angular/cdk/a11y';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ToolbarModule,\n        PipeModule,\n        FlexLayoutModule,\n        DirectiveModule,\n        A11yModule,\n        ExtensionsModule\n    ],\n    declarations: [\n        PdfPasswordDialogComponent,\n        ViewerComponent,\n        ImgViewerComponent,\n        TxtViewerComponent,\n        MediaPlayerComponent,\n        PdfViewerComponent,\n        PdfThumbComponent,\n        PdfThumbListComponent,\n        ViewerExtensionDirective,\n        UnknownFormatComponent,\n        ViewerToolbarComponent,\n        ViewerSidebarComponent,\n        ViewerOpenWithComponent,\n        ViewerMoreActionsComponent,\n        ViewerToolbarActionsComponent\n    ],\n    exports: [\n        ViewerComponent,\n        ImgViewerComponent,\n        TxtViewerComponent,\n        MediaPlayerComponent,\n        PdfViewerComponent,\n        PdfPasswordDialogComponent,\n        PdfThumbComponent,\n        PdfThumbListComponent,\n        ViewerExtensionDirective,\n        UnknownFormatComponent,\n        ViewerToolbarComponent,\n        ViewerSidebarComponent,\n        ViewerOpenWithComponent,\n        ViewerMoreActionsComponent,\n        ViewerToolbarActionsComponent\n    ]\n})\nexport class ViewerModule {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, from, throwError } from 'rxjs';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { LogService } from './log.service';\nimport { BpmUserModel } from '../models/bpm-user.model';\nimport { map, catchError } from 'rxjs/operators';\nimport { UserRepresentation } from '@alfresco/js-api';\n\n/**\n *\n * BPMUserService retrieve all the information of an Ecm user.\n *\n */\n@Injectable({\n    providedIn: 'root'\n})\nexport class BpmUserService {\n\n    constructor(private apiService: AlfrescoApiService,\n                private logService: LogService) {\n    }\n\n    /**\n     * Gets information about the current user.\n     * @returns User information object\n     */\n    getCurrentUserInfo(): Observable<BpmUserModel> {\n        return from(this.apiService.getInstance().activiti.profileApi.getProfile())\n            .pipe(\n                map((userRepresentation: UserRepresentation) => {\n                    return new BpmUserModel(userRepresentation);\n                }),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets the current user's profile image as a URL.\n     * @returns URL string\n     */\n    getCurrentUserProfileImage(): string {\n        return this.apiService.getInstance().activiti.profileApi.getProfilePictureUrl();\n    }\n\n    /**\n     * Throw the error\n     * @param error\n     */\n    private handleError(error: any) {\n        // in a real world app, we may send the error to some remote logging infrastructure\n        // instead of just logging it to the console\n        this.logService.error(error);\n        return throwError(error || 'Server error');\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, from } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ContentService } from './content.service';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { EcmUserModel } from '../models/ecm-user.model';\nimport { PeopleApi } from '@alfresco/js-api';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class EcmUserService {\n\n    private _peopleApi: PeopleApi;\n\n    constructor(private apiService: AlfrescoApiService,\n                private contentService: ContentService) {\n    }\n\n    get peopleApi(): PeopleApi {\n        return this._peopleApi || (this._peopleApi = new PeopleApi(this.apiService.getInstance()));\n    }\n\n    /**\n     * Gets information about a user identified by their username.\n     * @param userName Target username\n     * @returns User information\n     */\n    getUserInfo(userName: string): Observable<EcmUserModel> {\n        return from(this.peopleApi.getPerson(userName))\n            .pipe(\n                map((personEntry) => new EcmUserModel(personEntry.entry))\n            );\n    }\n\n    /**\n     * Gets information about the user who is currently logged-in.\n     * @returns User information as for getUserInfo\n     */\n    getCurrentUserInfo() {\n        return this.getUserInfo('-me-');\n    }\n\n    /**\n     * Returns a profile image as a URL.\n     * @param avatarId Target avatar\n     * @returns Image URL\n     */\n    getUserProfileImage(avatarId: string): string {\n        return this.contentService.getContentUrl(avatarId);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { Observable, from } from 'rxjs';\nimport { Oauth2Auth } from '@alfresco/js-api';\n\nexport const JSON_TYPE = ['application/json'];\n\nexport interface OAuth2RequestParams {\n    url: string;\n    httpMethod?: string;\n    pathParams?: any;\n    queryParams?: any;\n    bodyParam?: any;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class OAuth2Service {\n    constructor(private alfrescoApiService: AlfrescoApiService) {}\n\n    get apiClient(): Oauth2Auth {\n        return this.alfrescoApiService.getInstance().oauth2Auth;\n    }\n\n    request<T>(opts: OAuth2RequestParams): Observable<T> {\n        return from(\n            this.apiClient.callCustomApi(\n                opts.url,\n                opts.httpMethod,\n                opts.pathParams,\n                opts.queryParams,\n                {},\n                {},\n                opts.bodyParam,\n                JSON_TYPE,\n                JSON_TYPE,\n                Object\n            )\n        );\n    }\n\n    get<T>(opts: OAuth2RequestParams): Observable<T> {\n        return this.request({\n            ...opts,\n            httpMethod: 'GET'\n        });\n    }\n\n    put<T>(opts: OAuth2RequestParams): Observable<T> {\n        return this.request({\n            ...opts,\n            httpMethod: 'PUT'\n        });\n    }\n\n    post<T>(opts: OAuth2RequestParams): Observable<T> {\n        return this.request({\n            ...opts,\n            httpMethod: 'POST'\n        });\n    }\n\n    delete<T>(opts: OAuth2RequestParams): Observable<T> {\n        return this.request({\n            ...opts,\n            httpMethod: 'DELETE'\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pagination } from '@alfresco/js-api';\nimport { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { IdentityGroupModel } from '../models/identity-group.model';\nimport { IdentityRoleModel } from '../models/identity-role.model';\nimport { IdentityUserModel } from '../models/identity-user.model';\nimport { JwtHelperService } from './jwt-helper.service';\nimport { OAuth2Service } from './oauth2.service';\n\nexport interface IdentityUserQueryResponse {\n\n    entries: IdentityUserModel[];\n    pagination: Pagination;\n}\n\nexport interface IdentityUserPasswordModel {\n    type?: string;\n    value?: string;\n    temporary?: boolean;\n}\n\nexport interface IdentityUserQueryCloudRequestModel {\n    first: number;\n    max: number;\n}\n\nexport interface IdentityJoinGroupRequestModel {\n    realm: string;\n    userId: string;\n    groupId: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class IdentityUserService {\n\n    constructor(\n        private jwtHelperService: JwtHelperService,\n        private oAuth2Service: OAuth2Service,\n        private appConfigService: AppConfigService) { }\n\n    private get identityHost(): string {\n        return `${this.appConfigService.get('identityHost')}`;\n    }\n\n    private buildUserUrl(): string {\n        return `${this.identityHost}/users`;\n    }\n\n    /**\n     * Gets the name and other basic details of the current user.\n     * @returns The user's details\n     */\n    getCurrentUserInfo(): IdentityUserModel {\n        const familyName = this.jwtHelperService.getValueFromLocalAccessToken<string>(JwtHelperService.FAMILY_NAME);\n        const givenName = this.jwtHelperService.getValueFromLocalAccessToken<string>(JwtHelperService.GIVEN_NAME);\n        const email = this.jwtHelperService.getValueFromLocalAccessToken<string>(JwtHelperService.USER_EMAIL);\n        const username = this.jwtHelperService.getValueFromLocalAccessToken<string>(JwtHelperService.USER_PREFERRED_USERNAME);\n        return { firstName: givenName, lastName: familyName, email: email, username: username };\n    }\n\n    /**\n     * Find users based on search input.\n     * @param search Search query string\n     * @returns List of users\n     */\n    findUsersByName(search: string): Observable<IdentityUserModel[]> {\n        if (search === '') {\n            return of([]);\n        }\n        const url = this.buildUserUrl();\n        const queryParams = { search: search };\n\n        return this.oAuth2Service.get({ url, queryParams });\n    }\n\n    /**\n     * Find users based on username input.\n     * @param username Search query string\n     * @returns List of users\n     */\n    findUserByUsername(username: string): Observable<IdentityUserModel[]> {\n        if (username === '') {\n            return of([]);\n        }\n        const url = this.buildUserUrl();\n        const queryParams = { username: username };\n\n        return this.oAuth2Service.get({url, queryParams });\n    }\n\n    /**\n     * Find users based on email input.\n     * @param email Search query string\n     * @returns List of users\n     */\n    findUserByEmail(email: string): Observable<IdentityUserModel[]> {\n        if (email === '') {\n            return of([]);\n        }\n        const url = this.buildUserUrl();\n        const queryParams = { email: email };\n\n        return this.oAuth2Service.get({ url, queryParams });\n    }\n\n    /**\n     * Find users based on id input.\n     * @param id Search query string\n     * @returns users object\n     */\n    findUserById(id: string): Observable<any> {\n        if (id === '') {\n            return of([]);\n        }\n        const url = this.buildUserUrl() + '/' + id;\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Get client roles of a user for a particular client.\n     * @param userId ID of the target user\n     * @param clientId ID of the client app\n     * @returns List of client roles\n     */\n    getClientRoles(userId: string, clientId: string): Observable<any[]> {\n        const url = `${this.identityHost}/users/${userId}/role-mappings/clients/${clientId}/composite`;\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Checks whether user has access to a client app.\n     * @param userId ID of the target user\n     * @param clientId ID of the client app\n     * @returns True if the user has access, false otherwise\n     */\n    checkUserHasClientApp(userId: string, clientId: string): Observable<boolean> {\n        return this.getClientRoles(userId, clientId).pipe(\n            map((clientRoles) => clientRoles.length > 0)\n        );\n    }\n\n    /**\n     * Checks whether a user has any of the client app roles.\n     * @param userId ID of the target user\n     * @param clientId ID of the client app\n     * @param roleNames List of role names to check for\n     * @returns True if the user has one or more of the roles, false otherwise\n     */\n    checkUserHasAnyClientAppRole(userId: string, clientId: string, roleNames: string[]): Observable<boolean> {\n        return this.getClientRoles(userId, clientId).pipe(\n            map((clientRoles: any[]) => {\n                let hasRole = false;\n                if (clientRoles.length > 0) {\n                    roleNames.forEach((roleName) => {\n                        const role = clientRoles.find(({ name }) => name === roleName);\n\n                        if (role) {\n                            hasRole = true;\n                            return;\n                        }\n                    });\n                }\n                return hasRole;\n            })\n        );\n    }\n\n    /**\n     * Gets the client ID for an application.\n     * @param applicationName Name of the application\n     * @returns Client ID string\n     */\n    getClientIdByApplicationName(applicationName: string): Observable<string> {\n        const url = `${this.identityHost}/clients`;\n        const queryParams = { clientId: applicationName };\n\n        return this.oAuth2Service\n            .get<any[]>({url, queryParams })\n            .pipe(\n                map((response) => response && response.length > 0 ? response[0].id : '')\n            );\n    }\n\n    /**\n     * Checks if a user has access to an application.\n     * @param userId ID of the user\n     * @param applicationName Name of the application\n     * @returns True if the user has access, false otherwise\n     */\n    checkUserHasApplicationAccess(userId: string, applicationName: string): Observable<boolean> {\n        return this.getClientIdByApplicationName(applicationName).pipe(\n            switchMap((clientId: string) => {\n                return this.checkUserHasClientApp(userId, clientId);\n            })\n        );\n    }\n\n    /**\n     * Checks if a user has any application role.\n     * @param userId ID of the target user\n     * @param applicationName Name of the application\n     * @param roleNames List of role names to check for\n     * @returns True if the user has one or more of the roles, false otherwise\n     */\n    checkUserHasAnyApplicationRole(userId: string, applicationName: string, roleNames: string[]): Observable<boolean> {\n        return this.getClientIdByApplicationName(applicationName).pipe(\n            switchMap((clientId: string) => {\n                return this.checkUserHasAnyClientAppRole(userId, clientId, roleNames);\n            })\n        );\n    }\n\n    /**\n     * Gets details for all users.\n     * @returns Array of user info objects\n     */\n    getUsers(): Observable<IdentityUserModel[]> {\n        const url = this.buildUserUrl();\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Gets a list of roles for a user.\n     * @param userId ID of the user\n     * @returns Array of role info objects\n     */\n    getUserRoles(userId: string): Observable<IdentityRoleModel[]> {\n        const url = `${this.identityHost}/users/${userId}/role-mappings/realm/composite`;\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Gets an array of users (including the current user) who have any of the roles in the supplied list.\n     * @param roleNames List of role names to look for\n     * @returns Array of user info objects\n     */\n    async getUsersByRolesWithCurrentUser(roleNames: string[]): Promise<IdentityUserModel[]> {\n        const filteredUsers: IdentityUserModel[] = [];\n        if (roleNames && roleNames.length > 0) {\n            const users = await this.getUsers().toPromise();\n\n            for (let i = 0; i < users.length; i++) {\n                const hasAnyRole = await this.userHasAnyRole(users[i].id, roleNames);\n                if (hasAnyRole) {\n                    filteredUsers.push(users[i]);\n                }\n            }\n        }\n\n        return filteredUsers;\n    }\n\n    /**\n     * Gets an array of users (not including the current user) who have any of the roles in the supplied list.\n     * @param roleNames List of role names to look for\n     * @returns Array of user info objects\n     */\n    async getUsersByRolesWithoutCurrentUser(roleNames: string[]): Promise<IdentityUserModel[]> {\n        const filteredUsers: IdentityUserModel[] = [];\n        if (roleNames && roleNames.length > 0) {\n            const currentUser = this.getCurrentUserInfo();\n            let users = await this.getUsers().toPromise();\n\n            users = users.filter(({ username }) => username !== currentUser.username);\n\n            for (let i = 0; i < users.length; i++) {\n                const hasAnyRole = await this.userHasAnyRole(users[i].id, roleNames);\n                if (hasAnyRole) {\n                    filteredUsers.push(users[i]);\n                }\n            }\n        }\n\n        return filteredUsers;\n    }\n\n    private async userHasAnyRole(userId: string, roleNames: string[]): Promise<boolean> {\n        const userRoles = await this.getUserRoles(userId).toPromise();\n        const hasAnyRole = roleNames.some((roleName) => {\n            const filteredRoles = userRoles.filter((userRole) => {\n                return userRole.name.toLocaleLowerCase() === roleName.toLocaleLowerCase();\n            });\n\n            return filteredRoles.length > 0;\n        });\n\n        return hasAnyRole;\n    }\n\n    /**\n     * Checks if a user has one of the roles from a list.\n     * @param userId ID of the target user\n     * @param roleNames Array of roles to check for\n     * @returns True if the user has one of the roles, false otherwise\n     */\n    checkUserHasRole(userId: string, roleNames: string[]): Observable<boolean> {\n        return this.getUserRoles(userId).pipe(map((userRoles: IdentityRoleModel[]) => {\n            let hasRole = false;\n            if (userRoles && userRoles.length > 0) {\n                roleNames.forEach((roleName: string) => {\n                    const role = userRoles.find(({ name }) => roleName === name);\n                    if (role) {\n                        hasRole = true;\n                        return;\n                    }\n                });\n            }\n            return hasRole;\n        }));\n    }\n\n    /**\n     * Gets details for all users.\n     * @returns Array of user information objects.\n     */\n    queryUsers(requestQuery: IdentityUserQueryCloudRequestModel): Observable<IdentityUserQueryResponse> {\n        const url = this.buildUserUrl();\n        const queryParams = { first: requestQuery.first, max: requestQuery.max };\n\n        return this.getTotalUsersCount().pipe(\n            switchMap((totalCount) =>\n                this.oAuth2Service.get<IdentityUserModel[]>({ url, queryParams }).pipe(\n                    map((response) => {\n                        return <IdentityUserQueryResponse> {\n                            entries: response,\n                            pagination: {\n                              skipCount: requestQuery.first,\n                              maxItems: requestQuery.max,\n                              count: totalCount,\n                              hasMoreItems: false,\n                              totalItems: totalCount\n                            }\n                        };\n                    })\n                )\n            )\n        );\n    }\n\n    /**\n     * Gets users total count.\n     * @returns Number of users count.\n     */\n    getTotalUsersCount(): Observable<number> {\n        const url = this.buildUserUrl() + `/count`;\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Creates new user.\n     * @param newUser Object containing the new user details.\n     * @returns Empty response when the user created.\n     */\n    createUser(newUser: IdentityUserModel): Observable<any> {\n        const url = this.buildUserUrl();\n        const bodyParam = JSON.stringify(newUser);\n\n        return this.oAuth2Service.post({ url, bodyParam });\n    }\n\n    /**\n     * Updates user details.\n     * @param userId Id of the user.\n     * @param updatedUser Object containing the user details.\n     * @returns Empty response when the user updated.\n     */\n    updateUser(userId: string, updatedUser: IdentityUserModel): Observable<any> {\n        const url = this.buildUserUrl() + '/' + userId;\n        const bodyParam = JSON.stringify(updatedUser);\n\n        return this.oAuth2Service.put({ url, bodyParam });\n    }\n\n    /**\n     * Deletes User.\n     * @param userId Id of the  user.\n     * @returns Empty response when the user deleted.\n     */\n    deleteUser(userId: string): Observable<any> {\n        const url = this.buildUserUrl() + '/' + userId;\n        return this.oAuth2Service.delete({ url });\n    }\n\n    /**\n     * Changes user password.\n     * @param userId Id of the user.\n     * @param credentials Details of user Credentials.\n     * @returns Empty response when the password changed.\n     */\n    changePassword(userId: string, newPassword: IdentityUserPasswordModel): Observable<any> {\n        const url = this.buildUserUrl() + '/' + userId + '/reset-password';\n        const bodyParam = JSON.stringify(newPassword);\n\n        return this.oAuth2Service.put({ url, bodyParam });\n    }\n\n    /**\n     * Gets involved groups.\n     * @param userId Id of the user.\n     * @returns Array of involved groups information objects.\n     */\n    getInvolvedGroups(userId: string): Observable<IdentityGroupModel[]> {\n        const url = this.buildUserUrl() + '/' + userId + '/groups/';\n        const pathParams = { id: userId };\n\n        return this.oAuth2Service.get({ url, pathParams });\n    }\n\n    /**\n     * Joins group.\n     * @param joinGroupRequest Details of join group request (IdentityJoinGroupRequestModel).\n     * @returns Empty response when the user joined the group.\n     */\n    joinGroup(joinGroupRequest: IdentityJoinGroupRequestModel): Observable<any> {\n        const url = this.buildUserUrl() + '/' + joinGroupRequest.userId + '/groups/' + joinGroupRequest.groupId;\n        const bodyParam = JSON.stringify(joinGroupRequest);\n\n        return this.oAuth2Service.put({ url, bodyParam });\n    }\n\n    /**\n     * Leaves group.\n     * @param userId Id of the user.\n     * @param groupId Id of the  group.\n     * @returns Empty response when the user left the group.\n     */\n    leaveGroup(userId: any, groupId: string): Observable<any> {\n        const url = this.buildUserUrl() + '/' + userId + '/groups/' + groupId;\n        return this.oAuth2Service.delete({ url });\n    }\n\n    /**\n     * Gets available roles\n     * @param userId Id of the user.\n     * @returns Array of available roles information objects\n     */\n    getAvailableRoles(userId: string): Observable<IdentityRoleModel[]> {\n        const url = this.buildUserUrl() + '/' + userId + '/role-mappings/realm/available';\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Gets assigned roles.\n     * @param userId Id of the user.\n     * @returns Array of assigned roles information objects\n     */\n    getAssignedRoles(userId: string): Observable<IdentityRoleModel[]> {\n        const url = this.buildUserUrl() + '/' + userId + '/role-mappings/realm';\n        const pathParams = { id: userId };\n\n        return this.oAuth2Service.get({ url, pathParams });\n    }\n\n    /**\n     * Gets effective roles.\n     * @param userId Id of the user.\n     * @returns Array of composite roles information objects\n     */\n    getEffectiveRoles(userId: string): Observable<IdentityRoleModel[]> {\n        const url = this.buildUserUrl() + '/' + userId + '/role-mappings/realm/composite';\n        const pathParams = { id: userId };\n\n        return this.oAuth2Service.get({ url, pathParams });\n    }\n\n    /**\n     * Assigns roles to the user.\n     * @param userId Id of the user.\n     * @param roles Array of roles.\n     * @returns Empty response when the role assigned.\n     */\n    assignRoles(userId: string, roles: IdentityRoleModel[]): Observable<any> {\n        const url = this.buildUserUrl() + '/' + userId + '/role-mappings/realm';\n        const bodyParam = JSON.stringify(roles);\n\n        return this.oAuth2Service.post({ url, bodyParam });\n    }\n\n    /**\n     * Removes assigned roles.\n     * @param userId Id of the user.\n     * @param roles Array of roles.\n     * @returns Empty response when the role removed.\n     */\n    removeRoles(userId: string, removedRoles: IdentityRoleModel[]): Observable<any> {\n        const url = this.buildUserUrl() + '/' + userId + '/role-mappings/realm';\n        const bodyParam = JSON.stringify(removedRoles);\n\n        return this.oAuth2Service.delete({ url, bodyParam });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, OnInit, ViewEncapsulation, ViewChild } from '@angular/core';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { BpmUserModel } from '../../models/bpm-user.model';\nimport { EcmUserModel } from '../../models/ecm-user.model';\nimport { IdentityUserModel } from '../../models/identity-user.model';\nimport { BpmUserService } from '../../services/bpm-user.service';\nimport { EcmUserService } from '../../services/ecm-user.service';\nimport { IdentityUserService } from '../../services/identity-user.service';\nimport { of, Observable } from 'rxjs';\nimport { MatMenuTrigger, MenuPositionX, MenuPositionY } from '@angular/material/menu';\n\n@Component({\n    selector: 'adf-userinfo',\n    templateUrl: './user-info.component.html',\n    encapsulation: ViewEncapsulation.None\n})\nexport class UserInfoComponent implements OnInit {\n\n    @ViewChild(MatMenuTrigger) trigger: MatMenuTrigger;\n\n    /** Custom path for the background banner image for ACS users. */\n    @Input()\n    ecmBackgroundImage: string = './assets/images/ecm-background.png';\n\n    /** Custom path for the background banner image for APS users. */\n    @Input()\n    bpmBackgroundImage: string = './assets/images/bpm-background.png';\n\n    /** Custom choice for opening the menu at the bottom. Can be `before` or `after`. */\n    @Input()\n    menuPositionX: MenuPositionX = 'after';\n\n    /** Custom choice for opening the menu at the bottom. Can be `above` or `below`. */\n    @Input()\n    menuPositionY: MenuPositionY = 'below';\n\n    /** Shows/hides the username next to the user info button. */\n    @Input()\n    showName: boolean = true;\n\n    /** When the username is shown, this defines its position relative to the user info button.\n     * Can be `right` or `left`.\n     */\n    @Input()\n    namePosition: string = 'right';\n\n    mode: string;\n\n    ecmUser$: Observable<EcmUserModel>;\n    bpmUser$: Observable<BpmUserModel>;\n    identityUser$: Observable<IdentityUserModel>;\n    selectedIndex: number;\n\n    constructor(private ecmUserService: EcmUserService,\n                private bpmUserService: BpmUserService,\n                private identityUserService: IdentityUserService,\n                private authService: AuthenticationService) {\n    }\n\n    ngOnInit() {\n        this.getUserInfo();\n    }\n\n    getUserInfo() {\n        if (this.authService.isOauth()) {\n            this.loadIdentityUserInfo();\n            this.mode = 'SSO';\n\n            if (this.authService.isEcmLoggedIn()) {\n                this.loadEcmUserInfo();\n            }\n\n        } else if (this.authService.isEcmLoggedIn() && this.authService.isBpmLoggedIn()) {\n            this.loadEcmUserInfo();\n            this.loadBpmUserInfo();\n            this.mode = 'ALL';\n        } else if (this.authService.isEcmLoggedIn()) {\n            this.loadEcmUserInfo();\n            this.mode = 'CONTENT';\n        } else if (this.authService.isBpmLoggedIn()) {\n            this.loadBpmUserInfo();\n            this.mode = 'PROCESS';\n        }\n    }\n\n    onKeyPress(event: KeyboardEvent) {\n        this.closeUserModal(event);\n    }\n\n    private closeUserModal($event: KeyboardEvent) {\n        if ($event.keyCode === 27) {\n            this.trigger.closeMenu();\n        }\n    }\n\n    get isLoggedIn(): boolean {\n        return this.authService.isLoggedIn();\n    }\n\n    private loadEcmUserInfo(): void {\n        this.ecmUser$ = this.ecmUserService.getCurrentUserInfo();\n    }\n\n    private loadBpmUserInfo() {\n        this.bpmUser$ = this.bpmUserService.getCurrentUserInfo();\n    }\n\n    private loadIdentityUserInfo() {\n        this.identityUser$ = of(this.identityUserService.getCurrentUserInfo());\n    }\n\n    stopClosing(event: Event) {\n        event.stopPropagation();\n    }\n\n    getEcmAvatar(avatarId: any): string {\n        return this.ecmUserService.getUserProfileImage(avatarId);\n    }\n\n    getBpmUserImage(): string {\n        return this.bpmUserService.getCurrentUserProfileImage();\n    }\n\n    get showOnRight(): boolean {\n        return this.namePosition === 'right';\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { MaterialModule } from '../material.module';\nimport { PipeModule } from '../pipes/pipe.module';\nimport { UserInfoComponent } from './components/user-info.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule,\n        PipeModule\n    ],\n    declarations: [\n        UserInfoComponent\n    ],\n    exports: [\n        UserInfoComponent\n    ]\n})\nexport class UserInfoModule {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, EventEmitter, Output, ViewEncapsulation, OnInit, Input } from '@angular/core';\nimport { Validators, FormGroup, FormBuilder, FormControl } from '@angular/forms';\nimport { AppConfigService, AppConfigValues } from '../app-config/app-config.service';\nimport { StorageService } from '../services/storage.service';\nimport { AlfrescoApiService } from '../services/alfresco-api.service';\nimport { OauthConfigModel } from '../models/oauth-config.model';\nimport { ENTER } from '@angular/cdk/keycodes';\n\n@Component({\n    selector: 'adf-host-settings',\n    templateUrl: 'host-settings.component.html',\n    host: {\n        'class': 'adf-host-settings'\n    },\n    styleUrls: ['./host-settings.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class HostSettingsComponent implements OnInit {\n\n    HOST_REGEX: string = '^(http|https):\\/\\/.*[^/]$';\n\n    /**\n     * Tells the component which provider options are available. Possible valid values\n     * are \"ECM\" (Content), \"BPM\" (Process) , \"ALL\" (Content and Process), 'OAUTH2' SSO.\n     */\n    @Input()\n    providers: string[] = ['BPM', 'ECM', 'ALL'];\n\n    showSelectProviders = true;\n\n    form: FormGroup;\n\n    /** Emitted when the URL is invalid. */\n    @Output()\n    error = new EventEmitter<string>();\n\n    /** Emitted when the user cancels the changes. */\n    @Output()\n    cancel = new EventEmitter<boolean>();\n\n    /** Emitted when the changes are successfully applied. */\n    @Output()\n    success = new EventEmitter<boolean>();\n\n    constructor(private formBuilder: FormBuilder,\n                private storageService: StorageService,\n                private alfrescoApiService: AlfrescoApiService,\n                private appConfig: AppConfigService) {\n    }\n\n    ngOnInit() {\n        if (this.providers.length === 1) {\n            this.showSelectProviders = false;\n        }\n\n        const providerSelected = this.appConfig.get<string>(AppConfigValues.PROVIDERS);\n\n        const authType = this.appConfig.get<string>(AppConfigValues.AUTHTYPE, 'BASIC');\n\n        this.form = this.formBuilder.group({\n            providersControl: [providerSelected, Validators.required],\n            authType: authType\n        });\n\n        this.addFormGroups();\n\n        if (authType === 'OAUTH') {\n            this.addOAuthFormGroup();\n            this.addIdentityHostFormControl();\n        }\n\n        this.form.get('authType').valueChanges.subscribe((value) => {\n            if (value === 'BASIC') {\n                this.form.removeControl('oauthConfig');\n                this.form.removeControl('identityHost');\n            } else {\n                this.addOAuthFormGroup();\n                this.addIdentityHostFormControl();\n            }\n        });\n\n        this.providersControl.valueChanges.subscribe(() => {\n            this.removeFormGroups();\n            this.addFormGroups();\n        });\n    }\n\n    private removeFormGroups() {\n        this.form.removeControl('bpmHost');\n        this.form.removeControl('ecmHost');\n    }\n\n    private addFormGroups() {\n        this.addBPMFormControl();\n        this.addECMFormControl();\n    }\n\n    private addOAuthFormGroup() {\n        const oauthFormGroup = this.createOAuthFormGroup();\n        this.form.addControl('oauthConfig', oauthFormGroup);\n    }\n\n    private addBPMFormControl() {\n        if ((this.isBPM() || this.isALL() || this.isOAUTH()) && !this.bpmHost) {\n            const bpmFormControl = this.createBPMFormControl();\n            this.form.addControl('bpmHost', bpmFormControl);\n        }\n    }\n\n    private addIdentityHostFormControl() {\n        const identityHostFormControl = this.createIdentityFormControl();\n        this.form.addControl('identityHost', identityHostFormControl);\n    }\n\n    private addECMFormControl() {\n        if ((this.isECM() || this.isALL()) && !this.ecmHost) {\n            const ecmFormControl = this.createECMFormControl();\n            this.form.addControl('ecmHost', ecmFormControl);\n        }\n    }\n\n    private createOAuthFormGroup(): FormGroup {\n        const oauth = <OauthConfigModel> this.appConfig.get(AppConfigValues.OAUTHCONFIG, {});\n\n        return this.formBuilder.group({\n            host: [oauth.host, [Validators.required, Validators.pattern(this.HOST_REGEX)]],\n            clientId: [oauth.clientId, Validators.required],\n            redirectUri: [oauth.redirectUri, Validators.required],\n            redirectUriLogout: [oauth.redirectUriLogout],\n            scope: [oauth.scope, Validators.required],\n            secret: oauth.secret,\n            silentLogin: oauth.silentLogin,\n            implicitFlow: oauth.implicitFlow,\n            publicUrls: [oauth.publicUrls]\n        });\n    }\n\n    private createBPMFormControl(): FormControl {\n        return new FormControl(this.appConfig.get<string>(AppConfigValues.BPMHOST), [Validators.required, Validators.pattern(this.HOST_REGEX)]);\n    }\n\n    private createIdentityFormControl(): FormControl {\n        return new FormControl(this.appConfig.get<string>(AppConfigValues.IDENTITY_HOST), [Validators.required, Validators.pattern(this.HOST_REGEX)]);\n    }\n\n    private createECMFormControl(): FormControl {\n        return new FormControl(this.appConfig.get<string>(AppConfigValues.ECMHOST), [Validators.required, Validators.pattern(this.HOST_REGEX)]);\n    }\n\n    onCancel() {\n        this.cancel.emit(true);\n    }\n\n    onSubmit(values: any) {\n        this.storageService.setItem(AppConfigValues.PROVIDERS, values.providersControl);\n\n        if (this.isBPM()) {\n            this.saveBPMValues(values);\n        } else if (this.isECM()) {\n            this.saveECMValues(values);\n        } else if (this.isALL()) {\n            this.saveECMValues(values);\n            this.saveBPMValues(values);\n        }\n\n        if (this.isOAUTH()) {\n            this.saveOAuthValues(values);\n        }\n\n        this.storageService.setItem(AppConfigValues.AUTHTYPE, values.authType);\n\n        this.alfrescoApiService.reset();\n        this.alfrescoApiService.getInstance().invalidateSession();\n        this.success.emit(true);\n    }\n\n    keyDownFunction(event: any) {\n        if (event.keyCode === ENTER && this.form.valid) {\n            this.onSubmit(this.form.value);\n        }\n    }\n\n    private saveOAuthValues(values: any) {\n        if (values.oauthConfig.publicUrls && (typeof values.oauthConfig.publicUrls === 'string')) {\n            values.oauthConfig.publicUrls = values.oauthConfig.publicUrls.split(',');\n        }\n\n        this.storageService.setItem(AppConfigValues.OAUTHCONFIG, JSON.stringify(values.oauthConfig));\n        this.storageService.setItem(AppConfigValues.IDENTITY_HOST, values.identityHost);\n    }\n\n    private saveBPMValues(values: any) {\n        this.storageService.setItem(AppConfigValues.BPMHOST, values.bpmHost);\n    }\n\n    private saveECMValues(values: any) {\n        this.storageService.setItem(AppConfigValues.ECMHOST, values.ecmHost);\n    }\n\n    isBPM(): boolean {\n        return this.providersControl.value === 'BPM';\n    }\n\n    isECM(): boolean {\n        return this.providersControl.value === 'ECM';\n    }\n\n    isALL(): boolean {\n        return this.providersControl.value === 'ALL';\n    }\n\n    isOAUTH(): boolean {\n        return this.form.get('authType').value === 'OAUTH';\n    }\n\n    get providersControl(): FormControl {\n        return this.form.get('providersControl') as FormControl;\n    }\n\n    get bpmHost(): FormControl {\n        return this.form.get('bpmHost') as FormControl;\n    }\n\n    get ecmHost(): FormControl {\n        return this.form.get('ecmHost') as FormControl;\n    }\n\n    get host(): FormControl {\n        return this.oauthConfig.get('host') as FormControl;\n    }\n\n    get identityHost(): FormControl {\n        return this.form.get('identityHost') as FormControl;\n    }\n\n    get clientId(): FormControl {\n        return this.oauthConfig.get('clientId') as FormControl;\n    }\n\n    get scope(): FormControl {\n        return this.oauthConfig.get('scope') as FormControl;\n    }\n\n    get secretId(): FormControl {\n        return this.oauthConfig.get('secretId') as FormControl;\n    }\n\n    get implicitFlow(): FormControl {\n        return this.oauthConfig.get('implicitFlow') as FormControl;\n    }\n\n    get silentLogin(): FormControl {\n        return this.oauthConfig.get('silentLogin') as FormControl;\n    }\n\n    get redirectUri(): FormControl {\n        return this.oauthConfig.get('redirectUri') as FormControl;\n    }\n\n    get publicUrls(): FormControl {\n        return this.oauthConfig.get('publicUrls') as FormControl;\n    }\n\n    get redirectUriLogout(): FormControl {\n        return this.oauthConfig.get('redirectUriLogout') as FormControl;\n    }\n\n    get oauthConfig(): FormControl {\n        return this.form.get('oauthConfig') as FormControl;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MaterialModule } from '../material.module';\n\nimport { HostSettingsComponent } from './host-settings.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule,\n        FormsModule,\n        ReactiveFormsModule\n    ],\n    declarations: [\n        HostSettingsComponent\n    ],\n    exports: [\n        HostSettingsComponent\n    ]\n})\nexport class HostSettingsModule {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, EventEmitter, Input, OnInit, Output, ViewEncapsulation, OnDestroy, ElementRef, ChangeDetectionStrategy, ChangeDetectorRef, Renderer2 } from '@angular/core';\nimport { PaginatedComponent } from './paginated-component.interface';\nimport { PaginationComponentInterface } from './pagination-component.interface';\nimport { Subject } from 'rxjs';\nimport { PaginationModel } from '../models/pagination.model';\nimport { UserPreferencesService, UserPreferenceValues } from '../services/user-preferences.service';\nimport { takeUntil } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\n\nexport type PaginationAction =\n    | 'NEXT_PAGE'\n    | 'PREV_PAGE'\n    | 'CHANGE_PAGE_SIZE'\n    | 'CHANGE_PAGE_NUMBER';\n\n@Component({\n    selector: 'adf-pagination',\n    host: { 'class': 'adf-pagination' },\n    templateUrl: './pagination.component.html',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class PaginationComponent implements OnInit, OnDestroy, PaginationComponentInterface {\n    static DEFAULT_PAGINATION: PaginationModel = {\n        skipCount: 0,\n        maxItems: 25,\n        totalItems: 0,\n        count: 0,\n        hasMoreItems: false\n    };\n\n    private _pagination: PaginationModel;\n    private _isEmpty = true;\n    private _hasItems = false;\n\n    /** Component that provides custom pagination support. */\n    @Input()\n    target: PaginatedComponent;\n\n    /** An array of page sizes. */\n    @Input()\n    supportedPageSizes: number[];\n\n    get pagination(): PaginationModel {\n        return this._pagination;\n    }\n\n    /** Pagination object. */\n    @Input()\n    set pagination(value: PaginationModel) {\n        value = value || PaginationComponent.DEFAULT_PAGINATION;\n\n        this._pagination = value;\n        this._hasItems = value && value.count > 0;\n        this._isEmpty = !this.hasItems;\n\n        // TODO: Angular 10 workaround for HostBinding bug\n        if (this._isEmpty) {\n            this.renderer.addClass(this.elementRef.nativeElement, 'adf-pagination__empty');\n        } else {\n            this.renderer.removeClass(this.elementRef.nativeElement, 'adf-pagination__empty');\n        }\n\n        this.cdr.detectChanges();\n    }\n\n    /** Emitted when pagination changes in any way. */\n    @Output()\n    change = new EventEmitter<PaginationModel>();\n\n    /** Emitted when the page number changes. */\n    @Output()\n    changePageNumber = new EventEmitter<PaginationModel>();\n\n    /** Emitted when the page size changes. */\n    @Output()\n    changePageSize = new EventEmitter<PaginationModel>();\n\n    /** Emitted when the next page is requested. */\n    @Output()\n    nextPage = new EventEmitter<PaginationModel>();\n\n    /** Emitted when the previous page is requested. */\n    @Output()\n    prevPage = new EventEmitter<PaginationModel>();\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(\n        private elementRef: ElementRef,\n        private renderer: Renderer2,\n        private cdr: ChangeDetectorRef,\n        private userPreferencesService: UserPreferencesService,\n        private translate: TranslateService) {\n    }\n\n    ngOnInit() {\n        this.userPreferencesService\n            .select(UserPreferenceValues.PaginationSize)\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe(maxItems => {\n                this.pagination = {\n                    ...PaginationComponent.DEFAULT_PAGINATION,\n                    ...this.pagination,\n                    maxItems\n                };\n            });\n\n        if (!this.supportedPageSizes) {\n            this.supportedPageSizes = this.userPreferencesService.supportedPageSizes;\n        }\n\n        if (this.target) {\n            this.target.pagination\n                .pipe(takeUntil(this.onDestroy$))\n                .subscribe(pagination => {\n                    if (pagination.count === 0 && !this.isFirstPage) {\n                        this.goPrevious();\n                    }\n\n                    this.pagination = {\n                        ...pagination\n                    };\n                });\n        }\n\n        if (!this.pagination) {\n            this.pagination = {\n                ...PaginationComponent.DEFAULT_PAGINATION\n            };\n        }\n    }\n\n    get lastPage(): number {\n        const { maxItems, totalItems } = this.pagination;\n\n        return (totalItems && maxItems)\n            ? Math.ceil(totalItems / maxItems)\n            : 1;\n    }\n\n    get current(): number {\n        const { maxItems, skipCount } = this.pagination;\n\n        return (skipCount && maxItems)\n            ? Math.floor(skipCount / maxItems) + 1\n            : 1;\n    }\n\n    get isLastPage(): boolean {\n        if (!this.pagination.totalItems && this.pagination.hasMoreItems) {\n            return false;\n        }\n        return this.current === this.lastPage;\n    }\n\n    get isFirstPage(): boolean {\n        return this.current === 1;\n    }\n\n    get next(): number {\n        return this.isLastPage ? this.current : this.current + 1;\n    }\n\n    get previous(): number {\n        return this.isFirstPage ? 1 : this.current - 1;\n    }\n\n    get hasItems(): boolean {\n        return this._hasItems;\n    }\n\n    // TODO: not working correctly in Angular 10\n    // @HostBinding('class.adf-pagination__empty')\n    get isEmpty(): boolean {\n        return this._isEmpty;\n    }\n\n    get range(): number[] {\n        const { skipCount, maxItems, totalItems } = this.pagination;\n\n        let start = 0;\n        if (totalItems || totalItems !== 0) {\n            start = skipCount + 1;\n        }\n\n        const end = this.isLastPage ? totalItems : skipCount + maxItems;\n\n        return [start, end];\n    }\n\n    get pages(): number[] {\n        return Array(this.lastPage)\n            .fill('n')\n            .map((_, index) => (index + 1));\n    }\n\n    get itemRangeText(): string {\n        const rangeString = this.range.join('-');\n\n        let translation = this.translate.instant('CORE.PAGINATION.ITEMS_RANGE', {\n            range: rangeString,\n            total: this.pagination.totalItems\n        });\n\n        if (!this.pagination.totalItems) {\n            translation = translation.substr(0, translation.indexOf(rangeString) + rangeString.length);\n        }\n\n        return translation;\n    }\n\n    goNext() {\n        if (this.hasItems) {\n            const maxItems = this.pagination.maxItems;\n            const skipCount = (this.next - 1) * maxItems;\n\n            this.pagination = {\n                ...this.pagination,\n                skipCount\n            };\n\n            this.handlePaginationEvent('NEXT_PAGE');\n        }\n    }\n\n    goPrevious() {\n        if (this.hasItems) {\n            const maxItems = this.pagination.maxItems;\n            const skipCount = (this.previous - 1) * maxItems;\n\n            this.pagination = {\n                ...this.pagination,\n                skipCount\n            };\n\n            this.handlePaginationEvent('PREV_PAGE');\n        }\n    }\n\n    onChangePageNumber(pageNumber: number) {\n        if (this.hasItems) {\n            const maxItems = this.pagination.maxItems;\n            const skipCount = (pageNumber - 1) * maxItems;\n\n            this.pagination = {\n                ...this.pagination,\n                skipCount\n            };\n\n            this.handlePaginationEvent('CHANGE_PAGE_NUMBER');\n        }\n    }\n\n    onChangePageSize(maxItems: number) {\n        this.pagination = {\n            ...this.pagination,\n            skipCount: 0,\n            maxItems\n        };\n\n        this.userPreferencesService.paginationSize = maxItems;\n        this.handlePaginationEvent('CHANGE_PAGE_SIZE');\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    handlePaginationEvent(action: PaginationAction) {\n        const paginationModel = { ...this.pagination };\n\n        if (action === 'NEXT_PAGE') {\n            this.nextPage.emit(paginationModel);\n        }\n\n        if (action === 'PREV_PAGE') {\n            this.prevPage.emit(paginationModel);\n        }\n\n        if (action === 'CHANGE_PAGE_NUMBER') {\n            this.changePageNumber.emit(paginationModel);\n        }\n\n        if (action === 'CHANGE_PAGE_SIZE') {\n            this.changePageSize.emit(paginationModel);\n        }\n\n        this.change.emit(paginationModel);\n\n        if (this.target) {\n            this.target.updatePagination(paginationModel);\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:no-input-rename  */\n/* tslint:disable:rxjs-no-subject-value */\n\nimport {\n    ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter,\n    Input, OnInit, Output, OnDestroy, ViewEncapsulation\n} from '@angular/core';\n\nimport { PaginatedComponent } from './paginated-component.interface';\nimport { Subject } from 'rxjs';\nimport { PaginationComponentInterface } from './pagination-component.interface';\nimport { PaginationModel } from '../models/pagination.model';\nimport { RequestPaginationModel } from '../models/request-pagination.model';\nimport { UserPreferencesService, UserPreferenceValues } from '../services/user-preferences.service';\nimport { Pagination } from '@alfresco/js-api';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-infinite-pagination',\n    host: { 'class': 'infinite-adf-pagination' },\n    templateUrl: './infinite-pagination.component.html',\n    styleUrls: ['./infinite-pagination.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class InfinitePaginationComponent implements OnInit, OnDestroy, PaginationComponentInterface {\n\n    static DEFAULT_PAGINATION: Pagination = new Pagination({\n        skipCount: 0,\n        maxItems: 25,\n        totalItems: 0\n    });\n\n    _target: PaginatedComponent;\n    private onDestroy$ = new Subject<boolean>();\n\n    /** Component that provides custom pagination support. */\n    @Input()\n    set target(target: PaginatedComponent) {\n        if (target) {\n            this._target = target;\n            target.pagination\n                .pipe(takeUntil(this.onDestroy$))\n                .subscribe(pagination => {\n                    this.isLoading = false;\n                    this.pagination = pagination;\n\n                    if (!this.pagination.hasMoreItems) {\n                        this.pagination.hasMoreItems = false;\n                    }\n\n                    this.cdr.detectChanges();\n                });\n        }\n    }\n\n    get target() {\n        return this._target;\n    }\n\n    /** Number of items that are added with each \"load more\" event. */\n    @Input()\n    pageSize: number;\n\n    /** Is a new page loading? */\n    @Input('loading')\n    isLoading: boolean = false;\n\n    /** Emitted when the \"Load More\" button is clicked. */\n    @Output()\n    loadMore: EventEmitter<RequestPaginationModel> = new EventEmitter<RequestPaginationModel>();\n\n    pagination: PaginationModel = InfinitePaginationComponent.DEFAULT_PAGINATION;\n\n    requestPaginationModel: RequestPaginationModel = {\n        skipCount: 0,\n        merge: true\n    };\n\n    constructor(private cdr: ChangeDetectorRef,\n                private userPreferencesService: UserPreferencesService) {\n    }\n\n    ngOnInit() {\n        this.userPreferencesService\n            .select(UserPreferenceValues.PaginationSize)\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe((pageSize: number) => {\n                this.pageSize = this.pageSize || pageSize;\n                this.requestPaginationModel.maxItems = this.pageSize;\n            });\n    }\n\n    onLoadMore() {\n        this.requestPaginationModel.skipCount = 0;\n        this.requestPaginationModel.merge = false;\n\n        this.requestPaginationModel.maxItems += this.pageSize;\n\n        this.loadMore.next(this.requestPaginationModel);\n\n        if (this._target) {\n            this.isLoading = true;\n            this._target.updatePagination(<RequestPaginationModel> this.requestPaginationModel);\n        }\n    }\n\n    reset() {\n        this.pagination.skipCount = 0;\n        this.pagination.maxItems = this.pageSize;\n\n        if (this._target) {\n            this._target.updatePagination(this.pagination);\n        }\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MaterialModule } from '../material.module';\nimport { InfinitePaginationComponent } from './infinite-pagination.component';\nimport { PaginationComponent } from './pagination.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule\n    ],\n    declarations: [\n        InfinitePaginationComponent,\n        PaginationComponent\n    ],\n    exports: [\n        InfinitePaginationComponent,\n        PaginationComponent\n    ]\n})\nexport class PaginationModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Component, EventEmitter,\n    Input, OnInit, Output, TemplateRef, ViewEncapsulation, OnDestroy\n} from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { LogService } from '../../services/log.service';\nimport { TranslationService } from '../../services/translation.service';\nimport { UserPreferencesService } from '../../services/user-preferences.service';\nimport { AlfrescoApiService } from '../../services/alfresco-api.service';\n\nimport { LoginErrorEvent } from '../models/login-error.event';\nimport { LoginSubmitEvent } from '../models/login-submit.event';\nimport { LoginSuccessEvent } from '../models/login-success.event';\nimport {\n    AppConfigService,\n    AppConfigValues\n} from '../../app-config/app-config.service';\nimport { OauthConfigModel } from '../../models/oauth-config.model';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nenum LoginSteps {\n    Landing = 0,\n    Checking = 1,\n    Welcome = 2\n}\n\ninterface ValidationMessage {\n    value: string;\n    params?: any;\n}\n\n@Component({\n    selector: 'adf-login',\n    templateUrl: './login.component.html',\n    encapsulation: ViewEncapsulation.None,\n    host: {\n        class: 'adf-login'\n    }\n})\nexport class LoginComponent implements OnInit, OnDestroy {\n    isPasswordShow: boolean = false;\n\n    /**\n     * Should the `Remember me` checkbox be shown? When selected, this\n     * option will remember the logged-in user after the browser is closed\n     * to avoid logging in repeatedly.\n     */\n    @Input()\n    showRememberMe: boolean = true;\n\n    /** Should the extra actions (`Need Help`, `Register`, etc) be shown? */\n    @Input()\n    showLoginActions: boolean = true;\n\n    /** Sets the URL of the NEED HELP link in the footer. */\n    @Input()\n    needHelpLink: string = '';\n\n    /** Sets the URL of the REGISTER link in the footer. */\n    @Input()\n    registerLink: string = '';\n\n    /** Path to a custom logo image. */\n    @Input()\n    logoImageUrl: string = './assets/images/alfresco-logo.svg';\n\n    /** Path to a custom background image. */\n    @Input()\n    backgroundImageUrl: string = './assets/images/background.svg';\n\n    /** The copyright text below the login box. */\n    @Input()\n    copyrightText: string = '\\u00A9 2016 Alfresco Software, Inc. All Rights Reserved.';\n\n    /** Custom validation rules for the login form. */\n    @Input()\n    fieldsValidation: any;\n\n    /** Route to redirect to on successful login. */\n    @Input()\n    successRoute: string = null;\n\n    /** Emitted when the login is successful. */\n    @Output()\n    success = new EventEmitter<LoginSuccessEvent>();\n\n    /** Emitted when the login fails. */\n    @Output()\n    error = new EventEmitter<LoginErrorEvent>();\n\n    /** Emitted when the login form is submitted. */\n    @Output()\n    executeSubmit = new EventEmitter<LoginSubmitEvent>();\n\n    implicitFlow: boolean = false;\n\n    form: FormGroup;\n    isError: boolean = false;\n    errorMsg: string;\n    actualLoginStep: any = LoginSteps.Landing;\n    LoginSteps = LoginSteps;\n    rememberMe: boolean = true;\n    formError: { [id: string]: string };\n    minLength: number = 2;\n    footerTemplate: TemplateRef<any>;\n    headerTemplate: TemplateRef<any>;\n    data: any;\n\n    private _message: { [id: string]: { [id: string]: ValidationMessage } };\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(\n        private _fb: FormBuilder,\n        private authService: AuthenticationService,\n        private translateService: TranslationService,\n        private logService: LogService,\n        private router: Router,\n        private appConfig: AppConfigService,\n        private userPreferences: UserPreferencesService,\n        private route: ActivatedRoute,\n        private sanitizer: DomSanitizer,\n        private alfrescoApiService: AlfrescoApiService\n    ) {\n    }\n\n    ngOnInit() {\n        this.initFormError();\n        this.initFormFieldsDefault();\n        this.initFormFieldsMessages();\n\n        this.successRoute = this.appConfig.get<string>('successRoute', this.successRoute);\n\n        if (this.authService.isLoggedIn()) {\n            this.router.navigate([this.successRoute]);\n        } else {\n\n            if (this.authService.isOauth()) {\n                const oauth: OauthConfigModel = this.appConfig.get<OauthConfigModel>(AppConfigValues.OAUTHCONFIG, null);\n                if (oauth && oauth.silentLogin) {\n                    this.redirectToImplicitLogin();\n                } else if (oauth && oauth.implicitFlow) {\n                    this.implicitFlow = true;\n                }\n            }\n\n            this.route.queryParams.subscribe((params: Params) => {\n                const url = params['redirectUrl'];\n                const provider = this.appConfig.get<string>(AppConfigValues.PROVIDERS);\n\n                this.authService.setRedirect({ provider, url });\n            });\n        }\n\n        if (this.fieldsValidation) {\n            this.form = this._fb.group(this.fieldsValidation);\n        }\n\n        this.form.valueChanges\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe(data => this.onValueChanged(data));\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    submit() {\n        this.onSubmit(this.form.value);\n    }\n\n    redirectToImplicitLogin() {\n        this.alfrescoApiService.getInstance().oauth2Auth.implicitLogin();\n    }\n\n    /**\n     * Method called on submit form\n     * @param values\n     * @param event\n     */\n    onSubmit(values: any): void {\n        this.disableError();\n\n        const args = new LoginSubmitEvent({\n            controls: { username: this.form.controls.username }\n        });\n        this.executeSubmit.emit(args);\n\n        if (!args.defaultPrevented) {\n            this.performLogin(values);\n        }\n    }\n\n    implicitLogin() {\n        if (this.authService.isLoggedIn()) {\n            this.router.navigate([this.successRoute]);\n        }\n        this.authService.ssoImplicitLogin();\n    }\n\n    /**\n     * The method check the error in the form and push the error in the formError object\n     * @param data\n     */\n    onValueChanged(data: any) {\n        this.disableError();\n        for (const field in this.formError) {\n            if (field) {\n                this.formError[field] = '';\n                const hasError =\n                    (this.form.controls[field].errors && data[field] !== '') ||\n                    (this.form.controls[field].dirty &&\n                        !this.form.controls[field].valid);\n                if (hasError) {\n                    for (const key in this.form.controls[field].errors) {\n                        if (key) {\n                            const message = this._message[field][key];\n                            if (message && message.value) {\n                                const translated = this.translateService.instant(message.value, message.params);\n                                this.formError[field] += translated;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private performLogin(values: any) {\n        this.actualLoginStep = LoginSteps.Checking;\n        this.authService\n            .login(values.username, values.password, this.rememberMe)\n            .subscribe(\n                (token: any) => {\n                    const redirectUrl = this.authService.getRedirect();\n\n                    this.actualLoginStep = LoginSteps.Welcome;\n                    this.userPreferences.setStoragePrefix(values.username);\n                    values.password = null;\n                    this.success.emit(\n                        new LoginSuccessEvent(token, values.username, null)\n                    );\n\n                    if (redirectUrl) {\n                        this.authService.setRedirect(null);\n                        this.router.navigateByUrl(redirectUrl);\n                    } else if (this.successRoute) {\n                        this.router.navigate([this.successRoute]);\n                    }\n                },\n                (err: any) => {\n                    this.actualLoginStep = LoginSteps.Landing;\n                    this.displayErrorMessage(err);\n                    this.isError = true;\n                    this.error.emit(new LoginErrorEvent(err));\n                },\n                () => this.logService.info('Login done')\n            );\n    }\n\n    /**\n     * Check and display the right error message in the UI\n     */\n    private displayErrorMessage(err: any): void {\n        if (\n            err.error &&\n            err.error.crossDomain &&\n            err.error.message.indexOf('Access-Control-Allow-Origin') !== -1\n        ) {\n            this.errorMsg = err.error.message;\n        } else if (\n            err.status === 403 &&\n            err.message.indexOf('Invalid CSRF-token') !== -1\n        ) {\n            this.errorMsg = 'LOGIN.MESSAGES.LOGIN-ERROR-CSRF';\n        } else if (\n            err.status === 403 &&\n            err.message.indexOf('The system is currently in read-only mode') !==\n            -1\n        ) {\n            this.errorMsg = 'LOGIN.MESSAGES.LOGIN-ECM-LICENSE';\n        } else {\n            this.errorMsg = 'LOGIN.MESSAGES.LOGIN-ERROR-CREDENTIALS';\n        }\n    }\n\n    /**\n     * Add a custom form error for a field\n     * @param field\n     * @param msg\n     */\n    public addCustomFormError(field: string, msg: string) {\n        this.formError[field] += msg;\n    }\n\n    /**\n     * Add a custom validation rule error for a field\n     * @param field\n     * @param ruleId - i.e. required | minlength | maxlength\n     * @param msg\n     */\n    addCustomValidationError(\n        field: string,\n        ruleId: string,\n        msg: string,\n        params?: any\n    ) {\n        this._message[field][ruleId] = {\n            value: msg,\n            params\n        };\n    }\n\n    /**\n     * Display and hide the password value.\n     */\n    toggleShowPassword(event: Event) {\n        event.stopPropagation();\n        this.isPasswordShow = !this.isPasswordShow;\n    }\n\n    /**\n     * The method return if a field is valid or not\n     * @param field\n     */\n    isErrorStyle(field: AbstractControl) {\n        return !field.valid && field.dirty && !field.pristine;\n    }\n\n    /**\n     * Trim username\n     */\n    trimUsername(event: any) {\n        event.target.value = event.target.value.trim();\n    }\n\n    getBackgroundUrlImageUrl(): SafeStyle {\n        return this.sanitizer.bypassSecurityTrustStyle(`url(${this.backgroundImageUrl})`);\n    }\n\n    /**\n     * Default formError values\n     */\n    private initFormError() {\n        this.formError = {\n            username: '',\n            password: ''\n        };\n    }\n\n    /**\n     * Init form fields messages\n     */\n    private initFormFieldsMessages() {\n        this._message = {\n            username: {\n                required: {\n                    value: 'LOGIN.MESSAGES.USERNAME-REQUIRED'\n                },\n                minlength: {\n                    value: 'LOGIN.MESSAGES.USERNAME-MIN',\n                    params: {\n                        minLength: this.minLength\n                    }\n                }\n\n            },\n            password: {\n                required: {\n                    value: 'LOGIN.MESSAGES.PASSWORD-REQUIRED'\n                }\n            }\n        };\n    }\n\n    private initFormFieldsDefault() {\n        this.form = this._fb.group({\n            username: ['', Validators.compose([Validators.required, Validators.minLength(this.minLength)])],\n            password: ['', Validators.required]\n        });\n    }\n\n    /**\n     * Disable the error flag\n     */\n    private disableError() {\n        this.isError = false;\n        this.initFormError();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class LoginErrorEvent {\n    constructor(public err: any) {}\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class LoginSubmitEvent {\n\n    private readonly _values: any;\n    private _defaultPrevented: boolean = false;\n\n    get values(): any {\n        return this._values;\n    }\n\n    get defaultPrevented() {\n        return this._defaultPrevented;\n    }\n\n    constructor(_values: any) {\n        this._values = _values;\n    }\n\n    preventDefault() {\n        this._defaultPrevented = true;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class LoginSuccessEvent {\n    constructor(\n        public token: any,\n        public username: string,\n        public password: string) {\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    AfterContentInit,\n    ContentChild,\n    Directive,\n    TemplateRef\n} from '@angular/core';\nimport { LoginComponent } from '../components/login.component';\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0\n */\n@Directive({\n    selector: 'adf-login-header, login-header'\n})\nexport class LoginHeaderDirective implements AfterContentInit {\n\n    @ContentChild(TemplateRef)\n    template: any;\n\n    constructor(\n        private alfrescoLoginComponent: LoginComponent) {\n    }\n\n    ngAfterContentInit() {\n        this.alfrescoLoginComponent.headerTemplate = this.template;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    AfterContentInit,\n    ContentChild,\n    Directive,\n    TemplateRef\n} from '@angular/core';\nimport { LoginComponent } from '../components/login.component';\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0\n */\n@Directive({\n    selector: 'adf-login-footer, login-footer'\n})\nexport class LoginFooterDirective implements AfterContentInit {\n\n    @ContentChild(TemplateRef)\n    template: any;\n\n    constructor(\n        private alfrescoLoginComponent: LoginComponent) {\n    }\n\n    ngAfterContentInit() {\n        this.alfrescoLoginComponent.footerTemplate = this.template;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Inject, ViewEncapsulation, ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { LoginDialogComponentData } from './login-dialog-component-data.interface';\nimport { LoginDialogPanelComponent } from './login-dialog-panel.component';\n@Component({\n    selector: 'adf-login-dialog',\n    templateUrl: './login-dialog.component.html',\n    styleUrls: ['./login-dialog.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class LoginDialogComponent {\n\n    @ViewChild('adfLoginPanel', { static: true })\n    loginPanel: LoginDialogPanelComponent;\n\n    buttonActionName = '';\n\n    constructor(@Inject(MAT_DIALOG_DATA) public data: LoginDialogComponentData) {\n        this.buttonActionName = data.actionName ? `LOGIN.DIALOG.${data.actionName.toUpperCase()}` : 'LOGIN.DIALOG.CHOOSE';\n    }\n\n    close() {\n        this.data.logged.complete();\n    }\n\n    submitForm(): void {\n        this.loginPanel.submitForm();\n    }\n\n    onLoginSuccess(event: any) {\n        this.data.logged.next(event);\n        this.close();\n    }\n\n    isFormValid() {\n        return this.loginPanel ? this.loginPanel.isValid() : false;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ViewEncapsulation, ViewChild, Output, EventEmitter } from '@angular/core';\nimport { LoginComponent } from './login.component';\nimport { LoginSuccessEvent } from '../models/login-success.event';\n\n@Component({\n    selector: 'adf-login-dialog-panel',\n    templateUrl: './login-dialog-panel.component.html',\n    styleUrls: ['./login-dialog-panel.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class LoginDialogPanelComponent {\n    /** Emitted when the login succeeds. */\n    @Output()\n    success = new EventEmitter<LoginSuccessEvent>();\n\n    @ViewChild('adfLogin', { static: true })\n    login: LoginComponent;\n\n    submitForm(): void {\n        this.login.submit();\n    }\n\n    onLoginSuccess(event: LoginSuccessEvent) {\n        this.success.emit(event);\n    }\n\n    isValid() {\n        return this.login && this.login.form ? this.login.form.valid : false;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MaterialModule } from '../material.module';\n\nimport { LoginComponent } from './components/login.component';\nimport { LoginFooterDirective } from './directives/login-footer.directive';\nimport { LoginHeaderDirective } from './directives/login-header.directive';\nimport { LoginDialogComponent } from './components/login-dialog.component';\nimport { LoginDialogPanelComponent } from './components/login-dialog-panel.component';\n\n@NgModule({\n    imports: [\n        RouterModule,\n        MaterialModule,\n        FormsModule,\n        ReactiveFormsModule,\n        CommonModule,\n        TranslateModule\n    ],\n    declarations: [\n        LoginComponent,\n        LoginFooterDirective,\n        LoginHeaderDirective,\n        LoginDialogComponent,\n        LoginDialogPanelComponent\n    ],\n    exports: [\n        LoginComponent,\n        LoginFooterDirective,\n        LoginHeaderDirective,\n        LoginDialogComponent,\n        LoginDialogPanelComponent\n    ]\n})\nexport class LoginModule {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Direction } from '@angular/cdk/bidi';\nimport { BehaviorSubject } from 'rxjs';\nimport { AppConfigService, AppConfigValues } from '../app-config/app-config.service';\nimport { UserPreferencesService } from './user-preferences.service';\n\nexport interface LanguageItem {\n    key: string;\n    label: string;\n    direction?: Direction;\n}\n\n@Injectable({providedIn: 'root'})\nexport class LanguageService {\n\n    private languages = new BehaviorSubject<LanguageItem[]>([\n        {'key': 'de', 'label': 'Deutsch'},\n        {'key': 'en', 'label': 'English'},\n        {'key': 'es', 'label': 'Espaol'},\n        {'key': 'fr', 'label': 'Franais'},\n        {'key': 'it', 'label': 'Italiano'},\n        {'key': 'ja', 'label': ''},\n        {'key': 'nb', 'label': 'Bokml'},\n        {'key': 'nl', 'label': 'Nederlands'},\n        {'key': 'pt-BR', 'label': 'Portugus (Brasil)'},\n        {'key': 'ru', 'label': ''},\n        {'key': 'zh-CN', 'label': ''},\n        {'key': 'cs', 'label': 'etina'},\n        {'key': 'da', 'label': 'Dansk'},\n        {'key': 'fi', 'label': 'Suomi'},\n        {'key': 'pl', 'label': 'Polski'},\n        {'key': 'sv', 'label': 'Svenska'},\n        {'key': 'ar', 'label': '', direction: 'rtl'}\n    ]);\n\n    languages$ = this.languages.asObservable();\n\n    constructor(\n        appConfigService: AppConfigService,\n        private userPreferencesService: UserPreferencesService) {\n\n        const customLanguages = appConfigService.get<Array<LanguageItem>>(AppConfigValues.APP_CONFIG_LANGUAGES_KEY);\n        this.setLanguages(customLanguages);\n    }\n\n    changeLanguage(language: LanguageItem) {\n        this.userPreferencesService.locale = language.key;\n        this.userPreferencesService.set('textOrientation', language.direction || 'ltr');\n    }\n\n    setLanguages(items: LanguageItem[]) {\n        if (items && items.length > 0) {\n            this.languages.next(items);\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component } from '@angular/core';\nimport { LanguageItem, LanguageService } from '../services/language.service';\nimport { Observable } from 'rxjs';\n\n@Component({\n    selector: 'adf-language-menu',\n    template: `\n        <button\n            mat-menu-item\n            *ngFor=\"let language of languages$ | async\"\n            (click)=\"changeLanguage(language)\">{{language.label}}</button>\n    `\n})\nexport class LanguageMenuComponent {\n\n    languages$: Observable<LanguageItem[]>;\n\n    constructor(private languageService: LanguageService) {\n        this.languages$ = languageService.languages$;\n    }\n\n    changeLanguage(language: LanguageItem) {\n        this.languageService.changeLanguage(language);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component } from '@angular/core';\n\n@Component({\n    selector: 'adf-picker-button',\n    template: `\n        <button mat-menu-item [matMenuTriggerFor]=\"langMenu\">\n            <mat-icon>language</mat-icon>\n            {{ 'ADF.LANGUAGE' | translate }}\n        </button>\n        <mat-menu #langMenu=\"matMenu\">\n            <adf-language-menu></adf-language-menu>\n        </mat-menu>\n    `\n})\nexport class LanguagePickerComponent {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MaterialModule } from '../material.module';\n\nimport { LanguageMenuComponent } from './language-menu.component';\nimport { LanguagePickerComponent } from './language-picker.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule\n    ],\n    declarations: [\n        LanguageMenuComponent,\n        LanguagePickerComponent\n    ],\n    exports: [\n        LanguageMenuComponent,\n        LanguagePickerComponent\n    ]\n})\nexport class LanguageMenuModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Directive, Input, ViewEncapsulation } from '@angular/core';\n\n@Component({\n    selector: 'adf-info-drawer-layout',\n    templateUrl: './info-drawer-layout.component.html',\n    encapsulation: ViewEncapsulation.None,\n    host: { 'class': 'adf-info-drawer-layout' }\n})\nexport class InfoDrawerLayoutComponent {\n    /** The visibility of the header. */\n    @Input()\n    showHeader: boolean = true;\n}\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0\n */\n@Directive({ selector: '[adf-info-drawer-title], [info-drawer-title]' }) export class InfoDrawerTitleDirective {}\n@Directive({ selector: '[adf-info-drawer-buttons], [info-drawer-buttons]' }) export class InfoDrawerButtonsDirective {}\n@Directive({ selector: '[adf-info-drawer-content], [info-drawer-content]' }) export class InfoDrawerContentDirective {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ContentChildren, EventEmitter, HostListener, Input, Output, QueryList, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { MatTabChangeEvent } from '@angular/material/tabs';\n@Component({\n    selector: 'adf-info-drawer-tab',\n    template: '<ng-template><ng-content></ng-content></ng-template>'\n})\nexport class InfoDrawerTabComponent {\n    /** The title of the tab (string or translation key). */\n    @Input()\n    label: string = '';\n\n    /** Icon to render for the tab. */\n    @Input()\n    icon: string = null;\n\n    @ViewChild(TemplateRef, { static: true })\n    content: TemplateRef<any>;\n}\n\n@Component({\n    selector: 'adf-info-drawer',\n    templateUrl: './info-drawer.component.html',\n    styleUrls: ['./info-drawer.component.scss'],\n    encapsulation: ViewEncapsulation.None,\n    host: { 'class': 'adf-info-drawer' }\n})\nexport class InfoDrawerComponent {\n    /** The title of the info drawer (string or translation key). */\n    @Input()\n    title: string|null = null;\n\n    /** The selected index tab. */\n    @Input()\n    selectedIndex: number = 0;\n\n    /** The visibility of the header. */\n    @Input()\n    showHeader: boolean = true;\n\n    /** Emitted when the currently active tab changes. */\n    @Output()\n    currentTab: EventEmitter<number> = new EventEmitter<number>();\n\n    @ContentChildren(InfoDrawerTabComponent)\n    contentBlocks: QueryList<InfoDrawerTabComponent>;\n\n    @HostListener('keydown', ['$event'])\n    onKeyDown(event: KeyboardEvent) {\n        event.cancelBubble = true;\n    }\n\n    @HostListener('keyup', ['$event'])\n    onKeyUp(event: KeyboardEvent) {\n        event.cancelBubble = true;\n    }\n\n    showTabLayout(): boolean {\n        return this.contentBlocks.length > 0;\n    }\n\n    onTabChange(event: MatTabChangeEvent) {\n        this.currentTab.emit(event.index);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MaterialModule } from '../material.module';\n\nimport { InfoDrawerLayoutComponent, InfoDrawerTitleDirective, InfoDrawerButtonsDirective, InfoDrawerContentDirective } from './info-drawer-layout.component';\nimport { InfoDrawerComponent, InfoDrawerTabComponent } from './info-drawer.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule\n    ],\n    declarations: [\n        InfoDrawerLayoutComponent,\n        InfoDrawerTabComponent,\n        InfoDrawerComponent,\n        InfoDrawerTitleDirective,\n        InfoDrawerButtonsDirective,\n        InfoDrawerContentDirective\n    ],\n    exports: [\n        InfoDrawerLayoutComponent,\n        InfoDrawerTabComponent,\n        InfoDrawerComponent,\n        InfoDrawerTitleDirective,\n        InfoDrawerButtonsDirective,\n        InfoDrawerContentDirective\n    ]\n})\nexport class InfoDrawerModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContentChild, Input, Directive } from '@angular/core';\nimport { AppConfigService } from '../../app-config/app-config.service';\nimport { DataColumnListComponent } from '../../data-column/data-column-list.component';\nimport { DataColumn } from './data-column.model';\nimport { ObjectDataColumn } from './object-datacolumn.model';\n\n@Directive()\n// tslint:disable-next-line: directive-class-suffix\nexport abstract class DataTableSchema {\n\n    @ContentChild(DataColumnListComponent)\n    columnList: DataColumnListComponent;\n\n    /** Custom preset column schema in JSON format. */\n    @Input()\n    presetColumn: string;\n\n    columns: any;\n\n    private layoutPresets = {};\n\n    constructor(private appConfigService: AppConfigService,\n                protected presetKey: string,\n                protected presetsModel: any) { }\n\n    public createDatatableSchema(): void {\n        this.loadLayoutPresets();\n        if (!this.columns || this.columns.length === 0) {\n            this.columns = this.mergeJsonAndHtmlSchema();\n        }\n    }\n\n    public loadLayoutPresets(): void {\n        const externalSettings = this.appConfigService.get(this.presetKey, null);\n        if (externalSettings) {\n            this.layoutPresets = Object.assign({}, this.presetsModel, externalSettings);\n        } else {\n            this.layoutPresets = this.presetsModel;\n        }\n    }\n\n    public mergeJsonAndHtmlSchema(): any {\n        let customSchemaColumns = this.getSchemaFromConfig(this.presetColumn).concat(this.getSchemaFromHtml(this.columnList));\n        if (customSchemaColumns.length === 0) {\n            customSchemaColumns = this.getDefaultLayoutPreset();\n        }\n        return customSchemaColumns;\n    }\n\n    public getSchemaFromHtml(columnList: DataColumnListComponent): any {\n        let schema = [];\n        if (columnList && columnList.columns && columnList.columns.length > 0) {\n            schema = columnList.columns.map((c) => <DataColumn> c);\n        }\n        return schema;\n    }\n\n   public getSchemaFromConfig(presetColumn: string): DataColumn[] {\n        return presetColumn ? (this.layoutPresets[presetColumn]).map((col) => new ObjectDataColumn(col)) : [];\n    }\n\n    private getDefaultLayoutPreset(): DataColumn[] {\n        return (this.layoutPresets['default']).map((col) => new ObjectDataColumn(col));\n    }\n\n    public setPresetKey(presetKey: string) {\n        this.presetKey = presetKey;\n    }\n\n    public setPresetsModel(presetsModel: any) {\n        this.presetsModel = presetsModel;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MinimalNode } from '@alfresco/js-api';\nimport { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { CardViewBaseItemModel } from '../models/card-view-baseitem.model';\n\nexport interface UpdateNotification {\n    target: CardViewBaseItemModel;\n    changed: any;\n}\n\nexport interface ClickNotification {\n    target: any;\n}\n\nexport function transformKeyToObject(key: string, value): Object {\n    const objectLevels: string[] = key.split('.').reverse();\n\n    return objectLevels.reduce<{}>((previousValue, currentValue) => {\n        return { [currentValue]: previousValue};\n    }, value);\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CardViewUpdateService {\n\n    itemUpdated$ = new Subject<UpdateNotification>();\n    itemClicked$ = new Subject<ClickNotification>();\n    updateItem$ = new Subject<CardViewBaseItemModel>();\n    updatedAspect$ = new Subject<MinimalNode>();\n\n    update(property: CardViewBaseItemModel, newValue: any) {\n        this.itemUpdated$.next({\n            target: property,\n            changed: transformKeyToObject(property.key, newValue)\n        });\n    }\n\n    clicked(property: CardViewBaseItemModel) {\n        this.itemClicked$.next({\n            target: property\n        });\n    }\n\n    /**\n     * Updates the cardview items property\n     * @param notification\n     */\n    updateElement(notification: CardViewBaseItemModel) {\n        this.updateItem$.next(notification);\n    }\n\n    updateNodeAspect(node: MinimalNode) {\n        this.updatedAspect$.next(node);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Input, OnDestroy, Directive } from '@angular/core';\nimport { CardViewUpdateService } from '../services/card-view-update.service';\nimport { CardViewItem } from '../interfaces/card-view.interfaces';\nimport { CardViewBaseItemModel } from '../models/card-view-baseitem.model';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Directive()\n// tslint:disable-next-line: directive-class-suffix\nexport abstract class BaseCardView<T extends CardViewItem> implements OnDestroy {\n\n    @Input()\n    property: T;\n\n    protected destroy$ = new Subject<boolean>();\n\n    constructor(protected cardViewUpdateService: CardViewUpdateService) {\n        this.cardViewUpdateService.updateItem$\n            .pipe(takeUntil(this.destroy$))\n            .subscribe((itemModel: CardViewBaseItemModel) => {\n            if (this.property.key === itemModel.key) {\n                this.property.value = itemModel.value;\n            }\n        });\n    }\n\n    ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ChangeDetectorRef, Component, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { CardViewTextItemModel } from '../../models/card-view-textitem.model';\nimport { CardViewUpdateService } from '../../services/card-view-update.service';\nimport { BaseCardView } from '../base-card-view';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { ClipboardService } from '../../../clipboard/clipboard.service';\nimport { TranslationService } from '../../../services/translation.service';\nimport { CardViewItemValidator } from '../../interfaces/card-view-item-validator.interface';\nimport { FormControl } from '@angular/forms';\nimport { debounceTime, takeUntil, filter } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\nexport const DEFAULT_SEPARATOR = ', ';\nconst templateTypes = {\n    clickableTemplate: 'clickableTemplate',\n    multilineTemplate: 'multilineTemplate',\n    chipsTemplate: 'chipsTemplate',\n    emptyTemplate: 'emptyTemplate',\n    defaultTemplate: 'defaultTemplate'\n};\n\n@Component({\n    selector: 'adf-card-view-textitem',\n    templateUrl: './card-view-textitem.component.html'\n})\nexport class CardViewTextItemComponent extends BaseCardView<CardViewTextItemModel> implements OnChanges {\n\n    @Input()\n    editable: boolean = false;\n\n    @Input()\n    displayEmpty: boolean = true;\n\n    @Input()\n    copyToClipboardAction: boolean = true;\n\n    @Input()\n    useChipsForMultiValueProperty: boolean = true;\n\n    @Input()\n    multiValueSeparator: string = DEFAULT_SEPARATOR;\n\n    editedValue: string | string[];\n    errors: CardViewItemValidator[];\n    templateType: string;\n\n    textInput: FormControl = new FormControl();\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(cardViewUpdateService: CardViewUpdateService,\n                private clipboardService: ClipboardService,\n                private translateService: TranslationService,\n                private cd: ChangeDetectorRef) {\n        super(cardViewUpdateService);\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.property && changes.property.firstChange) {\n            this.textInput.valueChanges\n                .pipe(\n                    filter(textInputValue => textInputValue !== this.editedValue && textInputValue !== null),\n                    debounceTime(50),\n                    takeUntil(this.onDestroy$)\n                )\n                .subscribe(textInputValue => {\n                    this.editedValue = textInputValue;\n                    this.update();\n                });\n        }\n\n        this.resetValue();\n        this.setTemplateType();\n\n        if (changes.editable) {\n            this.isEditable ? this.textInput.enable() : this.textInput.disable();\n        }\n    }\n\n    private setTemplateType() {\n        if (this.showProperty || this.isEditable) {\n            if (this.isClickable) {\n                this.templateType = templateTypes.clickableTemplate;\n            } else if (this.isChipViewEnabled) {\n                this.templateType = templateTypes.chipsTemplate;\n            } else {\n                this.templateType = templateTypes.defaultTemplate;\n            }\n        } else {\n            this.templateType = templateTypes.emptyTemplate;\n        }\n    }\n\n    resetValue() {\n        if (this.isChipViewEnabled) {\n            this.editedValue = this.property.value ? Array.from(this.property.value) : [];\n        } else {\n            this.editedValue = this.property.displayValue;\n            this.textInput.setValue(this.editedValue);\n        }\n\n        this.resetErrorMessages();\n    }\n\n    private resetErrorMessages() {\n        this.errors = [];\n    }\n\n    update(): void {\n        if (this.property.isValid(this.editedValue)) {\n            this.property.value = this.prepareValueForUpload(this.property, this.editedValue);\n            this.cardViewUpdateService.update(<CardViewTextItemModel> { ...this.property }, this.property.value);\n            this.resetErrorMessages();\n        } else {\n            this.errors = this.property.getValidationErrors(this.editedValue);\n        }\n    }\n\n    prepareValueForUpload(property: CardViewTextItemModel, value: string | string[]): string | string[] {\n        if (property.multivalued && typeof value === 'string') {\n            const listOfValues = value.split(this.multiValueSeparator.trim()).map((item) => item.trim());\n            return listOfValues;\n        }\n        return value;\n    }\n\n    removeValueFromList(itemIndex: number) {\n        if (Array.isArray(this.editedValue)) {\n            this.editedValue.splice(itemIndex, 1);\n            this.update();\n            this.cd.detectChanges();\n        }\n    }\n\n    addValueToList(newListItem: MatChipInputEvent) {\n        const chipInput = newListItem.input;\n        const chipValue = newListItem.value.trim() || '';\n\n        if (typeof this.editedValue !== 'string') {\n            if (chipValue) {\n                this.editedValue.push(chipValue);\n                this.update();\n            }\n\n            if (chipInput) {\n                chipInput.value = '';\n            }\n        }\n    }\n\n    clicked(): void {\n        if (typeof this.property.clickCallBack === 'function') {\n            this.property.clickCallBack();\n        } else {\n            this.cardViewUpdateService.clicked(this.property);\n        }\n    }\n\n    clearValue() {\n        this.editedValue = '';\n        this.textInput.setValue('');\n        this.update();\n    }\n\n    copyToClipboard(valueToCopy: string) {\n        if (this.copyToClipboard) {\n            const clipboardMessage = this.translateService.instant('CORE.METADATA.ACCESSIBILITY.COPY_TO_CLIPBOARD_MESSAGE');\n            this.clipboardService.copyContentToClipboard(valueToCopy, clipboardMessage);\n        }\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    get showProperty(): boolean {\n        return this.displayEmpty || !this.property.isEmpty();\n    }\n\n    get showClickableIcon(): boolean {\n        return this.hasIcon && this.editable;\n    }\n\n    get isEditable(): boolean {\n        return this.editable && this.property.editable;\n    }\n\n    get isClickable(): boolean {\n        return this.property.clickable;\n    }\n\n    get hasIcon(): boolean {\n        return !!this.property.icon;\n    }\n\n    get hasErrors(): boolean {\n        return (!!this.errors?.length) ?? false;\n    }\n\n    get isChipViewEnabled(): boolean {\n        return this.property.multivalued && this.useChipsForMultiValueProperty;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input } from '@angular/core';\nimport { CardViewItem } from '../../interfaces/card-view-item.interface';\nimport { DEFAULT_SEPARATOR } from '../card-view-textitem/card-view-textitem.component';\n\n@Component({\n    selector: 'adf-card-view',\n    templateUrl: './card-view.component.html'\n})\nexport class CardViewComponent {\n    /** (**required**) Items to show in the card view. */\n    @Input()\n    properties: CardViewItem [];\n\n    /** Toggles whether or not the items can be edited. */\n    @Input()\n    editable: boolean;\n\n    /** Toggles whether or not to show empty items in non-editable mode. */\n    @Input()\n    displayEmpty: boolean = true;\n\n    /** Toggles whether or not to display none option. */\n    @Input()\n    displayNoneOption: boolean = true;\n\n    /** Toggles whether or not to display clear action. */\n    @Input()\n    displayClearAction: boolean = true;\n\n    /** Toggles whether or not to enable copy to clipboard action. */\n    @Input()\n    copyToClipboardAction: boolean = true;\n\n    /** Toggles whether or not to enable chips for multivalued properties. */\n    @Input()\n    useChipsForMultiValueProperty: boolean = true;\n\n    /** String separator between multi-value property items. */\n    @Input()\n    multiValueSeparator: string = DEFAULT_SEPARATOR;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input } from '@angular/core';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { CardViewBoolItemModel } from '../../models/card-view-boolitem.model';\nimport { CardViewUpdateService } from '../../services/card-view-update.service';\nimport { BaseCardView } from '../base-card-view';\n\n@Component({\n    selector: 'adf-card-view-boolitem',\n    templateUrl: './card-view-boolitem.component.html'\n})\n\nexport class CardViewBoolItemComponent extends BaseCardView<CardViewBoolItemModel> {\n\n    @Input()\n    editable: boolean;\n\n    constructor(cardViewUpdateService: CardViewUpdateService) {\n        super(cardViewUpdateService);\n    }\n\n    isEditable() {\n        return this.editable && this.property.editable;\n    }\n\n    changed(change: MatCheckboxChange) {\n        this.cardViewUpdateService.update(<CardViewBoolItemModel> { ...this.property }, change.checked );\n        this.property.value = change.checked;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { DateAdapter, MAT_DATE_FORMATS } from '@angular/material/core';\nimport { DatetimeAdapter, MAT_DATETIME_FORMATS, MatDatetimepicker } from '@mat-datetimepicker/core';\nimport { MAT_MOMENT_DATETIME_FORMATS, MomentDatetimeAdapter } from '@mat-datetimepicker/moment';\nimport moment from 'moment-es6';\nimport { Moment } from 'moment';\nimport { CardViewDateItemModel } from '../../models/card-view-dateitem.model';\nimport { CardViewUpdateService } from '../../services/card-view-update.service';\nimport { UserPreferencesService, UserPreferenceValues } from '../../../services/user-preferences.service';\nimport { MomentDateAdapter } from '../../../utils/moment-date-adapter';\nimport { MOMENT_DATE_FORMATS } from '../../../utils/moment-date-formats.model';\nimport { AppConfigService } from '../../../app-config/app-config.service';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { BaseCardView } from '../base-card-view';\nimport { ClipboardService } from '../../../clipboard/clipboard.service';\nimport { TranslationService } from '../../../services/translation.service';\n\n@Component({\n    providers: [\n        { provide: DateAdapter, useClass: MomentDateAdapter },\n        { provide: MAT_DATE_FORMATS, useValue: MOMENT_DATE_FORMATS },\n        { provide: DatetimeAdapter, useClass: MomentDatetimeAdapter },\n        { provide: MAT_DATETIME_FORMATS, useValue: MAT_MOMENT_DATETIME_FORMATS }\n    ],\n    selector: 'adf-card-view-dateitem',\n    templateUrl: './card-view-dateitem.component.html'\n})\nexport class CardViewDateItemComponent extends BaseCardView<CardViewDateItemModel> implements OnInit, OnDestroy {\n\n    @Input()\n    property: CardViewDateItemModel;\n\n    @Input()\n    editable: boolean = false;\n\n    @Input()\n    displayEmpty: boolean = true;\n\n    @Input()\n    displayClearAction: boolean = true;\n\n    @ViewChild('datetimePicker')\n    public datepicker: MatDatetimepicker<any>;\n\n    valueDate: Moment;\n    dateFormat: string;\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(cardViewUpdateService: CardViewUpdateService,\n                private dateAdapter: DateAdapter<Moment>,\n                private userPreferencesService: UserPreferencesService,\n                private appConfig: AppConfigService,\n                private clipboardService: ClipboardService,\n                private translateService: TranslationService) {\n        super(cardViewUpdateService);\n        this.dateFormat = this.appConfig.get('dateValues.defaultDateFormat');\n    }\n\n    ngOnInit() {\n        this.userPreferencesService\n            .select(UserPreferenceValues.Locale)\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe(locale => {\n                this.dateAdapter.setLocale(locale);\n                this.property.locale = locale;\n            });\n\n        (<MomentDateAdapter> this.dateAdapter).overrideDisplayFormat = 'MMM DD';\n\n        if (this.property.value) {\n            this.valueDate = moment(this.property.value, this.dateFormat);\n        } else if (this.property.multivalued && !this.property.value) {\n            this.property.value = [];\n        }\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    showProperty(): boolean {\n        return this.displayEmpty || !this.property.isEmpty();\n    }\n\n    showClearAction(): boolean {\n        return this.displayClearAction && (!this.property.isEmpty() || !!this.property.default);\n    }\n\n    isEditable(): boolean {\n        return this.editable && this.property.editable;\n    }\n\n    showDatePicker() {\n        this.datepicker.open();\n    }\n\n    onDateChanged(newDateValue) {\n        if (newDateValue) {\n            const momentDate = moment(newDateValue.value, this.dateFormat, true);\n            if (momentDate.isValid()) {\n                this.valueDate = momentDate;\n                this.property.value = momentDate.toDate();\n                this.update();\n            }\n        }\n    }\n\n    onDateClear() {\n        this.valueDate = null;\n        this.cardViewUpdateService.update(<CardViewDateItemModel> { ...this.property }, null);\n        this.property.value = null;\n        this.property.default = null;\n    }\n\n    copyToClipboard(valueToCopy: string) {\n        const clipboardMessage = this.translateService.instant('CORE.METADATA.ACCESSIBILITY.COPY_TO_CLIPBOARD_MESSAGE');\n        this.clipboardService.copyContentToClipboard(valueToCopy, clipboardMessage);\n    }\n\n    addDateToList(newDateValue) {\n        if (newDateValue) {\n            const momentDate = moment(newDateValue.value, this.dateFormat, true);\n            if (momentDate.isValid()) {\n                this.property.value.push(momentDate.toDate());\n                this.update();\n            }\n        }\n    }\n\n    removeValueFromList(itemIndex: number) {\n        this.property.value.splice(itemIndex, 1);\n        this.update();\n    }\n\n    update() {\n        this.cardViewUpdateService.update(<CardViewDateItemModel> { ...this.property }, this.property.value);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input } from '@angular/core';\nimport { CardViewMapItemModel } from '../../models/card-view-mapitem.model';\nimport { CardViewUpdateService } from '../../services/card-view-update.service';\nimport { BaseCardView } from '../base-card-view';\n\n@Component({\n    selector: 'adf-card-view-mapitem',\n    templateUrl: './card-view-mapitem.component.html',\n    styleUrls: ['./card-view-mapitem.component.scss']\n})\n\nexport class CardViewMapItemComponent extends BaseCardView<CardViewMapItemModel> {\n    @Input()\n    property: CardViewMapItemModel;\n\n    @Input()\n    displayEmpty: boolean = true;\n\n    constructor(cardViewUpdateService: CardViewUpdateService) {\n        super(cardViewUpdateService);\n    }\n\n    showProperty() {\n        return this.displayEmpty || !this.property.isEmpty();\n    }\n\n    isClickable() {\n        return this.property.clickable;\n    }\n\n    clicked(): void {\n        this.cardViewUpdateService.clicked(this.property);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, OnChanges, OnDestroy } from '@angular/core';\nimport { CardViewSelectItemModel } from '../../models/card-view-selectitem.model';\nimport { CardViewUpdateService } from '../../services/card-view-update.service';\nimport { BehaviorSubject, combineLatest, Observable, Subject } from 'rxjs';\nimport { CardViewSelectItemOption } from '../../interfaces/card-view.interfaces';\nimport { MatSelectChange } from '@angular/material/select';\nimport { BaseCardView } from '../base-card-view';\nimport { AppConfigService } from '../../../app-config/app-config.service';\nimport { takeUntil, map } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-card-view-selectitem',\n    templateUrl: './card-view-selectitem.component.html',\n    styleUrls: ['./card-view-selectitem.component.scss']\n})\nexport class CardViewSelectItemComponent extends BaseCardView<CardViewSelectItemModel<string | number>> implements OnChanges, OnDestroy {\n    static HIDE_FILTER_LIMIT = 5;\n\n    @Input() editable: boolean = false;\n\n    @Input() options$: Observable<CardViewSelectItemOption<string | number>[]>;\n\n    @Input()\n    displayNoneOption: boolean = true;\n\n    @Input()\n    displayEmpty: boolean = true;\n\n    value: string | number;\n    filter$: BehaviorSubject<string> = new BehaviorSubject('');\n    showInputFilter: boolean = false;\n\n    private onDestroy$ = new Subject<void>();\n\n    list$: Observable<CardViewSelectItemOption<string | number>[]> = null;\n\n    constructor(cardViewUpdateService: CardViewUpdateService, private appConfig: AppConfigService) {\n        super(cardViewUpdateService);\n    }\n\n    ngOnChanges(): void {\n        this.value = this.property.value;\n    }\n\n    ngOnInit() {\n        this.getOptions()\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe((options: CardViewSelectItemOption<string>[]) => {\n                this.showInputFilter = options.length > this.optionsLimit;\n            });\n\n        this.list$ = this.getList();\n    }\n\n    onFilterInputChange(value: string) {\n        this.filter$.next(value.toString());\n    }\n\n    isEditable(): boolean {\n        return this.editable && this.property.editable;\n    }\n\n    getOptions(): Observable<CardViewSelectItemOption<string | number>[]> {\n        return this.options$ || this.property.options$;\n    }\n\n    getList(): Observable<CardViewSelectItemOption<string | number>[]> {\n        return combineLatest([this.getOptions(), this.filter$])\n            .pipe(\n                map(([items, filter]) => items.filter((item: CardViewSelectItemOption<string>) =>\n                    filter ? item.label.toLowerCase().includes(filter.toLowerCase())\n                        : true)),\n                takeUntil(this.onDestroy$)\n            );\n    }\n\n    onChange(event: MatSelectChange): void {\n        const selectedOption = event.value !== undefined ? event.value : null;\n        this.cardViewUpdateService.update(<CardViewSelectItemModel<string>> { ...this.property }, selectedOption);\n        this.property.value = selectedOption;\n    }\n\n    showNoneOption() {\n        return this.displayNoneOption;\n    }\n\n    get showProperty(): boolean {\n        return this.displayEmpty || !this.property.isEmpty();\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next();\n        this.onDestroy$.complete();\n    }\n\n    private get optionsLimit(): number {\n        return this.appConfig.get<number>('content-metadata.selectFilterLimit', CardViewSelectItemComponent.HIDE_FILTER_LIMIT);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, OnChanges } from '@angular/core';\nimport { CardViewUpdateService } from '../../services/card-view-update.service';\nimport { CardViewKeyValuePairsItemModel } from '../../models/card-view.models';\nimport { CardViewKeyValuePairsItemType } from '../../interfaces/card-view.interfaces';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { BaseCardView } from '../base-card-view';\n\n@Component({\n    selector: 'adf-card-view-boolitem',\n    templateUrl: './card-view-keyvaluepairsitem.component.html'\n})\n\nexport class CardViewKeyValuePairsItemComponent extends BaseCardView<CardViewKeyValuePairsItemModel> implements OnChanges {\n\n    @Input()\n    editable: boolean = false;\n\n    values: CardViewKeyValuePairsItemType[];\n    matTableValues: MatTableDataSource<CardViewKeyValuePairsItemType>;\n\n    constructor(cardViewUpdateService: CardViewUpdateService) {\n        super(cardViewUpdateService);\n    }\n\n    ngOnChanges() {\n        this.values = this.property.value || [];\n        this.matTableValues = new MatTableDataSource(this.values);\n    }\n\n    isEditable(): boolean {\n        return this.editable && this.property.editable;\n    }\n\n    add(): void {\n        this.values.push({ name: '', value: '' });\n    }\n\n    remove(index: number): void {\n        this.values.splice(index, 1);\n        this.save(true);\n    }\n\n    onBlur(value): void {\n        if (value.length) {\n            this.save();\n        }\n    }\n\n    save(remove?: boolean): void {\n        const validValues = this.values.filter((i) => i.name.length && i.value.length);\n\n        if (remove || validValues.length) {\n            this.cardViewUpdateService.update(<CardViewKeyValuePairsItemModel> { ...this.property }, validValues);\n            this.property.value = validValues;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function getType(type: any): any {\n    return () => type;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Type } from '@angular/core';\nimport { getType } from './get-type';\n\nexport interface DynamicComponentModel { type: string; }\nexport type DynamicComponentResolveFunction = (model: DynamicComponentModel) => Type<{}>;\nexport class DynamicComponentResolver {\n    static fromType(type: Type<{}>): DynamicComponentResolveFunction {\n        return getType(type);\n    }\n}\n\nexport abstract class DynamicComponentMapper {\n\n    protected defaultValue: Type<{}> = undefined;\n    protected types: { [key: string]: DynamicComponentResolveFunction } = {};\n\n    /**\n     * Gets the currently active DynamicComponentResolveFunction for a field type.\n     * @param type The type whose resolver you want\n     * @param defaultValue Default type returned for types that are not yet mapped\n     * @returns Resolver function\n     */\n    getComponentTypeResolver(type: string, defaultValue: Type<{}> = this.defaultValue): DynamicComponentResolveFunction {\n        if (type) {\n            return this.types[type] || DynamicComponentResolver.fromType(defaultValue);\n        }\n        return DynamicComponentResolver.fromType(defaultValue);\n    }\n\n    /**\n     * Sets or optionally replaces a DynamicComponentResolveFunction for a field type.\n     * @param type The type whose resolver you want to set\n     * @param resolver The new resolver function\n     * @param override The new resolver will only replace an existing one if this parameter is true\n     */\n    setComponentTypeResolver(type: string, resolver: DynamicComponentResolveFunction, override: boolean = true) {\n        if (!type) {\n            throw new Error(`type is null or not defined`);\n        }\n\n        if (!resolver) {\n            throw new Error(`resolver is null or not defined`);\n        }\n\n        const existing = this.types[type];\n        if (existing && !override) {\n            throw new Error(`already mapped, use override option if you intend replacing existing mapping.`);\n        }\n\n        this.types[type] = resolver;\n    }\n\n    /**\n     * Register multiple components\n     */\n    register(components: { [key: string]: DynamicComponentResolveFunction }, override: boolean = false) {\n        if (components) {\n            for (const type of Object.keys(components)) {\n                this.setComponentTypeResolver(type, components[type], override);\n            }\n        }\n    }\n\n    /**\n     * Finds the component type that is needed to render a form field.\n     * @param model Form field model for the field to render\n     * @param defaultValue Default type returned for field types that are not yet mapped.\n     * @returns Component type\n     */\n    resolveComponentType(model: DynamicComponentModel, defaultValue: Type<{}> = this.defaultValue): Type<{}> {\n        if (model) {\n            const resolver = this.getComponentTypeResolver(model.type, defaultValue);\n            return resolver(model);\n        }\n        return defaultValue;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component } from '@angular/core';\nimport { CardViewArrayItemModel } from '../../models/card-view-arrayitem.model';\nimport { CardViewUpdateService } from '../../services/card-view-update.service';\nimport { BaseCardView } from '../base-card-view';\n\n@Component({\n  selector: 'adf-card-view-arrayitem',\n  templateUrl: './card-view-arrayitem.component.html'\n})\nexport class CardViewArrayItemComponent extends BaseCardView<CardViewArrayItemModel> {\n\n    constructor(cardViewUpdateService: CardViewUpdateService) {\n        super(cardViewUpdateService);\n    }\n\n    clicked(): void {\n        if (this.isClickable()) {\n            this.cardViewUpdateService.clicked(this.property);\n        }\n    }\n\n    showClickableIcon(): boolean {\n        return this.hasIcon() && this.isClickable();\n    }\n\n    hasIcon(): boolean {\n        return !!this.property.icon;\n    }\n\n    displayCount(): number {\n        return this.property.noOfItemsToDisplay ? this.property.noOfItemsToDisplay : 0;\n    }\n\n    isClickable(): boolean {\n        return !!this.property.clickable;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable, Type } from '@angular/core';\nimport { CardViewDateItemComponent } from '../components/card-view-dateitem/card-view-dateitem.component';\nimport { CardViewMapItemComponent } from '../components/card-view-mapitem/card-view-mapitem.component';\nimport { CardViewTextItemComponent } from '../components/card-view-textitem/card-view-textitem.component';\nimport { CardViewSelectItemComponent } from '../components/card-view-selectitem/card-view-selectitem.component';\nimport { CardViewBoolItemComponent } from '../components/card-view-boolitem/card-view-boolitem.component';\nimport { CardViewKeyValuePairsItemComponent } from '../components/card-view-keyvaluepairsitem/card-view-keyvaluepairsitem.component';\nimport { DynamicComponentMapper, DynamicComponentResolveFunction, DynamicComponentResolver } from '../../services/dynamic-component-mapper.service';\nimport { CardViewArrayItemComponent } from '../components/card-view-arrayitem/card-view-arrayitem.component';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CardItemTypeService extends DynamicComponentMapper {\n\n    protected defaultValue: Type<{}> = CardViewTextItemComponent;\n\n    protected types: { [key: string]: DynamicComponentResolveFunction } = {\n        'text': DynamicComponentResolver.fromType(CardViewTextItemComponent),\n        'select': DynamicComponentResolver.fromType(CardViewSelectItemComponent),\n        'int': DynamicComponentResolver.fromType(CardViewTextItemComponent),\n        'float': DynamicComponentResolver.fromType(CardViewTextItemComponent),\n        'date': DynamicComponentResolver.fromType(CardViewDateItemComponent),\n        'datetime': DynamicComponentResolver.fromType(CardViewDateItemComponent),\n        'bool': DynamicComponentResolver.fromType(CardViewBoolItemComponent),\n        'map': DynamicComponentResolver.fromType(CardViewMapItemComponent),\n        'keyvaluepairs': DynamicComponentResolver.fromType(CardViewKeyValuePairsItemComponent),\n        'array': DynamicComponentResolver.fromType(CardViewArrayItemComponent)\n    };\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Directive, ViewContainerRef } from '@angular/core';\n\n@Directive({\n    selector: '[adf-card-view-content-proxy]'\n})\nexport class CardViewContentProxyDirective {\n    constructor(public viewContainerRef: ViewContainerRef) { }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Component,\n    ComponentFactoryResolver,\n    Input,\n    OnChanges,\n    SimpleChange,\n    SimpleChanges,\n    ViewChild\n} from '@angular/core';\nimport { CardViewItem } from '../../interfaces/card-view-item.interface';\nimport { CardItemTypeService } from '../../services/card-item-types.service';\nimport { CardViewContentProxyDirective } from '../../directives/card-view-content-proxy.directive';\nimport { DEFAULT_SEPARATOR } from '../card-view-textitem/card-view-textitem.component';\n\n@Component({\n    selector: 'adf-card-view-item-dispatcher',\n    template: '<ng-template adf-card-view-content-proxy></ng-template>'\n})\nexport class CardViewItemDispatcherComponent implements OnChanges {\n    @Input()\n    property: CardViewItem;\n\n    @Input()\n    editable: boolean;\n\n    @Input()\n    displayEmpty: boolean = true;\n\n    @Input()\n    displayNoneOption: boolean = true;\n\n    @Input()\n    displayClearAction: boolean = true;\n\n    @Input()\n    copyToClipboardAction: boolean = true;\n\n    @Input()\n    useChipsForMultiValueProperty: boolean = true;\n\n    @Input()\n    multiValueSeparator: string = DEFAULT_SEPARATOR;\n\n    @ViewChild(CardViewContentProxyDirective, { static: true })\n    private content: CardViewContentProxyDirective;\n\n    private loaded: boolean = false;\n    private componentReference: any = null;\n\n    public ngOnInit;\n    public ngDoCheck;\n\n    constructor(private cardItemTypeService: CardItemTypeService,\n                private resolver: ComponentFactoryResolver) {\n        const dynamicLifeCycleMethods = [\n            'ngOnInit',\n            'ngDoCheck',\n            'ngAfterContentInit',\n            'ngAfterContentChecked',\n            'ngAfterViewInit',\n            'ngAfterViewChecked',\n            'ngOnDestroy'\n        ];\n\n        dynamicLifeCycleMethods.forEach((method) => {\n            this[method] = this.proxy.bind(this, method);\n        });\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (!this.loaded) {\n            this.loadComponent();\n            this.loaded = true;\n        }\n\n        Object.keys(changes)\n            .map((changeName) => [changeName, changes[changeName]])\n            .forEach(([inputParamName, simpleChange]: [string, SimpleChange]) => {\n                this.componentReference.instance[inputParamName] = simpleChange.currentValue;\n            });\n\n        this.proxy('ngOnChanges', changes);\n    }\n\n    private loadComponent() {\n        const factoryClass = this.cardItemTypeService.resolveComponentType(this.property);\n\n        const factory = this.resolver.resolveComponentFactory(factoryClass);\n        this.componentReference = this.content.viewContainerRef.createComponent(factory);\n\n        this.componentReference.instance.editable = this.editable;\n        this.componentReference.instance.property = this.property;\n        this.componentReference.instance.displayEmpty = this.displayEmpty;\n        this.componentReference.instance.displayNoneOption = this.displayNoneOption;\n        this.componentReference.instance.displayClearAction = this.displayClearAction;\n        this.componentReference.instance.copyToClipboardAction = this.copyToClipboardAction;\n        this.componentReference.instance.useChipsForMultiValueProperty = this.useChipsForMultiValueProperty;\n        this.componentReference.instance.multiValueSeparator = this.multiValueSeparator;\n    }\n\n    private proxy(methodName, ...args) {\n        if (this.componentReference.instance[methodName]) {\n            this.componentReference.instance[methodName].apply(this.componentReference.instance, args);\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ViewEncapsulation, ViewChild, ElementRef, OnDestroy, Inject, Output, EventEmitter } from '@angular/core';\nimport { ESCAPE, TAB } from '@angular/cdk/keycodes';\nimport { MatSelect } from '@angular/material/select';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-select-filter-input',\n    templateUrl: './select-filter-input.component.html',\n    host: { 'class': 'adf-select-filter-input' },\n    encapsulation: ViewEncapsulation.None\n})\nexport class SelectFilterInputComponent implements OnDestroy {\n    @ViewChild('selectFilterInput', { read: ElementRef, static: false }) selectFilterInput: ElementRef;\n    @Output() change = new EventEmitter<string>();\n\n    term = '';\n    private onDestroy$ = new Subject<void>();\n\n    constructor(@Inject(MatSelect) private matSelect: MatSelect) {}\n\n    onModelChange(value: string) {\n        this.change.next(value);\n    }\n\n    ngOnInit() {\n        this.change\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe((val: string) => this.term = val );\n\n        this.matSelect.openedChange\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe((isOpened: boolean) => {\n                if (isOpened) {\n                    this.selectFilterInput.nativeElement.focus();\n                } else {\n                    this.change.next('');\n                }\n            });\n    }\n\n    reset(event?: Event) {\n        if (event) {\n            event.stopPropagation();\n        }\n\n        this.change.next('');\n        this.selectFilterInput.nativeElement.focus();\n    }\n\n    handleKeydown($event: KeyboardEvent) {\n        if (this.term) {\n            if ($event.keyCode === ESCAPE) {\n                event.stopPropagation();\n                this.change.next('');\n            }\n\n            if (($event.target as HTMLInputElement).tagName === 'INPUT' && $event.keyCode === TAB) {\n                event.stopPropagation();\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next();\n        this.onDestroy$.complete();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItemValidator } from '../interfaces/card-view.interfaces';\n\nexport class CardViewItemIntValidator implements CardViewItemValidator {\n\n    message = 'CORE.CARDVIEW.VALIDATORS.INT_VALIDATION_ERROR';\n\n    isValid(value: any): boolean {\n        if (Array.isArray(value)) {\n            return value.every(this.isIntegerNumber);\n        }\n\n        return value === '' || !isNaN(value) && this.isIntegerNumber(value);\n    }\n\n    isIntegerNumber(value: any): boolean {\n        const parsedNumber = Number(value);\n        return (parsedNumber | 0) === parsedNumber;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItemValidator } from '../interfaces/card-view.interfaces';\n\nexport class CardViewItemFloatValidator implements CardViewItemValidator {\n\n    message = 'CORE.CARDVIEW.VALIDATORS.FLOAT_VALIDATION_ERROR';\n\n    isValid(value: any): boolean {\n        if (Array.isArray(value)) {\n            return value.every(this.isDecimalNumber);\n        }\n        return value === '' || this.isDecimalNumber(value);\n    }\n\n    isDecimalNumber(value: any): boolean {\n        return !isNaN(parseFloat(value)) && isFinite(value);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItemValidator } from '../interfaces/card-view.interfaces';\n\nexport interface MatchValidatorParams {\n    expression: string;\n    flags?: string;\n}\n\nexport class CardViewItemMatchValidator implements CardViewItemValidator {\n    message = 'CORE.CARDVIEW.VALIDATORS.MATCH_VALIDATION_ERROR';\n\n    constructor(private expression: string, private flags?: string) {}\n\n    isValid(value: string): boolean {\n        const regex = new RegExp(this.expression, this.flags);\n        return value === '' || regex.test(value);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItemValidator } from '../interfaces/card-view.interfaces';\nimport { CardViewItemIntValidator } from './card-view-item-int.validator';\n\nexport interface MinMaxValidatorParams {\n    minValue: number;\n    maxValue: number;\n}\n\nexport class CardViewItemMinMaxValidator implements CardViewItemValidator {\n    message = 'CORE.CARDVIEW.VALIDATORS.MINMAX_VALIDATION_ERROR';\n    private intValidator: CardViewItemIntValidator;\n\n    constructor(private minValue: number, private maxValue: number) {\n        this.intValidator = new CardViewItemIntValidator();\n    }\n\n    isValid(value: number): boolean {\n        return this.intValidator.isValid(value) && (value >= this.minValue && value <= this.maxValue);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItemValidator } from '../interfaces/card-view.interfaces';\n\nexport interface LengthValidatorParams {\n    minLength: number;\n    maxLength: number;\n}\n\nexport class CardViewItemLengthValidator implements CardViewItemValidator {\n    message = 'CORE.CARDVIEW.VALIDATORS.LENGTH_VALIDATION_ERROR';\n\n    constructor(private minLength: number, private maxLength: number) {}\n\n    isValid(value: string = ''): boolean {\n        const stringLength = value.length;\n        return stringLength >= this.minLength && stringLength <= this.maxLength;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItemMatchValidator, MatchValidatorParams } from './card-view-item-match.valiator';\nimport { CardViewItemMinMaxValidator, MinMaxValidatorParams } from './card-view-item-minmax.valiator';\nimport { CardViewItemLengthValidator, LengthValidatorParams } from './card-view-item-length.valiator';\n\nconst validators = {\n    minmax: (parameters: MinMaxValidatorParams) => new CardViewItemMinMaxValidator(parameters.minValue, parameters.maxValue),\n    regex: (parameters: MatchValidatorParams) => new CardViewItemMatchValidator(parameters.expression),\n    length: (parameters: LengthValidatorParams) => new CardViewItemLengthValidator(parameters.minLength, parameters.maxLength)\n};\nexport default validators;\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItemProperties, CardViewItemValidator } from '../interfaces/card-view.interfaces';\nimport validatorsMap from '../validators/validators.map';\n\nexport abstract class CardViewBaseItemModel {\n    label: string;\n    value: any;\n    key: any;\n    default: any;\n    editable: boolean;\n    clickable: boolean;\n    icon?: string;\n    validators?: CardViewItemValidator[];\n    data?: any;\n    type?: string;\n    multivalued?: boolean;\n\n    constructor(cardViewItemProperties: CardViewItemProperties) {\n        this.label = cardViewItemProperties.label || '';\n        this.value = cardViewItemProperties.value && cardViewItemProperties.value.displayName || cardViewItemProperties.value;\n        this.key = cardViewItemProperties.key;\n        this.default = cardViewItemProperties.default;\n        this.editable = !!cardViewItemProperties.editable;\n        this.clickable = !!cardViewItemProperties.clickable;\n        this.icon = cardViewItemProperties.icon || '';\n        this.validators = cardViewItemProperties.validators || [];\n        this.data = cardViewItemProperties.data || null;\n        this.multivalued = !!cardViewItemProperties.multivalued;\n\n        if (cardViewItemProperties?.constraints?.length ?? 0) {\n            for (const constraint of cardViewItemProperties.constraints) {\n                if (constraint.type !== 'LIST') {\n                    this.validators.push(validatorsMap[constraint.type.toLowerCase()](constraint.parameters));\n                }\n            }\n        }\n    }\n\n    isEmpty(): boolean {\n        return this.value === undefined || this.value === null || this.value.length === 0;\n    }\n\n    isValid(newValue: any): boolean {\n        if (!this.validators.length) {\n            return true;\n        }\n\n        return this.validators\n            .map((validator) => validator.isValid(newValue))\n            .reduce((isValidUntilNow, isValid) => isValidUntilNow && isValid, true);\n    }\n\n    getValidationErrors(value): CardViewItemValidator[] {\n        if (!this.validators.length) {\n            return [];\n        }\n\n        return this.validators.filter((validator) => !validator.isValid(value)).map((validator) => validator);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItem } from '../interfaces/card-view-item.interface';\nimport { DynamicComponentModel } from '../../services/dynamic-component-mapper.service';\nimport { CardViewBaseItemModel } from './card-view-baseitem.model';\nimport { CardViewBoolItemProperties } from '../interfaces/card-view.interfaces';\n\nexport class CardViewBoolItemModel extends CardViewBaseItemModel implements CardViewItem, DynamicComponentModel {\n    type: string = 'bool';\n    value: boolean = false;\n    default: boolean;\n\n    constructor(cardViewBoolItemProperties: CardViewBoolItemProperties) {\n        super(cardViewBoolItemProperties);\n\n        if (cardViewBoolItemProperties.value !== undefined) {\n            this.value = !!JSON.parse(cardViewBoolItemProperties.value);\n        }\n    }\n\n    get displayValue() {\n        if (this.isEmpty()) {\n            return this.default;\n        } else {\n            return this.value;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItem } from '../interfaces/card-view-item.interface';\nimport { DynamicComponentModel } from '../../services/dynamic-component-mapper.service';\nimport { CardViewBaseItemModel } from './card-view-baseitem.model';\nimport { CardViewDateItemProperties } from '../interfaces/card-view.interfaces';\nimport { LocalizedDatePipe } from '../../pipes/localized-date.pipe';\n\nexport class CardViewDateItemModel extends CardViewBaseItemModel implements CardViewItem, DynamicComponentModel {\n    type: string = 'date';\n    format: string;\n    locale: string;\n\n    localizedDatePipe: LocalizedDatePipe;\n\n    constructor(cardViewDateItemProperties: CardViewDateItemProperties) {\n        super(cardViewDateItemProperties);\n\n        if (cardViewDateItemProperties.format) {\n            this.format = cardViewDateItemProperties.format;\n        }\n\n        if (cardViewDateItemProperties.locale) {\n            this.locale = cardViewDateItemProperties.locale;\n        }\n\n    }\n\n    get displayValue() {\n        if (this.multivalued) {\n            if (this.value) {\n                return this.value.map((date) => this.transformDate(date));\n            } else {\n                return this.default ? [this.default] : [];\n            }\n        } else {\n            return this.value ? this.transformDate(this.value) : this.default;\n        }\n    }\n\n    transformDate(value: any) {\n        this.localizedDatePipe = new LocalizedDatePipe();\n        return this.localizedDatePipe.transform(value, this.format, this.locale);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItem } from '../interfaces/card-view-item.interface';\nimport { DynamicComponentModel } from '../../services/dynamic-component-mapper.service';\nimport { CardViewDateItemModel } from './card-view-dateitem.model';\nimport { CardViewDateItemProperties } from '../interfaces/card-view.interfaces';\n\nexport class CardViewDatetimeItemModel extends CardViewDateItemModel implements CardViewItem, DynamicComponentModel {\n    type: string = 'datetime';\n    format: string = 'MMM d, y, H:mm';\n\n    constructor(cardViewDateItemProperties: CardViewDateItemProperties) {\n        super(cardViewDateItemProperties);\n\n        if (cardViewDateItemProperties.format) {\n            this.format = cardViewDateItemProperties.format;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItem } from '../interfaces/card-view-item.interface';\nimport { DynamicComponentModel } from '../../services/dynamic-component-mapper.service';\nimport { CardViewBaseItemModel } from './card-view-baseitem.model';\nimport { CardViewTextItemPipeProperty, CardViewTextItemProperties } from '../interfaces/card-view.interfaces';\n\nexport class CardViewTextItemModel extends CardViewBaseItemModel implements CardViewItem, DynamicComponentModel {\n    type: string = 'text';\n    inputType: string = 'text';\n    multiline?: boolean;\n    pipes?: CardViewTextItemPipeProperty[];\n    clickCallBack?: any;\n\n    constructor(cardViewTextItemProperties: CardViewTextItemProperties) {\n        super(cardViewTextItemProperties);\n        this.multiline = !!cardViewTextItemProperties.multiline;\n        this.pipes = cardViewTextItemProperties.pipes || [];\n        this.clickCallBack = cardViewTextItemProperties.clickCallBack ? cardViewTextItemProperties.clickCallBack : null;\n\n        if (this.default && this.isEmpty()) {\n            this.value = this.default;\n        }\n    }\n\n    get displayValue(): string {\n        return this.applyPipes(this.value);\n    }\n\n    applyPipes(displayValue) {\n        if (this.pipes.length) {\n            displayValue = this.pipes.reduce((accumulator, { pipe, params = [] }) => {\n                return pipe.transform(accumulator, ...params);\n            }, displayValue);\n        }\n\n        return displayValue;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItem } from '../interfaces/card-view-item.interface';\nimport { DynamicComponentModel } from '../../services/dynamic-component-mapper.service';\nimport { CardViewTextItemModel } from './card-view-textitem.model';\nimport { CardViewTextItemProperties } from '../interfaces/card-view.interfaces';\nimport { CardViewItemFloatValidator } from '../validators/card-view.validators';\n\nexport class CardViewFloatItemModel extends CardViewTextItemModel implements CardViewItem, DynamicComponentModel {\n    type: string = 'float';\n    inputType: string = 'number';\n\n    constructor(cardViewTextItemProperties: CardViewTextItemProperties) {\n        super(cardViewTextItemProperties);\n\n        this.validators.push(new CardViewItemFloatValidator());\n        if (cardViewTextItemProperties.value && !cardViewTextItemProperties.multivalued) {\n            this.value = parseFloat(cardViewTextItemProperties.value);\n        }\n    }\n\n    get displayValue(): string {\n        return this.applyPipes(this.value);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItem } from '../interfaces/card-view-item.interface';\nimport { DynamicComponentModel } from '../../services/dynamic-component-mapper.service';\nimport { CardViewTextItemModel } from './card-view-textitem.model';\nimport { CardViewTextItemProperties } from '../interfaces/card-view.interfaces';\nimport { CardViewItemIntValidator } from '../validators/card-view.validators';\n\nexport class CardViewIntItemModel extends CardViewTextItemModel implements CardViewItem, DynamicComponentModel {\n    type: string = 'int';\n    inputType: string = 'number';\n\n    constructor(cardViewTextItemProperties: CardViewTextItemProperties) {\n        super(cardViewTextItemProperties);\n\n        this.validators.push(new CardViewItemIntValidator());\n        if (cardViewTextItemProperties.value && !cardViewTextItemProperties.multivalued) {\n            this.value = parseInt(cardViewTextItemProperties.value, 10);\n        }\n    }\n\n    get displayValue(): string {\n        return this.applyPipes(this.value);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItem } from '../interfaces/card-view-item.interface';\nimport { DynamicComponentModel } from '../../services/dynamic-component-mapper.service';\nimport { CardViewBaseItemModel } from './card-view-baseitem.model';\n\nexport class CardViewMapItemModel extends CardViewBaseItemModel implements CardViewItem, DynamicComponentModel {\n    type: string = 'map';\n    value: Map<string, string>;\n\n    get displayValue() {\n        if (this.value && this.value.size > 0) {\n            return this.value.values().next().value;\n        } else {\n            return this.default;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItem } from '../interfaces/card-view-item.interface';\nimport { DynamicComponentModel } from '../../services/dynamic-component-mapper.service';\nimport { CardViewBaseItemModel } from './card-view-baseitem.model';\nimport { CardViewKeyValuePairsItemProperties } from '../interfaces/card-view.interfaces';\n\nexport class CardViewKeyValuePairsItemModel extends CardViewBaseItemModel implements CardViewItem, DynamicComponentModel {\n    type: string = 'keyvaluepairs';\n\n    constructor(cardViewKeyValuePairsItemProperties: CardViewKeyValuePairsItemProperties) {\n        super(cardViewKeyValuePairsItemProperties);\n    }\n\n    get displayValue() {\n        return this.value;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItem } from '../interfaces/card-view-item.interface';\nimport { DynamicComponentModel } from '../../services/dynamic-component-mapper.service';\nimport { CardViewBaseItemModel } from './card-view-baseitem.model';\nimport { CardViewSelectItemProperties, CardViewSelectItemOption } from '../interfaces/card-view.interfaces';\nimport { Observable, of } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\n\nexport class CardViewSelectItemModel<T> extends CardViewBaseItemModel implements CardViewItem, DynamicComponentModel {\n    type: string = 'select';\n    options$: Observable<CardViewSelectItemOption<T>[]>;\n    displayNoneOption: boolean;\n\n    valueFetch$: Observable<string> = null;\n\n    constructor(cardViewSelectItemProperties: CardViewSelectItemProperties<T>) {\n        super(cardViewSelectItemProperties);\n\n        this.displayNoneOption = cardViewSelectItemProperties.displayNoneOption !== undefined ? cardViewSelectItemProperties.displayNoneOption : true;\n\n        this.options$ = cardViewSelectItemProperties.options$;\n\n        this.valueFetch$ = this.options$.pipe(\n            switchMap((options) => {\n                const option = options.find((o) => o.key === this.value?.toString());\n                return of(option ? option.label : '');\n        }));\n    }\n\n    get displayValue() {\n        return this.valueFetch$;\n    }\n\n    setValue(value: any) {\n        this.value = value;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CardViewItem } from '../interfaces/card-view-item.interface';\nimport { DynamicComponentModel } from '../../services/dynamic-component-mapper.service';\nimport { CardViewBaseItemModel } from './card-view-baseitem.model';\nimport { Observable } from 'rxjs';\nimport { CardViewArrayItemProperties } from '../interfaces/card-view-arrayitem-properties.interface';\n\nexport interface CardViewArrayItem {\n    icon: string;\n    value: string;\n}\n\nexport class CardViewArrayItemModel extends CardViewBaseItemModel implements CardViewItem, DynamicComponentModel {\n\n    type: string = 'array';\n    value: Observable<CardViewArrayItem[]>;\n    noOfItemsToDisplay: number;\n\n    constructor(cardViewArrayItemProperties: CardViewArrayItemProperties) {\n        super(cardViewArrayItemProperties);\n        this.noOfItemsToDisplay = cardViewArrayItemProperties.noOfItemsToDisplay;\n    }\n\n    get displayValue(): Observable<CardViewArrayItem[]> {\n        return this.value;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatDatetimepickerModule, MatNativeDatetimeModule } from '@mat-datetimepicker/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { CardViewContentProxyDirective } from './directives/card-view-content-proxy.directive';\nimport { CardViewComponent } from './components/card-view/card-view.component';\nimport { CardViewBoolItemComponent } from './components/card-view-boolitem/card-view-boolitem.component';\nimport { CardViewDateItemComponent } from './components/card-view-dateitem/card-view-dateitem.component';\nimport { CardViewItemDispatcherComponent } from './components/card-view-item-dispatcher/card-view-item-dispatcher.component';\nimport { CardViewMapItemComponent } from './components/card-view-mapitem/card-view-mapitem.component';\nimport { CardViewTextItemComponent } from './components/card-view-textitem/card-view-textitem.component';\nimport { CardViewKeyValuePairsItemComponent } from './components/card-view-keyvaluepairsitem/card-view-keyvaluepairsitem.component';\nimport { CardViewSelectItemComponent } from './components/card-view-selectitem/card-view-selectitem.component';\nimport { CardViewArrayItemComponent } from './components/card-view-arrayitem/card-view-arrayitem.component';\nimport { SelectFilterInputComponent } from './components/card-view-selectitem/select-filter-input/select-filter-input.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        FlexLayoutModule,\n        TranslateModule,\n        MatDatepickerModule,\n        MatNativeDateModule,\n        MatCheckboxModule,\n        MatInputModule,\n        MatTableModule,\n        MatIconModule,\n        MatSelectModule,\n        MatButtonModule,\n        MatChipsModule,\n        MatMenuModule,\n        MatCardModule,\n        MatDatetimepickerModule,\n        MatNativeDatetimeModule,\n        MatSlideToggleModule,\n        MatTooltipModule\n    ],\n    declarations: [\n        CardViewComponent,\n        CardViewBoolItemComponent,\n        CardViewDateItemComponent,\n        CardViewMapItemComponent,\n        CardViewTextItemComponent,\n        CardViewKeyValuePairsItemComponent,\n        CardViewSelectItemComponent,\n        CardViewItemDispatcherComponent,\n        CardViewContentProxyDirective,\n        CardViewArrayItemComponent,\n        SelectFilterInputComponent\n    ],\n    exports: [\n        CardViewComponent,\n        CardViewBoolItemComponent,\n        CardViewDateItemComponent,\n        CardViewMapItemComponent,\n        CardViewTextItemComponent,\n        CardViewSelectItemComponent,\n        CardViewKeyValuePairsItemComponent,\n        CardViewArrayItemComponent,\n        SelectFilterInputComponent\n    ]\n})\nexport class CardViewModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { StorageService } from '../services/storage.service';\nimport { AppConfigService, AppConfigValues } from '../app-config/app-config.service';\nimport { ExtensionService } from '@alfresco/adf-extensions';\n\n@Injectable()\nexport class DebugAppConfigService extends AppConfigService {\n    constructor(private storage: StorageService, http: HttpClient, extensionService: ExtensionService) {\n        super(http, extensionService);\n    }\n\n    /** @override */\n    get<T>(key: string, defaultValue?: T): T {\n        if (key === AppConfigValues.OAUTHCONFIG) {\n            return <T> (JSON.parse(this.storage.getItem(key)) || super.get<T>(key, defaultValue));\n        } else if (key === AppConfigValues.APPLICATION) {\n            return undefined;\n        } else {\n            return <T> (<any> this.storage.getItem(key) || super.get<T>(key, defaultValue));\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { AppConfigService } from './app-config.service';\n\n@Pipe({\n    name: 'adfAppConfig'\n})\nexport class AppConfigPipe implements PipeTransform {\n    constructor(private config: AppConfigService) {}\n\n    transform(value: string, fallback?: any): any {\n        return this.config.get(value, fallback);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { HttpClientModule } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { AppConfigPipe } from './app-config.pipe';\n\n@NgModule({\n    imports: [\n        HttpClientModule\n    ],\n    declarations: [\n        AppConfigPipe\n    ],\n    exports: [\n        AppConfigPipe\n    ]\n})\nexport class AppConfigModule {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormSaveRepresentation } from '@alfresco/js-api';\n\nexport class FormDefinitionModel extends FormSaveRepresentation {\n    reusable: boolean = false;\n    newVersion: boolean = false;\n    formRepresentation: any;\n    formImageBase64: string = '';\n\n    constructor(id: string, name: any, lastUpdatedByFullName: string, lastUpdated: string, metadata: any) {\n        super();\n        this.formRepresentation = {\n            id: id,\n            name: name,\n            description: '',\n            version: 1,\n            lastUpdatedBy: 1,\n            lastUpdatedByFullName: lastUpdatedByFullName,\n            lastUpdated: lastUpdated,\n            stencilSetId: 0,\n            referenceId: null,\n            formDefinition: {\n                fields: [{\n                    name: 'Label',\n                    type: 'container',\n                    fieldType: 'ContainerRepresentation',\n                    numberOfColumns: 2,\n                    required: false,\n                    readOnly: false,\n                    sizeX: 2,\n                    sizeY: 1,\n                    row: -1,\n                    col: -1,\n                    fields: {'1': this.metadataToFields(metadata)}\n                }],\n                gridsterForm: false,\n                javascriptEvents: [],\n                metadata: {},\n                outcomes: [],\n                className: '',\n                style: '',\n                tabs: [],\n                variables: []\n            }\n        };\n    }\n\n    private metadataToFields(metadata: any): any[] {\n        const fields = [];\n        if (metadata) {\n            metadata.forEach(function(property) {\n                if (property) {\n                    const field = {\n                        type: 'text',\n                        id: property.name,\n                        name: property.name,\n                        required: false,\n                        readOnly: false,\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        colspan: 1,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        layout: {\n                            colspan: 1,\n                            row: -1,\n                            column: -1\n                        }\n                    };\n                    fields.push(field);\n                }\n            });\n        }\n\n        return fields;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nexport class FormFieldTypes {\n    static CONTAINER: string = 'container';\n    static GROUP: string = 'group';\n    static DYNAMIC_TABLE: string = 'dynamic-table';\n    static TEXT: string = 'text';\n    static MULTILINE_TEXT: string = 'multi-line-text';\n    static DROPDOWN: string = 'dropdown';\n    static HYPERLINK: string = 'hyperlink';\n    static RADIO_BUTTONS: string = 'radio-buttons';\n    static DISPLAY_VALUE: string = 'readonly';\n    static READONLY_TEXT: string = 'readonly-text';\n    static UPLOAD: string = 'upload';\n    static TYPEAHEAD: string = 'typeahead';\n    static FUNCTIONAL_GROUP: string = 'functional-group';\n    static PEOPLE: string = 'people';\n    static BOOLEAN: string = 'boolean';\n    static NUMBER: string = 'integer';\n    static DATE: string = 'date';\n    static AMOUNT: string = 'amount';\n    static DOCUMENT: string = 'document';\n    static DATETIME: string = 'datetime';\n    static ATTACH_FOLDER: string = 'select-folder';\n    static FILE_VIEWER: string = 'file-viewer';\n\n    static READONLY_TYPES: string[] = [\n        FormFieldTypes.HYPERLINK,\n        FormFieldTypes.DISPLAY_VALUE,\n        FormFieldTypes.READONLY_TEXT,\n        FormFieldTypes.GROUP\n    ];\n\n    static isReadOnlyType(type: string) {\n        return FormFieldTypes.READONLY_TYPES.includes(type);\n    }\n\n    static isContainerType(type: string) {\n        return type === FormFieldTypes.CONTAINER || type === FormFieldTypes.GROUP;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class WidgetVisibilityModel {\n    rightRestResponseId?: string;\n    rightFormFieldId?: string;\n    leftRestResponseId?: string;\n    leftFormFieldId?: string;\n    operator: string;\n    nextCondition: WidgetVisibilityModel;\n    nextConditionOperator: string;\n\n    constructor(private json?: any) {\n        if (json) {\n            this.operator = json.operator;\n            this.nextCondition = new WidgetVisibilityModel(json.nextCondition);\n            this.nextConditionOperator = json.nextConditionOperator;\n            this.rightRestResponseId = json.rightRestResponseId;\n            this.rightFormFieldId = json.rightFormFieldId;\n            this.leftFormFieldId = json.leftFormFieldId;\n            this.leftRestResponseId = json.leftRestResponseId;\n        } else {\n            this.json = {};\n        }\n    }\n\n    get leftType(): string {\n        if (this.leftFormFieldId) {\n            return WidgetTypeEnum.field;\n        } else if (this.leftRestResponseId) {\n            return WidgetTypeEnum.variable;\n        } else if (!!this.json.leftType) {\n            return this.json.leftType;\n        }\n        return null;\n    }\n\n    set leftType(leftType: string) {\n        this.json.leftType = leftType;\n    }\n\n    get leftValue(): any {\n        if (this.json.leftValue) {\n            return this.json.leftValue;\n        } else if (this.leftFormFieldId) {\n            return this.leftFormFieldId;\n        } else {\n            return this.leftRestResponseId;\n        }\n    }\n\n    set leftValue(leftValue: any) {\n        this.json.leftValue = leftValue;\n    }\n\n    get rightType(): string {\n        if (!!this.json.rightType) {\n            return this.json.rightType;\n        } else if (this.json.rightValue) {\n            return WidgetTypeEnum.value;\n        } else if (this.rightRestResponseId) {\n            return WidgetTypeEnum.variable;\n        } else if (this.rightFormFieldId) {\n            return WidgetTypeEnum.field;\n        }\n\n        return null;\n    }\n\n    set rightType(rightType: string) {\n        this.json.rightType = rightType;\n    }\n\n    get rightValue(): any {\n        if (this.json.rightValue) {\n            return this.json.rightValue;\n        } else if (this.rightFormFieldId) {\n            return this.rightFormFieldId;\n        } else {\n            return this.rightRestResponseId;\n        }\n    }\n\n    set rightValue(rightValue: any) {\n        this.json.rightValue = rightValue;\n    }\n}\n\nexport enum WidgetTypeEnum {\n    field = 'field',\n    variable = 'variable',\n    value = 'value'\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { FormModel } from './form.model';\n\nexport abstract class FormWidgetModel {\n\n    readonly fieldType: string;\n    readonly id: string;\n    readonly name: string;\n    readonly type: string;\n    readonly tab: string;\n\n    readonly form: any;\n    readonly json: any;\n    readonly field: any;\n\n    protected constructor(form: FormModel, json: any) {\n        this.form = form;\n        this.json = json;\n\n        if (json) {\n            this.fieldType = json.fieldType;\n            this.id = json.id;\n            this.name = json.name;\n            this.type = json.type;\n            this.tab = json.tab;\n            this.field = json.field;\n        }\n    }\n}\n\nexport interface FormWidgetModelCache<T extends FormWidgetModel> {\n    [key: string]: T;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { FormFieldModel } from './form-field.model';\n\nexport class ContainerColumnModel {\n\n    size: number = 12;\n    fields: FormFieldModel[] = [];\n    colspan: number = 1;\n    rowspan: number = 1;\n\n    hasFields(): boolean {\n        return this.fields && this.fields.length > 0;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nexport class ErrorMessageModel {\n\n    message: string = '';\n    attributes: Map<string, string> = null;\n\n    constructor(obj?: any) {\n        this.message = obj && obj.message ? obj.message : '';\n        this.attributes = new Map();\n    }\n\n    isActive(): boolean {\n        return !!this.message;\n    }\n\n    getAttributesAsJsonObj() {\n        let result = {};\n        if (this.attributes.size > 0) {\n            const obj = Object.create(null);\n            this.attributes.forEach((value, key) => {\n                obj[key] = value;\n            });\n            result = JSON.stringify(obj);\n        }\n        return result;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport moment from 'moment-es6';\nimport { FormFieldTypes } from './form-field-types';\nimport { FormFieldModel } from './form-field.model';\n\nexport interface FormFieldValidator {\n\n    isSupported(field: FormFieldModel): boolean;\n\n    validate(field: FormFieldModel): boolean;\n\n}\n\nexport class RequiredFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.TEXT,\n        FormFieldTypes.MULTILINE_TEXT,\n        FormFieldTypes.NUMBER,\n        FormFieldTypes.BOOLEAN,\n        FormFieldTypes.TYPEAHEAD,\n        FormFieldTypes.DROPDOWN,\n        FormFieldTypes.PEOPLE,\n        FormFieldTypes.FUNCTIONAL_GROUP,\n        FormFieldTypes.RADIO_BUTTONS,\n        FormFieldTypes.UPLOAD,\n        FormFieldTypes.AMOUNT,\n        FormFieldTypes.DYNAMIC_TABLE,\n        FormFieldTypes.DATE,\n        FormFieldTypes.DATETIME,\n        FormFieldTypes.ATTACH_FOLDER\n    ];\n\n    isSupported(field: FormFieldModel): boolean {\n        return field &&\n            this.supportedTypes.indexOf(field.type) > -1 &&\n            field.required;\n    }\n\n    validate(field: FormFieldModel): boolean {\n        if (this.isSupported(field) && field.isVisible) {\n\n            if (field.type === FormFieldTypes.DROPDOWN) {\n                if (field.hasEmptyValue && field.emptyOption) {\n                    if (field.value === field.emptyOption.id) {\n                        return false;\n                    }\n                }\n            }\n\n            if (field.type === FormFieldTypes.RADIO_BUTTONS) {\n                const option = field.options.find((opt) => opt.id === field.value);\n                return !!option;\n            }\n\n            if (field.type === FormFieldTypes.UPLOAD) {\n                return field.value && field.value.length > 0;\n            }\n\n            if (field.type === FormFieldTypes.DYNAMIC_TABLE) {\n                return field.value && field.value instanceof Array && field.value.length > 0;\n            }\n\n            if (field.type === FormFieldTypes.BOOLEAN) {\n                return !!field.value;\n            }\n\n            if (field.value === null || field.value === undefined || field.value === '') {\n                return false;\n            }\n        }\n        return true;\n    }\n\n}\n\nexport class NumberFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.NUMBER,\n        FormFieldTypes.AMOUNT\n    ];\n\n    static isNumber(value: any): boolean {\n        if (value === null || value === undefined || value === '') {\n            return false;\n        }\n\n        return !isNaN(+value);\n    }\n\n    isSupported(field: FormFieldModel): boolean {\n        return field && this.supportedTypes.indexOf(field.type) > -1;\n    }\n\n    validate(field: FormFieldModel): boolean {\n        if (this.isSupported(field) && field.isVisible) {\n            if (field.value === null ||\n                field.value === undefined ||\n                field.value === '') {\n                return true;\n            }\n            const valueStr = '' + field.value;\n            let pattern = new RegExp(/^-?\\d+$/);\n            if (field.enableFractions) {\n                pattern = new RegExp(/^-?[0-9]+(\\.[0-9]{1,2})?$/);\n            }\n            if (valueStr.match(pattern)) {\n                return true;\n            }\n            field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_NUMBER';\n            return false;\n        }\n        return true;\n    }\n}\n\nexport class DateFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.DATE\n    ];\n\n    // Validates that the input string is a valid date formatted as <dateFormat> (default D-M-YYYY)\n    static isValidDate(inputDate: string, dateFormat: string = 'D-M-YYYY'): boolean {\n        if (inputDate) {\n            const d = moment(inputDate, dateFormat, true);\n            return d.isValid();\n        }\n\n        return false;\n    }\n\n    isSupported(field: FormFieldModel): boolean {\n        return field && this.supportedTypes.indexOf(field.type) > -1;\n    }\n\n    validate(field: FormFieldModel): boolean {\n        if (this.isSupported(field) && field.value && field.isVisible) {\n            if (DateFieldValidator.isValidDate(field.value, field.dateDisplayFormat)) {\n                return true;\n            }\n            field.validationSummary.message = field.dateDisplayFormat;\n            return false;\n        }\n        return true;\n    }\n}\n\nexport class DateTimeFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.DATETIME\n    ];\n\n    // Validates that the input string is a valid date formatted as <dateFormat> (default D-M-YYYY)\n    static isValidDate(inputDate: string, dateFormat: string = 'YYYY-MM-DD HH:mm'): boolean {\n        if (inputDate) {\n            const d = moment(inputDate, dateFormat, true);\n            return d.isValid();\n        }\n\n        return false;\n    }\n\n    isSupported(field: FormFieldModel): boolean {\n        return field && this.supportedTypes.indexOf(field.type) > -1;\n    }\n\n    validate(field: FormFieldModel): boolean {\n        if (this.isSupported(field) && field.value && field.isVisible) {\n            if (DateFieldValidator.isValidDate(field.value, field.dateDisplayFormat)) {\n                return true;\n            }\n            field.validationSummary.message = field.dateDisplayFormat;\n            return false;\n        }\n        return true;\n    }\n}\n\nexport abstract class BoundaryDateFieldValidator implements FormFieldValidator {\n\n    DATE_FORMAT_CLOUD = 'YYYY-MM-DD';\n    DATE_FORMAT = 'DD-MM-YYYY';\n\n    supportedTypes = [\n        FormFieldTypes.DATE\n    ];\n\n    validate(field: FormFieldModel): boolean {\n        let isValid = true;\n        if (this.isSupported(field) && field.value && field.isVisible) {\n            const dateFormat = field.dateDisplayFormat;\n\n            if (!DateFieldValidator.isValidDate(field.value, dateFormat)) {\n                field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_DATE';\n                isValid = false;\n            } else {\n                isValid = this.checkDate(field, dateFormat);\n            }\n        }\n        return isValid;\n    }\n\n    extractDateFormat(date: string): string {\n        const brokenDownDate = date.split('-');\n        return brokenDownDate[0].length === 4 ? this.DATE_FORMAT_CLOUD : this.DATE_FORMAT;\n    }\n\n    abstract checkDate(field: FormFieldModel, dateFormat: string);\n    abstract isSupported(field: FormFieldModel);\n\n}\n\nexport class MinDateFieldValidator extends BoundaryDateFieldValidator {\n\n    checkDate(field: FormFieldModel, dateFormat: string): boolean {\n\n        let isValid = true;\n        // remove time and timezone info\n        let fieldValueData;\n        if (typeof field.value === 'string') {\n            fieldValueData = moment(field.value.split('T')[0], dateFormat);\n        } else {\n            fieldValueData = field.value;\n        }\n\n        const minValueDateFormat = this.extractDateFormat(field.minValue);\n        const min = moment(field.minValue, minValueDateFormat);\n\n        if (fieldValueData.isBefore(min)) {\n            field.validationSummary.message = `FORM.FIELD.VALIDATOR.NOT_LESS_THAN`;\n            field.validationSummary.attributes.set('minValue', min.format(field.dateDisplayFormat).toLocaleUpperCase());\n            isValid = false;\n        }\n        return isValid;\n    }\n\n    isSupported(field: FormFieldModel): boolean {\n        return field &&\n            this.supportedTypes.indexOf(field.type) > -1 && !!field.minValue;\n    }\n}\n\nexport class MaxDateFieldValidator extends BoundaryDateFieldValidator {\n\n    checkDate(field: FormFieldModel, dateFormat: string): boolean {\n\n        let isValid = true;\n        // remove time and timezone info\n        let fieldValueData;\n        if (typeof field.value === 'string') {\n            fieldValueData = moment(field.value.split('T')[0], dateFormat);\n        } else {\n            fieldValueData = field.value;\n        }\n\n        const maxValueDateFormat = this.extractDateFormat(field.maxValue);\n        const max = moment(field.maxValue, maxValueDateFormat);\n\n        if (fieldValueData.isAfter(max)) {\n            field.validationSummary.message = `FORM.FIELD.VALIDATOR.NOT_GREATER_THAN`;\n            field.validationSummary.attributes.set('maxValue', max.format(field.dateDisplayFormat).toLocaleUpperCase());\n            isValid = false;\n        }\n        return isValid;\n    }\n\n    isSupported(field: FormFieldModel): boolean {\n        return field &&\n            this.supportedTypes.indexOf(field.type) > -1 && !!field.maxValue;\n    }\n}\n\nexport class MinDateTimeFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.DATETIME\n    ];\n    MIN_DATETIME_FORMAT = 'YYYY-MM-DD hh:mm AZ';\n\n    isSupported(field: FormFieldModel): boolean {\n        return field &&\n            this.supportedTypes.indexOf(field.type) > -1 && !!field.minValue;\n    }\n\n    validate(field: FormFieldModel): boolean {\n        let isValid = true;\n        if (this.isSupported(field) && field.value && field.isVisible) {\n            const dateFormat = field.dateDisplayFormat;\n\n            if (!DateFieldValidator.isValidDate(field.value, dateFormat)) {\n                field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_DATE';\n                isValid = false;\n            } else {\n                isValid = this.checkDateTime(field, dateFormat);\n            }\n        }\n        return isValid;\n    }\n\n    private checkDateTime(field: FormFieldModel, dateFormat: string): boolean {\n        let isValid = true;\n        let fieldValueDate;\n        if (typeof field.value === 'string') {\n            fieldValueDate = moment(field.value, dateFormat);\n        } else {\n            fieldValueDate = field.value;\n        }\n        const min = moment(field.minValue, this.MIN_DATETIME_FORMAT);\n\n        if (fieldValueDate.isBefore(min)) {\n            field.validationSummary.message = `FORM.FIELD.VALIDATOR.NOT_LESS_THAN`;\n            field.validationSummary.attributes.set('minValue', min.format(field.dateDisplayFormat).replace(':', '-'));\n            isValid = false;\n        }\n        return isValid;\n    }\n}\n\nexport class MaxDateTimeFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.DATETIME\n    ];\n    MAX_DATETIME_FORMAT = 'YYYY-MM-DD hh:mm AZ';\n\n    isSupported(field: FormFieldModel): boolean {\n        return field &&\n            this.supportedTypes.indexOf(field.type) > -1 && !!field.maxValue;\n    }\n\n    validate(field: FormFieldModel): boolean {\n        let isValid = true;\n        if (this.isSupported(field) && field.value && field.isVisible) {\n            const dateFormat = field.dateDisplayFormat;\n\n            if (!DateFieldValidator.isValidDate(field.value, dateFormat)) {\n                field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_DATE';\n                isValid = false;\n            } else {\n                isValid = this.checkDateTime(field, dateFormat);\n            }\n        }\n        return isValid;\n    }\n\n    private checkDateTime(field: FormFieldModel, dateFormat: string): boolean {\n        let isValid = true;\n        let fieldValueDate;\n\n        if (typeof field.value === 'string') {\n            fieldValueDate = moment(field.value, dateFormat);\n        } else {\n            fieldValueDate = field.value;\n        }\n        const max = moment(field.maxValue, this.MAX_DATETIME_FORMAT);\n\n        if (fieldValueDate.isAfter(max)) {\n            field.validationSummary.message = `FORM.FIELD.VALIDATOR.NOT_GREATER_THAN`;\n            field.validationSummary.attributes.set('maxValue', max.format(field.dateDisplayFormat).replace(':', '-'));\n            isValid = false;\n        }\n        return isValid;\n    }\n}\n\nexport class MinLengthFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.TEXT,\n        FormFieldTypes.MULTILINE_TEXT\n    ];\n\n    isSupported(field: FormFieldModel): boolean {\n        return field &&\n            this.supportedTypes.indexOf(field.type) > -1 &&\n            field.minLength > 0;\n    }\n\n    validate(field: FormFieldModel): boolean {\n        if (this.isSupported(field) && field.value && field.isVisible) {\n            if (field.value.length >= field.minLength) {\n                return true;\n            }\n            field.validationSummary.message = `FORM.FIELD.VALIDATOR.AT_LEAST_LONG`;\n            field.validationSummary.attributes.set('minLength', field.minLength.toLocaleString());\n            return false;\n        }\n        return true;\n    }\n}\n\nexport class MaxLengthFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.TEXT,\n        FormFieldTypes.MULTILINE_TEXT\n    ];\n\n    isSupported(field: FormFieldModel): boolean {\n        return field &&\n            this.supportedTypes.indexOf(field.type) > -1 &&\n            field.maxLength > 0;\n    }\n\n    validate(field: FormFieldModel): boolean {\n        if (this.isSupported(field) && field.value && field.isVisible) {\n            if (field.value.length <= field.maxLength) {\n                return true;\n            }\n            field.validationSummary.message = `FORM.FIELD.VALIDATOR.NO_LONGER_THAN`;\n            field.validationSummary.attributes.set('maxLength', field.maxLength.toLocaleString());\n            return false;\n        }\n        return true;\n    }\n}\n\nexport class MinValueFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.NUMBER,\n        FormFieldTypes.AMOUNT\n    ];\n\n    isSupported(field: FormFieldModel): boolean {\n        return field &&\n            this.supportedTypes.indexOf(field.type) > -1 &&\n            NumberFieldValidator.isNumber(field.minValue);\n    }\n\n    validate(field: FormFieldModel): boolean {\n        if (this.isSupported(field) && field.value && field.isVisible) {\n            const value: number = +field.value;\n            const minValue: number = +field.minValue;\n\n            if (value >= minValue) {\n                return true;\n            }\n            field.validationSummary.message = `FORM.FIELD.VALIDATOR.NOT_LESS_THAN`;\n            field.validationSummary.attributes.set('minValue', field.minValue.toLocaleString());\n            return false;\n        }\n\n        return true;\n    }\n}\n\nexport class MaxValueFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.NUMBER,\n        FormFieldTypes.AMOUNT\n    ];\n\n    isSupported(field: FormFieldModel): boolean {\n        return field &&\n            this.supportedTypes.indexOf(field.type) > -1 &&\n            NumberFieldValidator.isNumber(field.maxValue);\n    }\n\n    validate(field: FormFieldModel): boolean {\n        if (this.isSupported(field) && field.value && field.isVisible) {\n            const value: number = +field.value;\n            const maxValue: number = +field.maxValue;\n\n            if (value <= maxValue) {\n                return true;\n            }\n            field.validationSummary.message = `FORM.FIELD.VALIDATOR.NOT_GREATER_THAN`;\n            field.validationSummary.attributes.set('maxValue', field.maxValue.toLocaleString());\n            return false;\n        }\n\n        return true;\n    }\n}\n\nexport class RegExFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.TEXT,\n        FormFieldTypes.MULTILINE_TEXT\n    ];\n\n    isSupported(field: FormFieldModel): boolean {\n        return field &&\n            this.supportedTypes.indexOf(field.type) > -1 && !!field.regexPattern;\n    }\n\n    validate(field: FormFieldModel): boolean {\n        if (this.isSupported(field) && field.value && field.isVisible) {\n            if (field.value.length > 0 && field.value.match(new RegExp('^' + field.regexPattern + '$'))) {\n                return true;\n            }\n            field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_VALUE';\n            return false;\n        }\n        return true;\n    }\n\n}\n\nexport class FixedValueFieldValidator implements FormFieldValidator {\n\n    private supportedTypes = [\n        FormFieldTypes.TYPEAHEAD\n    ];\n\n    isSupported(field: FormFieldModel): boolean {\n        return field && this.supportedTypes.indexOf(field.type) > -1;\n    }\n\n    hasValidNameOrValidId(field: FormFieldModel): boolean {\n        return this.hasValidName(field) || this.hasValidId(field);\n    }\n\n    hasValidName(field: FormFieldModel) {\n        return field.options.find((item) => item.name && item.name.toLocaleLowerCase() === field.value.toLocaleLowerCase()) ? true : false;\n    }\n\n    hasValidId(field: FormFieldModel): boolean {\n        return field.options.find((item) => item.id === field.value) ? true : false;\n    }\n\n    hasStringValue(field: FormFieldModel) {\n        return field.value && typeof field.value === 'string';\n    }\n\n    hasOptions(field: FormFieldModel) {\n        return field.options && field.options.length > 0;\n    }\n\n    validate(field: FormFieldModel): boolean {\n        if (this.isSupported(field) && field.isVisible) {\n            if (this.hasStringValue(field) && this.hasOptions(field) && !this.hasValidNameOrValidId(field)) {\n                field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_VALUE';\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\nexport const FORM_FIELD_VALIDATORS = [\n    new RequiredFieldValidator(),\n    new NumberFieldValidator(),\n    new MinLengthFieldValidator(),\n    new MaxLengthFieldValidator(),\n    new MinValueFieldValidator(),\n    new MaxValueFieldValidator(),\n    new RegExFieldValidator(),\n    new DateFieldValidator(),\n    new DateTimeFieldValidator(),\n    new MinDateFieldValidator(),\n    new MaxDateFieldValidator(),\n    new FixedValueFieldValidator(),\n    new MinDateTimeFieldValidator(),\n    new MaxDateTimeFieldValidator()\n];\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\nimport moment from 'moment-es6';\nimport { WidgetVisibilityModel } from '../../../models/widget-visibility.model';\nimport { ContainerColumnModel } from './container-column.model';\nimport { ErrorMessageModel } from './error-message.model';\nimport { FormFieldMetadata } from './form-field-metadata';\nimport { FormFieldOption } from './form-field-option';\nimport { FormFieldTypes } from './form-field-types';\nimport { NumberFieldValidator } from './form-field-validator';\nimport { FormWidgetModel } from './form-widget.model';\nimport { FormModel } from './form.model';\n\n// Maps to FormFieldRepresentation\nexport class FormFieldModel extends FormWidgetModel {\n\n    private _value: string;\n    private _readOnly: boolean = false;\n    private _isValid: boolean = true;\n    private _required: boolean = false;\n\n    readonly defaultDateFormat: string = 'D-M-YYYY';\n    readonly defaultDateTimeFormat: string = 'D-M-YYYY hh:mm A';\n\n    // model members\n    fieldType: string;\n    id: string;\n    name: string;\n    type: string;\n    overrideId: boolean;\n    tab: string;\n    rowspan: number = 1;\n    colspan: number = 1;\n    placeholder: string = null;\n    tooltip: string = null;\n    minLength: number = 0;\n    maxLength: number = 0;\n    minValue: string;\n    maxValue: string;\n    regexPattern: string;\n    options: FormFieldOption[] = [];\n    restUrl: string;\n    roles: string[];\n    restResponsePath: string;\n    restIdProperty: string;\n    restLabelProperty: string;\n    hasEmptyValue: boolean;\n    className: string;\n    optionType: string;\n    params: FormFieldMetadata = {};\n    hyperlinkUrl: string;\n    displayText: string;\n    isVisible: boolean = true;\n    visibilityCondition: WidgetVisibilityModel = null;\n    enableFractions: boolean = false;\n    currency: string = null;\n    dateDisplayFormat: string = this.defaultDateFormat;\n\n    // container model members\n    numberOfColumns: number = 1;\n    fields: FormFieldModel[] = [];\n    columns: ContainerColumnModel[] = [];\n\n    // util members\n    emptyOption: FormFieldOption;\n    validationSummary: ErrorMessageModel;\n\n    get value(): any {\n        return this._value;\n    }\n\n    set value(v: any) {\n        this._value = v;\n        this.updateForm();\n    }\n\n    get readOnly(): boolean {\n        if (this.form && this.form.readOnly) {\n            return true;\n        }\n        return this._readOnly;\n    }\n\n    set readOnly(readOnly: boolean) {\n        this._readOnly = readOnly;\n        this.updateForm();\n    }\n\n    get required(): boolean {\n        return this._required;\n    }\n\n    set required(value: boolean) {\n        this._required = value;\n        this.updateForm();\n    }\n\n    get isValid(): boolean {\n        return this._isValid;\n    }\n\n    markAsInvalid() {\n        this._isValid = false;\n    }\n\n    validate(): boolean {\n        this.validationSummary = new ErrorMessageModel();\n\n        if (!this.readOnly) {\n            const validators = this.form.fieldValidators || [];\n            for (const validator of validators) {\n                if (!validator.validate(this)) {\n                    this._isValid = false;\n                    return this._isValid;\n                }\n            }\n        }\n        this._isValid = true;\n        return this._isValid;\n    }\n\n    constructor(form: FormModel, json?: any) {\n        super(form, json);\n        if (json) {\n            this.fieldType = json.fieldType;\n            this.id = json.id;\n            this.name = json.name;\n            this.type = json.type;\n            this.roles = json.roles;\n            this._required = <boolean> json.required;\n            this._readOnly = <boolean> json.readOnly || json.type === 'readonly';\n            this.overrideId = <boolean> json.overrideId;\n            this.tab = json.tab;\n            this.restUrl = json.restUrl;\n            this.restResponsePath = json.restResponsePath;\n            this.restIdProperty = json.restIdProperty;\n            this.restLabelProperty = json.restLabelProperty;\n            this.colspan = <number> json.colspan;\n            this.rowspan = <number> json.rowspan;\n            this.minLength = <number> json.minLength || 0;\n            this.maxLength = <number> json.maxLength || 0;\n            this.minValue = json.minValue;\n            this.maxValue = json.maxValue;\n            this.regexPattern = json.regexPattern;\n            this.options = <FormFieldOption[]> json.options || [];\n            this.hasEmptyValue = <boolean> json.hasEmptyValue;\n            this.className = json.className;\n            this.optionType = json.optionType;\n            this.params = <FormFieldMetadata> json.params || {};\n            this.hyperlinkUrl = json.hyperlinkUrl;\n            this.displayText = json.displayText;\n            this.visibilityCondition = json.visibilityCondition ? new WidgetVisibilityModel(json.visibilityCondition) : undefined;\n            this.enableFractions = <boolean> json.enableFractions;\n            this.currency = json.currency;\n            this.dateDisplayFormat = json.dateDisplayFormat || this.getDefaultDateFormat(json);\n            this._value = this.parseValue(json);\n            this.validationSummary = new ErrorMessageModel();\n            this.tooltip = json.tooltip;\n\n            if (json.placeholder && json.placeholder !== '' && json.placeholder !== 'null') {\n                this.placeholder = json.placeholder;\n            }\n\n            if (FormFieldTypes.isReadOnlyType(this.type)) {\n                if (this.params && this.params.field) {\n                    let valueFound = false;\n\n                    if (form.processVariables) {\n                        const processVariable = this.getProcessVariableValue(this.params.field, form);\n\n                        if (processVariable) {\n                            valueFound = true;\n                            this.value = processVariable;\n                        }\n                    }\n\n                    if (!valueFound && this.params.responseVariable) {\n                        const defaultValue = form.getFormVariableValue(this.params.field.name);\n\n                        if (defaultValue) {\n                            valueFound = true;\n                            this.value = defaultValue;\n                        }\n                    }\n                }\n            }\n\n            if (FormFieldTypes.isContainerType(this.type)) {\n                this.containerFactory(json, form);\n            }\n        }\n\n        if (this.hasEmptyValue && this.options && this.options.length > 0) {\n            this.emptyOption = this.options[0];\n        }\n\n        this.updateForm();\n    }\n\n    private getDefaultDateFormat(jsonField: any): string {\n        let originalType = jsonField.type;\n        if (FormFieldTypes.isReadOnlyType(jsonField.type) &&\n            jsonField.params &&\n            jsonField.params.field) {\n            originalType = jsonField.params.field.type;\n        }\n        return originalType === FormFieldTypes.DATETIME ? this.defaultDateTimeFormat : this.defaultDateFormat;\n    }\n\n    private isTypeaheadFieldType(type: string): boolean {\n        return type === 'typeahead';\n    }\n\n    private getFieldNameWithLabel(name: string): string {\n        return name + '_LABEL';\n    }\n\n    private getProcessVariableValue(field: any, form: FormModel): any {\n        let fieldName = field.name;\n        if (this.isTypeaheadFieldType(field.type)) {\n            fieldName = this.getFieldNameWithLabel(field.id);\n        }\n        return form.getProcessVariableValue(fieldName);\n    }\n\n    private containerFactory(json: any, form: FormModel): void {\n        this.numberOfColumns = <number> json.numberOfColumns || 1;\n\n        this.fields = json.fields;\n\n        this.rowspan = 1;\n        this.colspan = 1;\n\n        if (json.fields) {\n            for (const currentField in json.fields) {\n                if (json.fields.hasOwnProperty(currentField)) {\n                    const col = new ContainerColumnModel();\n\n                    const fields: FormFieldModel[] = (json.fields[currentField] || []).map((field) => new FormFieldModel(form, field));\n                    col.fields = fields;\n                    col.rowspan = json.fields[currentField].length;\n\n                    col.fields.forEach((colFields: any) => {\n                        this.colspan = colFields.colspan > this.colspan ? colFields.colspan : this.colspan;\n                    });\n\n                    this.rowspan = this.rowspan < col.rowspan ? col.rowspan : this.rowspan;\n                    this.columns.push(col);\n                }\n            }\n        }\n    }\n\n    parseValue(json: any): any {\n        let value = json.hasOwnProperty('value') && json.value !== undefined ? json.value : null;\n\n        /*\n         This is needed due to Activiti issue related to reading dropdown values as value string\n         but saving back as object: { id: <id>, name: <name> }\n         */\n        if (json.type === FormFieldTypes.DROPDOWN) {\n\n            if (json.options) {\n                const options = <FormFieldOption[]> json.options || [];\n                if (options.length > 0) {\n                    if (json.hasEmptyValue) {\n                        const emptyOption = json.options[0];\n                        if (value === '' || value === emptyOption.id || value === emptyOption.name) {\n                            value = emptyOption.id;\n                        }\n                    } else {\n                        if (value?.id && value?.name) {\n                            value = value.id;\n                        }\n                    }\n                }\n            }\n        }\n\n        /*\n         This is needed due to Activiti issue related to reading radio button values as value string\n         but saving back as object: { id: <id>, name: <name> }\n         */\n        if (json.type === FormFieldTypes.RADIO_BUTTONS) {\n            // Activiti has a bug with default radio button value where initial selection passed as `name` value\n            // so try resolving current one with a fallback to first entry via name or id\n            // TODO: needs to be reported and fixed at Activiti side\n            const entry: FormFieldOption[] = this.options.filter((opt) =>\n                opt.id === value || opt.name === value || (value && (opt.id === value.id || opt.name === value.name)));\n            if (entry.length > 0) {\n                value = entry[0].id;\n            }\n        }\n\n        /*\n         This is needed due to Activiti displaying/editing dates in d-M-YYYY format\n         but storing on server in ISO8601 format (i.e. 2013-02-04T22:44:30.652Z)\n         */\n        if (this.isDateField(json) || this.isDateTimeField(json)) {\n            if (value) {\n                let dateValue;\n                if (NumberFieldValidator.isNumber(value)) {\n                    dateValue = moment(value);\n                } else {\n                    dateValue = this.isDateTimeField(json) ? moment(value, 'YYYY-MM-DD hh:mm A') : moment(value.split('T')[0], 'YYYY-M-D');\n                }\n                if (dateValue && dateValue.isValid()) {\n                    value = dateValue.format(this.dateDisplayFormat);\n                }\n            }\n        }\n\n        if (this.isCheckboxField(json)) {\n            value = json.value === 'true' || json.value === true;\n        }\n\n        return value;\n    }\n\n    updateForm() {\n        if (!this.form) {\n            return;\n        }\n\n        switch (this.type) {\n            case FormFieldTypes.DROPDOWN:\n                /*\n                 This is needed due to Activiti reading dropdown values as string\n                 but saving back as object: { id: <id>, name: <name> }\n                 */\n                if (this.value === 'empty' || this.value === '') {\n                    this.form.values[this.id] = {};\n                } else {\n                    const entry: FormFieldOption[] = this.options.filter((opt) => opt.id === this.value);\n                    if (entry.length > 0) {\n                        this.form.values[this.id] = entry[0];\n                    }\n                }\n                break;\n            case FormFieldTypes.RADIO_BUTTONS:\n                /*\n                 This is needed due to Activiti issue related to reading radio button values as value string\n                 but saving back as object: { id: <id>, name: <name> }\n                 */\n                const radioButton: FormFieldOption[] = this.options.filter((opt) => opt.id === this.value);\n                if (radioButton.length > 0) {\n                    this.form.values[this.id] = radioButton[0];\n                }\n                break;\n            case FormFieldTypes.UPLOAD:\n                this.form.hasUpload = true;\n                if (this.value && this.value.length > 0) {\n                    this.form.values[this.id] = Array.isArray(this.value) ? this.value.map((elem) => elem.id).join(',') : [this.value];\n                } else {\n                    this.form.values[this.id] = null;\n                }\n                break;\n            case FormFieldTypes.TYPEAHEAD:\n                const typeAheadEntry: FormFieldOption[] = this.options.filter((opt) => opt.id === this.value || opt.name === this.value);\n                if (typeAheadEntry.length > 0) {\n                    this.form.values[this.id] = typeAheadEntry[0];\n                } else if (this.options.length > 0) {\n                    this.form.values[this.id] = null;\n                }\n                break;\n            case FormFieldTypes.DATE:\n                const dateValue = moment(this.value, this.dateDisplayFormat, true);\n                if (dateValue && dateValue.isValid()) {\n                    this.form.values[this.id] = `${dateValue.format('YYYY-MM-DD')}T00:00:00.000Z`;\n                } else {\n                    this.form.values[this.id] = null;\n                    this._value = this.value;\n                }\n                break;\n            case FormFieldTypes.DATETIME:\n                const dateTimeValue = moment(this.value, this.dateDisplayFormat, true).utc();\n                if (dateTimeValue && dateTimeValue.isValid()) {\n                    /* cspell:disable-next-line */\n                    this.form.values[this.id] = `${dateTimeValue.format('YYYY-MM-DDTHH:mm:ss')}.000Z`;\n                } else {\n                    this.form.values[this.id] = null;\n                    this._value = this.value;\n                }\n                break;\n            case FormFieldTypes.NUMBER:\n                this.form.values[this.id] = this.enableFractions ? parseFloat(this.value) : parseInt(this.value, 10);\n                break;\n            case FormFieldTypes.AMOUNT:\n                this.form.values[this.id] = this.enableFractions ? parseFloat(this.value) : parseInt(this.value, 10);\n                break;\n            case FormFieldTypes.BOOLEAN:\n                this.form.values[this.id] = (this.value !== null && this.value !== undefined) ? this.value : false;\n                break;\n            case FormFieldTypes.PEOPLE:\n                this.form.values[this.id] = this.value ? this.value : null;\n                break;\n            case FormFieldTypes.FUNCTIONAL_GROUP:\n                this.form.values[this.id] = this.value ? this.value : null;\n                break;\n            default:\n                if (!FormFieldTypes.isReadOnlyType(this.type) && !this.isInvalidFieldType(this.type)) {\n                    this.form.values[this.id] = this.value;\n                }\n        }\n\n        this.form.onFormFieldChanged(this);\n    }\n\n    /**\n     * Skip the invalid field type\n     * @param type\n     */\n    isInvalidFieldType(type: string) {\n        return type === 'container';\n    }\n\n    getOptionName(): string {\n        const option: FormFieldOption = this.options.find((opt) => opt.id === this.value);\n        return option ? option.name : null;\n    }\n\n    hasOptions() {\n        return this.options && this.options.length > 0;\n    }\n\n    private isDateField(json: any) {\n        return (json.params &&\n            json.params.field &&\n            json.params.field.type === FormFieldTypes.DATE) ||\n            json.type === FormFieldTypes.DATE;\n    }\n\n    private isDateTimeField(json: any): boolean {\n        return (json.params &&\n            json.params.field &&\n            json.params.field.type === FormFieldTypes.DATETIME) ||\n            json.type === FormFieldTypes.DATETIME;\n    }\n\n    private isCheckboxField(json: any): boolean {\n        return (json.params &&\n            json.params.field &&\n            json.params.field.type === FormFieldTypes.BOOLEAN) ||\n            json.type === FormFieldTypes.BOOLEAN;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormModel } from './../components/widgets/core/index';\n\nexport class FormEvent {\n\n    private isDefaultPrevented: boolean = false;\n\n    readonly form: FormModel;\n\n    constructor(form: FormModel) {\n        this.form = form;\n    }\n\n    get defaultPrevented() {\n        return this.isDefaultPrevented;\n    }\n\n    preventDefault() {\n        this.isDefaultPrevented = true;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormFieldModel, FormModel } from './../components/widgets/core/index';\nimport { FormEvent } from './form.event';\n\nexport class FormFieldEvent extends FormEvent {\n\n    readonly field: FormFieldModel;\n\n    constructor(form: FormModel, field: FormFieldModel) {\n        super(form);\n        this.field = field;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormFieldModel, FormModel } from './../components/widgets/core/index';\nimport { FormFieldEvent } from './form-field.event';\n\nexport class ValidateFormFieldEvent extends FormFieldEvent {\n\n    isValid = true;\n\n    constructor(form: FormModel, field: FormFieldModel) {\n        super(form, field);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormModel } from './../components/widgets/core/index';\nimport { FormEvent } from './form.event';\nimport { FormFieldModel } from '../components/widgets/core/form-field.model';\n\nexport class ValidateFormEvent extends FormEvent {\n\n    isValid = true;\n    errorsField: FormFieldModel[] = [];\n\n    constructor(form: FormModel) {\n        super(form);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { FormFieldModel } from './form-field.model';\nimport { FormWidgetModel } from './form-widget.model';\n\nexport class ContainerModel extends FormWidgetModel {\n\n    field: FormFieldModel;\n\n    get isVisible(): boolean {\n        return this.field.isVisible;\n    }\n\n    constructor(field: FormFieldModel) {\n        super(field.form, field.json);\n\n        if (field) {\n            this.field = field;\n        }\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { WidgetVisibilityModel } from '../../../models/widget-visibility.model';\nimport { FormWidgetModel } from './form-widget.model';\nimport { FormModel } from './form.model';\n\nexport class TabModel extends FormWidgetModel {\n\n    title: string;\n    isVisible: boolean = true;\n    visibilityCondition: WidgetVisibilityModel;\n\n    fields: FormWidgetModel[] = [];\n\n    hasContent(): boolean {\n        return this.fields && this.fields.length > 0;\n    }\n\n    constructor(form: FormModel, json?: any) {\n        super(form, json);\n\n        if (json) {\n            this.title = json.title;\n            this.visibilityCondition = new WidgetVisibilityModel(json.visibilityCondition);\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { FormWidgetModel } from './form-widget.model';\nimport { FormModel } from './form.model';\nimport { WidgetVisibilityModel } from './../../../models/widget-visibility.model';\n\nexport class FormOutcomeModel extends FormWidgetModel {\n\n    static SAVE_ACTION: string = 'SAVE';            // Activiti 'Save' action name\n    static COMPLETE_ACTION: string = 'COMPLETE';    // Activiti 'Complete' action name\n    static START_PROCESS_ACTION: string = 'START PROCESS';    // Activiti 'Start Process' action name\n\n    isSystem: boolean = false;\n    isSelected: boolean = false;\n    isVisible: boolean = true;\n    visibilityCondition: WidgetVisibilityModel;\n\n    constructor(form: FormModel, json?: any) {\n        super(form, json);\n\n        if (json) {\n            this.isSystem = json.isSystem ? true : false;\n            this.isSelected = form && json.name === form.selectedOutcome ? true : false;\n            this.visibilityCondition = new WidgetVisibilityModel(json.visibilityCondition);\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormFieldEvent } from './../../../events/form-field.event';\nimport { ValidateFormFieldEvent } from './../../../events/validate-form-field.event';\nimport { ValidateFormEvent } from './../../../events/validate-form.event';\nimport { FormService } from './../../../services/form.service';\nimport { ContainerModel } from './container.model';\nimport { FormFieldTypes } from './form-field-types';\nimport { FormFieldModel } from './form-field.model';\nimport { FormValues } from './form-values';\nimport { FormWidgetModel, FormWidgetModelCache } from './form-widget.model';\nimport { TabModel } from './tab.model';\n\nimport { FormVariableModel } from './form-variable.model';\nimport { ProcessVariableModel } from './process-variable.model';\nimport { FormOutcomeModel } from './form-outcome.model';\nimport { FormFieldValidator, FORM_FIELD_VALIDATORS } from './form-field-validator';\nimport { FormFieldTemplates } from './form-field-templates';\nimport { UploadWidgetContentLinkModel } from './upload-widget-content-link.model';\n\nexport interface FormRepresentationModel {\n    [key: string]: any;\n\n    id?: string | number;\n    name?: string;\n    taskId?: string;\n    taskName?: string;\n    processDefinitionId?: string;\n    customFieldTemplates?: {\n        [key: string]: string\n    };\n    selectedOutcome?: string;\n    fields?: any[];\n    tabs?: any[];\n    outcomes?: any[];\n    formDefinition?: {\n        [key: string]: any;\n        fields?: any[];\n    };\n}\n\nexport class FormModel {\n\n    static UNSET_TASK_NAME: string = 'Nameless task';\n    static SAVE_OUTCOME: string = '$save';\n    static COMPLETE_OUTCOME: string = '$complete';\n    static START_PROCESS_OUTCOME: string = '$startProcess';\n\n    readonly id: string | number;\n    readonly name: string;\n    readonly taskId: string;\n    readonly taskName = FormModel.UNSET_TASK_NAME;\n    readonly processDefinitionId: string;\n    readonly selectedOutcome: string;\n    readonly enableFixedSpace: boolean;\n\n    json: any;\n    nodeId: string;\n    values: FormValues = {};\n    tabs: TabModel[] = [];\n    fields: FormWidgetModel[] = [];\n    outcomes: FormOutcomeModel[] = [];\n    fieldValidators: FormFieldValidator[] = [...FORM_FIELD_VALIDATORS];\n    customFieldTemplates: FormFieldTemplates = {};\n\n    className: string;\n    readOnly = false;\n    isValid = true;\n    processVariables: ProcessVariableModel[] = [];\n    variables: FormVariableModel[] = [];\n\n    constructor(json?: any, formValues?: FormValues, readOnly: boolean = false, protected formService?: FormService, enableFixedSpace?: boolean) {\n        this.readOnly = readOnly;\n        this.json = json;\n\n        if (json) {\n            this.id = json.id;\n            this.name = json.name;\n            this.taskId = json.taskId;\n            this.taskName = json.taskName || json.name || FormModel.UNSET_TASK_NAME;\n            this.processDefinitionId = json.processDefinitionId;\n            this.customFieldTemplates = json.customFieldTemplates || {};\n            this.selectedOutcome = json.selectedOutcome;\n            this.className = json.className || '';\n            this.variables = json.variables || [];\n            this.processVariables = json.processVariables || [];\n            this.enableFixedSpace = enableFixedSpace ? true : false;\n\n            const tabCache: FormWidgetModelCache<TabModel> = {};\n\n            this.tabs = (json.tabs || []).map((tabJson) => {\n                const model = new TabModel(this, tabJson);\n                tabCache[model.id] = model;\n                return model;\n            });\n\n            this.fields = this.parseRootFields(json);\n\n            if (formValues) {\n                this.loadData(formValues);\n            }\n\n            for (let i = 0; i < this.fields.length; i++) {\n                const field = this.fields[i];\n                if (field.tab) {\n                    const tab = tabCache[field.tab];\n                    if (tab) {\n                        tab.fields.push(field);\n                    }\n                }\n            }\n\n            this.parseOutcomes();\n        }\n\n        this.validateForm();\n    }\n\n    onFormFieldChanged(field: FormFieldModel) {\n        this.validateField(field);\n\n        if (this.formService) {\n            this.formService.formFieldValueChanged.next(new FormFieldEvent(this, field));\n        }\n    }\n\n    /**\n     * Validates entire form and all form fields.\n     *\n     * @memberof FormModel\n     */\n    validateForm(): void {\n        const validateFormEvent: any = new ValidateFormEvent(this);\n\n        const errorsField: FormFieldModel[] = [];\n\n        const fields = this.getFormFields();\n        for (let i = 0; i < fields.length; i++) {\n            if (!fields[i].validate()) {\n                errorsField.push(fields[i]);\n            }\n        }\n\n        this.isValid = errorsField.length <= 0;\n\n        if (this.formService) {\n            validateFormEvent.isValid = this.isValid;\n            validateFormEvent.errorsField = errorsField;\n            this.formService.validateForm.next(validateFormEvent);\n        }\n\n    }\n\n    /**\n     * Validates a specific form field, triggers form validation.\n     *\n     * @param field Form field to validate.\n     * @memberof FormModel\n     */\n    validateField(field: FormFieldModel): void {\n        if (!field) {\n            return;\n        }\n\n        const validateFieldEvent = new ValidateFormFieldEvent(this, field);\n\n        if (this.formService) {\n            this.formService.validateFormField.next(validateFieldEvent);\n        }\n\n        if (!validateFieldEvent.isValid) {\n            this.markAsInvalid();\n            return;\n        }\n\n        if (validateFieldEvent.defaultPrevented) {\n            return;\n        }\n\n        if (!field.validate()) {\n            this.markAsInvalid();\n        }\n\n        this.validateForm();\n    }\n\n    // Activiti supports 3 types of root fields: container|group|dynamic-table\n    private parseRootFields(json: any): FormWidgetModel[] {\n        let fields = [];\n\n        if (json.fields) {\n            fields = json.fields;\n        } else if (json.formDefinition && json.formDefinition.fields) {\n            fields = json.formDefinition.fields;\n        }\n\n        const formWidgetModel: FormWidgetModel[] = [];\n\n        for (const field of fields) {\n            if (field.type === FormFieldTypes.DISPLAY_VALUE) {\n                // workaround for dynamic table on a completed/readonly form\n                if (field.params) {\n                    const originalField = field.params['field'];\n                    if (originalField.type === FormFieldTypes.DYNAMIC_TABLE) {\n                        formWidgetModel.push(new ContainerModel(new FormFieldModel(this, field)));\n                    }\n                }\n            } else {\n                formWidgetModel.push(new ContainerModel(new FormFieldModel(this, field)));\n            }\n        }\n\n        return formWidgetModel;\n    }\n\n    // Loads external data and overrides field values\n    // Typically used when form definition and form data coming from different sources\n    private loadData(formValues: FormValues) {\n        for (const field of this.getFormFields()) {\n            const variableId = `variables.${field.name}`;\n\n            if (this.isDefined(formValues[variableId]) || this.isDefined(formValues[field.id])) {\n                field.json.value = formValues[variableId] || formValues[field.id];\n                field.value = field.parseValue(field.json);\n            }\n        }\n    }\n\n    private isDefined(value: string): boolean {\n        return value !== undefined && value !== null;\n    }\n\n    /**\n     * Returns a form variable that matches the identifier.\n     * @param identifier The `name` or `id` value.\n     */\n    getFormVariable(identifier: string): FormVariableModel {\n        if (identifier) {\n            return this.variables.find(\n                variable =>\n                    variable.name === identifier ||\n                    variable.id === identifier\n            );\n        }\n        return undefined;\n    }\n\n    /**\n     * Returns a value of the form variable that matches the identifier.\n     * Provides additional conversion of types (date, boolean).\n     * @param identifier The `name` or `id` value\n     */\n    getFormVariableValue(identifier: string): any {\n        const variable = this.getFormVariable(identifier);\n\n        if (variable && variable.hasOwnProperty('value')) {\n            return this.parseValue(variable.type, variable.value);\n        }\n\n        return undefined;\n    }\n\n    /**\n     * Returns a process variable value.\n     * @param name Variable name\n     */\n    getProcessVariableValue(name: string): any {\n        if (this.processVariables) {\n            const names = [`variables.${name}`, name];\n\n            const variable = this.processVariables.find(\n                entry => names.includes(entry.name)\n            );\n\n            if (variable) {\n                return this.parseValue(variable.type, variable.value);\n            }\n        }\n\n        return undefined;\n    }\n\n    protected parseValue(type: string, value: any): any {\n        if (type && value) {\n            switch (type) {\n                case 'date':\n                    return value\n                        ? `${value}T00:00:00.000Z`\n                        : undefined;\n                case 'boolean':\n                    return typeof value === 'string'\n                        ? JSON.parse(value)\n                        : value;\n                default:\n                    return value;\n            }\n        }\n\n        return value;\n    }\n\n    hasTabs(): boolean {\n        return this.tabs && this.tabs.length > 0;\n    }\n\n    hasFields(): boolean {\n        return this.fields && this.fields.length > 0;\n    }\n\n    hasOutcomes(): boolean {\n        return this.outcomes && this.outcomes.length > 0;\n    }\n\n    getFieldById(fieldId: string): FormFieldModel {\n        return this.getFormFields().find((field) => field.id === fieldId);\n    }\n\n    getFormFields(): FormFieldModel[] {\n        const formFieldModel: FormFieldModel[] = [];\n\n        for (let i = 0; i < this.fields.length; i++) {\n            const field = this.fields[i];\n\n            if (field instanceof ContainerModel) {\n                const container = <ContainerModel> field;\n                formFieldModel.push(container.field);\n\n                container.field.columns.forEach((column) => {\n                    formFieldModel.push(...column.fields);\n                });\n            }\n        }\n\n        return formFieldModel;\n    }\n\n    markAsInvalid(): void {\n        this.isValid = false;\n    }\n\n    protected parseOutcomes() {\n        if (this.json.fields) {\n            const saveOutcome = new FormOutcomeModel(<any> this, {\n                id: FormModel.SAVE_OUTCOME,\n                name: 'SAVE',\n                isSystem: true\n            });\n            const completeOutcome = new FormOutcomeModel(<any> this, {\n                id: FormModel.COMPLETE_OUTCOME,\n                name: 'COMPLETE',\n                isSystem: true\n            });\n            const startProcessOutcome = new FormOutcomeModel(<any> this, {\n                id: FormModel.START_PROCESS_OUTCOME,\n                name: 'START PROCESS',\n                isSystem: true\n            });\n\n            const customOutcomes = (this.json.outcomes || []).map(\n                (obj) => new FormOutcomeModel(<any> this, obj)\n            );\n\n            this.outcomes = [saveOutcome].concat(\n                customOutcomes.length > 0\n                    ? customOutcomes\n                    : [completeOutcome, startProcessOutcome]\n            );\n        }\n    }\n\n    addValuesNotPresent(valuesToSetIfNotPresent: FormValues) {\n        this.getFormFields().forEach(field => {\n            if (valuesToSetIfNotPresent[field.id] && (!this.values[field.id] || this.isEmptyDropdownOption(field.id))) {\n                this.values[field.id] = valuesToSetIfNotPresent[field.id];\n                field.json.value = this.values[field.id];\n                field.value = field.parseValue(field.json);\n            }\n        });\n    }\n\n    private isEmptyDropdownOption(key: string): boolean {\n        if (this.getFieldById(key) && (this.getFieldById(key).type === FormFieldTypes.DROPDOWN)) {\n            return typeof this.values[key] === 'string' ? this.values[key] === 'empty' : Object.keys(this.values[key]).length === 0;\n        }\n        return false;\n    }\n\n    setNodeIdValueForViewersLinkedToUploadWidget(linkedUploadWidgetContentSelected: UploadWidgetContentLinkModel) {\n        const subscribedViewers = this.getFormFields().filter(field =>\n            field.type === FormFieldTypes.FILE_VIEWER && linkedUploadWidgetContentSelected.uploadWidgetId === field.params['uploadWidget']\n        );\n\n        subscribedViewers.forEach(viewer => {\n            this.values[viewer.id] = linkedUploadWidgetContentSelected.id;\n            viewer.json.value = this.values[viewer.id];\n            viewer.value = viewer.parseValue(viewer.json);\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { FormOutcomeModel } from './form-outcome.model';\n\nexport class FormOutcomeEvent {\n\n    private readonly _outcome: FormOutcomeModel;\n    private _defaultPrevented: boolean = false;\n\n    get outcome(): FormOutcomeModel {\n        return this._outcome;\n    }\n\n    get defaultPrevented() {\n        return this._defaultPrevented;\n    }\n\n    constructor(outcome: FormOutcomeModel) {\n        this._outcome = outcome;\n    }\n\n    preventDefault() {\n        this._defaultPrevented = true;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\n import { RelatedContentRepresentation } from '@alfresco/js-api';\n\n export class ContentLinkModel implements RelatedContentRepresentation {\n\n    contentAvailable: boolean;\n    created: Date;\n    createdBy: any;\n    id: number;\n    nodeId: string;\n    link: boolean;\n    mimeType: string;\n    name: string;\n    previewStatus: string;\n    relatedContent: boolean;\n    simpleType: string;\n    thumbnailUrl: string;\n    contentRawUrl: string;\n    contentBlob: Blob;\n    thumbnailStatus: string;\n\n    constructor(obj?: any) {\n        this.contentAvailable = obj && obj.contentAvailable;\n        this.created = obj && obj.created;\n        this.createdBy = obj && obj.createdBy || {};\n        this.id = obj && obj.id;\n        this.link = obj && obj.link;\n        this.mimeType = obj && obj.mimeType;\n        this.name = obj && obj.name;\n        this.previewStatus = obj && obj.previewStatus;\n        this.relatedContent = obj && obj.relatedContent;\n        this.simpleType = obj && obj.simpleType;\n        this.thumbnailStatus = obj && obj.thumbnailStatus;\n        this.nodeId = obj && obj.nodeId;\n    }\n\n    hasPreviewStatus(): boolean {\n        return this.previewStatus === 'supported';\n    }\n\n    isTypeImage(): boolean {\n        return this.simpleType === 'image';\n    }\n\n    isTypePdf(): boolean {\n        return this.simpleType === 'pdf';\n    }\n\n    isTypeDoc(): boolean {\n        return this.simpleType === 'word' || this.simpleType === 'content';\n    }\n\n    isThumbnailReady(): boolean {\n        return this.thumbnailStatus === 'created';\n    }\n\n    isThumbnailSupported(): boolean {\n        return this.isTypeImage() || ((this.isTypePdf() || this.isTypeDoc()) && this.isThumbnailReady());\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContentLinkModel } from './content-link.model';\n\nexport class UploadWidgetContentLinkModel extends ContentLinkModel {\n    uploadWidgetId: string;\n\n    constructor(obj?: any, uploadWidgetId?: string) {\n        super(obj);\n        this.uploadWidgetId = uploadWidgetId;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { LogService } from '../../services/log.service';\nimport { AlfrescoApiService } from '../../services/alfresco-api.service';\nimport { Injectable } from '@angular/core';\nimport { Observable, from } from 'rxjs';\nimport { FormModel } from '../components/widgets/core/form.model';\nimport { map, catchError } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class EcmModelService {\n\n    public static MODEL_NAMESPACE: string = 'activitiForms';\n    public static MODEL_NAME: string = 'activitiFormsModel';\n    public static TYPE_MODEL: string = 'cm:folder';\n\n    constructor(private apiService: AlfrescoApiService,\n                private logService: LogService) {\n    }\n\n    public createEcmTypeForActivitiForm(formName: string, form: FormModel): Observable<any> {\n        return new Observable((observer) => {\n            this.searchActivitiEcmModel().subscribe(\n                (model) => {\n                    if (!model) {\n                        this.createActivitiEcmModel(formName, form).subscribe((typeForm) => {\n                            observer.next(typeForm);\n                            observer.complete();\n                        });\n                    } else {\n                        this.saveFomType(formName, form).subscribe((typeForm) => {\n                            observer.next(typeForm);\n                            observer.complete();\n                        });\n                    }\n                },\n                (err) => this.handleError(err)\n            );\n        });\n\n    }\n\n    searchActivitiEcmModel() {\n        return this.getEcmModels().pipe(map(function (ecmModels: any) {\n            return ecmModels.list.entries.find((model) => model.entry.name === EcmModelService.MODEL_NAME);\n        }));\n    }\n\n    createActivitiEcmModel(formName: string, form: FormModel): Observable<any> {\n        return new Observable((observer) => {\n            this.createEcmModel(EcmModelService.MODEL_NAME, EcmModelService.MODEL_NAMESPACE).subscribe(\n                (model) => {\n                    this.logService.info('model created', model);\n                    this.activeEcmModel(EcmModelService.MODEL_NAME).subscribe(\n                        (modelActive) => {\n                            this.logService.info('model active', modelActive);\n                            this.createEcmTypeWithProperties(formName, form).subscribe((typeCreated) => {\n                                observer.next(typeCreated);\n                                observer.complete();\n                            });\n                        },\n                        (err) => this.handleError(err)\n                    );\n                },\n                (err) => this.handleError(err)\n            );\n        });\n    }\n\n    saveFomType(formName: string, form: FormModel): Observable<any> {\n        return new Observable((observer) => {\n            this.searchEcmType(formName, EcmModelService.MODEL_NAME).subscribe(\n                (ecmType) => {\n                    this.logService.info('custom types', ecmType);\n                    if (!ecmType) {\n                        this.createEcmTypeWithProperties(formName, form).subscribe((typeCreated) => {\n                            observer.next(typeCreated);\n                            observer.complete();\n                        });\n                    } else {\n                        observer.next(ecmType);\n                        observer.complete();\n                    }\n                },\n                (err) => this.handleError(err)\n            );\n        });\n    }\n\n    public createEcmTypeWithProperties(formName: string, form: FormModel): Observable<any> {\n        return new Observable((observer) => {\n            this.createEcmType(formName, EcmModelService.MODEL_NAME, EcmModelService.TYPE_MODEL).subscribe(\n                (typeCreated) => {\n                    this.logService.info('type Created', typeCreated);\n                    this.addPropertyToAType(EcmModelService.MODEL_NAME, formName, form).subscribe(\n                        (propertyAdded) => {\n                            this.logService.info('property Added', propertyAdded);\n                            observer.next(typeCreated);\n                            observer.complete();\n                        },\n                        (err) => this.handleError(err));\n                },\n                (err) => this.handleError(err));\n        });\n    }\n\n    public searchEcmType(typeName: string, modelName: string): Observable<any> {\n        return this.getEcmType(modelName).pipe(map(function (customTypes: any) {\n            return customTypes.list.entries.find((type) => type.entry.prefixedName === typeName || type.entry.title === typeName);\n        }));\n    }\n\n    public activeEcmModel(modelName: string): Observable<any> {\n        return from(this.apiService.getInstance().core.customModelApi.activateCustomModel(modelName))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    public createEcmModel(modelName: string, nameSpace: string): Observable<any> {\n        return from(this.apiService.getInstance().core.customModelApi.createCustomModel('DRAFT', '', modelName, modelName, nameSpace))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    public getEcmModels(): Observable<any> {\n        return from(this.apiService.getInstance().core.customModelApi.getAllCustomModel())\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    public getEcmType(modelName: string): Observable<any> {\n        return from(this.apiService.getInstance().core.customModelApi.getAllCustomType(modelName))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    public createEcmType(typeName: string, modelName: string, parentType: string): Observable<any> {\n        const name = this.cleanNameType(typeName);\n\n        return from(this.apiService.getInstance().core.customModelApi.createCustomType(modelName, name, parentType, typeName, ''))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    public addPropertyToAType(modelName: string, typeName: string, formFields: any) {\n        const name = this.cleanNameType(typeName);\n\n        const properties = [];\n        if (formFields && formFields.values) {\n            for (const key in formFields.values) {\n                if (key) {\n                    properties.push({\n                        name: key,\n                        title: key,\n                        description: key,\n                        dataType: 'd:text',\n                        multiValued: false,\n                        mandatory: false,\n                        mandatoryEnforced: false\n                    });\n                }\n            }\n        }\n\n        return from(this.apiService.getInstance().core.customModelApi.addPropertyToType(modelName, name, properties))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n\n    }\n\n    cleanNameType(name: string): string {\n        let cleanName = name;\n        if (name.indexOf(':') !== -1) {\n            cleanName = name.split(':')[1];\n        }\n        return cleanName.replace(/[^a-zA-Z ]/g, '');\n    }\n\n    toJson(res: any) {\n        if (res) {\n            return res || {};\n        }\n        return {};\n    }\n\n    handleError(err: any): any {\n        this.logService.error(err);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AlfrescoApiService } from '../../services/alfresco-api.service';\nimport { LogService } from '../../services/log.service';\nimport { UserProcessModel } from '../../models';\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject, from, of, throwError } from 'rxjs';\nimport { FormDefinitionModel } from '../models/form-definition.model';\nimport { ContentLinkModel } from './../components/widgets/core/content-link.model';\nimport { GroupModel } from './../components/widgets/core/group.model';\nimport { FormModel, FormOutcomeEvent, FormOutcomeModel, FormValues } from './../components/widgets/core/index';\nimport {\n    FormErrorEvent, FormEvent, FormFieldEvent,\n    ValidateDynamicTableRowEvent, ValidateFormEvent, ValidateFormFieldEvent\n} from './../events/index';\nimport { EcmModelService } from './ecm-model.service';\nimport { map, catchError, switchMap, combineAll, defaultIfEmpty } from 'rxjs/operators';\nimport {\n    Activiti,\n    CompleteFormRepresentation,\n    SaveFormRepresentation\n} from '@alfresco/js-api';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class FormService {\n\n    static UNKNOWN_ERROR_MESSAGE: string = 'Unknown error';\n    static GENERIC_ERROR_MESSAGE: string = 'Server error';\n\n    formLoaded = new Subject<FormEvent>();\n    formDataRefreshed = new Subject<FormEvent>();\n    formFieldValueChanged = new Subject<FormFieldEvent>();\n    formEvents = new Subject<Event>();\n    taskCompleted = new Subject<FormEvent>();\n    taskCompletedError = new Subject<FormErrorEvent>();\n    taskSaved = new Subject<FormEvent>();\n    taskSavedError = new Subject<FormErrorEvent>();\n    formContentClicked = new Subject<ContentLinkModel>();\n\n    validateForm = new Subject<ValidateFormEvent>();\n    validateFormField = new Subject<ValidateFormFieldEvent>();\n    validateDynamicTableRow = new Subject<ValidateDynamicTableRowEvent>();\n\n    executeOutcome = new Subject<FormOutcomeEvent>();\n\n    updateFormValuesRequested = new Subject<FormValues>();\n\n    constructor(private ecmModelService: EcmModelService,\n                private apiService: AlfrescoApiService,\n                protected logService: LogService) {\n    }\n\n    private get taskApi(): Activiti.TaskApi {\n        return this.apiService.getInstance().activiti.taskApi;\n    }\n\n    private get modelsApi(): Activiti.ModelsApi {\n        return this.apiService.getInstance().activiti.modelsApi;\n    }\n\n    private get editorApi(): Activiti.EditorApi {\n        return this.apiService.getInstance().activiti.editorApi;\n    }\n\n    private get processApi(): Activiti.ProcessApi {\n        return this.apiService.getInstance().activiti.processApi;\n    }\n\n    private get processInstanceVariablesApi(): Activiti.ProcessInstanceVariablesApi {\n        return this.apiService.getInstance().activiti.processInstanceVariablesApi;\n    }\n\n    private get usersWorkflowApi(): Activiti.UsersWorkflowApi {\n        return this.apiService.getInstance().activiti.usersWorkflowApi;\n    }\n\n    private get groupsApi(): Activiti.GroupsApi {\n        return this.apiService.getInstance().activiti.groupsApi;\n    }\n\n    /**\n     * Parses JSON data to create a corresponding Form model.\n     * @param json JSON to create the form\n     * @param data Values for the form fields\n     * @param readOnly Should the form fields be read-only?\n     * @returns Form model created from input data\n     */\n    parseForm(json: any, data?: FormValues, readOnly: boolean = false, fixedSpace?: boolean): FormModel {\n        if (json) {\n            const form = new FormModel(json, data, readOnly, this, fixedSpace);\n            if (!json.fields) {\n                form.outcomes = [\n                    new FormOutcomeModel(<any> form, {\n                        id: '$save',\n                        name: FormOutcomeModel.SAVE_ACTION,\n                        isSystem: true\n                    })\n                ];\n            }\n            return form;\n        }\n        return null;\n    }\n\n    /**\n     * Creates a Form with a field for each metadata property.\n     * @param formName Name of the new form\n     * @returns The new form\n     */\n    createFormFromANode(formName: string): Observable<any> {\n        return new Observable((observer) => {\n            this.createForm(formName).subscribe(\n                (form) => {\n                    this.ecmModelService.searchEcmType(formName, EcmModelService.MODEL_NAME).subscribe(\n                        (customType) => {\n                            const formDefinitionModel = new FormDefinitionModel(form.id, form.name, form.lastUpdatedByFullName, form.lastUpdated, customType.entry.properties);\n                            from(\n                                this.editorApi.saveForm(form.id, formDefinitionModel)\n                            ).subscribe((formData) => {\n                                observer.next(formData);\n                                observer.complete();\n                            }, (err) => this.handleError(err));\n                        },\n                        (err) => this.handleError(err));\n                },\n                (err) => this.handleError(err));\n        });\n    }\n\n    /**\n     * Create a Form.\n     * @param formName Name of the new form\n     * @returns The new form\n     */\n    createForm(formName: string): Observable<any> {\n        const dataModel = {\n            name: formName,\n            description: '',\n            modelType: 2,\n            stencilSet: 0\n        };\n\n        return from(\n            this.modelsApi.createModel(dataModel)\n        );\n    }\n\n    /**\n     * Saves a form.\n     * @param formId ID of the form to save\n     * @param formModel Model data for the form\n     * @returns Data for the saved form\n     */\n    saveForm(formId: number, formModel: FormDefinitionModel): Observable<any> {\n        return from(\n            this.editorApi.saveForm(formId, formModel)\n        );\n    }\n\n    /**\n     * Searches for a form by name.\n     * @param name The form name to search for\n     * @returns Form model(s) matching the search name\n     */\n    searchFrom(name: string): Observable<any> {\n        const opts = {\n            'modelType': 2\n        };\n\n        return from(\n            this.modelsApi.getModels(opts)\n        )\n            .pipe(\n                map(function (forms: any) {\n                    return forms.data.find((formData) => formData.name === name);\n                }),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets all the forms.\n     * @returns List of form models\n     */\n    getForms(): Observable<any> {\n        const opts = {\n            'modelType': 2\n        };\n\n        return from(this.modelsApi.getModels(opts))\n            .pipe(\n                map(this.toJsonArray),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets process definitions.\n     * @returns List of process definitions\n     */\n    getProcessDefinitions(): Observable<any> {\n        return from(this.processApi.getProcessDefinitions({}))\n            .pipe(\n                map(this.toJsonArray),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets instance variables for a process.\n     * @param processInstanceId ID of the target process\n     * @returns List of instance variable information\n     */\n    getProcessVariablesById(processInstanceId: string): Observable<any[]> {\n        return from(this.processInstanceVariablesApi.getProcessInstanceVariables(processInstanceId))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets all the tasks.\n     * @returns List of tasks\n     */\n    getTasks(): Observable<any> {\n        return from(this.taskApi.listTasks({}))\n            .pipe(\n                map(this.toJsonArray),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets a task.\n     * @param taskId Task Id\n     * @returns Task info\n     */\n    getTask(taskId: string): Observable<any> {\n        return from(this.taskApi.getTask(taskId))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Saves a task form.\n     * @param taskId Task Id\n     * @param formValues Form Values\n     * @returns Null response when the operation is complete\n     */\n    saveTaskForm(taskId: string, formValues: FormValues): Observable<any> {\n        const saveFormRepresentation = <SaveFormRepresentation> { values: formValues };\n\n        return from(this.taskApi.saveTaskForm(taskId, saveFormRepresentation))\n            .pipe(\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Completes a Task Form.\n     * @param taskId Task Id\n     * @param formValues Form Values\n     * @param outcome Form Outcome\n     * @returns Null response when the operation is complete\n     */\n    completeTaskForm(taskId: string, formValues: FormValues, outcome?: string): Observable<any> {\n        const completeFormRepresentation: any = <CompleteFormRepresentation> { values: formValues };\n        if (outcome) {\n            completeFormRepresentation.outcome = outcome;\n        }\n\n        return from(this.taskApi.completeTaskForm(taskId, completeFormRepresentation))\n            .pipe(\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets a form related to a task.\n     * @param taskId ID of the target task\n     * @returns Form definition\n     */\n    getTaskForm(taskId: string): Observable<any> {\n        return from(this.taskApi.getTaskForm(taskId))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets a form definition.\n     * @param formId ID of the target form\n     * @returns Form definition\n     */\n    getFormDefinitionById(formId: number): Observable<any> {\n        return from(this.editorApi.getForm(formId))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets the form definition with a given name.\n     * @param name The form name\n     * @returns Form definition\n     */\n    getFormDefinitionByName(name: string): Observable<any> {\n        const opts = {\n            'filter': 'myReusableForms',\n            'filterText': name,\n            'modelType': 2\n        };\n\n        return from(this.modelsApi.getModels(opts))\n            .pipe(\n                map(this.getFormId),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets the start form instance for a given process.\n     * @param processId Process definition ID\n     * @returns Form definition\n     */\n    getStartFormInstance(processId: string): Observable<any> {\n        return from(this.processApi.getProcessInstanceStartForm(processId))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets a process instance.\n     * @param processId ID of the process to get\n     * @returns Process instance\n     */\n    getProcessInstance(processId: string): Observable<any> {\n        return from(this.processApi.getProcessInstance(processId))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets the start form definition for a given process.\n     * @param processId Process definition ID\n     * @returns Form definition\n     */\n    getStartFormDefinition(processId: string): Observable<any> {\n        return from(this.processApi.getProcessDefinitionStartForm(processId))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets values of fields populated by a REST backend.\n     * @param taskId Task identifier\n     * @param field Field identifier\n     * @returns Field values\n     */\n    getRestFieldValues(taskId: string, field: string): Observable<any> {\n        return from(this.taskApi.getRestFieldValues(taskId, field))\n            .pipe(\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets values of fields populated by a REST backend using a process ID.\n     * @param processDefinitionId Process identifier\n     * @param field Field identifier\n     * @returns Field values\n     */\n    getRestFieldValuesByProcessId(processDefinitionId: string, field: string): Observable<any> {\n        return from(this.processApi.getRestFieldValues(processDefinitionId, field))\n            .pipe(\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets column values of fields populated by a REST backend using a process ID.\n     * @param processDefinitionId Process identifier\n     * @param field Field identifier\n     * @param column Column identifier\n     * @returns Field values\n     */\n    getRestFieldValuesColumnByProcessId(processDefinitionId: string, field: string, column?: string): Observable<any> {\n        return from(this.processApi.getRestTableFieldValues(processDefinitionId, field, column))\n            .pipe(\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets column values of fields populated by a REST backend.\n     * @param taskId Task identifier\n     * @param field Field identifier\n     * @param column Column identifier\n     * @returns Field values\n     */\n    getRestFieldValuesColumn(taskId: string, field: string, column?: string): Observable<any> {\n        return from(this.taskApi.getRestFieldValuesColumn(taskId, field, column))\n            .pipe(\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Returns a URL for the profile picture of a user.\n     * @param userId ID of the target user\n     * @returns URL string\n     */\n    getUserProfileImageApi(userId: string): string {\n        return this.apiService.getInstance().activiti.userApi.getUserProfilePictureUrl(userId);\n    }\n\n    /**\n     * Gets a list of workflow users.\n     * @param filter Filter to select specific users\n     * @param groupId Group ID for the search\n     * @returns Array of users\n     */\n    getWorkflowUsers(filter: string, groupId?: string): Observable<UserProcessModel[]> {\n        const option: any = { filter: filter };\n        if (groupId) {\n            option.groupId = groupId;\n        }\n        return from(this.usersWorkflowApi.getUsers(option))\n            .pipe(\n                switchMap(response => <UserProcessModel[]> response.data || []),\n                map((user) => {\n                    user.userImage = this.getUserProfileImageApi(user.id.toString());\n                    return of(user);\n                }),\n                combineAll(),\n                defaultIfEmpty([]),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets a list of groups in a workflow.\n     * @param filter Filter to select specific groups\n     * @param groupId Group ID for the search\n     * @returns Array of groups\n     */\n    getWorkflowGroups(filter: string, groupId?: string): Observable<GroupModel[]> {\n        const option: any = { filter: filter };\n        if (groupId) {\n            option.groupId = groupId;\n        }\n        return from(this.groupsApi.getGroups(option))\n            .pipe(\n                map((response: any) => <GroupModel[]> response.data || []),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets the ID of a form.\n     * @param form Object representing a form\n     * @returns ID string\n     */\n    getFormId(form: any): string {\n        let result = null;\n\n        if (form && form.data && form.data.length > 0) {\n            result = form.data[0].id;\n        }\n\n        return result;\n    }\n\n    /**\n     * Creates a JSON representation of form data.\n     * @param res Object representing form data\n     * @returns JSON data\n     */\n    toJson(res: any) {\n        if (res) {\n            return res || {};\n        }\n        return {};\n    }\n\n    /**\n     * Creates a JSON array representation of form data.\n     * @param res Object representing form data\n     * @returns JSON data\n     */\n    toJsonArray(res: any) {\n        if (res) {\n            return res.data || [];\n        }\n        return [];\n    }\n\n    /**\n     * Reports an error message.\n     * @param error Data object with optional `message` and `status` fields for the error\n     * @returns Error message\n     */\n    handleError(error: any): Observable<any> {\n        let errMsg = FormService.UNKNOWN_ERROR_MESSAGE;\n        if (error) {\n            errMsg = (error.message) ? error.message :\n                error.status ? `${error.status} - ${error.statusText}` : FormService.GENERIC_ERROR_MESSAGE;\n        }\n        this.logService.error(errMsg);\n        return throwError(errMsg);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { AfterViewInit, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../../services/form.service';\nimport { FormFieldModel } from './core/index';\n\n/**\n * Base widget component.\n */\n@Component({\n    selector: 'base-widget',\n    template: '',\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class WidgetComponent implements AfterViewInit {\n\n    /** Does the widget show a read-only value? (ie, can't be edited) */\n    @Input()\n    readOnly: boolean = false;\n\n    /** Data to be displayed in the field */\n    @Input()\n    field: FormFieldModel;\n\n    /**\n     * Emitted when a field value changes.\n     */\n    @Output()\n    fieldChanged: EventEmitter<FormFieldModel> = new EventEmitter<FormFieldModel>();\n\n    constructor(public formService?: FormService) {\n    }\n\n    hasField(): boolean {\n        return !!this.field;\n    }\n\n    // Note for developers:\n    // returns <any> object to be able binding it to the <element required=\"required\"> attribute\n    isRequired(): any {\n        if (this.field && this.field.required) {\n            return true;\n        }\n        return null;\n    }\n\n    isValid(): boolean {\n        return !!this.field.validationSummary;\n    }\n\n    hasValue(): boolean {\n        return this.field &&\n            this.field.value !== null &&\n            this.field.value !== undefined;\n    }\n\n    isInvalidFieldRequired() {\n        return !this.field.isValid && !this.field.validationSummary && this.isRequired();\n    }\n\n    ngAfterViewInit() {\n        this.fieldChanged.emit(this.field);\n    }\n\n    checkVisibility(field: FormFieldModel) {\n        this.fieldChanged.emit(field);\n    }\n\n    onFieldChanged(field: FormFieldModel) {\n        this.fieldChanged.emit(field);\n    }\n\n    event(event: Event): void {\n        this.formService.formEvents.next(event);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { ContainerColumnModel } from './../core/container-column.model';\nimport { ContainerModel } from './../core/container.model';\nimport { FormFieldTypes } from './../core/form-field-types';\nimport { FormFieldModel } from './../core/form-field.model';\n\nexport class ContainerWidgetComponentModel extends ContainerModel {\n\n    columns: ContainerColumnModel[] = [];\n    isExpanded: boolean = true;\n    rowspan: number = 1;\n    colspan: number = 1;\n\n    isGroup(): boolean {\n        return this.type === FormFieldTypes.GROUP;\n    }\n\n    isCollapsible(): boolean {\n        let allowCollapse = false;\n\n        if (this.isGroup() && this.field.params['allowCollapse']) {\n            allowCollapse = <boolean> this.field.params['allowCollapse'];\n        }\n\n        return allowCollapse;\n    }\n\n    isCollapsedByDefault(): boolean {\n        let collapseByDefault = false;\n\n        if (this.isCollapsible() && this.field.params['collapseByDefault']) {\n            collapseByDefault = <boolean> this.field.params['collapseByDefault'];\n        }\n\n        return collapseByDefault;\n    }\n\n    constructor(field: FormFieldModel) {\n        super(field);\n\n        if (this.field) {\n            this.columns = this.field.columns || [];\n            this.isExpanded = !this.isCollapsedByDefault();\n            this.colspan = field.colspan;\n            this.rowspan = field.rowspan;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { AfterViewInit, Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { FormFieldModel } from './../core/form-field.model';\nimport { WidgetComponent } from './../widget.component';\nimport { ContainerWidgetComponentModel } from './container.widget.model';\n\n@Component({\n    selector: 'container-widget',\n    templateUrl: './container.widget.html',\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class ContainerWidgetComponent extends WidgetComponent implements OnInit, AfterViewInit {\n\n    content: ContainerWidgetComponentModel;\n    numberOfColumns: number;\n    fields: FormFieldModel[];\n\n    constructor(public formService: FormService) {\n        super(formService);\n    }\n\n    onExpanderClicked() {\n        if (this.content && this.content.isCollapsible()) {\n            this.content.isExpanded = !this.content.isExpanded;\n        }\n    }\n\n    ngOnInit() {\n        if (this.field) {\n            this.content = new ContainerWidgetComponentModel(this.field);\n            this.getNumberOfColumnsFromTheBiggestBetweenJsonAndColumnsLengthOrOne();\n            this.fields = this.getFields();\n        }\n    }\n\n    private getNumberOfColumnsFromTheBiggestBetweenJsonAndColumnsLengthOrOne() {\n        this.numberOfColumns = (this.content.json?.numberOfColumns || 1) > (this.content.columns?.length || 1) ?\n            (this.content.json?.numberOfColumns || 1) :\n            (this.content.columns?.length || 1);\n    }\n\n    /**\n     * Serializes column fields\n     */\n    private getFields(): FormFieldModel[] {\n        const serialisedFormFields: FormFieldModel[] = [];\n        const maxColumnFieldsSize = this.getMaxColumnFieldSize();\n        for (let rowIndex = 0; rowIndex < maxColumnFieldsSize; rowIndex++) {\n            this.content?.columns.flatMap((currentColumn) => {\n                if (!!currentColumn?.fields[rowIndex]) {\n                    serialisedFormFields.push(currentColumn?.fields[rowIndex]);\n                } else {\n                    const firstRowElementColSpan = currentColumn?.fields[0]?.colspan;\n                    if (!!firstRowElementColSpan && rowIndex > 0 ) {\n                        for (let i = 0; i < firstRowElementColSpan; i++) {\n                            serialisedFormFields.push(null);\n                        }\n                    }\n                }\n            });\n        }\n\n        return serialisedFormFields;\n    }\n\n    private getMaxColumnFieldSize(): number {\n        let maxFieldSize = 0;\n        if (this.content?.columns?.length > 0) {\n            maxFieldSize = this.content?.columns?.reduce((prevColumn, currentColumn) => {\n                return currentColumn.fields.length > prevColumn?.fields?.length ? currentColumn : prevColumn;\n            })?.fields?.length;\n        }\n        return maxFieldSize;\n    }\n\n    /**\n     * Calculate the column width based on the numberOfColumns and current field's colspan property\n     *\n     * @param field\n     */\n    getColumnWith(field: FormFieldModel): string {\n        const colspan = field ? field.colspan : 1;\n        return (100 / this.content.json.numberOfColumns) * colspan + '';\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { AfterContentChecked, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { FormFieldModel, TabModel } from './../core/index';\n\n@Component({\n    selector: 'tabs-widget',\n    templateUrl: './tabs.widget.html',\n    encapsulation: ViewEncapsulation.None\n})\nexport class TabsWidgetComponent implements AfterContentChecked {\n\n    @Input()\n    tabs: TabModel[] = [];\n\n    @Output()\n    formTabChanged = new EventEmitter<FormFieldModel>();\n\n    visibleTabs: TabModel[] = [];\n\n    hasTabs(): boolean {\n        return this.tabs && this.tabs.length > 0;\n    }\n\n    ngAfterContentChecked() {\n        this.filterVisibleTabs();\n    }\n\n    filterVisibleTabs() {\n        this.visibleTabs = this.tabs.filter((tab) => {\n            return tab.isVisible;\n        });\n    }\n\n    tabChanged(field: FormFieldModel) {\n        this.formTabChanged.emit(field);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { Component, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\n\n@Component({\n    selector: 'unknown-widget',\n    template: `\n            <mat-list class=\"adf-unknown-widget\">\n                <mat-list-item>\n                     <mat-icon class=\"mat-24\">error_outline</mat-icon>\n                     <span class=\"adf-unknown-text\">Unknown type: {{field.type}}</span>\n                </mat-list-item>\n            </mat-list>\n\n    `,\n    styleUrls: ['./unknown.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class UnknownWidgetComponent extends WidgetComponent {\n\n    constructor(public formService: FormService) {\n         super(formService);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { Component, OnInit, ViewEncapsulation, InjectionToken, Inject, Optional } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\n\nexport interface AmountWidgetSettings {\n    showReadonlyPlaceholder: boolean;\n}\n\nexport const ADF_AMOUNT_SETTINGS = new InjectionToken<AmountWidgetSettings>('adf-amount-settings');\n\n@Component({\n    selector: 'amount-widget',\n    templateUrl: './amount.widget.html',\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class AmountWidgetComponent extends WidgetComponent implements OnInit {\n\n    static DEFAULT_CURRENCY: string = '$';\n    private showPlaceholder = true;\n\n    currency: string = AmountWidgetComponent.DEFAULT_CURRENCY;\n\n    get placeholder(): string {\n        return this.showPlaceholder ? this.field.placeholder : '';\n    }\n\n    constructor(\n        public formService: FormService,\n        @Inject(ADF_AMOUNT_SETTINGS)\n        @Optional()\n        private settings: AmountWidgetSettings\n    ) {\n        super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field) {\n            if (this.field.currency) {\n                this.currency = this.field.currency;\n            }\n\n            if (this.field.readOnly) {\n                this.showPlaceholder = this.settings && this.settings.showReadonlyPlaceholder;\n            }\n        }\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector no-input-rename */\n\nimport { Component, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\n\n@Component({\n    selector: 'checkbox-widget',\n    templateUrl: './checkbox.widget.html',\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class CheckboxWidgetComponent extends WidgetComponent {\n    checkboxValue: boolean;\n\n    constructor(public formService: FormService) {\n        super(formService);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { UserPreferencesService, UserPreferenceValues } from '../../../../services/user-preferences.service';\nimport { MomentDateAdapter } from '../../../../utils/moment-date-adapter';\nimport { MOMENT_DATE_FORMATS } from '../../../../utils/moment-date-formats.model';\nimport { Component, OnInit, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { DateAdapter, MAT_DATE_FORMATS } from '@angular/material/core';\nimport moment from 'moment-es6';\nimport { Moment } from 'moment';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'date-widget',\n    providers: [\n        { provide: DateAdapter, useClass: MomentDateAdapter },\n        { provide: MAT_DATE_FORMATS, useValue: MOMENT_DATE_FORMATS }],\n    templateUrl: './date.widget.html',\n    styleUrls: ['./date.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class DateWidgetComponent extends WidgetComponent implements OnInit, OnDestroy {\n\n    DATE_FORMAT = 'DD-MM-YYYY';\n\n    minDate: Moment;\n    maxDate: Moment;\n    displayDate: Moment;\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(public formService: FormService,\n                private dateAdapter: DateAdapter<Moment>,\n                private userPreferencesService: UserPreferencesService) {\n        super(formService);\n    }\n\n    ngOnInit() {\n        this.userPreferencesService\n            .select(UserPreferenceValues.Locale)\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe(locale => this.dateAdapter.setLocale(locale));\n\n        const momentDateAdapter = <MomentDateAdapter> this.dateAdapter;\n        momentDateAdapter.overrideDisplayFormat = this.field.dateDisplayFormat;\n\n        if (this.field) {\n            if (this.field.minValue) {\n                this.minDate = moment(this.field.minValue, this.DATE_FORMAT);\n            }\n\n            if (this.field.maxValue) {\n                this.maxDate = moment(this.field.maxValue, this.DATE_FORMAT);\n            }\n        }\n        this.displayDate = moment(this.field.value, this.field.dateDisplayFormat);\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    onDateChanged(newDateValue) {\n        if (newDateValue && newDateValue.value) {\n            this.field.value = newDateValue.value.format(this.field.dateDisplayFormat);\n        } else if (newDateValue) {\n            this.field.value = newDateValue;\n        } else {\n            this.field.value = null;\n        }\n        this.onFieldChanged(this.field);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { Component, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\n\n@Component({\n    selector: 'display-text-widget',\n    templateUrl: './display-text.widget.html',\n    styleUrls: ['./display-text.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class DisplayTextWidgetComponent extends WidgetComponent {\n\n    constructor(public formService: FormService) {\n         super(formService);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\n\n@Component({\n    selector: 'adf-form-document-widget',\n    templateUrl: './document.widget.html',\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class DocumentWidgetComponent extends WidgetComponent implements OnInit {\n\n    fileId: string = null;\n    hasFile: boolean = false;\n\n    constructor(public formService: FormService) {\n         super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field) {\n            const file = this.field.value;\n\n            if (file) {\n                this.fileId = file.id;\n                this.hasFile = true;\n            } else {\n                this.fileId = null;\n                this.hasFile = false;\n            }\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { LogService } from '../../../../services/log.service';\nimport { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormService } from '../../../services/form.service';\nimport { FormFieldOption } from './../core/form-field-option';\nimport { WidgetComponent } from './../widget.component';\n\n@Component({\n    selector: 'dropdown-widget',\n    templateUrl: './dropdown.widget.html',\n    styleUrls: ['./dropdown.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class DropdownWidgetComponent extends WidgetComponent implements OnInit {\n\n    constructor(public formService: FormService,\n                private logService: LogService) {\n         super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field && this.field.restUrl) {\n            if (this.field.form.taskId) {\n                this.getValuesByTaskId();\n            } else {\n                this.getValuesByProcessDefinitionId();\n            }\n        }\n    }\n\n    getValuesByTaskId() {\n        this.formService\n            .getRestFieldValues(\n                this.field.form.taskId,\n                this.field.id\n            )\n            .subscribe(\n                (formFieldOption: FormFieldOption[]) => {\n                    const options = [];\n                    if (this.field.emptyOption) {\n                        options.push(this.field.emptyOption);\n                    }\n                    this.field.options = options.concat((formFieldOption || []));\n                    this.field.updateForm();\n                },\n                (err) => this.handleError(err)\n            );\n    }\n\n    getValuesByProcessDefinitionId() {\n        this.formService\n            .getRestFieldValuesByProcessId(\n                this.field.form.processDefinitionId,\n                this.field.id\n            )\n            .subscribe(\n                (formFieldOption: FormFieldOption[]) => {\n                    const options = [];\n                    if (this.field.emptyOption) {\n                        options.push(this.field.emptyOption);\n                    }\n                    this.field.options = options.concat((formFieldOption || []));\n                    this.field.updateForm();\n                },\n                (err) => this.handleError(err)\n            );\n    }\n\n    getOptionValue(option: FormFieldOption, fieldValue: string): string {\n        let optionValue: string = '';\n        if (option.id === 'empty' || option.name !== fieldValue) {\n            optionValue = option.id;\n        } else {\n            optionValue = option.name;\n        }\n        return optionValue;\n    }\n\n    handleError(error: any) {\n        this.logService.error(error);\n    }\n\n    isReadOnlyType(): boolean {\n        return this.field.type === 'readonly';\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AlfrescoApiService } from '../../services/alfresco-api.service';\nimport { LogService } from '../../services/log.service';\nimport { Injectable } from '@angular/core';\nimport moment from 'moment-es6';\nimport { Observable, from, throwError } from 'rxjs';\nimport {\n    FormFieldModel,\n    FormModel,\n    TabModel,\n    ContainerModel,\n    FormOutcomeModel\n} from '../components/widgets/core/index';\nimport { TaskProcessVariableModel } from '../models/task-process-variable.model';\nimport { WidgetVisibilityModel, WidgetTypeEnum } from '../models/widget-visibility.model';\nimport { map, catchError } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class WidgetVisibilityService {\n\n    private processVarList: TaskProcessVariableModel[];\n    private form: FormModel;\n\n    constructor(private apiService: AlfrescoApiService,\n                private logService: LogService) {\n    }\n\n    public refreshVisibility(form: FormModel, processVarList?: TaskProcessVariableModel[]) {\n        this.form = form;\n        if (processVarList) {\n            this.processVarList = processVarList;\n        }\n        if (form && form.tabs && form.tabs.length > 0) {\n            form.tabs.map((tabModel) => this.refreshEntityVisibility(tabModel));\n        }\n\n        if (form && form.outcomes && form.outcomes.length > 0) {\n            form.outcomes.map((outcomeModel) => this.refreshOutcomeVisibility(outcomeModel));\n        }\n\n        if (form) {\n            form.getFormFields().map((field) => this.refreshEntityVisibility(field));\n        }\n    }\n\n    refreshEntityVisibility(element: FormFieldModel | TabModel) {\n        const visible = this.evaluateVisibility(element.form, element.visibilityCondition);\n        element.isVisible = visible && this.isParentTabVisible(this.form, element);\n    }\n\n    refreshOutcomeVisibility(element: FormOutcomeModel) {\n        element.isVisible = this.evaluateVisibility(element.form, element.visibilityCondition);\n    }\n\n    evaluateVisibility(form: FormModel, visibilityObj: WidgetVisibilityModel): boolean {\n        const isLeftFieldPresent = visibilityObj && (visibilityObj.leftType || visibilityObj.leftValue);\n        if (!isLeftFieldPresent || isLeftFieldPresent === 'null') {\n            return true;\n        } else {\n            return this.isFieldVisible(form, visibilityObj);\n        }\n    }\n\n    isFieldVisible(form: FormModel, visibilityObj: WidgetVisibilityModel, accumulator: any[] = [], result: boolean = false): boolean {\n        const leftValue = this.getLeftValue(form, visibilityObj);\n        const rightValue = this.getRightValue(form, visibilityObj);\n        const actualResult = this.evaluateCondition(leftValue, rightValue, visibilityObj.operator);\n\n        if (this.isValidOperator(visibilityObj.nextConditionOperator)) {\n            accumulator.push({ value: actualResult, operator: visibilityObj.nextConditionOperator });\n        }\n\n        if (this.isValidCondition(visibilityObj.nextCondition)) {\n            result = this.isFieldVisible(form, visibilityObj.nextCondition, accumulator);\n        } else if (accumulator[0] !== undefined) {\n            result = accumulator[0].value;\n            for (let i = 1; i < accumulator.length; i++) {\n                if (accumulator[i] !== undefined) {\n                    result = this.evaluateLogicalOperation(\n                        accumulator[i - 1].operator,\n                        result,\n                        accumulator[i].value\n                    );\n                }\n            }\n        } else {\n            result = actualResult;\n        }\n        return !!result;\n\n    }\n\n    getLeftValue(form: FormModel, visibilityObj: WidgetVisibilityModel): string {\n        let leftValue = '';\n        if (visibilityObj.leftType && visibilityObj.leftType === WidgetTypeEnum.variable) {\n            leftValue = this.getVariableValue(form, visibilityObj.leftValue, this.processVarList);\n        } else if (visibilityObj.leftType && visibilityObj.leftType === WidgetTypeEnum.field) {\n            leftValue = this.getFormValue(form, visibilityObj.leftValue);\n            if (leftValue === undefined || leftValue === '') {\n                const variableValue = this.getVariableValue(form, visibilityObj.leftValue, this.processVarList);\n                leftValue = !this.isInvalidValue(variableValue) ? variableValue : leftValue;\n            }\n        }\n        return leftValue;\n    }\n\n    getRightValue(form: FormModel, visibilityObj: WidgetVisibilityModel): string {\n        let valueFound = '';\n        if (visibilityObj.rightType === WidgetTypeEnum.variable) {\n            valueFound = this.getVariableValue(form, visibilityObj.rightValue, this.processVarList);\n        } else if (visibilityObj.rightType === WidgetTypeEnum.field) {\n            valueFound = this.getFormValue(form, visibilityObj.rightValue);\n        } else {\n            if (moment(visibilityObj.rightValue, 'YYYY-MM-DD', true).isValid()) {\n                valueFound = visibilityObj.rightValue + 'T00:00:00.000Z';\n            } else {\n                valueFound = visibilityObj.rightValue;\n            }\n        }\n        return valueFound;\n    }\n\n    getFormValue(form: FormModel, fieldId: string): any {\n        const formField = this.getFormFieldById(form, fieldId);\n        let value = undefined;\n\n        if (this.isFormFieldValid(formField)) {\n            value = this.getFieldValue(form.values, fieldId);\n\n            if (this.isInvalidValue(value)) {\n                value = this.searchValueInForm(formField, fieldId);\n            }\n        }\n        return value;\n    }\n\n    isFormFieldValid(formField: FormFieldModel): boolean {\n        return formField && formField.isValid;\n    }\n\n    getFieldValue(valueList: any, fieldId: string): any {\n        let labelFilterByName, valueFound;\n        if (fieldId && fieldId.indexOf('_LABEL') > 0) {\n            labelFilterByName = fieldId.substring(0, fieldId.length - 6);\n            if (valueList[labelFilterByName]) {\n                valueFound = valueList[labelFilterByName].name;\n            }\n        } else if (valueList[fieldId] && valueList[fieldId].id) {\n            valueFound = valueList[fieldId].id;\n        } else {\n            valueFound = valueList[fieldId];\n        }\n        return valueFound;\n    }\n\n    private isInvalidValue(value: any): boolean {\n        return value === undefined || value === null;\n    }\n\n    getFormFieldById(form: FormModel, fieldId: string): FormFieldModel {\n        return form.getFormFields().find((formField: FormFieldModel) => this.isSearchedField(formField, fieldId));\n    }\n\n    searchValueInForm(formField: FormFieldModel, fieldId: string): string {\n        let fieldValue = '';\n\n        if (formField) {\n            fieldValue = this.getObjectValue(formField, fieldId);\n\n            if (!fieldValue) {\n                if (formField.value && formField.value.id) {\n                    fieldValue = formField.value.id;\n                } else if (!this.isInvalidValue(formField.value)) {\n                    fieldValue = formField.value;\n                }\n            }\n        }\n        return fieldValue;\n    }\n\n    isParentTabVisible(form: FormModel, currentFormField: FormFieldModel | TabModel): boolean {\n        const containers = this.getFormTabContainers(form);\n        let isVisible: boolean = true;\n        containers.map((container: ContainerModel) => {\n            if (!!this.getCurrentFieldFromTabById(container, currentFormField.id)) {\n                const currentTab = form.tabs.find((tab: TabModel) => tab.id === container.tab);\n                if (!!currentTab) {\n                    isVisible = currentTab.isVisible;\n                }\n            }\n        });\n        return isVisible;\n    }\n\n    private getCurrentFieldFromTabById(container: ContainerModel, fieldId: string): FormFieldModel {\n        const tabFields: FormFieldModel[][] = Object.keys(container.field.fields).map(key => container.field.fields[key]);\n        let currentField: FormFieldModel;\n\n        for (const tabField of tabFields) {\n            currentField = tabField.find((tab: FormFieldModel) => tab.id === fieldId);\n            if (currentField) {\n                return currentField;\n            }\n        }\n        return null;\n    }\n\n    private getFormTabContainers(form: FormModel): ContainerModel[] {\n        if (!!form) {\n            return <ContainerModel[]> form.fields.filter(field => field.type === 'container' && field.tab);\n        }\n        return [];\n    }\n\n    private getObjectValue(field: FormFieldModel, fieldId: string): string {\n        let value = '';\n        if (field.value && field.value.name) {\n            value = field.value.name;\n        } else if (field.options) {\n            const option = field.options.find((opt) => opt.id === field.value);\n            if (option) {\n                value = this.getValueFromOption(fieldId, option);\n            }\n        }\n        return value;\n    }\n\n    private getValueFromOption(fieldId: string, option): string {\n        let optionValue = '';\n        if (fieldId && fieldId.indexOf('_LABEL') > 0) {\n            optionValue = option.name;\n        } else {\n            optionValue = option.id;\n        }\n        return optionValue;\n    }\n\n    private isSearchedField(field: FormFieldModel, fieldId: string): boolean {\n        const fieldToFind = fieldId?.indexOf('_LABEL') > 0 ? fieldId.replace('_LABEL', '') : fieldId;\n        return (field.id && fieldToFind) ? field.id.toUpperCase() === fieldToFind.toUpperCase() : false;\n    }\n\n    getVariableValue(form: FormModel, name: string, processVarList: TaskProcessVariableModel[]): string {\n        const processVariableValue = this.getProcessVariableValue(name, processVarList);\n        const variableDefaultValue = form.getFormVariableValue(name);\n\n        return (processVariableValue === undefined) ? variableDefaultValue : processVariableValue;\n    }\n\n    private getProcessVariableValue(name: string, processVarList: TaskProcessVariableModel[]): string {\n        if (processVarList) {\n            const processVariable = processVarList.find(\n                variable =>\n                    variable.id === name ||\n                    variable.id === `variables.${name}`\n            );\n\n            if (processVariable) {\n                return processVariable.value;\n            }\n        }\n        return undefined;\n    }\n\n    evaluateLogicalOperation(logicOp: string, previousValue: any, newValue: any): boolean | undefined {\n        switch (logicOp) {\n            case 'and':\n                return previousValue && newValue;\n            case 'or' :\n                return previousValue || newValue;\n            case 'and-not':\n                return previousValue && !newValue;\n            case 'or-not':\n                return previousValue || !newValue;\n            default:\n                this.logService.error(`Invalid operator: ${logicOp}`);\n                return undefined;\n        }\n    }\n\n    evaluateCondition(leftValue: any, rightValue: any, operator: string): boolean | undefined {\n        switch (operator) {\n            case '==':\n                return leftValue + '' === rightValue + '';\n            case '<':\n                return leftValue < rightValue;\n            case '!=':\n                return leftValue + '' !== rightValue + '';\n            case '>':\n                return leftValue > rightValue;\n            case '>=':\n                return leftValue >= rightValue;\n            case '<=':\n                return leftValue <= rightValue;\n            case 'empty':\n                return leftValue ? leftValue === '' : true;\n            case '!empty':\n                return leftValue ? leftValue !== '' : false;\n            default:\n                this.logService.error(`Invalid operator: ${operator}`);\n                return undefined;\n        }\n    }\n\n    cleanProcessVariable() {\n        this.processVarList = [];\n    }\n\n    getTaskProcessVariable(taskId: string): Observable<TaskProcessVariableModel[]> {\n        return from(this.apiService.getInstance().activiti.taskFormsApi.getTaskFormVariables(taskId))\n            .pipe(\n                map((res) => {\n                    const jsonRes = this.toJson(res);\n                    this.processVarList = <TaskProcessVariableModel[]> jsonRes;\n                    return jsonRes;\n                }),\n                catchError(() => this.handleError())\n            );\n    }\n\n    toJson(res: any): any {\n        return res || {};\n    }\n\n    private isValidOperator(operator: string): boolean {\n        return operator !== undefined;\n    }\n\n    private isValidCondition(condition: WidgetVisibilityModel): boolean {\n        return !!(condition && condition.operator);\n    }\n\n    private handleError() {\n        this.logService.error('Error while performing a call');\n        return throwError('Error while performing a call - Server error');\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DynamicRowValidationSummary } from '../components/widgets/dynamic-table/dynamic-row-validation-summary.model';\nimport { DynamicTableRow } from '../components/widgets/dynamic-table/dynamic-table-row.model';\n\nimport { FormFieldModel, FormModel } from './../components/widgets/core/index';\nimport { FormFieldEvent } from './form-field.event';\n\nexport class ValidateDynamicTableRowEvent extends FormFieldEvent {\n\n    isValid = true;\n\n    constructor(form: FormModel,\n                field: FormFieldModel,\n                public row: DynamicTableRow,\n                public summary: DynamicRowValidationSummary) {\n        super(form, field);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport moment from 'moment-es6';\nimport { CellValidator } from './cell-validator.model';\nimport { DynamicRowValidationSummary } from './dynamic-row-validation-summary.model';\nimport { DynamicTableColumn } from './dynamic-table-column.model';\nimport { DynamicTableRow } from './dynamic-table-row.model';\n\nexport class DateCellValidator implements CellValidator {\n\n    private supportedTypes: string[] = [\n        'Date'\n    ];\n\n    isSupported(column: DynamicTableColumn): boolean {\n        return column && column.editable && this.supportedTypes.indexOf(column.type) > -1;\n    }\n\n    validate(row: DynamicTableRow, column: DynamicTableColumn, summary?: DynamicRowValidationSummary): boolean {\n\n        if (this.isSupported(column)) {\n            const value = row.value[column.id];\n\n            if (!value && !column.required) {\n                return true;\n            }\n\n            const dateValue = moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSSZ', true);\n            if (!dateValue.isValid()) {\n                if (summary) {\n                    summary.isValid = false;\n                    summary.message = `Invalid '${column.name}' format.`;\n                }\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { ErrorMessageModel } from '../core/index';\n\nexport class DynamicRowValidationSummary extends ErrorMessageModel {\n\n    isValid: boolean;\n\n    constructor(json?: any) {\n        super(json);\n        this.isValid = json.isValid;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { CellValidator } from './cell-validator.model';\nimport { DynamicRowValidationSummary } from './dynamic-row-validation-summary.model';\nimport { DynamicTableColumn } from './dynamic-table-column.model';\nimport { DynamicTableRow } from './dynamic-table-row.model';\n\nexport class NumberCellValidator implements CellValidator {\n\n    private supportedTypes: string[] = [\n        'Number',\n        'Amount'\n    ];\n\n    isSupported(column: DynamicTableColumn): boolean {\n        return column && column.required && this.supportedTypes.indexOf(column.type) > -1;\n    }\n\n    isNumber(value: any): boolean {\n        if (value === null || value === undefined || value === '') {\n            return false;\n        }\n\n        return !isNaN(+value);\n    }\n\n    validate(row: DynamicTableRow, column: DynamicTableColumn, summary?: DynamicRowValidationSummary): boolean {\n\n        if (this.isSupported(column)) {\n            const value = row.value[column.id];\n            if (value === null ||\n                value === undefined ||\n                value === '' ||\n                this.isNumber(value)) {\n                return true;\n            }\n\n            if (summary) {\n                summary.isValid = false;\n                summary.message = `Field '${column.name}' must be a number.`;\n            }\n            return false;\n        }\n        return true;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { CellValidator } from './cell-validator.model';\nimport { DynamicRowValidationSummary } from './dynamic-row-validation-summary.model';\nimport { DynamicTableColumn } from './dynamic-table-column.model';\nimport { DynamicTableRow } from './dynamic-table-row.model';\n\nexport class RequiredCellValidator implements CellValidator {\n\n    private supportedTypes: string[] = [\n        'String',\n        'Number',\n        'Amount',\n        'Date',\n        'Dropdown'\n    ];\n\n    isSupported(column: DynamicTableColumn): boolean {\n        return column && column.required && this.supportedTypes.indexOf(column.type) > -1;\n    }\n\n    validate(row: DynamicTableRow, column: DynamicTableColumn, summary?: DynamicRowValidationSummary): boolean {\n        if (this.isSupported(column)) {\n            const value = row.value[column.id];\n            if (column.required) {\n                if (value === null || value === undefined || value === '') {\n                    if (summary) {\n                        summary.isValid = false;\n                        summary.message = `Field '${column.name}' is required.`;\n                    }\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport moment from 'moment-es6';\nimport { ValidateDynamicTableRowEvent } from '../../../events/validate-dynamic-table-row.event';\nimport { FormService } from './../../../services/form.service';\nimport { FormFieldModel } from './../core/form-field.model';\nimport { FormWidgetModel } from './../core/form-widget.model';\nimport { CellValidator } from './cell-validator.model';\nimport { DateCellValidator } from './date-cell-validator-model';\nimport { DynamicRowValidationSummary } from './dynamic-row-validation-summary.model';\nimport { DynamicTableColumn } from './dynamic-table-column.model';\nimport { DynamicTableRow } from './dynamic-table-row.model';\nimport { NumberCellValidator } from './number-cell-validator.model';\nimport { RequiredCellValidator } from './required-cell-validator.model';\n\nexport class DynamicTableModel extends FormWidgetModel {\n\n    field: FormFieldModel;\n    columns: DynamicTableColumn[] = [];\n    visibleColumns: DynamicTableColumn[] = [];\n    rows: DynamicTableRow[] = [];\n\n    private _selectedRow: DynamicTableRow;\n    private readonly _validators: CellValidator[] = [];\n\n    get selectedRow(): DynamicTableRow {\n        return this._selectedRow;\n    }\n\n    set selectedRow(value: DynamicTableRow) {\n        if (this._selectedRow && this._selectedRow === value) {\n            this._selectedRow.selected = false;\n            this._selectedRow = null;\n            return;\n        }\n\n        this.rows.forEach((row) => row.selected = false);\n\n        this._selectedRow = value;\n\n        if (value) {\n            this._selectedRow.selected = true;\n        }\n    }\n\n    constructor(field: FormFieldModel, private formService: FormService) {\n        super(field.form, field.json);\n        this.field = field;\n\n        if (field.json) {\n            const columns = this.getColumns(field);\n            if (columns) {\n                this.columns = columns;\n                this.visibleColumns = this.columns.filter((col) => col.visible);\n            }\n\n            if (field.json.value) {\n                this.rows = field.json.value.map((obj) => <DynamicTableRow> {selected: false, value: obj});\n            }\n        }\n\n        this._validators = [\n            new RequiredCellValidator(),\n            new DateCellValidator(),\n            new NumberCellValidator()\n        ];\n    }\n\n    private getColumns(field: FormFieldModel): DynamicTableColumn[] {\n        if (field && field.json) {\n            let definitions = field.json.columnDefinitions;\n            if (!definitions && field.json.params && field.json.params.field) {\n                definitions = field.json.params.field.columnDefinitions;\n            }\n\n            if (definitions) {\n                return definitions.map((obj) => <DynamicTableColumn> obj);\n            }\n        }\n        return null;\n    }\n\n    flushValue() {\n        if (this.field) {\n            this.field.value = this.rows.map((r) => r.value);\n            this.field.updateForm();\n        }\n    }\n\n    moveRow(row: DynamicTableRow, offset: number) {\n        const oldIndex = this.rows.indexOf(row);\n        if (oldIndex > -1) {\n            let newIndex = (oldIndex + offset);\n\n            if (newIndex < 0) {\n                newIndex = 0;\n            } else if (newIndex >= this.rows.length) {\n                newIndex = this.rows.length;\n            }\n\n            const arr = this.rows.slice();\n            arr.splice(oldIndex, 1);\n            arr.splice(newIndex, 0, row);\n            this.rows = arr;\n\n            this.flushValue();\n        }\n    }\n\n    deleteRow(row: DynamicTableRow) {\n        if (row) {\n            if (this.selectedRow === row) {\n                this.selectedRow = null;\n            }\n            const idx = this.rows.indexOf(row);\n            if (idx > -1) {\n                this.rows.splice(idx, 1);\n                this.flushValue();\n            }\n        }\n    }\n\n    addRow(row: DynamicTableRow) {\n        if (row) {\n            this.rows.push(row);\n            // this.selectedRow = row;\n        }\n    }\n\n    validateRow(row: DynamicTableRow): DynamicRowValidationSummary {\n        const summary = new DynamicRowValidationSummary( {\n            isValid: true,\n            message: null\n        });\n\n        const event = new ValidateDynamicTableRowEvent(this.form, this.field, row, summary);\n        this.formService.validateDynamicTableRow.next(event);\n\n        if (event.defaultPrevented || !summary.isValid) {\n            return summary;\n        }\n\n        if (row) {\n            for (const col of this.columns) {\n                for (const validator of this._validators) {\n                    if (!validator.validate(row, col, summary)) {\n                        return summary;\n                    }\n                }\n            }\n        }\n\n        return summary;\n    }\n\n    getCellValue(row: DynamicTableRow, column: DynamicTableColumn): any {\n        const rowValue = row.value[column.id];\n\n        if (column.type === 'Dropdown') {\n            if (rowValue) {\n                return rowValue.name;\n            }\n        }\n\n        if (column.type === 'Boolean') {\n            return !!rowValue;\n        }\n\n        if (column.type === 'Date') {\n            if (rowValue) {\n                return moment(rowValue.split('T')[0], 'YYYY-MM-DD').format('DD-MM-YYYY');\n            }\n        }\n\n        return rowValue || '';\n    }\n\n    getDisplayText(column: DynamicTableColumn): string {\n        let columnName = column.name;\n        if (column.type === 'Amount') {\n            const currency = column.amountCurrency || '$';\n            columnName = `${column.name} (${currency})`;\n        }\n        return columnName;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { LogService } from '../../../../services/log.service';\nimport { ChangeDetectorRef, Component, ElementRef, OnInit, ViewEncapsulation } from '@angular/core';\nimport { WidgetVisibilityService } from '../../../services/widget-visibility.service';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\nimport { DynamicTableColumn } from './dynamic-table-column.model';\nimport { DynamicTableRow } from './dynamic-table-row.model';\nimport { DynamicTableModel } from './dynamic-table.widget.model';\n\n@Component({\n    selector: 'dynamic-table-widget',\n    templateUrl: './dynamic-table.widget.html',\n    styleUrls: ['./dynamic-table.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class DynamicTableWidgetComponent extends WidgetComponent implements OnInit {\n\n    ERROR_MODEL_NOT_FOUND = 'Table model not found';\n\n    content: DynamicTableModel;\n\n    editMode: boolean = false;\n    editRow: DynamicTableRow = null;\n\n    private selectArrayCode = [32, 0, 13];\n\n    constructor(public formService: FormService,\n                public elementRef: ElementRef,\n                private visibilityService: WidgetVisibilityService,\n                private logService: LogService,\n                private cd: ChangeDetectorRef) {\n        super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field) {\n            this.content = new DynamicTableModel(this.field, this.formService);\n            this.visibilityService.refreshVisibility(this.field.form);\n        }\n    }\n\n    forceFocusOnAddButton() {\n        if (this.content) {\n            this.cd.detectChanges();\n            const buttonAddRow = <HTMLButtonElement> this.elementRef.nativeElement.querySelector('#' + this.content.id + '-add-row');\n            if (this.isDynamicTableReady(buttonAddRow)) {\n                buttonAddRow.focus();\n            }\n        }\n    }\n\n    private isDynamicTableReady(buttonAddRow) {\n        return this.field && !this.editMode && buttonAddRow;\n    }\n\n    isValid() {\n        let valid = true;\n\n        if (this.content && this.content.field) {\n            valid = this.content.field.isValid;\n        }\n\n        return valid;\n    }\n\n    onRowClicked(row: DynamicTableRow) {\n        if (this.content) {\n            this.content.selectedRow = row;\n        }\n    }\n\n    onKeyPressed($event: KeyboardEvent, row: DynamicTableRow) {\n        if (this.content && this.isEnterOrSpacePressed($event.keyCode)) {\n            this.content.selectedRow = row;\n        }\n    }\n\n    private isEnterOrSpacePressed(keyCode) {\n        return this.selectArrayCode.indexOf(keyCode) !== -1;\n    }\n\n    hasSelection(): boolean {\n        return !!(this.content && this.content.selectedRow);\n    }\n\n    moveSelectionUp(): boolean {\n        if (this.content && !this.readOnly) {\n            this.content.moveRow(this.content.selectedRow, -1);\n            return true;\n        }\n        return false;\n    }\n\n    moveSelectionDown(): boolean {\n        if (this.content && !this.readOnly) {\n            this.content.moveRow(this.content.selectedRow, 1);\n            return true;\n        }\n        return false;\n    }\n\n    deleteSelection(): boolean {\n        if (this.content && !this.readOnly) {\n            this.content.deleteRow(this.content.selectedRow);\n            return true;\n        }\n        return false;\n    }\n\n    addNewRow(): boolean {\n        if (this.content && !this.readOnly) {\n            this.editRow = <DynamicTableRow> {\n                isNew: true,\n                selected: false,\n                value: {}\n            };\n            this.editMode = true;\n            return true;\n        }\n        return false;\n    }\n\n    editSelection(): boolean {\n        if (this.content && !this.readOnly) {\n            this.editRow = this.copyRow(this.content.selectedRow);\n            this.editMode = true;\n            return true;\n        }\n        return false;\n    }\n\n    getCellValue(row: DynamicTableRow, column: DynamicTableColumn): any {\n        if (this.content) {\n            const cellValue = this.content.getCellValue(row, column);\n            if (column.type === 'Amount') {\n                return (column.amountCurrency || '$') + ' ' + (cellValue || 0);\n            }\n            return cellValue;\n        }\n        return null;\n    }\n\n    onSaveChanges() {\n        if (this.content) {\n            if (this.editRow.isNew) {\n                const row = this.copyRow(this.editRow);\n                this.content.selectedRow = null;\n                this.content.addRow(row);\n                this.editRow.isNew = false;\n            } else {\n                this.content.selectedRow.value = this.copyObject(this.editRow.value);\n            }\n            this.content.flushValue();\n        } else {\n            this.logService.error(this.ERROR_MODEL_NOT_FOUND);\n        }\n        this.editMode = false;\n        this.forceFocusOnAddButton();\n    }\n\n    onCancelChanges() {\n        this.editMode = false;\n        this.editRow = null;\n        this.forceFocusOnAddButton();\n    }\n\n    copyRow(row: DynamicTableRow): DynamicTableRow {\n        return <DynamicTableRow> {\n            value: this.copyObject(row.value)\n        };\n    }\n\n    private copyObject(obj: any): any {\n        let result = obj;\n\n        if (typeof obj === 'object' && obj !== null && obj !== undefined) {\n            result = Object.assign({}, obj);\n            Object.keys(obj).forEach((key) => {\n                if (typeof obj[key] === 'object') {\n                    result[key] = this.copyObject(obj[key]);\n                }\n            });\n        }\n\n        return result;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { Component, Input } from '@angular/core';\nimport { DynamicTableColumn } from './../../dynamic-table-column.model';\nimport { DynamicTableRow } from './../../dynamic-table-row.model';\nimport { DynamicTableModel } from './../../dynamic-table.widget.model';\n\n@Component({\n    selector: 'adf-boolean-editor',\n    templateUrl: './boolean.editor.html',\n    styleUrls: ['./boolean.editor.scss']\n})\nexport class BooleanEditorComponent {\n\n    @Input()\n    table: DynamicTableModel;\n\n    @Input()\n    row: DynamicTableRow;\n\n    @Input()\n    column: DynamicTableColumn;\n\n    onValueChanged(row: DynamicTableRow, column: DynamicTableColumn, event: any) {\n        const value: boolean = (<HTMLInputElement> event).checked;\n        row.value[column.id] = value;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { UserPreferencesService, UserPreferenceValues } from '../../../../../../services/user-preferences.service';\n\nimport { MomentDateAdapter } from '../../../../../../utils/moment-date-adapter';\nimport { MOMENT_DATE_FORMATS } from '../../../../../../utils/moment-date-formats.model';\nimport { Component, Input, OnInit, OnDestroy } from '@angular/core';\nimport { DateAdapter, MAT_DATE_FORMATS } from '@angular/material/core';\nimport { MatDatepickerInputEvent } from '@angular/material/datepicker';\nimport moment from 'moment-es6';\nimport { Moment } from 'moment';\nimport { DynamicTableColumn } from './../../dynamic-table-column.model';\nimport { DynamicTableRow } from './../../dynamic-table-row.model';\nimport { DynamicTableModel } from './../../dynamic-table.widget.model';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-date-editor',\n    templateUrl: './date.editor.html',\n    providers: [\n        {provide: DateAdapter, useClass: MomentDateAdapter},\n        {provide: MAT_DATE_FORMATS, useValue: MOMENT_DATE_FORMATS}],\n    styleUrls: ['./date.editor.scss']\n})\nexport class DateEditorComponent implements OnInit, OnDestroy {\n\n    DATE_FORMAT: string = 'DD-MM-YYYY';\n\n    value: any;\n\n    @Input()\n    table: DynamicTableModel;\n\n    @Input()\n    row: DynamicTableRow;\n\n    @Input()\n    column: DynamicTableColumn;\n\n    minDate: Moment;\n    maxDate: Moment;\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(private dateAdapter: DateAdapter<Moment>,\n                private userPreferencesService: UserPreferencesService) {\n    }\n\n    ngOnInit() {\n        this.userPreferencesService\n            .select(UserPreferenceValues.Locale)\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe(locale => this.dateAdapter.setLocale(locale));\n\n        const momentDateAdapter = <MomentDateAdapter> this.dateAdapter;\n        momentDateAdapter.overrideDisplayFormat = this.DATE_FORMAT;\n\n        this.value = moment(this.table.getCellValue(this.row, this.column), this.DATE_FORMAT);\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    onDateChanged(newDateValue: MatDatepickerInputEvent<any> | HTMLInputElement) {\n        if (newDateValue && newDateValue.value) {\n            /* validates the user inputs */\n            const momentDate = moment(newDateValue.value, this.DATE_FORMAT, true);\n\n            if (!momentDate.isValid()) {\n                this.row.value[this.column.id] =  newDateValue.value;\n            } else {\n                this.row.value[this.column.id] = `${momentDate.format('YYYY-MM-DD')}T00:00:00.000Z`;\n                this.table.flushValue();\n            }\n        } else {\n            /* removes the date  */\n            this.row.value[this.column.id] = '';\n        }\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { UserPreferencesService, UserPreferenceValues } from '../../../../../../services/user-preferences.service';\nimport { MomentDateAdapter } from '../../../../../../utils/moment-date-adapter';\nimport { MOMENT_DATE_FORMATS } from '../../../../../../utils/moment-date-formats.model';\nimport { Component, Input, OnInit, OnDestroy } from '@angular/core';\nimport { DateAdapter, MAT_DATE_FORMATS } from '@angular/material/core';\nimport moment from 'moment-es6';\nimport { Moment } from 'moment';\nimport { DynamicTableColumn } from './../../dynamic-table-column.model';\nimport { DynamicTableRow } from './../../dynamic-table-row.model';\nimport { DynamicTableModel } from './../../dynamic-table.widget.model';\nimport { DatetimeAdapter, MAT_DATETIME_FORMATS } from '@mat-datetimepicker/core';\nimport { MomentDatetimeAdapter, MAT_MOMENT_DATETIME_FORMATS } from '@mat-datetimepicker/moment';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-datetime-editor',\n    templateUrl: './datetime.editor.html',\n    providers: [\n        { provide: DateAdapter, useClass: MomentDateAdapter },\n        { provide: MAT_DATE_FORMATS, useValue: MOMENT_DATE_FORMATS },\n        { provide: DatetimeAdapter, useClass: MomentDatetimeAdapter },\n        { provide: MAT_DATETIME_FORMATS, useValue: MAT_MOMENT_DATETIME_FORMATS }\n    ],\n    styleUrls: ['./datetime.editor.scss']\n})\nexport class DateTimeEditorComponent implements OnInit, OnDestroy {\n\n    DATE_TIME_FORMAT: string = 'DD/MM/YYYY HH:mm';\n\n    value: any;\n\n    @Input()\n    table: DynamicTableModel;\n\n    @Input()\n    row: DynamicTableRow;\n\n    @Input()\n    column: DynamicTableColumn;\n\n    minDate: Moment;\n    maxDate: Moment;\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(private dateAdapter: DateAdapter<Moment>,\n                private userPreferencesService: UserPreferencesService) {\n    }\n\n    ngOnInit() {\n        this.userPreferencesService\n            .select(UserPreferenceValues.Locale)\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe(locale => this.dateAdapter.setLocale(locale));\n\n        const momentDateAdapter = <MomentDateAdapter> this.dateAdapter;\n        momentDateAdapter.overrideDisplayFormat = this.DATE_TIME_FORMAT;\n\n        this.value = moment(this.table.getCellValue(this.row, this.column), this.DATE_TIME_FORMAT);\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    onDateChanged(newDateValue) {\n        if (newDateValue && newDateValue.value) {\n            const newValue = moment(newDateValue.value, this.DATE_TIME_FORMAT);\n            this.row.value[this.column.id] = newDateValue.value.format(this.DATE_TIME_FORMAT);\n            this.value = newValue;\n            this.table.flushValue();\n        } else if (newDateValue) {\n            const newValue = moment(newDateValue, this.DATE_TIME_FORMAT);\n            this.value = newValue;\n            this.row.value[this.column.id] = newDateValue;\n            this.table.flushValue();\n        } else {\n            this.row.value[this.column.id] = '';\n        }\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { LogService } from '../../../../../../services/log.service';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { FormService } from './../../../../../services/form.service';\nimport { DynamicTableColumnOption } from './../../dynamic-table-column-option.model';\nimport { DynamicTableColumn } from './../../dynamic-table-column.model';\nimport { DynamicTableRow } from './../../dynamic-table-row.model';\nimport { DynamicTableModel } from './../../dynamic-table.widget.model';\n\n@Component({\n    selector: 'adf-dropdown-editor',\n    templateUrl: './dropdown.editor.html',\n    styleUrls: ['./dropdown.editor.scss']\n})\nexport class DropdownEditorComponent implements OnInit {\n\n    value: any = null;\n    options: DynamicTableColumnOption[] = [];\n\n    @Input()\n    table: DynamicTableModel;\n\n    @Input()\n    row: DynamicTableRow;\n\n    @Input()\n    column: DynamicTableColumn;\n\n    constructor(public formService: FormService,\n                private logService: LogService) {\n    }\n\n    ngOnInit() {\n        const field = this.table.field;\n        if (field) {\n            if (this.column.optionType === 'rest') {\n                if (this.table.form && this.table.form.taskId) {\n                    this.getValuesByTaskId(field);\n                } else {\n                    this.getValuesByProcessDefinitionId(field);\n                }\n            } else {\n                this.options = this.column.options || [];\n                this.value = this.table.getCellValue(this.row, this.column);\n            }\n        }\n    }\n\n    getValuesByTaskId(field) {\n        this.formService\n            .getRestFieldValuesColumn(\n                field.form.taskId,\n                field.id,\n                this.column.id\n            )\n            .subscribe(\n                (dynamicTableColumnOption: DynamicTableColumnOption[]) => {\n                    this.column.options = dynamicTableColumnOption || [];\n                    this.options = this.column.options;\n                    this.value = this.table.getCellValue(this.row, this.column);\n                },\n                (err) => this.handleError(err)\n            );\n    }\n\n    getValuesByProcessDefinitionId(field) {\n        this.formService\n            .getRestFieldValuesColumnByProcessId(\n                field.form.processDefinitionId,\n                field.id,\n                this.column.id\n            )\n            .subscribe(\n                (dynamicTableColumnOption: DynamicTableColumnOption[]) => {\n                    this.column.options = dynamicTableColumnOption || [];\n                    this.options = this.column.options;\n                    this.value = this.table.getCellValue(this.row, this.column);\n                },\n                (err) => this.handleError(err)\n            );\n    }\n\n    onValueChanged(row: DynamicTableRow, column: DynamicTableColumn, event: any) {\n        let value: any = (<HTMLInputElement> event).value;\n        value = column.options.find((opt) => opt.name === value);\n        row.value[column.id] = value;\n    }\n\n    handleError(error: any) {\n        this.logService.error(error);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { DynamicRowValidationSummary } from './../dynamic-row-validation-summary.model';\nimport { DynamicTableColumn } from './../dynamic-table-column.model';\nimport { DynamicTableRow } from './../dynamic-table-row.model';\nimport { DynamicTableModel } from './../dynamic-table.widget.model';\n\n@Component({\n    selector: 'row-editor',\n    templateUrl: './row.editor.html',\n    styleUrls: ['./row.editor.css']\n})\nexport class RowEditorComponent {\n\n    @Input()\n    table: DynamicTableModel;\n\n    @Input()\n    row: DynamicTableRow;\n\n    @Input()\n    column: DynamicTableColumn;\n\n    @Output()\n    save: EventEmitter<any> = new EventEmitter<any>();\n\n    @Output()\n    cancel: EventEmitter<any> = new EventEmitter<any>();\n\n    validationSummary: DynamicRowValidationSummary;\n\n    constructor() {\n        this.validationSummary = new DynamicRowValidationSummary({ isValid: true, message: '' });\n    }\n\n    onCancelChanges() {\n        this.cancel.emit({\n            table: this.table,\n            row: this.row,\n            column: this.column\n        });\n    }\n\n    onSaveChanges() {\n        this.validate();\n        if (this.isValid()) {\n            this.save.emit({\n                table: this.table,\n                row: this.row,\n                column: this.column\n            });\n        }\n    }\n\n    private isValid(): boolean {\n        return this.validationSummary && this.validationSummary.isValid;\n    }\n\n    private validate() {\n        this.validationSummary = this.table.validateRow(this.row);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { Component, Input, OnInit } from '@angular/core';\nimport { DynamicTableColumn } from './../../dynamic-table-column.model';\nimport { DynamicTableRow } from './../../dynamic-table-row.model';\nimport { DynamicTableModel } from './../../dynamic-table.widget.model';\n\n@Component({\n    selector: 'adf-text-editor',\n    templateUrl: './text.editor.html',\n    styleUrls: ['./text.editor.scss']\n})\nexport class TextEditorComponent implements OnInit {\n\n    @Input()\n    table: DynamicTableModel;\n\n    @Input()\n    row: DynamicTableRow;\n\n    @Input()\n    column: DynamicTableColumn;\n\n    displayName: string;\n\n    ngOnInit() {\n        this.displayName = this.table.getDisplayText(this.column);\n    }\n\n    onValueChanged(row: DynamicTableRow, column: DynamicTableColumn, event: any) {\n        const value: any = (<HTMLInputElement> event.target).value;\n        row.value[column.id] = value;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { Component, Input, OnInit } from '@angular/core';\nimport { DynamicTableColumn } from './../../dynamic-table-column.model';\nimport { DynamicTableRow } from './../../dynamic-table-row.model';\nimport { DynamicTableModel } from './../../dynamic-table.widget.model';\n\n@Component({\n    selector: 'adf-amount-editor',\n    templateUrl: './amount.editor.html',\n    styleUrls: ['./amount.editor.scss']\n})\nexport class AmountEditorComponent implements OnInit {\n\n    @Input()\n    table: DynamicTableModel;\n\n    @Input()\n    row: DynamicTableRow;\n\n    @Input()\n    column: DynamicTableColumn;\n\n    displayName: string;\n\n    ngOnInit() {\n        this.displayName = this.table.getDisplayText(this.column);\n    }\n\n    onValueChanged(row: DynamicTableRow, column: DynamicTableColumn, event: any) {\n        const value: number = Number((<HTMLInputElement> event.target).value);\n        row.value[column.id] = value;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { Component, Input, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { ErrorMessageModel } from '../core/index';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\n\n@Component({\n    selector: 'error-widget',\n    templateUrl: './error.component.html',\n    styleUrls: ['./error.component.scss'],\n    animations: [\n        trigger('transitionMessages', [\n            state('enter', style({opacity: 1, transform: 'translateY(0%)'})),\n            transition('void => enter', [\n                style({opacity: 0, transform: 'translateY(-100%)'}),\n                animate('300ms cubic-bezier(0.55, 0, 0.55, 0.2)')\n            ])\n        ])\n    ],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class ErrorWidgetComponent extends WidgetComponent implements OnChanges {\n\n    @Input()\n    error: ErrorMessageModel;\n\n    @Input()\n    required: string;\n\n    translateParameters: any = null;\n\n    _subscriptAnimationState: string = '';\n\n    constructor(public formService: FormService) {\n        super(formService);\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes['required']) {\n            this.required = changes.required.currentValue;\n            this._subscriptAnimationState = 'enter';\n        }\n        if (changes['error'] && changes['error'].currentValue) {\n            if (changes.error.currentValue.isActive()) {\n                this.error = changes.error.currentValue;\n                this.translateParameters = this.error.getAttributesAsJsonObj();\n                this._subscriptAnimationState = 'enter';\n            }\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { ENTER, ESCAPE } from '@angular/cdk/keycodes';\nimport { Component, ElementRef, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormService } from '../../../services/form.service';\nimport { GroupModel } from './../core/group.model';\nimport { WidgetComponent } from './../widget.component';\n\n@Component({\n    selector: 'functional-group-widget',\n    templateUrl: './functional-group.widget.html',\n    styleUrls: ['./functional-group.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class FunctionalGroupWidgetComponent extends WidgetComponent implements OnInit {\n\n    value: string;\n    oldValue: string;\n    groups: GroupModel[] = [];\n    minTermLength: number = 1;\n    groupId: string;\n\n    constructor(public formService: FormService,\n                public elementRef: ElementRef) {\n         super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field) {\n            const group = this.field.value;\n            if (group) {\n                this.value = group.name;\n            }\n\n            const params = this.field.params;\n            if (params && params['restrictWithGroup']) {\n                const restrictWithGroup = <GroupModel> params['restrictWithGroup'];\n                this.groupId = restrictWithGroup.id;\n            }\n\n            // Load auto-completion for previously saved value\n            if (this.value) {\n                this.formService\n                    .getWorkflowGroups(this.value, this.groupId)\n                    .subscribe(groups => this.groups = groups || []);\n            }\n        }\n    }\n\n    onKeyUp(event: KeyboardEvent) {\n        if (this.value && this.value.length >= this.minTermLength  && this.oldValue !== this.value) {\n            if (event.keyCode !== ESCAPE && event.keyCode !== ENTER) {\n                this.oldValue = this.value;\n                this.formService\n                    .getWorkflowGroups(this.value, this.groupId)\n                    .subscribe(groups => this.groups = groups || []);\n            }\n        }\n    }\n\n    flushValue() {\n        const option = this.groups.find((item) => item.name.toLocaleLowerCase() === this.value.toLocaleLowerCase());\n\n        if (option) {\n            this.field.value = option;\n            this.value = option.name;\n        } else {\n            this.field.value = null;\n            this.value = null;\n        }\n\n        this.field.updateForm();\n    }\n\n    onItemClick(item: GroupModel, event: Event) {\n        if (item) {\n            this.field.value = item;\n            this.value = item.name;\n        }\n        if (event) {\n            event.preventDefault();\n        }\n    }\n\n    onItemSelect(item: GroupModel) {\n        if (item) {\n            this.field.value = item;\n            this.value = item.name;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\nimport { FormFieldModel } from '../core';\n\n@Component({\n    selector: 'hyperlink-widget',\n    templateUrl: './hyperlink.widget.html',\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class HyperlinkWidgetComponent extends WidgetComponent implements OnInit {\n\n    static DEFAULT_HYPERLINK_URL: string = '#';\n    static DEFAULT_HYPERLINK_SCHEME: string = 'http://';\n\n    linkUrl: string = '#';\n    linkText: string = null;\n\n    constructor(public formService: FormService) {\n        super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field) {\n            this.linkUrl = this.getHyperlinkUrl(this.field);\n            this.linkText = this.getHyperlinkText(this.field);\n        }\n    }\n\n    protected getHyperlinkUrl(field: FormFieldModel) {\n        let value = field.value || field.hyperlinkUrl;\n\n        if (value && !/^https?:\\/\\//i.test(value)) {\n            value = `${HyperlinkWidgetComponent.DEFAULT_HYPERLINK_SCHEME}${value}`;\n        }\n\n        return value || HyperlinkWidgetComponent.DEFAULT_HYPERLINK_URL;\n    }\n\n    protected getHyperlinkText(field: FormFieldModel) {\n        if (field) {\n            return field.displayText || field.hyperlinkUrl || field.value;\n        }\n        return null;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { Component, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\n\n@Component({\n    selector: 'multiline-text-widget',\n    templateUrl: './multiline-text.widget.html',\n    styleUrls: ['./multiline-text.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class MultilineTextWidgetComponentComponent extends WidgetComponent  {\n\n    constructor(public formService: FormService) {\n        super(formService);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector no-input-rename   */\n\nimport { Component, ViewEncapsulation, OnInit } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\nimport { DecimalNumberPipe } from '../../../../pipes/decimal-number.pipe';\n\n@Component({\n    selector: 'number-widget',\n    templateUrl: './number.widget.html',\n    styleUrls: ['./number.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class NumberWidgetComponent extends WidgetComponent implements OnInit {\n\n    displayValue: number;\n\n    constructor(public formService: FormService,\n                private decimalNumberPipe: DecimalNumberPipe) {\n         super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field.readOnly) {\n            this.displayValue = this.decimalNumberPipe.transform(this.field.value);\n        } else {\n            this.displayValue = this.field.value;\n        }\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, from, throwError } from 'rxjs';\nimport { UserProcessModel } from '../models/user-process.model';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { LogService } from './log.service';\nimport { catchError, map } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PeopleProcessService {\n\n    constructor(private alfrescoJsApi: AlfrescoApiService,\n                private logService: LogService) {\n    }\n\n    /**\n     * Gets information about users across all tasks.\n     * @param taskId ID of the task\n     * @param searchWord Filter text to search for\n     * @returns Array of user information objects\n     */\n    getWorkflowUsers(taskId?: string, searchWord?: string): Observable<UserProcessModel[]> {\n        const option = { excludeTaskId: taskId, filter: searchWord };\n        return from(this.getWorkflowUserApi(option))\n            .pipe(\n                map((response: any) => <UserProcessModel[]> response.data || []),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets the profile picture URL for the specified user.\n     * @param user The target user\n     * @returns Profile picture URL\n     */\n    getUserImage(user: UserProcessModel): string {\n        return this.getUserProfileImageApi(user.id.toString());\n    }\n\n    /**\n     * Sets a user to be involved with a task.\n     * @param taskId ID of the target task\n     * @param idToInvolve ID of the user to involve\n     * @returns Empty response when the update completes\n     */\n    involveUserWithTask(taskId: string, idToInvolve: string): Observable<UserProcessModel[]> {\n        const node = {userId: idToInvolve};\n        return from(this.involveUserToTaskApi(taskId, node))\n            .pipe(\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Removes a user who is currently involved with a task.\n     * @param taskId ID of the target task\n     * @param idToRemove ID of the user to remove\n     * @returns Empty response when the update completes\n     */\n    removeInvolvedUser(taskId: string, idToRemove: string): Observable<UserProcessModel[]> {\n        const node = {userId: idToRemove};\n        return from(this.removeInvolvedUserFromTaskApi(taskId, node))\n            .pipe(\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    private getWorkflowUserApi(options: any) {\n        return this.alfrescoJsApi.getInstance().activiti.usersWorkflowApi.getUsers(options);\n    }\n\n    private involveUserToTaskApi(taskId: string, node: any) {\n        return this.alfrescoJsApi.getInstance().activiti.taskActionsApi.involveUser(taskId, node);\n    }\n\n    private removeInvolvedUserFromTaskApi(taskId: string, node: any) {\n        return this.alfrescoJsApi.getInstance().activiti.taskActionsApi.removeInvolvedUser(taskId, node);\n    }\n\n    private getUserProfileImageApi(userId: string): string {\n        return this.alfrescoJsApi.getInstance().activiti.userApi.getUserProfilePictureUrl(userId);\n    }\n\n    /**\n     * Throw the error\n     * @param error\n     */\n    private handleError(error: any) {\n        this.logService.error(error);\n        return throwError(error || 'Server error');\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { PeopleProcessService } from '../../../../services/people-process.service';\nimport { UserProcessModel } from '../../../../models';\nimport { Component, ElementRef, EventEmitter, OnInit, Output, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormService } from '../../../services/form.service';\nimport { GroupModel } from '../core/group.model';\nimport { WidgetComponent } from './../widget.component';\nimport { FormControl } from '@angular/forms';\nimport { Observable, of } from 'rxjs';\nimport {\n    catchError,\n    distinctUntilChanged,\n    map,\n    switchMap,\n    tap\n} from 'rxjs/operators';\n\n@Component({\n    selector: 'people-widget',\n    templateUrl: './people.widget.html',\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class PeopleWidgetComponent extends WidgetComponent implements OnInit {\n\n    @ViewChild('inputValue', { static: true })\n    input: ElementRef;\n\n    @Output()\n    peopleSelected: EventEmitter<number>;\n\n    groupId: string;\n    value: any;\n\n    searchTerm = new FormControl();\n    errorMsg = '';\n    searchTerms$: Observable<any> = this.searchTerm.valueChanges;\n\n    users$ = this.searchTerms$.pipe(\n        tap(() => {\n            this.errorMsg = '';\n        }),\n        distinctUntilChanged(),\n        switchMap((searchTerm) => {\n            const value = searchTerm.email ? this.getDisplayName(searchTerm) : searchTerm;\n            return this.formService.getWorkflowUsers(value, this.groupId)\n                .pipe(\n                    catchError((err) => {\n                        this.errorMsg = err.message;\n                        return of();\n                    })\n                );\n        }),\n        map((list: UserProcessModel[]) => {\n            const value = this.searchTerm.value.email ? this.getDisplayName(this.searchTerm.value) : this.searchTerm.value;\n            this.checkUserAndValidateForm(list, value);\n            return list;\n        })\n    );\n\n    constructor(public formService: FormService, public peopleProcessService: PeopleProcessService) {\n        super(formService);\n        this.peopleSelected = new EventEmitter();\n    }\n\n    ngOnInit() {\n        if (this.field) {\n            if (this.field.value) {\n                this.searchTerm.setValue(this.field.value);\n            }\n            if (this.field.readOnly) {\n                this.searchTerm.disable();\n            }\n            const params = this.field.params;\n            if (params && params.restrictWithGroup) {\n                const restrictWithGroup = <GroupModel> params.restrictWithGroup;\n                this.groupId = restrictWithGroup.id;\n            }\n        }\n    }\n\n    checkUserAndValidateForm(list: UserProcessModel[], value: string): void {\n        const isValidUser = this.isValidUser(list, value);\n        if (isValidUser || value === '') {\n            this.field.validationSummary.message = '';\n            this.field.validate();\n            this.field.form.validateForm();\n        } else {\n            this.field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_VALUE';\n            this.field.markAsInvalid();\n            this.field.form.markAsInvalid();\n        }\n    }\n\n    isValidUser(users: UserProcessModel[], name: string): boolean {\n        if (users) {\n            return users.find((user) => {\n                const selectedUser = this.getDisplayName(user).toLocaleLowerCase() === name.toLocaleLowerCase();\n                if (selectedUser) {\n                    this.peopleSelected.emit(user && user.id || undefined);\n                }\n                return selectedUser;\n            }) ? true : false;\n        }\n        return false;\n    }\n\n    getDisplayName(model: UserProcessModel) {\n        if (model) {\n            const displayName = `${model.firstName || ''} ${model.lastName || ''}`;\n            return displayName.trim();\n        }\n        return '';\n    }\n\n    onItemSelect(item: UserProcessModel) {\n        if (item) {\n            this.field.value = item;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable:component-selector  */\n\nimport { LogService } from '../../../../services/log.service';\nimport { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormService } from '../../../services/form.service';\nimport { FormFieldOption } from './../core/form-field-option';\nimport { WidgetComponent } from './../widget.component';\n\n@Component({\n    selector: 'radio-buttons-widget',\n    templateUrl: './radio-buttons.widget.html',\n    styleUrls: ['./radio-buttons.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class RadioButtonsWidgetComponent extends WidgetComponent implements OnInit {\n\n    constructor(public formService: FormService,\n                private logService: LogService) {\n         super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field && this.field.restUrl) {\n            if (this.field.form.taskId) {\n                this.getOptionsByTaskId();\n            } else {\n                this.getOptionsByProcessDefinitionId();\n            }\n        }\n    }\n\n    getOptionsByTaskId() {\n        this.formService\n            .getRestFieldValues(\n                this.field.form.taskId,\n                this.field.id\n            )\n            .subscribe(\n                (formFieldOption: FormFieldOption[]) => {\n                    this.field.options = formFieldOption || [];\n                    this.field.updateForm();\n                },\n                (err) => this.handleError(err)\n            );\n    }\n\n    getOptionsByProcessDefinitionId() {\n        this.formService\n            .getRestFieldValuesByProcessId(\n                this.field.form.processDefinitionId,\n                this.field.id\n            )\n            .subscribe(\n                (formFieldOption: FormFieldOption[]) => {\n                    this.field.options = formFieldOption || [];\n                    this.field.updateForm();\n                },\n                (err) => this.handleError(err)\n            );\n    }\n\n    onOptionClick(optionSelected: any) {\n        this.field.value = optionSelected;\n        this.fieldChanged.emit(this.field);\n    }\n\n    handleError(error: any) {\n        this.logService.error(error);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /* tslint:disable: component-selector no-use-before-declare no-input-rename  */\n\nimport {\n    Directive,\n    ElementRef,\n    forwardRef,\n    HostListener,\n    Input,\n    OnChanges,\n    Renderer2,\n    SimpleChanges\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nexport const CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => InputMaskDirective),\n    multi: true\n};\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0\n */\n@Directive({\n    selector: '[adf-text-mask], [textMask]',\n    providers: [CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR]\n})\nexport class InputMaskDirective implements OnChanges, ControlValueAccessor {\n\n    /** Object defining mask and \"reversed\" status. */\n    @Input('textMask') inputMask: {\n        mask: string,\n        isReversed: boolean\n    };\n\n    private translationMask = {\n        '0': { pattern: /\\d/ },\n        '9': { pattern: /\\d/, optional: true },\n        '#': { pattern: /\\d/, recursive: true },\n        'A': { pattern: /[a-zA-Z0-9]/ },\n        'S': { pattern: /[a-zA-Z]/ }\n    };\n\n    private byPassKeys = [9, 16, 17, 18, 36, 37, 38, 39, 40, 91];\n    private value;\n    private invalidCharacters = [];\n\n    constructor(private el: ElementRef, private render: Renderer2) {\n    }\n\n    _onChange = (_: any) => {\n    }\n\n    _onTouched = () => {\n    }\n\n    @HostListener('input', ['$event'])\n    @HostListener('keyup', ['$event']) onTextInput(event: KeyboardEvent) {\n        if (this.inputMask && this.inputMask.mask) {\n            this.maskValue(this.el.nativeElement.value, this.el.nativeElement.selectionStart,\n                this.inputMask.mask, this.inputMask.isReversed, event.keyCode);\n        } else {\n            this._onChange(this.el.nativeElement.value);\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes['inputMask'] && changes['inputMask'].currentValue['mask']) {\n            this.inputMask = changes['inputMask'].currentValue;\n        }\n    }\n\n    writeValue(value: any) {\n        this.el.nativeElement.value = value;\n    }\n\n    registerOnChange(fn: any) {\n        this._onChange = fn;\n    }\n\n    registerOnTouched(fn: () => any): void {\n        this._onTouched = fn;\n    }\n\n    private maskValue(actualValue, startCaret, maskToApply, isMaskReversed, keyCode) {\n        if (this.byPassKeys.indexOf(keyCode) === -1) {\n            const value = this.getMasked(false, actualValue, maskToApply, isMaskReversed);\n            const calculatedCaret = this.calculateCaretPosition(startCaret, actualValue, keyCode);\n            this.render.setAttribute(this.el.nativeElement, 'value', value);\n            this.el.nativeElement.value = value;\n            this.setValue(value);\n            this._onChange(value);\n            this.setCaretPosition(calculatedCaret);\n        }\n    }\n\n    private setCaretPosition(caretPosition) {\n        this.el.nativeElement.moveStart = caretPosition;\n        this.el.nativeElement.moveEnd = caretPosition;\n    }\n\n    calculateCaretPosition(caretPosition, newValue, keyCode) {\n        const newValueLength = newValue.length;\n        const oldValue = this.getValue() || '';\n        const oldValueLength = oldValue.length;\n\n        if (keyCode === 8 && oldValue !== newValue) {\n            caretPosition = caretPosition - (newValue.slice(0, caretPosition).length - oldValue.slice(0, caretPosition).length);\n        } else if (oldValue !== newValue) {\n            if (caretPosition >= oldValueLength) {\n                caretPosition = newValueLength;\n            } else {\n                caretPosition = caretPosition + (newValue.slice(0, caretPosition).length - oldValue.slice(0, caretPosition).length);\n            }\n        }\n        return caretPosition;\n    }\n\n    getMasked(skipMaskChars, val, mask, isReversed = false) {\n        const buf = [];\n        const value = val;\n        let maskIndex = 0;\n        const maskLen = mask.length;\n        let valueIndex = 0;\n        const valueLength = value.length;\n        let offset = 1;\n        let addMethod = 'push';\n        let resetPos = -1;\n        let lastMaskChar;\n        let lastUntranslatedMaskChar;\n        let check;\n\n        if (isReversed) {\n            addMethod = 'unshift';\n            offset = -1;\n            lastMaskChar = 0;\n            maskIndex = maskLen - 1;\n            valueIndex = valueLength - 1;\n        } else {\n            lastMaskChar = maskLen - 1;\n        }\n        check = this.isToCheck(isReversed, maskIndex, maskLen, valueIndex, valueLength);\n        while (check) {\n            const maskDigit = mask.charAt(maskIndex),\n                valDigit = value.charAt(valueIndex),\n                translation = this.translationMask[maskDigit];\n\n            if (translation) {\n                if (valDigit.match(translation.pattern)) {\n                    buf[addMethod](valDigit);\n                    if (translation.recursive) {\n                        if (resetPos === -1) {\n                            resetPos = maskIndex;\n                        } else if (maskIndex === lastMaskChar) {\n                            maskIndex = resetPos - offset;\n                        }\n                        if (lastMaskChar === resetPos) {\n                            maskIndex -= offset;\n                        }\n                    }\n                    maskIndex += offset;\n                } else if (valDigit === lastUntranslatedMaskChar) {\n                    lastUntranslatedMaskChar = undefined;\n                } else if (translation.optional) {\n                    maskIndex += offset;\n                    valueIndex -= offset;\n                } else {\n                    this.invalidCharacters.push({\n                        index: valueIndex,\n                        digit: valDigit,\n                        translated: translation.pattern\n                    });\n                }\n                valueIndex += offset;\n            } else {\n                if (!skipMaskChars) {\n                    buf[addMethod](maskDigit);\n                }\n                if (valDigit === maskDigit) {\n                    valueIndex += offset;\n                } else {\n                    lastUntranslatedMaskChar = maskDigit;\n                }\n                maskIndex += offset;\n            }\n            check = this.isToCheck(isReversed, maskIndex, maskLen, valueIndex, valueLength);\n        }\n\n        const lastMaskCharDigit = mask.charAt(lastMaskChar);\n        if (maskLen === valueLength + 1 && !this.translationMask[lastMaskCharDigit]) {\n            buf.push(lastMaskCharDigit);\n        }\n\n        return buf.join('');\n    }\n\n    private isToCheck(isReversed, maskIndex, maskLen, valueIndex, valueLength) {\n        let check = false;\n        if (isReversed) {\n            check = (maskIndex > -1) && (valueIndex > -1);\n        } else {\n            check = (maskIndex < maskLen) && (valueIndex < valueLength);\n        }\n        return check;\n    }\n\n    private setValue(value) {\n        this.value = value;\n    }\n\n    private getValue() {\n        return this.value;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\n\n@Component({\n    selector: 'text-widget',\n    templateUrl: './text.widget.html',\n    styleUrls: ['./text.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class TextWidgetComponent extends WidgetComponent implements OnInit {\n\n    mask: string;\n    placeholder: string;\n    isMaskReversed: boolean;\n\n    constructor(public formService: FormService) {\n        super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field.params) {\n            this.mask = this.field.params['inputMask'];\n            this.placeholder = this.field.params['inputMask'] && this.field.params['inputMaskPlaceholder'] ? this.field.params['inputMaskPlaceholder'] : this.field.placeholder;\n            this.isMaskReversed = this.field.params['inputMaskReversed'] ? this.field.params['inputMaskReversed'] : false;\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { LogService } from '../../../../services/log.service';\nimport { ENTER, ESCAPE } from '@angular/cdk/keycodes';\nimport { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { FormFieldOption } from './../core/form-field-option';\nimport { WidgetComponent } from './../widget.component';\n\n@Component({\n    selector: 'typeahead-widget',\n    templateUrl: './typeahead.widget.html',\n    styleUrls: ['./typeahead.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class TypeaheadWidgetComponent extends WidgetComponent implements OnInit {\n\n    minTermLength: number = 1;\n    value: string;\n    oldValue: string;\n    options: FormFieldOption[] = [];\n\n    constructor(public formService: FormService,\n                private logService: LogService) {\n        super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field.form.taskId && this.field.restUrl) {\n            this.getValuesByTaskId();\n        } else if (this.field.form.processDefinitionId && this.field.restUrl) {\n            this.getValuesByProcessDefinitionId();\n        }\n        if (this.isReadOnlyType()) {\n            this.value = this.field.value;\n        }\n    }\n\n    getValuesByTaskId() {\n        this.formService\n            .getRestFieldValues(\n                this.field.form.taskId,\n                this.field.id\n            )\n            .subscribe(\n                (formFieldOption: FormFieldOption[]) => {\n                    const options = formFieldOption || [];\n                    this.field.options = options;\n\n                    const fieldValue = this.field.value;\n                    if (fieldValue) {\n                        const toSelect = options.find((item) => item.id === fieldValue || item.name.toLocaleLowerCase() === fieldValue.toLocaleLowerCase());\n                        if (toSelect) {\n                            this.value = toSelect.name;\n                        }\n                    }\n                    this.onFieldChanged(this.field);\n                    this.field.updateForm();\n                },\n                (err) => this.handleError(err)\n            );\n    }\n\n    getValuesByProcessDefinitionId() {\n        this.formService\n            .getRestFieldValuesByProcessId(\n                this.field.form.processDefinitionId,\n                this.field.id\n            )\n            .subscribe(\n                (formFieldOption: FormFieldOption[]) => {\n                    const options = formFieldOption || [];\n                    this.field.options = options;\n\n                    const fieldValue = this.field.value;\n                    if (fieldValue) {\n                        const toSelect = options.find((item) => item.id === fieldValue);\n                        if (toSelect) {\n                            this.value = toSelect.name;\n                        }\n                    }\n                    this.onFieldChanged(this.field);\n                    this.field.updateForm();\n                },\n                (err) => this.handleError(err)\n            );\n    }\n\n    getOptions(): FormFieldOption[] {\n        const val = this.value.trim().toLocaleLowerCase();\n        return this.field.options.filter((item) => {\n            const name = item.name.toLocaleLowerCase();\n            return name.indexOf(val) > -1;\n        });\n    }\n\n    isValidOptionName(optionName: string): boolean {\n        const option = this.field.options.find((item) => item.name && item.name.toLocaleLowerCase() === optionName.toLocaleLowerCase());\n        return option ? true : false;\n    }\n\n    onKeyUp(event: KeyboardEvent) {\n        if (this.value && this.value.trim().length >= this.minTermLength && this.oldValue !== this.value) {\n            if (event.keyCode !== ESCAPE && event.keyCode !== ENTER) {\n                if (this.value.length >= this.minTermLength) {\n                    this.options = this.getOptions();\n                    this.oldValue = this.value;\n                    if (this.isValidOptionName(this.value)) {\n                        this.field.value = this.options[0].id;\n                    }\n                }\n            }\n        }\n        if (this.isValueDefined() && this.value.trim().length === 0) {\n            this.oldValue = this.value;\n            this.options = [];\n        }\n    }\n\n    onItemSelect(item: FormFieldOption) {\n        if (item) {\n            this.field.value = item.id;\n            this.value = item.name;\n            this.onFieldChanged(this.field);\n        }\n    }\n\n    validate() {\n        this.field.value = this.value;\n    }\n\n    isValueDefined() {\n        return this.value !== null && this.value !== undefined;\n    }\n\n    handleError(error: any) {\n        this.logService.error(error);\n    }\n\n    isReadOnlyType(): boolean {\n        return this.field.type === 'readonly' ? true : false;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AlfrescoApiService } from '../../services/alfresco-api.service';\nimport { LogService } from '../../services/log.service';\nimport { Injectable } from '@angular/core';\nimport { RelatedContentRepresentation } from '@alfresco/js-api';\nimport { Observable, from, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ProcessContentService {\n\n    static UNKNOWN_ERROR_MESSAGE: string = 'Unknown error';\n    static GENERIC_ERROR_MESSAGE: string = 'Server error';\n\n    constructor(private apiService: AlfrescoApiService,\n                private logService: LogService) {\n    }\n\n    private get contentApi(): any {\n        return this.apiService.getInstance().activiti.contentApi;\n    }\n\n    /**\n     * Create temporary related content from an uploaded file.\n     * @param file File to use for content\n     * @returns The created content data\n     */\n    createTemporaryRawRelatedContent(file: any): Observable<RelatedContentRepresentation> {\n        return from(this.contentApi.createTemporaryRawRelatedContent(file))\n            .pipe(catchError((err) => this.handleError(err)));\n    }\n\n    /**\n     * Gets the metadata for a related content item.\n     * @param contentId ID of the content item\n     * @returns Metadata for the content\n     */\n    getFileContent(contentId: number): Observable<RelatedContentRepresentation> {\n        return from(this.contentApi.getContent(contentId))\n            .pipe(catchError((err) => this.handleError(err)));\n    }\n\n    /**\n     * Gets raw binary content data for a related content file.\n     * @param contentId ID of the related content\n     * @returns Binary data of the related content\n     */\n    getFileRawContent(contentId: number): Observable<Blob> {\n        return from(this.contentApi.getRawContent(contentId))\n            .pipe(catchError((err) => this.handleError(err)));\n    }\n\n    /**\n     * Gets the preview for a related content file.\n     * @param contentId ID of the related content\n     * @returns Binary data of the content preview\n     */\n    getContentPreview(contentId: number): Observable<Blob> {\n        return new Observable((observer) => {\n            this.contentApi.getContentPreview(contentId).then(\n                (result) => {\n                    observer.next(result);\n                    observer.complete();\n                },\n                () => {\n                    this.contentApi.getRawContent(contentId).then(\n                        (data) => {\n                            observer.next(data);\n                            observer.complete();\n                        },\n                        (err) => {\n                            observer.error(err);\n                            observer.complete();\n                        }\n                    );\n                }\n            );\n        });\n    }\n\n    /**\n     * Gets a URL for direct access to a related content file.\n     * @param contentId ID of the related content\n     * @returns URL to access the content\n     */\n    getFileRawContentUrl(contentId: number): string {\n        return this.contentApi.getRawContentUrl(contentId);\n    }\n\n    /**\n     * Gets the thumbnail for a related content file.\n     * @param contentId ID of the related content\n     * @returns Binary data of the thumbnail image\n     */\n    getContentThumbnail(contentId: number): Observable<Blob> {\n        return from(this.contentApi.getContentThumbnail(contentId))\n            .pipe(catchError((err) => this.handleError(err)));\n    }\n\n    /**\n     * Gets related content items for a task instance.\n     * @param taskId ID of the target task\n     * @param opts Options supported by JS-API\n     * @returns Metadata for the content\n     */\n    getTaskRelatedContent(taskId: string, opts?: any): Observable<any> {\n        return from(this.contentApi.getRelatedContentForTask(taskId, opts))\n            .pipe(catchError((err) => this.handleError(err)));\n    }\n\n    /**\n     * Gets related content items for a process instance.\n     * @param processId ID of the target process\n     * @param opts Options supported by JS-API\n     * @returns Metadata for the content\n     */\n    getProcessRelatedContent(processId: string, opts?: any): Observable<any> {\n        return from(this.contentApi.getRelatedContentForProcessInstance(processId, opts))\n            .pipe(catchError((err) => this.handleError(err)));\n    }\n\n    /**\n     * Deletes related content.\n     * @param contentId Identifier of the content to delete\n     * @returns Null response that notifies when the deletion is complete\n     */\n    deleteRelatedContent(contentId: number): Observable<any> {\n        return from(this.contentApi.deleteContent(contentId))\n            .pipe(catchError((err) => this.handleError(err)));\n    }\n\n    /**\n     * Associates an uploaded file with a process instance.\n     * @param processInstanceId ID of the target process instance\n     * @param content File to associate\n     * @param opts Options supported by JS-API\n     * @returns Details of created content\n     */\n    createProcessRelatedContent(processInstanceId: string, content: any, opts?: any): Observable<any> {\n        return from(this.contentApi.createRelatedContentOnProcessInstance(processInstanceId, content, opts))\n            .pipe(catchError((err) => this.handleError(err)));\n    }\n\n    /**\n     * Associates an uploaded file with a task instance.\n     * @param taskId ID of the target task\n     * @param file File to associate\n     * @param opts Options supported by JS-API\n     * @returns Details of created content\n     */\n    createTaskRelatedContent(taskId: string, file: any, opts?: any) {\n        return from(this.contentApi.createRelatedContentOnTask(taskId, file, opts))\n            .pipe(catchError((err) => this.handleError(err)));\n    }\n\n    /**\n     * Creates a JSON representation of data.\n     * @param res Object representing data\n     * @returns JSON object\n     */\n    toJson(res: any) {\n        if (res) {\n            return res || {};\n        }\n        return {};\n    }\n\n    /**\n     * Creates a JSON array representation of data.\n     * @param res Object representing data\n     * @returns JSON array object\n     */\n    toJsonArray(res: any) {\n        if (res) {\n            return res.data || [];\n        }\n        return [];\n    }\n\n    /**\n     * Reports an error message.\n     * @param error Data object with optional `message` and `status` fields for the error\n     * @returns Callback when an error occurs\n     */\n    handleError(error: any): Observable<any> {\n        let errMsg = ProcessContentService.UNKNOWN_ERROR_MESSAGE;\n        if (error) {\n            errMsg = (error.message) ? error.message :\n                error.status ? `${error.status} - ${error.statusText}` : ProcessContentService.GENERIC_ERROR_MESSAGE;\n        }\n        this.logService.error(errMsg);\n        return throwError(errMsg);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { LogService } from '../../../../services/log.service';\nimport { ThumbnailService } from '../../../../services/thumbnail.service';\nimport { Component, ElementRef, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { Observable, from } from 'rxjs';\nimport { FormService } from '../../../services/form.service';\nimport { ProcessContentService } from '../../../services/process-content.service';\nimport { ContentLinkModel } from '../core/content-link.model';\nimport { WidgetComponent } from './../widget.component';\nimport { mergeMap, map } from 'rxjs/operators';\n\n@Component({\n    selector: 'upload-widget',\n    templateUrl: './upload.widget.html',\n    styleUrls: ['./upload.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class UploadWidgetComponent extends WidgetComponent implements OnInit {\n\n    hasFile: boolean;\n    displayText: string;\n    multipleOption: string = '';\n    mimeTypeIcon: string;\n\n    @ViewChild('uploadFiles')\n    fileInput: ElementRef;\n\n    constructor(public formService: FormService,\n                private logService: LogService,\n                private thumbnailService: ThumbnailService,\n                public processContentService: ProcessContentService) {\n        super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field &&\n            this.field.value &&\n            this.field.value.length > 0) {\n            this.hasFile = true;\n        }\n        this.getMultipleFileParam();\n    }\n\n    removeFile(file: any) {\n        if (this.field) {\n            this.removeElementFromList(file);\n        }\n    }\n\n    onFileChanged(event: any) {\n        const files = event.target.files;\n        let filesSaved = [];\n\n        if (this.field.json.value) {\n            filesSaved = [...this.field.json.value];\n        }\n\n        if (files && files.length > 0) {\n            from(files)\n                .pipe(mergeMap((file) => this.uploadRawContent(file)))\n                .subscribe(\n                    (res) => filesSaved.push(res),\n                    () => this.logService.error('Error uploading file. See console output for more details.'),\n                    () => {\n                        this.field.value = filesSaved;\n                        this.field.json.value = filesSaved;\n                        this.hasFile = true;\n                    }\n                );\n        }\n    }\n\n    private uploadRawContent(file): Observable<any> {\n        return this.processContentService.createTemporaryRawRelatedContent(file)\n            .pipe(\n                map((response: any) => {\n                    this.logService.info(response);\n                    response.contentBlob = file;\n                    return response;\n                })\n            );\n    }\n\n    getMultipleFileParam() {\n        if (this.field &&\n            this.field.params &&\n            this.field.params.multiple) {\n            this.multipleOption = this.field.params.multiple ? 'multiple' : '';\n        }\n    }\n\n    private removeElementFromList(file: any) {\n        const index = this.field.value.indexOf(file);\n\n        if (index !== -1) {\n            this.field.value.splice(index, 1);\n            this.field.json.value = this.field.value;\n            this.field.updateForm();\n        }\n\n        this.hasFile = this.field.value.length > 0;\n\n        if (!this.hasFile) {\n            this.field.value = null;\n            this.field.json.value = null;\n        }\n    }\n\n    getIcon(mimeType: string): string {\n        return this.thumbnailService.getMimeTypeIcon(mimeType);\n    }\n\n    fileClicked(contentLinkModel: any): void {\n        const file = new ContentLinkModel(contentLinkModel);\n        let fetch = this.processContentService.getContentPreview(file.id);\n        if (file.isTypeImage() || file.isTypePdf()) {\n            fetch = this.processContentService.getFileRawContent(file.id);\n        }\n        fetch.subscribe(\n            (blob: Blob) => {\n                file.contentBlob = blob;\n                this.formService.formContentClicked.next(file);\n            },\n            () => {\n                this.logService.error('Unable to send event for file ' + file.name);\n            }\n        );\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { Component, OnInit, ViewEncapsulation, OnDestroy, OnChanges, SimpleChanges } from '@angular/core';\nimport { DateAdapter, MAT_DATE_FORMATS } from '@angular/material/core';\nimport { DatetimeAdapter, MAT_DATETIME_FORMATS } from '@mat-datetimepicker/core';\nimport { MomentDatetimeAdapter, MAT_MOMENT_DATETIME_FORMATS } from '@mat-datetimepicker/moment';\nimport moment from 'moment-es6';\nimport { Moment } from 'moment';\nimport { UserPreferencesService, UserPreferenceValues } from '../../../../services/user-preferences.service';\nimport { MomentDateAdapter } from '../../../../utils/moment-date-adapter';\nimport { MOMENT_DATE_FORMATS } from '../../../../utils/moment-date-formats.model';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    providers: [\n        { provide: DateAdapter, useClass: MomentDateAdapter },\n        { provide: MAT_DATE_FORMATS, useValue: MOMENT_DATE_FORMATS },\n        { provide: DatetimeAdapter, useClass: MomentDatetimeAdapter },\n        { provide: MAT_DATETIME_FORMATS, useValue: MAT_MOMENT_DATETIME_FORMATS }\n    ],\n    selector: 'date-time-widget',\n    templateUrl: './date-time.widget.html',\n    styleUrls: ['./date-time.widget.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class DateTimeWidgetComponent extends WidgetComponent implements OnInit, OnDestroy, OnChanges {\n\n    minDate: Moment;\n    maxDate: Moment;\n    displayDate: Moment;\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(public formService: FormService,\n                private dateAdapter: DateAdapter<Moment>,\n                private userPreferencesService: UserPreferencesService) {\n        super(formService);\n    }\n\n    ngOnInit() {\n        this.userPreferencesService\n            .select(UserPreferenceValues.Locale)\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe(locale => this.dateAdapter.setLocale(locale));\n\n        const momentDateAdapter = <MomentDateAdapter> this.dateAdapter;\n        momentDateAdapter.overrideDisplayFormat = this.field.dateDisplayFormat;\n\n        if (this.field) {\n            if (this.field.minValue) {\n                this.minDate = moment(this.field.minValue, 'YYYY-MM-DDTHH:mm:ssZ');\n            }\n\n            if (this.field.maxValue) {\n                this.maxDate = moment(this.field.maxValue, 'YYYY-MM-DDTHH:mm:ssZ');\n            }\n        }\n        this.displayDate = moment(this.field.value, this.field.dateDisplayFormat)\n            .add(\n                moment(this.field.value, this.field.dateDisplayFormat).utcOffset(),\n                'minutes');\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes && changes.field  && !changes.field.firstChange && changes.field.currentValue.value !== changes.field.previousValue.value) {\n            this.displayDate = moment(changes.field.currentValue.value, this.field.dateDisplayFormat)\n                .add(moment(changes.field.currentValue.value, this.field.dateDisplayFormat).utcOffset(), 'minutes');\n        }\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    onDateChanged(newDateValue) {\n        if (newDateValue && newDateValue.value) {\n            this.field.value = newDateValue.value.format(this.field.dateDisplayFormat);\n        } else if (newDateValue) {\n            this.field.value = newDateValue;\n        } else {\n            this.field.value = null;\n        }\n        this.onFieldChanged(this.field);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { EditJsonDialogSettings, EditJsonDialogComponent } from '../../../../dialogs/edit-json/edit-json.dialog';\n\n@Component({\n    template: `\n        <button mat-raised-button color=\"primary\" (click)=\"view()\">json</button>\n    `,\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class JsonWidgetComponent extends WidgetComponent {\n    constructor(public formService: FormService, private dialog: MatDialog) {\n        super(formService);\n    }\n\n    view() {\n        const rawValue = this.field.value;\n        const value =\n            typeof rawValue === 'object'\n                ? JSON.stringify(rawValue || {}, null, 2)\n                : rawValue;\n\n        const settings: EditJsonDialogSettings = {\n            title: this.field.name,\n            editable: false,\n            value\n        };\n\n        this.dialog\n            .open(EditJsonDialogComponent, {\n                data: settings,\n                minWidth: '50%',\n                minHeight: '50%'\n            });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:component-selector  */\n\nimport { LogService } from '../../../../services/log.service';\nimport { ThumbnailService } from '../../../../services/thumbnail.service';\nimport { Component, ElementRef, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { Observable, from } from 'rxjs';\nimport { FormService } from '../../../services/form.service';\nimport { ProcessContentService } from '../../../services/process-content.service';\nimport { ContentLinkModel } from '../core/content-link.model';\nimport { WidgetComponent } from './../widget.component';\nimport { mergeMap, map } from 'rxjs/operators';\n\n@Component({\n    selector: 'upload-folder-widget',\n    templateUrl: './upload-folder.widget.html',\n    styleUrls: ['./upload-folder.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class UploadFolderWidgetComponent extends WidgetComponent implements OnInit {\n\n    hasFile: boolean;\n    displayText: string;\n    multipleOption: string = '';\n    mimeTypeIcon: string;\n\n    @ViewChild('uploadFiles')\n    fileInput: ElementRef;\n\n    constructor(public formService: FormService,\n                private logService: LogService,\n                private thumbnailService: ThumbnailService,\n                public processContentService: ProcessContentService) {\n        super(formService);\n    }\n\n    ngOnInit() {\n        if (this.field &&\n            this.field.value &&\n            this.field.value.length > 0) {\n            this.hasFile = true;\n        }\n        this.getMultipleFileParam();\n    }\n\n    removeFile(file: any) {\n        if (this.field) {\n            this.removeElementFromList(file);\n        }\n    }\n\n    onFileChanged(event: any) {\n        const files = event.target.files;\n        let filesSaved = [];\n\n        if (this.field.json.value) {\n            filesSaved = [...this.field.json.value];\n        }\n\n        if (files && files.length > 0) {\n            from(files)\n                .pipe(mergeMap((file) => this.uploadRawContent(file)))\n                .subscribe(\n                    (res) => {\n                        filesSaved.push(res);\n                    },\n                    () => {\n                        this.logService.error('Error uploading file. See console output for more details.');\n                    },\n                    () => {\n                        this.field.value = filesSaved;\n                        this.field.json.value = filesSaved;\n                    }\n                );\n\n            this.hasFile = true;\n        }\n    }\n\n    private uploadRawContent(file): Observable<any> {\n        return this.processContentService.createTemporaryRawRelatedContent(file).pipe(\n            map((response: any) => {\n                this.logService.info(response);\n                return response;\n            })\n        );\n    }\n\n    private getMultipleFileParam() {\n        if (this.field &&\n            this.field.params &&\n            this.field.params.multiple) {\n            this.multipleOption = this.field.params.multiple ? 'multiple' : '';\n        }\n    }\n\n    private removeElementFromList(file) {\n        const index = this.field.value.indexOf(file);\n\n        if (index !== -1) {\n            this.field.value.splice(index, 1);\n            this.field.json.value = this.field.value;\n            this.field.updateForm();\n        }\n\n        this.hasFile = this.field.value.length > 0;\n\n        this.resetFormValueWithNoFiles();\n    }\n\n    private resetFormValueWithNoFiles() {\n        if (this.field.value.length === 0) {\n            this.field.value = [];\n            this.field.json.value = [];\n        }\n    }\n\n    getIcon(mimeType) {\n        return this.thumbnailService.getMimeTypeIcon(mimeType);\n    }\n\n    fileClicked(contentLinkModel: any): void {\n        const file = new ContentLinkModel(contentLinkModel);\n        let fetch = this.processContentService.getContentPreview(file.id);\n        if (file.isTypeImage() || file.isTypePdf()) {\n            fetch = this.processContentService.getFileRawContent(file.id);\n        }\n        fetch.subscribe(\n            (blob: Blob) => {\n                file.contentBlob = blob;\n                this.formService.formContentClicked.next(file);\n            },\n            () => {\n                this.logService.error('Unable to send event for file ' + file.name);\n            }\n        );\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ViewEncapsulation } from '@angular/core';\nimport { FormService } from '../../../services/form.service';\nimport { WidgetComponent } from './../widget.component';\n\n /* tslint:disable:component-selector  */\n\n@Component({\n    selector: 'file-viewer-widget',\n    templateUrl: './file-viewer.widget.html',\n    styleUrls: ['./file-viewer.widget.scss'],\n    host: {\n        '(click)': 'event($event)',\n        '(blur)': 'event($event)',\n        '(change)': 'event($event)',\n        '(focus)': 'event($event)',\n        '(focusin)': 'event($event)',\n        '(focusout)': 'event($event)',\n        '(input)': 'event($event)',\n        '(invalid)': 'event($event)',\n        '(select)': 'event($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class FileViewerWidgetComponent extends WidgetComponent {\n\n    constructor(formService: FormService) {\n        super(formService);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContainerWidgetComponent } from './container/container.widget';\nimport { TabsWidgetComponent } from './tabs/tabs.widget';\nimport { UnknownWidgetComponent } from './unknown/unknown.widget';\n\nimport { AmountWidgetComponent } from './amount/amount.widget';\nimport { CheckboxWidgetComponent } from './checkbox/checkbox.widget';\nimport { DateWidgetComponent } from './date/date.widget';\nimport { DisplayTextWidgetComponent } from './display-text/display-text.widget';\nimport { DocumentWidgetComponent } from './document/document.widget';\nimport { DropdownWidgetComponent } from './dropdown/dropdown.widget';\nimport { DynamicTableWidgetComponent } from './dynamic-table/dynamic-table.widget';\nimport { BooleanEditorComponent } from './dynamic-table/editors/boolean/boolean.editor';\nimport { DateEditorComponent } from './dynamic-table/editors/date/date.editor';\nimport { DateTimeEditorComponent } from './dynamic-table/editors/datetime/datetime.editor';\nimport { DropdownEditorComponent } from './dynamic-table/editors/dropdown/dropdown.editor';\nimport { RowEditorComponent } from './dynamic-table/editors/row.editor';\nimport { TextEditorComponent } from './dynamic-table/editors/text/text.editor';\nimport { AmountEditorComponent } from './dynamic-table/editors/amount/amount.editor';\nimport { ErrorWidgetComponent } from './error/error.component';\nimport { FunctionalGroupWidgetComponent } from './functional-group/functional-group.widget';\nimport { HyperlinkWidgetComponent } from './hyperlink/hyperlink.widget';\nimport { MultilineTextWidgetComponentComponent } from './multiline-text/multiline-text.widget';\nimport { NumberWidgetComponent } from './number/number.widget';\nimport { PeopleWidgetComponent } from './people/people.widget';\nimport { RadioButtonsWidgetComponent } from './radio-buttons/radio-buttons.widget';\nimport { InputMaskDirective } from './text/text-mask.component';\nimport { TextWidgetComponent } from './text/text.widget';\nimport { TypeaheadWidgetComponent } from './typeahead/typeahead.widget';\nimport { UploadWidgetComponent } from './upload/upload.widget';\nimport { DateTimeWidgetComponent } from './date-time/date-time.widget';\nimport { JsonWidgetComponent } from './json/json.widget';\nimport { UploadFolderWidgetComponent } from './upload-folder/upload-folder.widget';\nimport { FileViewerWidgetComponent } from './file-viewer/file-viewer.widget';\n\n// core\nexport * from './widget.component';\nexport * from './core/index';\n\n// containers\nexport * from './tabs/tabs.widget';\nexport * from './container/container.widget';\n\n// primitives\nexport * from './unknown/unknown.widget';\nexport * from './text/text.widget';\nexport * from './number/number.widget';\nexport * from './checkbox/checkbox.widget';\nexport * from './multiline-text/multiline-text.widget';\nexport * from './dropdown/dropdown.widget';\nexport * from './hyperlink/hyperlink.widget';\nexport * from './radio-buttons/radio-buttons.widget';\nexport * from './display-text/display-text.widget';\nexport * from './upload/upload.widget';\nexport * from './typeahead/typeahead.widget';\nexport * from './functional-group/functional-group.widget';\nexport * from './people/people.widget';\nexport * from './date/date.widget';\nexport * from './amount/amount.widget';\nexport * from './dynamic-table/dynamic-table.widget';\nexport * from './error/error.component';\nexport * from './document/document.widget';\nexport * from './date-time/date-time.widget';\nexport * from './json/json.widget';\nexport * from './upload-folder/upload-folder.widget';\nexport * from './file-viewer/file-viewer.widget';\n\n// editors (dynamic table)\nexport * from './dynamic-table/dynamic-table.widget.model';\nexport * from './dynamic-table/editors/row.editor';\nexport * from './dynamic-table/editors/date/date.editor';\nexport * from './dynamic-table/editors/dropdown/dropdown.editor';\nexport * from './dynamic-table/editors/boolean/boolean.editor';\nexport * from './dynamic-table/editors/text/text.editor';\nexport * from './dynamic-table/editors/datetime/datetime.editor';\nexport * from './dynamic-table/editors/amount/amount.editor';\nexport * from './text/text-mask.component';\n\nexport const WIDGET_DIRECTIVES: any[] = [\n    UnknownWidgetComponent,\n    TabsWidgetComponent,\n    ContainerWidgetComponent,\n    TextWidgetComponent,\n    NumberWidgetComponent,\n    CheckboxWidgetComponent,\n    MultilineTextWidgetComponentComponent,\n    DropdownWidgetComponent,\n    HyperlinkWidgetComponent,\n    RadioButtonsWidgetComponent,\n    DisplayTextWidgetComponent,\n    UploadWidgetComponent,\n    TypeaheadWidgetComponent,\n    FunctionalGroupWidgetComponent,\n    PeopleWidgetComponent,\n    DateWidgetComponent,\n    AmountWidgetComponent,\n    DynamicTableWidgetComponent,\n    DateEditorComponent,\n    DropdownEditorComponent,\n    BooleanEditorComponent,\n    TextEditorComponent,\n    RowEditorComponent,\n    ErrorWidgetComponent,\n    DocumentWidgetComponent,\n    DateTimeWidgetComponent,\n    DateTimeEditorComponent,\n    JsonWidgetComponent,\n    AmountEditorComponent,\n    UploadFolderWidgetComponent,\n    FileViewerWidgetComponent\n];\n\nexport const MASK_DIRECTIVE: any[] = [\n    InputMaskDirective\n];\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DynamicComponentMapper, DynamicComponentResolveFunction, DynamicComponentResolver } from '../../services/dynamic-component-mapper.service';\nimport { Injectable, Type } from '@angular/core';\nimport * as widgets from './../components/widgets/index';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class FormRenderingService extends DynamicComponentMapper {\n\n    protected defaultValue: Type<{}> = widgets.UnknownWidgetComponent;\n    protected types: { [key: string]: DynamicComponentResolveFunction } = {\n        'text': DynamicComponentResolver.fromType(widgets.TextWidgetComponent),\n        'string': DynamicComponentResolver.fromType(widgets.TextWidgetComponent),\n        'integer': DynamicComponentResolver.fromType(widgets.NumberWidgetComponent),\n        'multi-line-text': DynamicComponentResolver.fromType(widgets.MultilineTextWidgetComponentComponent),\n        'boolean': DynamicComponentResolver.fromType(widgets.CheckboxWidgetComponent),\n        'dropdown': DynamicComponentResolver.fromType(widgets.DropdownWidgetComponent),\n        'date': DynamicComponentResolver.fromType(widgets.DateWidgetComponent),\n        'amount': DynamicComponentResolver.fromType(widgets.AmountWidgetComponent),\n        'radio-buttons': DynamicComponentResolver.fromType(widgets.RadioButtonsWidgetComponent),\n        'hyperlink': DynamicComponentResolver.fromType(widgets.HyperlinkWidgetComponent),\n        'readonly-text': DynamicComponentResolver.fromType(widgets.DisplayTextWidgetComponent),\n        'json': DynamicComponentResolver.fromType(widgets.JsonWidgetComponent),\n        'readonly': DynamicComponentResolver.fromType(widgets.TextWidgetComponent),\n        'typeahead': DynamicComponentResolver.fromType(widgets.TypeaheadWidgetComponent),\n        'people': DynamicComponentResolver.fromType(widgets.PeopleWidgetComponent),\n        'functional-group': DynamicComponentResolver.fromType(widgets.FunctionalGroupWidgetComponent),\n        'dynamic-table': DynamicComponentResolver.fromType(widgets.DynamicTableWidgetComponent),\n        'container': DynamicComponentResolver.fromType(widgets.ContainerWidgetComponent),\n        'group': DynamicComponentResolver.fromType(widgets.ContainerWidgetComponent),\n        'document': DynamicComponentResolver.fromType(widgets.DocumentWidgetComponent),\n        'upload':  DynamicComponentResolver.fromType(widgets.UploadWidgetComponent),\n        'datetime':  DynamicComponentResolver.fromType(widgets.DateTimeWidgetComponent),\n        'file-viewer': DynamicComponentResolver.fromType(widgets.FileViewerWidgetComponent)\n    };\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Compiler,\n    Component, ComponentFactory,\n    ComponentFactoryResolver,\n    ComponentRef,\n    Input,\n    ModuleWithComponentFactories,\n    NgModule,\n    OnDestroy,\n    OnInit,\n    ViewChild,\n    ViewContainerRef,\n    ViewEncapsulation\n} from '@angular/core';\n\nimport { FormRenderingService } from './../../services/form-rendering.service';\nimport { WidgetVisibilityService } from './../../services/widget-visibility.service';\nimport { FormFieldModel } from './../widgets/core/form-field.model';\nimport { WidgetComponent } from './../widgets/widget.component';\n\ndeclare var adf: any;\n\n@Component({\n    selector: 'adf-form-field',\n    template: `\n        <div [id]=\"'field-'+field?.id+'-container'\"\n            [hidden]=\"!field?.isVisible\"\n            [class.adf-focus]=\"focus\"\n            (focusin)=\"focusToggle()\"\n            (focusout)=\"focusToggle()\">\n            <div #container></div>\n        </div>\n    `,\n    encapsulation: ViewEncapsulation.None\n})\nexport class FormFieldComponent implements OnInit, OnDestroy {\n\n    @ViewChild('container', { read: ViewContainerRef, static: true })\n    container: ViewContainerRef;\n\n    /** Contains all the necessary data needed to determine what UI Widget\n     * to use when rendering the field in the form. You would typically not\n     * create this data manually but instead create the form in APS and export\n     * it to get to all the `FormFieldModel` definitions.\n     */\n    @Input()\n    field: FormFieldModel = null;\n\n    componentRef: ComponentRef<{}>;\n\n    focus: boolean = false;\n\n    constructor(private formRenderingService: FormRenderingService,\n                private componentFactoryResolver: ComponentFactoryResolver,\n                private visibilityService: WidgetVisibilityService,\n                private compiler: Compiler) {\n    }\n\n    ngOnInit() {\n        const w: any = window;\n        if (w.adf === undefined) {\n            w.adf = {};\n        }\n        const originalField = this.getField();\n        if (originalField) {\n            const customTemplate = this.field.form.customFieldTemplates[originalField.type];\n            if (customTemplate && this.hasController(originalField.type)) {\n                const factory = this.getComponentFactorySync(originalField.type, customTemplate);\n                this.componentRef = this.container.createComponent(factory);\n                const instance: any = this.componentRef.instance;\n                if (instance) {\n                    instance.field = originalField;\n                }\n            } else {\n                const componentType = this.formRenderingService.resolveComponentType(originalField);\n                if (componentType) {\n                    const factory = this.componentFactoryResolver.resolveComponentFactory(componentType);\n                    this.componentRef = this.container.createComponent(factory);\n                    const instance = <WidgetComponent> this.componentRef.instance;\n                    instance.field = this.field;\n                    instance.fieldChanged.subscribe((field) => {\n                        if (field && this.field.form) {\n                            this.visibilityService.refreshVisibility(field.form);\n                            field.form.onFormFieldChanged(field);\n                        }\n                    });\n                }\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        if (this.componentRef) {\n            this.componentRef.destroy();\n            this.componentRef = null;\n        }\n    }\n\n    private getField(): FormFieldModel {\n        if (this.field && this.field.params) {\n            const wrappedField = this.field.params.field;\n            if (wrappedField && wrappedField.type) {\n                return wrappedField as FormFieldModel;\n            }\n        }\n        return this.field;\n    }\n\n    private hasController(type: string): boolean {\n        return (adf && adf.components && adf.components[type]);\n    }\n\n    private getComponentFactorySync(type: string, template: string): ComponentFactory<any> {\n        const componentInfo = adf.components[type];\n\n        if (componentInfo.factory) {\n            return componentInfo.factory;\n        }\n\n        const metadata = {\n            selector: `runtime-component-${type}`,\n            template: template\n        };\n\n        const factory = this.createComponentFactorySync(this.compiler, metadata, componentInfo.class);\n        componentInfo.factory = factory;\n        return factory;\n    }\n\n    private createComponentFactorySync(compiler: Compiler, metadata: Component, componentClass: any): ComponentFactory<any> {\n        const cmpClass = componentClass || class RuntimeComponent {};\n        const decoratedCmp = Component(metadata)(cmpClass);\n        const moduleClass = class RuntimeComponentModule {};\n        const decoratedNgModule = NgModule({ imports: [], declarations: [decoratedCmp] })(moduleClass);\n        const module: ModuleWithComponentFactories<any> = compiler.compileModuleAndAllComponentsSync(decoratedNgModule);\n\n        return module.componentFactories.find((x) => x.componentType === decoratedCmp);\n    }\n\n    focusToggle() {\n        setTimeout(() => {\n            this.focus = !this.focus;\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormOutcomeModel, FormFieldValidator, FormFieldModel, FormOutcomeEvent, FormModel } from './widgets';\nimport { EventEmitter, Input, Output, Directive } from '@angular/core';\nimport { ThemePalette } from '@angular/material/core';\n\n@Directive()\n// tslint:disable-next-line: directive-class-suffix\nexport abstract class FormBaseComponent {\n\n    static SAVE_OUTCOME_ID: string = '$save';\n    static COMPLETE_OUTCOME_ID: string = '$complete';\n    static START_PROCESS_OUTCOME_ID: string = '$startProcess';\n    static CUSTOM_OUTCOME_ID: string = '$custom';\n    static COMPLETE_BUTTON_COLOR: ThemePalette = 'primary';\n    static COMPLETE_OUTCOME_NAME: string = 'COMPLETE';\n\n    /** Path of the folder where the metadata will be stored. */\n    @Input()\n    path: string;\n\n    /** Name to assign to the new node where the metadata are stored. */\n    @Input()\n    nameNode: string;\n\n    /** Toggle rendering of the form title. */\n    @Input()\n    showTitle: boolean = true;\n\n    /** Toggle rendering of the `Complete` outcome button. */\n    @Input()\n    showCompleteButton: boolean = true;\n\n    /** If true then the `Complete` outcome button is shown but it will be disabled. */\n    @Input()\n    disableCompleteButton: boolean = false;\n\n    /** If true then the `Save` outcome button is shown but will be disabled. */\n    @Input()\n    disableSaveButton: boolean = false;\n\n    /** If true then the `Start Process` outcome button is shown but it will be disabled. */\n    @Input()\n    disableStartProcessButton: boolean = false;\n\n    /** Toggle rendering of the `Save` outcome button. */\n    @Input()\n    showSaveButton: boolean = true;\n\n    /** Toggle readonly state of the form. Forces all form widgets to render as readonly if enabled. */\n    @Input()\n    readOnly: boolean = false;\n\n    /** Toggle rendering of the `Refresh` button. */\n    @Input()\n    showRefreshButton: boolean = true;\n\n    /** Toggle rendering of the validation icon next to the form title. */\n    @Input()\n    showValidationIcon: boolean = true;\n\n    /** Contains a list of form field validator instances. */\n    @Input()\n    fieldValidators: FormFieldValidator[];\n\n    /** Emitted when the supplied form values have a validation error. */\n    @Output()\n    formError: EventEmitter<FormFieldModel[]> = new EventEmitter<FormFieldModel[]>();\n\n    /** Emitted when any outcome is executed. Default behaviour can be prevented\n     * via `event.preventDefault()`.\n     */\n    @Output()\n    executeOutcome: EventEmitter<FormOutcomeEvent> = new EventEmitter<FormOutcomeEvent>();\n\n    /**\n     * Emitted when any error occurs.\n     */\n    @Output()\n    error: EventEmitter<any> = new EventEmitter<any>();\n\n    form: FormModel;\n\n    getParsedFormDefinition(): FormBaseComponent {\n        return this;\n    }\n\n    hasForm(): boolean {\n        return !!this.form;\n    }\n\n    isTitleEnabled(): boolean {\n        let titleEnabled = false;\n        if (this.showTitle && this.form) {\n            titleEnabled = true;\n        }\n        return titleEnabled;\n    }\n\n    getColorForOutcome(outcomeName: string): ThemePalette {\n        return outcomeName === FormBaseComponent.COMPLETE_OUTCOME_NAME ? FormBaseComponent.COMPLETE_BUTTON_COLOR : null;\n    }\n\n    isOutcomeButtonEnabled(outcome: FormOutcomeModel): boolean {\n        if (this.form.readOnly) {\n            return false;\n        }\n\n        if (outcome) {\n            if (outcome.name === FormOutcomeModel.SAVE_ACTION) {\n                return !this.disableSaveButton;\n            }\n            if (outcome.name === FormOutcomeModel.COMPLETE_ACTION) {\n                return this.disableCompleteButton ? false : this.form.isValid;\n            }\n            if (outcome.name === FormOutcomeModel.START_PROCESS_ACTION) {\n                return this.disableStartProcessButton ? false : this.form.isValid;\n            }\n            return this.form.isValid;\n        }\n        return false;\n    }\n\n    isOutcomeButtonVisible(outcome: FormOutcomeModel, isFormReadOnly: boolean): boolean {\n        if (outcome && outcome.name) {\n            if (outcome.name === FormOutcomeModel.COMPLETE_ACTION) {\n                return this.showCompleteButton;\n            }\n            if (isFormReadOnly) {\n                return outcome.isSelected;\n            }\n            if (outcome.name === FormOutcomeModel.SAVE_ACTION) {\n                return this.showSaveButton;\n            }\n            if (outcome.name === FormOutcomeModel.START_PROCESS_ACTION) {\n                return false;\n            }\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Invoked when user clicks outcome button.\n     * @param outcome Form outcome model\n     */\n    onOutcomeClicked(outcome: FormOutcomeModel): boolean {\n        if (!this.readOnly && outcome && this.form) {\n\n            if (!this.onExecuteOutcome(outcome)) {\n                return false;\n            }\n\n            if (outcome.isSystem) {\n                if (outcome.id === FormBaseComponent.SAVE_OUTCOME_ID) {\n                    this.saveTaskForm();\n                    return true;\n                }\n\n                if (outcome.id === FormBaseComponent.COMPLETE_OUTCOME_ID) {\n                    this.completeTaskForm();\n                    return true;\n                }\n\n                if (outcome.id === FormBaseComponent.START_PROCESS_OUTCOME_ID) {\n                    this.completeTaskForm();\n                    return true;\n                }\n\n                if (outcome.id === FormBaseComponent.CUSTOM_OUTCOME_ID) {\n                    this.onTaskSaved(this.form);\n                    this.storeFormAsMetadata();\n                    return true;\n                }\n            } else {\n                // Note: Activiti is using NAME field rather than ID for outcomes\n                if (outcome.name) {\n                    this.onTaskSaved(this.form);\n                    this.completeTaskForm(outcome.name);\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    handleError(err: any): any {\n        this.error.emit(err);\n    }\n\n    abstract onRefreshClicked(): void;\n    abstract saveTaskForm(): void;\n    abstract completeTaskForm(outcome?: string): void;\n\n    protected abstract onTaskSaved(form: FormModel): void;\n    protected abstract storeFormAsMetadata(): void;\n    protected abstract onExecuteOutcome(outcome: FormOutcomeModel): boolean;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, OnChanges, ViewEncapsulation } from '@angular/core';\nimport { FormService } from './../services/form.service';\n\n@Component({\n    selector: 'adf-form-list',\n    templateUrl: './form-list.component.html',\n    encapsulation: ViewEncapsulation.None\n})\nexport class FormListComponent implements OnChanges {\n\n    /** The array that contains the information to show inside the list. */\n    @Input()\n    forms: any [] = [];\n\n    constructor(protected formService: FormService) {\n    }\n\n    ngOnChanges() {\n        this.getForms();\n    }\n\n    isEmpty(): boolean {\n        return this.forms && this.forms.length === 0;\n    }\n\n    getForms() {\n        this.formService.getForms().subscribe((forms) => {\n            this.forms.push(...forms);\n        });\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContentService } from '../../../../services/content.service';\nimport { LogService } from '../../../../services/log.service';\nimport { Component, EventEmitter, Input, OnChanges, Output, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ProcessContentService } from '../../../services/process-content.service';\nimport { ContentLinkModel } from '../core/content-link.model';\nimport { FormService } from './../../../services/form.service';\n\n@Component({\n    selector: 'adf-content',\n    templateUrl: './content.widget.html',\n    styleUrls: ['./content.widget.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class ContentWidgetComponent implements OnChanges {\n\n    /** The content id to show. */\n    @Input()\n    id: string;\n\n    /** Toggles showing document content. */\n    @Input()\n    showDocumentContent: boolean = true;\n\n    /** Emitted when the content is clicked. */\n    @Output()\n    contentClick = new EventEmitter();\n\n    /** Emitted when the thumbnail has loaded. */\n    @Output()\n    thumbnailLoaded: EventEmitter<any> = new EventEmitter<any>();\n\n    /** Emitted when the content has loaded. */\n    @Output()\n    contentLoaded: EventEmitter<any> = new EventEmitter<any>();\n\n    /** Emitted when an error occurs. */\n    @Output()\n    error: EventEmitter<any> = new EventEmitter<any>();\n\n    content: ContentLinkModel;\n\n    constructor(protected formService: FormService,\n                private logService: LogService,\n                private contentService: ContentService,\n                private processContentService: ProcessContentService) {\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const contentId = changes['id'];\n        if (contentId && contentId.currentValue) {\n            this.loadContent(contentId.currentValue);\n        }\n    }\n\n    loadContent(id: number) {\n        this.processContentService\n            .getFileContent(id)\n            .subscribe(\n                (response: ContentLinkModel) => {\n                    this.content = new ContentLinkModel(response);\n                    this.contentLoaded.emit(this.content);\n                    this.loadThumbnailUrl(this.content);\n                },\n                (error) => {\n                    this.error.emit(error);\n                }\n            );\n    }\n\n    loadThumbnailUrl(content: ContentLinkModel) {\n        if (this.content.isThumbnailSupported()) {\n            let observable: Observable<any>;\n\n            if (this.content.isTypeImage()) {\n                observable = this.processContentService.getFileRawContent(content.id);\n            } else {\n                observable = this.processContentService.getContentThumbnail(content.id);\n            }\n\n            if (observable) {\n                observable.subscribe(\n                    (response: Blob) => {\n                        this.content.thumbnailUrl = this.contentService.createTrustedUrl(response);\n                        this.thumbnailLoaded.emit(this.content.thumbnailUrl);\n                    },\n                    (error) => {\n                        this.error.emit(error);\n\n                    }\n                );\n            }\n        }\n    }\n\n    openViewer(content: ContentLinkModel): void {\n        let fetch = this.processContentService.getContentPreview(content.id);\n        if (content.isTypeImage() || content.isTypePdf()) {\n            fetch = this.processContentService.getFileRawContent(content.id);\n        }\n        fetch.subscribe(\n            (blob: Blob) => {\n                content.contentBlob = blob;\n                this.contentClick.emit(content);\n                this.logService.info('Content clicked' + content.id);\n                this.formService.formContentClicked.next(content);\n            },\n            (error) => {\n                this.error.emit(error);\n            }\n        );\n    }\n\n    /**\n     * Invoke content download.\n     */\n    download(content: ContentLinkModel): void {\n        this.processContentService.getFileRawContent(content.id).subscribe(\n            (blob: Blob) => this.contentService.downloadBlob(blob, content.name),\n            (error) => {\n                this.error.emit(error);\n            }\n        );\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Directive } from '@angular/core';\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0\n */\n@Directive({ selector: '[adf-form-custom-button], [form-custom-button]' }) export class StartFormCustomButtonDirective {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ViewEncapsulation, Input } from '@angular/core';\nimport { FormModel } from './widgets/core/form.model';\n\n@Component({\n    selector: 'adf-form-renderer',\n    templateUrl: './form-renderer.component.html',\n    encapsulation: ViewEncapsulation.None\n})\nexport class FormRendererComponent {\n\n    /** Toggle debug options. */\n    @Input()\n    showDebugButton: boolean = false;\n\n    @Input()\n    formDefinition: FormModel;\n\n    debugMode: boolean;\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AlfrescoApiService } from '../../services/alfresco-api.service';\nimport { LogService } from '../../services/log.service';\nimport { SitesService } from '../../services/sites.service';\nimport { Injectable } from '@angular/core';\nimport { AlfrescoApiCompatibility, MinimalNode, RelatedContentRepresentation } from '@alfresco/js-api';\nimport { Observable, from, throwError } from 'rxjs';\nimport { ExternalContent } from '../components/widgets/core/external-content';\nimport { ExternalContentLink } from '../components/widgets/core/external-content-link';\nimport { map, catchError } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ActivitiContentService {\n\n    static UNKNOWN_ERROR_MESSAGE: string = 'Unknown error';\n    static GENERIC_ERROR_MESSAGE: string = 'Server error';\n\n    constructor(private apiService: AlfrescoApiService,\n                private logService: LogService,\n                private sitesService: SitesService) {\n    }\n\n    /**\n     * Returns a list of child nodes below the specified folder\n     *\n     * @param accountId\n     * @param folderId\n     */\n    getAlfrescoNodes(accountId: string, folderId: string): Observable<[ExternalContent]> {\n        const apiService: AlfrescoApiCompatibility = this.apiService.getInstance();\n        const accountShortId = accountId.replace('alfresco-', '');\n        return from(apiService.activiti.alfrescoApi.getContentInFolder(accountShortId, folderId))\n            .pipe(\n                map(this.toJsonArray),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Returns a list of all the repositories configured\n     * @param tenantId\n     * @param includeAccount\n     */\n    getAlfrescoRepositories(tenantId?: number, includeAccount?: boolean): Observable<any> {\n        const apiService: AlfrescoApiCompatibility = this.apiService.getInstance();\n        const opts = {\n            tenantId,\n            includeAccounts: includeAccount ? includeAccount : true\n        };\n        return from(apiService.activiti.alfrescoApi.getRepositories(opts))\n            .pipe(\n                map(this.toJsonArray),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Returns a list of child nodes below the specified folder\n     *\n     * @param accountId\n     * @param node\n     * @param siteId\n     */\n    linkAlfrescoNode(accountId: string, node: ExternalContent, siteId: string): Observable<ExternalContentLink> {\n        const apiService: AlfrescoApiCompatibility = this.apiService.getInstance();\n        return from(apiService.activiti.contentApi.createTemporaryRelatedContent({\n            link: true,\n            name: node.title,\n            simpleType: node.simpleType,\n            source: accountId,\n            sourceId: node.id + '@' + siteId\n        }))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    applyAlfrescoNode(node: MinimalNode, siteId: string, accountId: string) {\n        const apiService: AlfrescoApiCompatibility = this.apiService.getInstance();\n        const currentSideId = siteId ? siteId : this.sitesService.getSiteNameFromNodePath(node);\n        const params: RelatedContentRepresentation = {\n            source: accountId,\n            mimeType: node?.content?.mimeType,\n            sourceId: node.id + ';' + node.properties['cm:versionLabel'] + '@' + currentSideId,\n            name: node.name,\n            link: node.isLink\n        };\n        return from(apiService.activiti.contentApi.createTemporaryRelatedContent(params))\n            .pipe(\n                map(this.toJson),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    toJson(res: any) {\n        if (res) {\n            return res || {};\n        }\n        return {};\n    }\n\n    toJsonArray(res: any) {\n        if (res) {\n            return res.data || [];\n        }\n        return [];\n    }\n\n    handleError(error: any): Observable<any> {\n        let errMsg = ActivitiContentService.UNKNOWN_ERROR_MESSAGE;\n        if (error) {\n            errMsg = (error.message) ? error.message :\n                error.status ? `${error.status} - ${error.statusText}` : ActivitiContentService.GENERIC_ERROR_MESSAGE;\n        }\n        this.logService.error(errMsg);\n        return throwError(errMsg);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { MinimalNode, NodeEntry, NodePaging } from '@alfresco/js-api';\nimport { from, Observable, throwError } from 'rxjs';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { UserPreferencesService } from './user-preferences.service';\nimport { catchError, map } from 'rxjs/operators';\nimport { NodeMetadata } from '../models/node-metadata.model';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class NodesApiService {\n\n    constructor(private api: AlfrescoApiService,\n                private preferences: UserPreferencesService) {}\n\n    private get nodesApi() {\n        return this.api.getInstance().core.nodesApi;\n    }\n\n    private getEntryFromEntity(entity: NodeEntry) {\n        return entity.entry;\n    }\n\n    /**\n     * Gets the stored information about a node.\n     * @param nodeId ID of the target node\n     * @param options Optional parameters supported by JS-API\n     * @returns Node information\n     */\n    getNode(nodeId: string, options: any = {}): Observable<MinimalNode> {\n        const defaults = {\n            include: [ 'path', 'properties', 'allowableOperations', 'permissions' ]\n        };\n        const queryOptions = Object.assign(defaults, options);\n\n        return from(this.nodesApi.getNode(nodeId, queryOptions)).pipe(\n            map(this.getEntryFromEntity),\n            catchError((err) => throwError(err))\n        );\n    }\n\n    /**\n     * Gets the items contained in a folder node.\n     * @param nodeId ID of the target node\n     * @param options Optional parameters supported by JS-API\n     * @returns List of child items from the folder\n     */\n    getNodeChildren(nodeId: string, options: any = {}): Observable<NodePaging> {\n        const defaults = {\n            maxItems: this.preferences.paginationSize,\n            skipCount: 0,\n            include: [ 'path', 'properties', 'allowableOperations', 'permissions' ]\n        };\n        const queryOptions = Object.assign(defaults, options);\n\n        return from(this.nodesApi.getNodeChildren(nodeId, queryOptions)).pipe(\n            catchError((err) => throwError(err))\n        );\n    }\n\n    /**\n     * Creates a new document node inside a folder.\n     * @param parentNodeId ID of the parent folder node\n     * @param nodeBody Data for the new node\n     * @param options Optional parameters supported by JS-API\n     * @returns Details of the new node\n     */\n    createNode(parentNodeId: string, nodeBody: any, options: any = {}): Observable<MinimalNode> {\n        return from(this.nodesApi.addNode(parentNodeId, nodeBody, options)).pipe(\n            map(this.getEntryFromEntity),\n            catchError((err) => throwError(err))\n        );\n    }\n\n    /**\n     * Creates a new folder node inside a parent folder.\n     * @param parentNodeId ID of the parent folder node\n     * @param nodeBody Data for the new folder\n     * @param options Optional parameters supported by JS-API\n     * @returns Details of the new folder\n     */\n    createFolder(parentNodeId: string, nodeBody: any, options: any = {}): Observable<MinimalNode> {\n        const body = Object.assign({ nodeType: 'cm:folder' }, nodeBody);\n        return this.createNode(parentNodeId, body, options);\n    }\n\n    /**\n     * Updates the information about a node.\n     * @param nodeId ID of the target node\n     * @param nodeBody New data for the node\n     * @param options Optional parameters supported by JS-API\n     * @returns Updated node information\n     */\n    updateNode(nodeId: string, nodeBody: any, options: any = {}): Observable<MinimalNode> {\n        const defaults = {\n            include: [ 'path', 'properties', 'allowableOperations', 'permissions', 'definition' ]\n        };\n        const queryOptions = Object.assign(defaults, options);\n\n        return from(this.nodesApi.updateNode(nodeId, nodeBody, queryOptions)).pipe(\n             map(this.getEntryFromEntity),\n            catchError((err) => throwError(err))\n        );\n    }\n\n    /**\n     * Moves a node to the trashcan.\n     * @param nodeId ID of the target node\n     * @param options Optional parameters supported by JS-API\n     * @returns Empty result that notifies when the deletion is complete\n     */\n    deleteNode(nodeId: string, options: any = {}): Observable<any> {\n        return from(this.nodesApi.deleteNode(nodeId, options)).pipe(\n            catchError((err) => throwError(err))\n        );\n    }\n\n    /**\n     * Restores a node previously moved to the trashcan.\n     * @param nodeId ID of the node to restore\n     * @returns Details of the restored node\n     */\n    restoreNode(nodeId: string): Observable<MinimalNode> {\n        return from(this.nodesApi.restoreNode(nodeId)).pipe(\n            map(this.getEntryFromEntity),\n            catchError((err) => throwError(err))\n        );\n    }\n\n    /**\n     * Get the metadata and the nodeType for a nodeId cleaned by the prefix.\n     * @param nodeId ID of the target node\n     * @returns Node metadata\n     */\n    public getNodeMetadata(nodeId: string): Observable<NodeMetadata> {\n        return from(this.nodesApi.getNode(nodeId))\n            .pipe(map(this.cleanMetadataFromSemicolon));\n    }\n\n    /**\n     * Create a new Node from form metadata.\n     * @param path Path to the node\n     * @param nodeType Node type\n     * @param name Node name\n     * @param nameSpace Namespace for properties\n     * @param data Property data to store in the node under namespace\n     * @returns The created node\n     */\n    public createNodeMetadata(nodeType: string, nameSpace: any, data: any, path: string, name?: string): Observable<NodeEntry> {\n        const properties = {};\n        for (const key in data) {\n            if (data[key]) {\n                properties[nameSpace + ':' + key] = data[key];\n            }\n        }\n\n        return this.createNodeInsideRoot(name || this.generateUuid(), nodeType, properties, path);\n    }\n\n    /**\n     * Create a new Node inside `-root-` folder\n     * @param name Node name\n     * @param nodeType Node type\n     * @param properties Node body properties\n     * @param path Path to the node\n     * @returns The created node\n     */\n    public createNodeInsideRoot(name: string, nodeType: string, properties: any, path: string): Observable<NodeEntry> {\n        const body = {\n            name: name,\n            nodeType: nodeType,\n            properties: properties,\n            relativePath: path\n        };\n        return from(this.nodesApi.addNode('-root-', body, {}));\n    }\n\n    private generateUuid() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n    }\n\n    private cleanMetadataFromSemicolon(nodeEntry: NodeEntry): NodeMetadata {\n        const metadata = {};\n\n        if (nodeEntry && nodeEntry.entry.properties) {\n            for (const key in nodeEntry.entry.properties) {\n                if (key) {\n                    if (key.indexOf(':') !== -1) {\n                        metadata [key.split(':')[1]] = nodeEntry.entry.properties[key];\n                    } else {\n                        metadata [key] = nodeEntry.entry.properties[key];\n                    }\n                }\n            }\n        }\n\n        return new NodeMetadata(metadata, nodeEntry.entry.nodeType);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { NodeEntry } from '@alfresco/js-api';\nimport { NodeMetadata } from '../../models/node-metadata.model';\nimport { NodesApiService } from '../../services/nodes-api.service';\n\n@Injectable({\n    providedIn: 'root'\n})\n/**\n * @deprecated in 3.8.0, use NodesApiService instead.\n */\nexport class NodeService {\n\n    constructor(private nodesApiService: NodesApiService) {}\n\n    /**\n     * @deprecated in 3.8.0, use NodesApiService instead.\n     * Get the metadata and the nodeType for a nodeId cleaned by the prefix.\n     * @param nodeId ID of the target node\n     * @returns Node metadata\n     */\n    public getNodeMetadata(nodeId: string): Observable<NodeMetadata> {\n        return this.nodesApiService.getNodeMetadata(nodeId);\n    }\n\n    /**\n     * @deprecated in 3.8.0, use NodesApiService instead.\n     * Create a new Node from form metadata.\n     * @param path Path to the node\n     * @param nodeType Node type\n     * @param name Node name\n     * @param nameSpace Namespace for properties\n     * @param data Property data to store in the node under namespace\n     * @returns The created node\n     */\n    public createNodeMetadata(nodeType: string, nameSpace: any, data: any, path: string, name?: string): Observable<NodeEntry> {\n        return this.nodesApiService.createNodeMetadata(nodeType, nameSpace, data, path, name);\n    }\n\n    /**\n     * @deprecated in 3.8.0, use `createNodeInsideRoot` method from NodesApiService instead.\n     * Create a new Node from form metadata\n     * @param name Node name\n     * @param nodeType Node type\n     * @param properties Node body properties\n     * @param path Path to the node\n     * @returns The created node\n     */\n    public createNode(name: string, nodeType: string, properties: any, path: string): Observable<NodeEntry> {\n        return this.nodesApiService.createNodeInsideRoot(name, nodeType, properties, path);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormModel } from './../components/widgets/core/index';\nimport { FormEvent } from './form.event';\n\nexport class FormErrorEvent extends FormEvent {\n\n    readonly error: any;\n\n    constructor(form: FormModel, error: any) {\n        super(form);\n        this.error = error;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { EditJsonDialogComponent } from './edit-json.dialog';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        TranslateModule,\n        MatDialogModule,\n        MatButtonModule\n    ],\n    declarations: [\n        EditJsonDialogComponent\n    ],\n    exports: [\n        EditJsonDialogComponent\n    ]\n})\nexport class EditJsonDialogModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DataTableModule } from '../datatable/datatable.module';\nimport { DataColumnModule } from '../data-column/data-column.module';\nimport { PipeModule } from '../pipes/pipe.module';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { MaterialModule } from '../material.module';\n\nimport { MASK_DIRECTIVE, WIDGET_DIRECTIVES } from './components/widgets/index';\n\nimport { StartFormCustomButtonDirective } from './components/form-custom-button.directive';\n\nimport { FormFieldComponent } from './components/form-field/form-field.component';\nimport { FormListComponent } from './components/form-list.component';\nimport { ContentWidgetComponent } from './components/widgets/content/content.widget';\nimport { WidgetComponent } from './components/widgets/widget.component';\nimport { MatDatetimepickerModule, MatNativeDatetimeModule } from '@mat-datetimepicker/core';\nimport { FormRendererComponent } from './components/form-renderer.component';\nimport { EditJsonDialogModule } from '../dialogs/edit-json/edit-json.dialog.module';\nimport { A11yModule } from '@angular/cdk/a11y';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { ViewerModule } from '../viewer/viewer.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        A11yModule,\n        FlexLayoutModule,\n        DataTableModule,\n        HttpClientModule,\n        MaterialModule,\n        TranslateModule,\n        FormsModule,\n        ReactiveFormsModule,\n        DataColumnModule,\n        PipeModule,\n        MatDatetimepickerModule,\n        MatNativeDatetimeModule,\n        EditJsonDialogModule,\n        ViewerModule\n    ],\n    declarations: [\n        ContentWidgetComponent,\n        FormFieldComponent,\n        FormListComponent,\n        FormRendererComponent,\n        StartFormCustomButtonDirective,\n        ...WIDGET_DIRECTIVES,\n        ...MASK_DIRECTIVE,\n        WidgetComponent\n    ],\n    exports: [\n        ContentWidgetComponent,\n        FormFieldComponent,\n        FormListComponent,\n        FormRendererComponent,\n        StartFormCustomButtonDirective,\n        ...WIDGET_DIRECTIVES\n    ]\n})\nexport class FormBaseModule {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, Output, EventEmitter, ViewEncapsulation, OnInit } from '@angular/core';\nimport { ThemePalette } from '@angular/material/core';\n\n@Component({\n    selector: 'adf-layout-header',\n    templateUrl: './header.component.html',\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-layout-header' }\n})\nexport class HeaderLayoutComponent implements OnInit {\n    /** Title of the application. */\n    @Input() title: string;\n\n    /** Path to an image file for the application logo. */\n    @Input() logo: string;\n\n    /** The router link for the application logo, when clicked. */\n    @Input() redirectUrl: string | any[] = '/';\n\n    /** The tooltip text for the application logo. */\n    @Input() tooltip: string;\n\n    /**\n     * Background color for the header. It can be any hex color code or one\n     * of the Material theme colors: 'primary', 'accent' or 'warn'.\n     */\n    @Input() color: ThemePalette;\n\n    /**\n     * Toggles whether the sidenav button will be displayed in the header\n     * or not.\n     */\n    @Input() showSidenavToggle: boolean = true;\n\n    /** Emitted when the sidenav button is clicked. */\n    @Output() clicked = new EventEmitter<boolean>();\n\n    /** expandedSidenav: Toggles the expanded state of the component. */\n    @Input() expandedSidenav: boolean = true;\n\n    /** The side of the page that the drawer is attached to (can be 'start' or 'end') */\n    @Input() position = 'start';\n\n    toggleMenu() {\n        this.clicked.emit(true);\n        this.expandedSidenav = !this.expandedSidenav;\n    }\n\n    ngOnInit() {\n        if (!this.logo) {\n            this.logo = './assets/images/logo.png';\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { trigger, transition, animate, style, state, AnimationTriggerMetadata } from '@angular/animations';\n\nexport const sidenavAnimation: AnimationTriggerMetadata = trigger('sidenavAnimation', [\n    state('expanded', style({ width: '{{ width }}px' }), { params : { width: 0 } }),\n    state('compact',  style({ width: '{{ width }}px' }), { params : { width: 0 } }),\n    transition('compact <=> expanded', animate('0.4s cubic-bezier(0.25, 0.8, 0.25, 1)'))\n]);\n\nexport const contentAnimation: AnimationTriggerMetadata = trigger('contentAnimationLeft', [\n    state('expanded', style({\n        'margin-left': '{{ margin-left }}px',\n        'margin-right': '{{ margin-right }}px'\n    }), { params: { 'margin-left': 0, 'margin-right': 0 } }),\n    state('compact', style({\n        'margin-left': '{{ margin-left }}px',\n        'margin-right': '{{ margin-right }}px'\n    }), { params: { 'margin-left': 0, 'margin-right': 0 } }),\n    transition('expanded <=> compact', animate('400ms cubic-bezier(0.25, 0.8, 0.25, 1)'))\n]);\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, ViewChild, OnInit, OnDestroy, ViewEncapsulation, OnChanges, SimpleChanges } from '@angular/core';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { sidenavAnimation, contentAnimation } from '../../helpers/animations';\nimport { Direction } from '@angular/cdk/bidi';\n\n@Component({\n    selector: 'adf-layout-container',\n    templateUrl: './layout-container.component.html',\n    encapsulation: ViewEncapsulation.None,\n    animations: [sidenavAnimation, contentAnimation]\n})\nexport class LayoutContainerComponent implements OnInit, OnDestroy, OnChanges {\n    @Input() sidenavMin: number;\n    @Input() sidenavMax: number;\n\n    // \" | any\", because Safari throws an error otherwise...\n    @Input() mediaQueryList: MediaQueryList | any;\n\n    @Input() hideSidenav = false;\n    @Input() expandedSidenav = true;\n\n    /** The side that the drawer is attached to 'start' | 'end' page */\n    @Input() position: 'start' | 'end' = 'start';\n\n    /** Layout text orientation 'ltr' | 'rtl' */\n    @Input() direction: Direction = 'ltr';\n\n    @ViewChild(MatSidenav, { static: true }) sidenav: MatSidenav;\n\n    sidenavAnimationState: any;\n    contentAnimationState: any;\n\n    SIDENAV_STATES = { MOBILE: {}, EXPANDED: {}, COMPACT: {} };\n    CONTENT_STATES = { MOBILE: {}, EXPANDED: {}, COMPACT: {} };\n\n    constructor() {\n        this.onMediaQueryChange = this.onMediaQueryChange.bind(this);\n    }\n\n    ngOnInit() {\n        this.SIDENAV_STATES.MOBILE = { value: 'expanded', params: { width: this.sidenavMax } };\n        this.SIDENAV_STATES.EXPANDED = { value: 'expanded', params: { width: this.sidenavMax } };\n        this.SIDENAV_STATES.COMPACT = { value: 'compact', params: { width: this.sidenavMin } };\n\n        this.CONTENT_STATES.MOBILE = { value: 'expanded' };\n\n        this.mediaQueryList.addListener(this.onMediaQueryChange);\n\n        if (this.isMobileScreenSize) {\n            this.sidenavAnimationState = this.SIDENAV_STATES.MOBILE;\n            this.contentAnimationState = this.CONTENT_STATES.MOBILE;\n        } else if (this.expandedSidenav) {\n            this.sidenavAnimationState = this.SIDENAV_STATES.EXPANDED;\n            this.contentAnimationState = this.toggledContentAnimation;\n        } else {\n            this.sidenavAnimationState = this.SIDENAV_STATES.COMPACT;\n            this.contentAnimationState = this.toggledContentAnimation;\n        }\n    }\n\n    ngOnDestroy(): void {\n        this.mediaQueryList.removeListener(this.onMediaQueryChange);\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes && changes.direction) {\n            this.contentAnimationState = this.toggledContentAnimation;\n        }\n    }\n\n    toggleMenu(): void {\n        if (this.isMobileScreenSize) {\n            this.sidenav.toggle();\n        } else {\n            this.sidenavAnimationState = this.toggledSidenavAnimation;\n            this.contentAnimationState = this.toggledContentAnimation;\n        }\n    }\n\n    get isMobileScreenSize(): boolean {\n        return this.mediaQueryList.matches;\n    }\n\n    getContentAnimationState(): any {\n        return this.contentAnimationState;\n    }\n\n    private get toggledSidenavAnimation(): any {\n        return this.sidenavAnimationState === this.SIDENAV_STATES.EXPANDED\n            ? this.SIDENAV_STATES.COMPACT\n            : this.SIDENAV_STATES.EXPANDED;\n    }\n\n    private get toggledContentAnimation(): any {\n        if (this.isMobileScreenSize) {\n            return this.CONTENT_STATES.MOBILE;\n        }\n\n        if (this.sidenavAnimationState === this.SIDENAV_STATES.EXPANDED) {\n            if (this.position === 'start' && this.direction === 'ltr') {\n                return { value: 'compact', params: { 'margin-left': this.sidenavMax } };\n            }\n\n            if (this.position === 'start' && this.direction === 'rtl') {\n                return { value: 'compact', params: { 'margin-right': this.sidenavMax } };\n            }\n\n            if (this.position === 'end' && this.direction === 'ltr') {\n                return { value: 'compact', params: { 'margin-right': this.sidenavMax } };\n            }\n\n            if (this.position === 'end' && this.direction === 'rtl') {\n                return { value: 'compact', params: { 'margin-left': this.sidenavMax } };\n            }\n\n        } else {\n            if (this.position === 'start' && this.direction === 'ltr') {\n                return { value: 'expanded', params: { 'margin-left': this.sidenavMin } };\n            }\n\n            if (this.position === 'start' && this.direction === 'rtl') {\n                return { value: 'expanded', params: { 'margin-right': this.sidenavMin } };\n            }\n\n            if (this.position === 'end' && this.direction === 'ltr') {\n                return { value: 'expanded', params: { 'margin-right': this.sidenavMin } };\n            }\n\n            if (this.position === 'end' && this.direction === 'rtl') {\n                return { value: 'expanded', params: { 'margin-left': this.sidenavMin } };\n            }\n        }\n    }\n\n    private onMediaQueryChange(): void {\n        this.sidenavAnimationState = this.SIDENAV_STATES.EXPANDED;\n        this.contentAnimationState = this.toggledContentAnimation;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ChangeDetectionStrategy, Component, Directive, Input, ViewEncapsulation } from '@angular/core';\n\n@Component({\n    selector: 'adf-sidebar-action-menu',\n    templateUrl: './sidebar-action-menu.component.html',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    host: { 'class': 'adf-sidebar-action-menu' }\n})\n\nexport class SidebarActionMenuComponent {\n\n    /** The title of the sidebar action. */\n    @Input()\n    title: string;\n\n    /** Toggle the sidebar action menu on expand. */\n    @Input()\n    expanded: boolean;\n\n    /** Width in pixels for sidebar action menu options. */\n    @Input()\n    width: number = 272;\n\n    isExpanded(): boolean {\n        return this.expanded;\n    }\n}\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0\n */\n@Directive({ selector: '[adf-sidebar-menu-options], [sidebar-menu-options]' }) export class SidebarMenuDirective {}\n@Directive({ selector: '[adf-sidebar-menu-title-icon], [sidebar-menu-title-icon]' }) export class SidebarMenuTitleIconDirective { }\n@Directive({ selector: '[adf-sidebar-menu-expand-icon], [sidebar-menu-expand-icon]' }) export class SidebarMenuExpandIconDirective { }\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContentChild, Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n    selector: 'adf-sidenav-layout-content'\n})\nexport class SidenavLayoutContentDirective {\n    @ContentChild(TemplateRef)\n    public template: TemplateRef<any>;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContentChild, Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n    selector: 'adf-sidenav-layout-header'\n})\nexport class SidenavLayoutHeaderDirective {\n    @ContentChild(TemplateRef)\n    public template: TemplateRef<any>;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContentChild, Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n    selector: 'adf-sidenav-layout-navigation'\n})\nexport class SidenavLayoutNavigationDirective {\n    @ContentChild(TemplateRef)\n    public template: TemplateRef<any>;\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Component,\n    ContentChild,\n    Input,\n    Output,\n    OnInit,\n    AfterViewInit,\n    ViewChild,\n    OnDestroy,\n    TemplateRef,\n    EventEmitter,\n    ViewEncapsulation\n} from '@angular/core';\nimport { MediaMatcher } from '@angular/cdk/layout';\nimport { UserPreferencesService } from '../../../services/user-preferences.service';\nimport { SidenavLayoutContentDirective } from '../../directives/sidenav-layout-content.directive';\nimport { SidenavLayoutHeaderDirective } from '../../directives/sidenav-layout-header.directive';\nimport { SidenavLayoutNavigationDirective } from '../../directives/sidenav-layout-navigation.directive';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\nimport { Direction } from '@angular/cdk/bidi';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-sidenav-layout',\n    templateUrl: './sidenav-layout.component.html',\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-sidenav-layout' }\n})\nexport class SidenavLayoutComponent implements OnInit, AfterViewInit, OnDestroy {\n    static STEP_OVER = 600;\n\n    /** The direction of the layout. 'ltr' or 'rtl' */\n    dir: Direction = 'ltr';\n\n    /** The side that the drawer is attached to. Possible values are 'start' and 'end'. */\n    @Input() position: 'start' | 'end' = 'start';\n\n    /** Minimum size of the navigation region. */\n    @Input() sidenavMin: number;\n\n    /** Maximum size of the navigation region. */\n    @Input() sidenavMax: number;\n\n    /** Screen size at which display switches from small screen to large screen configuration. */\n    @Input() stepOver: number;\n\n    /** Toggles showing/hiding the navigation region. */\n    @Input() hideSidenav = false;\n\n    /** Should the navigation region be expanded initially? */\n    @Input() expandedSidenav = true;\n\n    /** Emitted when the menu toggle and the collapsed/expanded state of the sideNav changes. */\n    @Output() expanded = new EventEmitter<boolean>();\n\n    @ContentChild(SidenavLayoutHeaderDirective)\n    headerDirective: SidenavLayoutHeaderDirective;\n\n    @ContentChild(SidenavLayoutNavigationDirective)\n    navigationDirective: SidenavLayoutNavigationDirective;\n\n    @ContentChild(SidenavLayoutContentDirective)\n    contentDirective: SidenavLayoutContentDirective;\n\n    private menuOpenStateSubject: BehaviorSubject<boolean>;\n    public menuOpenState$: Observable<boolean>;\n\n    @ViewChild('container', { static: true }) container: any;\n    @ViewChild('emptyTemplate', { static: true }) emptyTemplate: any;\n\n    mediaQueryList: MediaQueryList;\n    _isMenuMinimized;\n\n    templateContext = {\n        toggleMenu: () => {},\n        isMenuMinimized: () => this.isMenuMinimized\n    };\n\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(private mediaMatcher: MediaMatcher, private userPreferencesService: UserPreferencesService ) {\n        this.onMediaQueryChange = this.onMediaQueryChange.bind(this);\n    }\n\n    ngOnInit() {\n        const initialMenuState = !this.expandedSidenav;\n\n        this.menuOpenStateSubject = new BehaviorSubject<boolean>(initialMenuState);\n        this.menuOpenState$ = this.menuOpenStateSubject.asObservable();\n\n        const stepOver = this.stepOver || SidenavLayoutComponent.STEP_OVER;\n        this.isMenuMinimized = initialMenuState;\n\n        this.mediaQueryList = this.mediaMatcher.matchMedia(`(max-width: ${stepOver}px)`);\n        this.mediaQueryList.addListener(this.onMediaQueryChange);\n\n        this.userPreferencesService\n            .select('textOrientation')\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe((direction: Direction) => {\n                this.dir = direction;\n            });\n    }\n\n    ngAfterViewInit() {\n        this.templateContext.toggleMenu = this.toggleMenu.bind(this);\n    }\n\n    ngOnDestroy(): void {\n        this.mediaQueryList.removeListener(this.onMediaQueryChange);\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    toggleMenu() {\n        if (!this.mediaQueryList.matches) {\n            this.isMenuMinimized = !this.isMenuMinimized;\n        } else {\n            this.isMenuMinimized = false;\n        }\n\n        this.container.toggleMenu();\n        this.expanded.emit(!this.isMenuMinimized);\n    }\n\n    get isMenuMinimized() {\n        return this._isMenuMinimized;\n    }\n\n    set isMenuMinimized(menuState: boolean) {\n        this._isMenuMinimized = menuState;\n        this.menuOpenStateSubject.next(!menuState);\n    }\n\n    get isHeaderInside() {\n        return this.mediaQueryList.matches;\n    }\n\n    get headerTemplate(): TemplateRef<any> {\n        return this.headerDirective && this.headerDirective.template || this.emptyTemplate;\n    }\n\n    get navigationTemplate(): TemplateRef<any> {\n        return this.navigationDirective && this.navigationDirective.template || this.emptyTemplate;\n    }\n\n    get contentTemplate(): TemplateRef<any> {\n        return this.contentDirective && this.contentDirective.template || this.emptyTemplate;\n    }\n\n    onMediaQueryChange() {\n        this.isMenuMinimized = false;\n        this.expanded.emit(!this.isMenuMinimized);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { MaterialModule } from '../material.module';\nimport { SidenavLayoutContentDirective } from './directives/sidenav-layout-content.directive';\nimport { SidenavLayoutHeaderDirective } from './directives/sidenav-layout-header.directive';\nimport { SidenavLayoutNavigationDirective } from './directives/sidenav-layout-navigation.directive';\nimport { SidenavLayoutComponent } from './components/sidenav-layout/sidenav-layout.component';\nimport { LayoutContainerComponent } from './components/layout-container/layout-container.component';\nimport { SidebarActionMenuComponent, SidebarMenuDirective,\n    SidebarMenuExpandIconDirective, SidebarMenuTitleIconDirective } from './components/sidebar-action/sidebar-action-menu.component';\nimport { HeaderLayoutComponent } from './components/header/header.component';\nimport { TranslateModule } from '@ngx-translate/core';\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        RouterModule,\n        TranslateModule\n    ],\n    exports: [\n        SidenavLayoutHeaderDirective,\n        SidenavLayoutContentDirective,\n        SidenavLayoutNavigationDirective,\n        SidenavLayoutComponent,\n        LayoutContainerComponent,\n        SidebarActionMenuComponent,\n        SidebarMenuDirective,\n        SidebarMenuExpandIconDirective,\n        SidebarMenuTitleIconDirective,\n        HeaderLayoutComponent\n    ],\n    declarations: [\n        SidenavLayoutHeaderDirective,\n        SidenavLayoutContentDirective,\n        SidenavLayoutNavigationDirective,\n        SidenavLayoutComponent,\n        LayoutContainerComponent,\n        SidebarActionMenuComponent,\n        SidebarMenuDirective,\n        SidebarMenuExpandIconDirective,\n        SidebarMenuTitleIconDirective,\n        HeaderLayoutComponent\n    ]\n})\nexport class SidenavLayoutModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, EventEmitter, Input, Output, ViewEncapsulation, OnInit, OnDestroy } from '@angular/core';\nimport { CommentModel } from '../models/comment.model';\nimport { EcmUserService } from '../services/ecm-user.service';\nimport { PeopleProcessService } from '../services/people-process.service';\nimport { UserPreferencesService, UserPreferenceValues } from '../services/user-preferences.service';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-comment-list',\n    templateUrl: './comment-list.component.html',\n    encapsulation: ViewEncapsulation.None\n})\n\nexport class CommentListComponent implements OnInit, OnDestroy {\n\n    /** The comments data used to populate the list. */\n    @Input()\n    comments: CommentModel[];\n\n    /** Emitted when the user clicks on one of the comment rows. */\n    @Output()\n    clickRow: EventEmitter<CommentModel> = new EventEmitter<CommentModel>();\n\n    selectedComment: CommentModel;\n    currentLocale;\n    private onDestroy$ = new Subject<boolean>();\n\n    constructor(public peopleProcessService: PeopleProcessService,\n                public ecmUserService: EcmUserService,\n                public userPreferenceService: UserPreferencesService) {\n    }\n\n    ngOnInit() {\n        this.userPreferenceService\n            .select(UserPreferenceValues.Locale)\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe(locale => this.currentLocale = locale);\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    selectComment(comment: CommentModel): void {\n        if (this.selectedComment) {\n            this.selectedComment.isSelected = false;\n        }\n        comment.isSelected = true;\n        this.selectedComment = comment;\n        this.clickRow.emit(this.selectedComment);\n    }\n\n    getUserShortName(user: any): string {\n        let shortName = '';\n        if (user) {\n            if (user.firstName) {\n                shortName = user.firstName[0].toUpperCase();\n            }\n            if (user.lastName) {\n                shortName += user.lastName[0].toUpperCase();\n            }\n        }\n        return shortName;\n    }\n\n    isPictureDefined(user: any): boolean {\n        return user.pictureId || user.avatarId;\n    }\n\n    getUserImage(user: any): string {\n        if (this.isAContentUsers(user)) {\n            return this.ecmUserService.getUserProfileImage(user.avatarId);\n        } else {\n            return this.peopleProcessService.getUserImage(user);\n        }\n    }\n\n    private isAContentUsers(user: any): boolean {\n        return user.avatarId;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, from, throwError } from 'rxjs';\nimport { CommentModel } from '../models/comment.model';\nimport { UserProcessModel } from '../models/user-process.model';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { LogService } from './log.service';\nimport { map, catchError } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CommentProcessService {\n\n    constructor(private apiService: AlfrescoApiService,\n                private logService: LogService) {\n    }\n\n    /**\n     * Adds a comment to a task.\n     * @param taskId ID of the target task\n     * @param message Text for the comment\n     * @returns Details about the comment\n     */\n    addTaskComment(taskId: string, message: string): Observable<CommentModel> {\n        return from(this.apiService.getInstance().activiti.taskApi.addTaskComment({ message: message }, taskId))\n            .pipe(\n                map((response) => {\n                    return new CommentModel({\n                        id: response.id,\n                        message: response.message,\n                        created: response.created,\n                        createdBy: response.createdBy\n                    });\n                }),\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets all comments that have been added to a task.\n     * @param taskId ID of the target task\n     * @returns Details for each comment\n     */\n    getTaskComments(taskId: string): Observable<CommentModel[]> {\n        return from(this.apiService.getInstance().activiti.taskApi.getTaskComments(taskId))\n            .pipe(\n                map((response) => {\n                    const comments: CommentModel[] = [];\n                    response.data.forEach((comment) => {\n                        const user = new UserProcessModel(comment.createdBy);\n                        comments.push(new CommentModel({\n                            id: comment.id,\n                            message: comment.message,\n                            created: comment.created,\n                            createdBy: user\n                        }));\n                    });\n                    return comments;\n                }),\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets all comments that have been added to a process instance.\n     * @param processInstanceId ID of the target process instance\n     * @returns Details for each comment\n     */\n    getProcessInstanceComments(processInstanceId: string): Observable<CommentModel[]> {\n        return from(this.apiService.getInstance().activiti.commentsApi.getProcessInstanceComments(processInstanceId))\n            .pipe(\n                map((response) => {\n                    const comments: CommentModel[] = [];\n                    response.data.forEach((comment) => {\n                        const user = new UserProcessModel(comment.createdBy);\n                        comments.push(new CommentModel({\n                            id: comment.id,\n                            message: comment.message,\n                            created: comment.created,\n                            createdBy: user\n                        }));\n                    });\n                    return comments;\n                }),\n                catchError((err: any) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Adds a comment to a process instance.\n     * @param processInstanceId ID of the target process instance\n     * @param message Text for the comment\n     * @returns Details of the comment added\n     */\n    addProcessInstanceComment(processInstanceId: string, message: string): Observable<CommentModel> {\n        return from(\n            this.apiService.getInstance().activiti.commentsApi.addProcessInstanceComment({ message: message }, processInstanceId)\n        ).pipe(\n            map((response) => {\n                return new CommentModel({\n                    id: response.id,\n                    message: response.message,\n                    created: response.created,\n                    createdBy: response.createdBy\n                });\n            }),\n            catchError((err: any) => this.handleError(err))\n        );\n    }\n\n    private handleError(error: any) {\n        this.logService.error(error);\n        return throwError(error || 'Server error');\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, from, throwError } from 'rxjs';\nimport { CommentModel } from '../models/comment.model';\nimport { AlfrescoApiService } from '../services/alfresco-api.service';\nimport { LogService } from '../services/log.service';\nimport { map, catchError } from 'rxjs/operators';\nimport { CommentEntry } from '@alfresco/js-api';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CommentContentService {\n\n    constructor(private apiService: AlfrescoApiService,\n                private logService: LogService) {\n    }\n\n    /**\n     * Adds a comment to a node.\n     * @param nodeId ID of the target node\n     * @param message Text for the comment\n     * @returns Details of the comment added\n     */\n    addNodeComment(nodeId: string, message: string): Observable<CommentModel> {\n        return from(this.apiService.getInstance().core.commentsApi.addComment(nodeId, {content: message}))\n            .pipe(\n                map((response: CommentEntry) => {\n                    return new CommentModel({\n                        id: response.entry.id,\n                        message: response.entry.content,\n                        created: response.entry.createdAt,\n                        createdBy: response.entry.createdBy\n                    });\n                }),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets all comments that have been added to a node.\n     * @param nodeId ID of the target node\n     * @returns Details for each comment\n     */\n    getNodeComments(nodeId: string): Observable<CommentModel[]> {\n        return from(this.apiService.getInstance().core.commentsApi.getComments(nodeId))\n            .pipe(\n                map((response) => {\n                    const comments: CommentModel[] = [];\n                    response.list.entries.forEach((comment: any) => {\n                        comments.push(new CommentModel({\n                            id: comment.entry.id,\n                            message: comment.entry.content,\n                            created: comment.entry.createdAt,\n                            createdBy: comment.entry.createdBy\n                        }));\n                    });\n                    return comments;\n                }),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    private handleError(error: any) {\n        this.logService.error(error);\n        return throwError(error || 'Server error');\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommentProcessService } from '../services/comment-process.service';\nimport { CommentContentService } from '../services/comment-content.service';\nimport { CommentModel } from '../models/comment.model';\nimport { Component, EventEmitter, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\nimport { Observable, Observer } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\n@Component({\n    selector: 'adf-comments',\n    templateUrl: './comments.component.html'\n})\nexport class CommentsComponent implements OnChanges {\n\n    /** The numeric ID of the task. */\n    @Input()\n    taskId: string;\n\n    /** The numeric ID of the node. */\n    @Input()\n    nodeId: string;\n\n    /** Are the comments read only? */\n    @Input()\n    readOnly: boolean = false;\n\n    /** Emitted when an error occurs while displaying/adding a comment. */\n    @Output()\n    error: EventEmitter<any> = new EventEmitter<any>();\n\n    comments: CommentModel [] = [];\n\n    private commentObserver: Observer<CommentModel>;\n    comment$: Observable<CommentModel>;\n\n    message: string;\n\n    beingAdded: boolean = false;\n\n    constructor(private commentProcessService: CommentProcessService,\n                private commentContentService: CommentContentService) {\n        this.comment$ = new Observable<CommentModel>((observer) => this.commentObserver = observer)\n            .pipe(share());\n        this.comment$.subscribe((comment: CommentModel) => {\n            this.comments.push(comment);\n        });\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        this.taskId = null;\n        this.nodeId = null;\n\n        this.taskId = changes['taskId'] ? changes['taskId'].currentValue : null;\n        this.nodeId = changes['nodeId'] ? changes['nodeId'].currentValue : null;\n\n        if (this.taskId || this.nodeId) {\n            this.getComments();\n        } else {\n            this.resetComments();\n        }\n    }\n\n    private getComments(): void {\n        this.resetComments();\n        if (this.isATask()) {\n            this.commentProcessService.getTaskComments(this.taskId).subscribe(\n                (comments: CommentModel[]) => {\n                    if (comments && comments instanceof Array) {\n                        comments = comments.sort((comment1: CommentModel, comment2: CommentModel) => {\n                            const date1 = new Date(comment1.created);\n                            const date2 = new Date(comment2.created);\n                            return date1 > date2 ? -1 : date1 < date2 ? 1 : 0;\n                        });\n                        comments.forEach((currentComment) => {\n                            this.commentObserver.next(currentComment);\n                        });\n                    }\n\n                },\n                (err) => {\n                    this.error.emit(err);\n                }\n            );\n        }\n\n        if (this.isANode()) {\n            this.commentContentService.getNodeComments(this.nodeId).subscribe(\n                (comments: CommentModel[]) => {\n                    if (comments && comments instanceof Array) {\n\n                        comments = comments.sort((comment1: CommentModel, comment2: CommentModel) => {\n                            const date1 = new Date(comment1.created);\n                            const date2 = new Date(comment2.created);\n                            return date1 > date2 ? -1 : date1 < date2 ? 1 : 0;\n                        });\n                        comments.forEach((comment) => {\n                            this.commentObserver.next(comment);\n                        });\n                    }\n                },\n                (err) => {\n                    this.error.emit(err);\n                }\n            );\n        }\n    }\n\n    private resetComments(): void {\n        this.comments = [];\n    }\n\n    add(): void {\n        if (this.message && this.message.trim() && !this.beingAdded) {\n            const comment = this.sanitize(this.message);\n\n            this.beingAdded = true;\n            if (this.isATask()) {\n                this.commentProcessService.addTaskComment(this.taskId, comment)\n                    .subscribe(\n                        (res: CommentModel) => {\n                            this.comments.unshift(res);\n                            this.message = '';\n                            this.beingAdded = false;\n\n                        },\n                        (err) => {\n                            this.error.emit(err);\n                            this.beingAdded = false;\n                        }\n                    );\n            }\n\n            if (this.isANode()) {\n                this.commentContentService.addNodeComment(this.nodeId, comment)\n                    .subscribe(\n                        (res: CommentModel) => {\n                            this.comments.unshift(res);\n                            this.message = '';\n                            this.beingAdded = false;\n\n                        },\n                        (err) => {\n                            this.error.emit(err);\n                            this.beingAdded = false;\n                        }\n                    );\n            }\n        }\n    }\n\n    clear(event: Event): void {\n        event.stopPropagation();\n        this.message = '';\n    }\n\n    isReadOnly(): boolean {\n        return this.readOnly;\n    }\n\n    isATask(): boolean {\n        return !!this.taskId;\n    }\n\n    isANode(): boolean {\n        return !!this.nodeId;\n    }\n\n    private sanitize(input: string): string {\n        return input.replace(/<[^>]+>/g, '')\n            .replace(/^\\s+|\\s+$|\\s+(?=\\s)/g, '')\n            .replace(/\\r?\\n/g, '<br/>');\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MaterialModule } from '../material.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { DataColumnModule } from '../data-column/data-column.module';\nimport { DataTableModule } from '../datatable/datatable.module';\nimport { PipeModule } from '../pipes/pipe.module';\n\nimport { CommentListComponent } from './comment-list.component';\nimport { CommentsComponent } from './comments.component';\n\n@NgModule({\n    imports: [\n        PipeModule,\n        DataColumnModule,\n        DataTableModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MaterialModule,\n        CommonModule,\n        TranslateModule\n    ],\n    declarations: [\n        CommentListComponent,\n        CommentsComponent\n    ],\n    exports: [\n        CommentListComponent,\n        CommentsComponent\n    ]\n})\nexport class CommentsModule {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ContentChildren, QueryList, AfterContentInit, ViewEncapsulation } from '@angular/core';\nimport { MatMenuItem } from '@angular/material/menu';\n\n@Component({\n    selector: 'adf-buttons-action-menu',\n    templateUrl: './buttons-menu.component.html',\n    styleUrls: ['./buttons-menu.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\n\nexport class ButtonsMenuComponent implements  AfterContentInit {\n\n    @ContentChildren(MatMenuItem) buttons: QueryList<MatMenuItem>;\n\n    isMenuEmpty: boolean;\n\n    ngAfterContentInit() {\n        this.isMenuEmpty = this.buttons.length <= 0;\n    }\n\n    isMobile(): boolean {\n        return !!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MaterialModule } from '../material.module';\nimport { ButtonsMenuComponent } from './buttons-menu.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule,\n        FlexLayoutModule\n    ],\n    declarations: [\n        ButtonsMenuComponent\n    ],\n    exports: [\n        ButtonsMenuComponent\n    ]\n})\nexport class ButtonsMenuModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ViewEncapsulation, Input, EventEmitter, Output } from '@angular/core';\nimport { MatSelectChange } from '@angular/material/select';\n\n@Component({\n    selector: 'adf-sorting-picker',\n    templateUrl: './sorting-picker.component.html',\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-sorting-picker' }\n})\nexport class SortingPickerComponent {\n\n    /** Available sorting options */\n    @Input()\n    options: Array<{key: string, label: string}> = [];\n\n    /** Currently selected option key */\n    @Input()\n    selected: string;\n\n    /** Current sorting direction */\n    @Input()\n    ascending = true;\n\n    /** Raised each time sorting key gets changed. */\n    @Output()\n    valueChange = new EventEmitter<string>();\n\n    /** Raised each time direction gets changed. */\n    @Output()\n    sortingChange = new EventEmitter<boolean>();\n\n    onOptionChanged(event: MatSelectChange) {\n        this.selected = event.value;\n        this.valueChange.emit(this.selected);\n    }\n\n    toggleSortDirection() {\n        this.ascending = !this.ascending;\n        this.sortingChange.emit(this.ascending);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MaterialModule } from '../material.module';\nimport { SortingPickerComponent } from './sorting-picker.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule\n    ],\n    declarations: [\n        SortingPickerComponent\n    ],\n    exports: [\n        SortingPickerComponent\n    ]\n})\nexport class SortingPickerModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Component,\n    ChangeDetectionStrategy,\n    Input,\n    ViewEncapsulation,\n    OnInit\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { TranslationService } from '../../services/translation.service';\n@Component({\n    selector: 'adf-error-content',\n    templateUrl: './error-content.component.html',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-error-content' }\n})\nexport class ErrorContentComponent implements OnInit {\n\n    static UNKNOWN_ERROR = 'UNKNOWN';\n\n    /** Error code associated with this error. */\n    @Input()\n    errorCode: string = ErrorContentComponent.UNKNOWN_ERROR;\n\n    errorCodeTranslated: string;\n\n    constructor(private route: ActivatedRoute,\n                private translateService: TranslationService) {\n    }\n\n    ngOnInit() {\n        if (this.route) {\n            this.route.params.subscribe(params => {\n                const code = params['id'] || this.errorCode;\n                const errorHasTranslation = this.checkErrorExists(code);\n                this.errorCodeTranslated =  errorHasTranslation ? code : ErrorContentComponent.UNKNOWN_ERROR;\n            });\n        }\n    }\n\n    checkErrorExists(errorCode: string ) {\n        const errorMessage = this.translateService.instant('ERROR_CONTENT.' + errorCode);\n        return errorMessage !== ('ERROR_CONTENT.' + errorCode);\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ChangeDetectionStrategy, ViewEncapsulation, Input } from '@angular/core';\n\n@Component({\n    selector: 'adf-empty-content',\n    templateUrl: './empty-content.component.html',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    host: { class: 'adf-empty-content' }\n})\nexport class EmptyContentComponent {\n\n    /** Material Icon to use. */\n    @Input()\n    icon = 'cake';\n\n    /** String or Resource Key for the title. */\n    @Input()\n    title = '';\n\n    /** String or Resource Key for the subtitle. */\n    @Input()\n    subtitle = '';\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Component,\n    Input,\n    ViewEncapsulation,\n    ChangeDetectionStrategy\n} from '@angular/core';\nimport { ThemePalette } from '@angular/material/core';\n\n@Component({\n    selector: 'adf-icon',\n    templateUrl: './icon.component.html',\n    styleUrls: ['./icon.component.scss'],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: { class: 'adf-icon' }\n})\nexport class IconComponent {\n    private _value = '';\n    private _isCustom = false;\n\n    /** Theme color palette for the component. */\n    @Input()\n    color: ThemePalette;\n\n    get value(): string {\n        return this._value;\n    }\n\n    /** Icon value, which can be either a ligature name or a custom icon in the format `[namespace]:[name]`. */\n    @Input()\n    set value(value: string) {\n        this._value = value || 'settings';\n        this._isCustom = this._value.includes(':');\n    }\n\n    get isCustom(): boolean {\n        return this._isCustom;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NgModule } from '@angular/core';\nimport { IconComponent } from './icon.component';\nimport { MatIconModule } from '@angular/material/icon';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MatIconModule\n    ],\n    declarations: [\n        IconComponent\n    ],\n    exports: [\n        IconComponent\n    ]\n})\nexport class IconModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MaterialModule } from '../material.module';\nimport { ErrorContentComponent } from './error-content/error-content.component';\nimport { EmptyContentComponent } from './empty-content/empty-content.component';\nimport { IconModule } from '../icon/icon.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule,\n        IconModule\n    ],\n    declarations: [\n        ErrorContentComponent,\n        EmptyContentComponent\n    ],\n    exports: [\n        ErrorContentComponent,\n        EmptyContentComponent\n    ]\n})\nexport class TemplateModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    Router,\n    CanActivate,\n    ActivatedRouteSnapshot,\n    RouterStateSnapshot,\n    CanActivateChild,\n    UrlTree\n} from '@angular/router';\nimport { AuthenticationService } from './authentication.service';\nimport {\n    AppConfigService,\n    AppConfigValues\n} from '../app-config/app-config.service';\nimport { OauthConfigModel } from '../models/oauth-config.model';\nimport { MatDialog } from '@angular/material/dialog';\nimport { StorageService } from './storage.service';\nimport { Observable } from 'rxjs';\n\nexport abstract class AuthGuardBase implements CanActivate, CanActivateChild {\n\n    protected get withCredentials(): boolean {\n        return this.appConfigService.get<boolean>(\n            'auth.withCredentials',\n            false\n        );\n    }\n\n    constructor(\n        protected authenticationService: AuthenticationService,\n        protected router: Router,\n        protected appConfigService: AppConfigService,\n        protected dialog: MatDialog,\n        private storageService: StorageService\n    ) {\n    }\n\n    abstract checkLogin(\n        activeRoute: ActivatedRouteSnapshot,\n        redirectUrl: string\n    ): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree;\n\n    canActivate(\n        route: ActivatedRouteSnapshot,\n        state: RouterStateSnapshot\n    ): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n\n        if (this.authenticationService.isLoggedIn() && this.authenticationService.isOauth() && this.isLoginFragmentPresent()) {\n            return this.redirectSSOSuccessURL();\n        }\n\n        return this.checkLogin(route, state.url);\n    }\n\n    canActivateChild(\n        route: ActivatedRouteSnapshot,\n        state: RouterStateSnapshot\n    ): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n        return this.canActivate(route, state);\n    }\n\n    protected async redirectSSOSuccessURL(): Promise<boolean | UrlTree> {\n        const redirectFragment = this.storageService.getItem('loginFragment');\n\n        if (redirectFragment && this.getLoginRoute() !== redirectFragment) {\n            await this.navigate(redirectFragment);\n            this.storageService.removeItem('loginFragment');\n            return false;\n        }\n\n        return true;\n    }\n\n    protected isLoginFragmentPresent(): boolean {\n        return !!this.storageService.getItem('loginFragment');\n    }\n\n    protected async redirectToUrl(url: string): Promise<boolean | UrlTree> {\n        let urlToRedirect = `/${this.getLoginRoute()}`;\n\n        if (!this.authenticationService.isOauth()) {\n            this.authenticationService.setRedirect({\n                provider: this.getProvider(),\n                url\n            });\n\n            urlToRedirect = `${urlToRedirect}?redirectUrl=${url}`;\n            return this.navigate(urlToRedirect);\n        } else if (this.getOauthConfig().silentLogin && !this.authenticationService.isPublicUrl()) {\n            this.authenticationService.ssoImplicitLogin();\n        } else {\n            return this.navigate(urlToRedirect);\n        }\n\n        return false;\n    }\n\n    protected async navigate(url: string): Promise<boolean> {\n        this.dialog.closeAll();\n        await this.router.navigateByUrl(this.router.parseUrl(url));\n        return false;\n    }\n\n    protected getOauthConfig(): OauthConfigModel {\n        return (\n            this.appConfigService &&\n            this.appConfigService.get<OauthConfigModel>(\n                AppConfigValues.OAUTHCONFIG,\n                null\n            )\n        );\n    }\n\n    protected getLoginRoute(): string {\n        return (\n            this.appConfigService &&\n            this.appConfigService.get<string>(\n                AppConfigValues.LOGIN_ROUTE,\n                'login'\n            )\n        );\n    }\n\n    protected getProvider(): string {\n        return (\n            this.appConfigService &&\n            this.appConfigService.get<string>(\n                AppConfigValues.PROVIDERS,\n                'ALL'\n            )\n        );\n    }\n\n    protected isOAuthWithoutSilentLogin(): boolean {\n        const oauth = this.appConfigService.get<OauthConfigModel>(\n            AppConfigValues.OAUTHCONFIG,\n            null\n        );\n        return (\n            this.authenticationService.isOauth() && !!oauth && !oauth.silentLogin\n        );\n    }\n\n    protected isSilentLogin(): boolean {\n        const oauth = this.appConfigService.get<OauthConfigModel>(\n            AppConfigValues.OAUTHCONFIG,\n            null\n        );\n\n        return this.authenticationService.isOauth() && oauth && oauth.silentLogin;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Router, UrlTree } from '@angular/router';\nimport { AuthenticationService } from './authentication.service';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { AuthGuardBase } from './auth-guard-base';\nimport { JwtHelperService } from './jwt-helper.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { StorageService } from './storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthGuard extends AuthGuardBase {\n\n    ticketChangeBind: any;\n\n    constructor(private jwtHelperService: JwtHelperService,\n                authenticationService: AuthenticationService,\n                router: Router,\n                appConfigService: AppConfigService,\n                dialog: MatDialog,\n                storageService: StorageService) {\n        super(authenticationService, router, appConfigService, dialog, storageService);\n        this.ticketChangeBind = this.ticketChange.bind(this);\n\n        window.addEventListener('storage', this.ticketChangeBind);\n    }\n\n    ticketChange(event: StorageEvent) {\n        if (event.key.includes('ticket-ECM') && event.newValue !== event.oldValue) {\n            this.ticketChangeRedirect(event);\n        }\n\n        if (event.key.includes('ticket-BPM') && event.newValue !== event.oldValue) {\n            this.ticketChangeRedirect(event);\n        }\n\n        if (event.key.endsWith(JwtHelperService.USER_ACCESS_TOKEN) &&\n            this.jwtHelperService.getValueFromToken(event.newValue, JwtHelperService.USER_PREFERRED_USERNAME) !==\n            this.jwtHelperService.getValueFromToken(event.oldValue, JwtHelperService.USER_PREFERRED_USERNAME)) {\n            this.ticketChangeRedirect(event);\n        }\n    }\n\n    private ticketChangeRedirect(event: StorageEvent) {\n        if (!event.newValue) {\n            this.navigate(this.router.url);\n        } else {\n            window.location.reload();\n        }\n    }\n\n    async checkLogin(_: ActivatedRouteSnapshot, redirectUrl: string): Promise<boolean | UrlTree> {\n        if (this.authenticationService.isLoggedIn() || this.withCredentials) {\n            return true;\n        }\n        return this.redirectToUrl(redirectUrl);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport {\n    ActivatedRouteSnapshot, Router, UrlTree\n} from '@angular/router';\nimport { AuthenticationService } from './authentication.service';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { AuthGuardBase } from './auth-guard-base';\nimport { MatDialog } from '@angular/material/dialog';\nimport { StorageService } from './storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthGuardEcm extends AuthGuardBase {\n\n    constructor(authenticationService: AuthenticationService,\n                router: Router,\n                appConfigService: AppConfigService,\n                dialog: MatDialog,\n                storageService: StorageService) {\n        super(authenticationService, router, appConfigService, dialog, storageService);\n    }\n\n    async checkLogin(_: ActivatedRouteSnapshot, redirectUrl: string): Promise<boolean | UrlTree> {\n        if (this.authenticationService.isEcmLoggedIn() || this.withCredentials) {\n            return true;\n        }\n\n        return this.redirectToUrl(redirectUrl);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Router, UrlTree } from '@angular/router';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { AuthenticationService } from './authentication.service';\nimport { AuthGuardBase } from './auth-guard-base';\nimport { MatDialog } from '@angular/material/dialog';\nimport { StorageService } from './storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthGuardBpm extends AuthGuardBase {\n\n    constructor(authenticationService: AuthenticationService,\n                router: Router,\n                appConfigService: AppConfigService,\n                dialog: MatDialog,\n                storageService: StorageService) {\n        super(authenticationService, router, appConfigService, dialog, storageService);\n    }\n\n    async checkLogin(_: ActivatedRouteSnapshot, redirectUrl: string): Promise<boolean | UrlTree> {\n        if (this.authenticationService.isBpmLoggedIn() || this.withCredentials) {\n            return true;\n        }\n        return this.redirectToUrl(redirectUrl);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, from, throwError } from 'rxjs';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { catchError, map } from 'rxjs/operators';\nimport { PersonEntry, PeopleApi, PersonBodyCreate, Pagination } from '@alfresco/js-api';\nimport { EcmUserModel } from '../models/ecm-user.model';\nimport { LogService } from './log.service';\n\nexport enum ContentGroups {\n    ALFRESCO_ADMINISTRATORS = 'ALFRESCO_ADMINISTRATORS'\n}\n\nexport interface PeopleContentQueryResponse {\n    pagination: Pagination;\n    entries: EcmUserModel[];\n}\n\nexport interface PeopleContentQueryRequestModel {\n    skipCount: number;\n    maxItems: number;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PeopleContentService {\n    private hasContentAdminRole: boolean = false;\n    hasCheckedIsContentAdmin: boolean = false;\n\n    private _peopleApi: PeopleApi;\n\n    constructor(private apiService: AlfrescoApiService, private logService: LogService) {}\n\n    get peopleApi() {\n        return this._peopleApi || (this._peopleApi = new PeopleApi(this.apiService.getInstance()));\n    }\n\n    /**\n     * Gets information about a user identified by their username.\n     * @param personId ID of the target user\n     * @returns User information\n     */\n    getPerson(personId: string): Observable<any> {\n        const promise = this.peopleApi.getPerson(personId);\n\n        return from(promise).pipe(\n            catchError((error) => this.handleError(error))\n        );\n    }\n\n    /**\n     * Gets information about the user who is currently logged in.\n     * @returns User information\n     */\n    getCurrentPerson(): Observable<any> {\n        return this.getPerson('-me-');\n    }\n\n    /**\n     * Gets a list of people.\n     * @param requestQuery maxItems and skipCount parameters supported by JS-API\n     * @returns Response containing pagination and list of entries\n     */\n    listPeople(requestQuery?: PeopleContentQueryRequestModel): Observable<PeopleContentQueryResponse> {\n        const promise = this.peopleApi.listPeople(requestQuery);\n        return from(promise).pipe(\n            map(response => {\n                return {\n                    pagination: response.list.pagination,\n                    entries: response.list.entries.map((person: PersonEntry) => <EcmUserModel> person.entry)\n                };\n            }),\n            catchError((err) => this.handleError(err))\n        );\n    }\n\n    /**\n     * Creates new person.\n     * @param newPerson Object containing the new person details.\n     * @param opts Optional parameters\n     * @returns Created new person\n     */\n    createPerson(newPerson: PersonBodyCreate, opts?: any): Observable<EcmUserModel> {\n        return from(this.peopleApi.createPerson(newPerson, opts)).pipe(\n            map((res: PersonEntry) => <EcmUserModel> res?.entry),\n            catchError((error) => this.handleError(error))\n        );\n    }\n\n    async isContentAdmin(): Promise<boolean> {\n        if (!this.hasCheckedIsContentAdmin) {\n            const user: PersonEntry = await this.getCurrentPerson().toPromise();\n            this.hasContentAdminRole = user?.entry?.capabilities?.isAdmin;\n            this.hasCheckedIsContentAdmin = true;\n        }\n        return this.hasContentAdminRole;\n    }\n\n    private handleError(error: any) {\n        this.logService.error(error);\n        return throwError(error || 'Server error');\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { JwtHelperService } from './jwt-helper.service';\nimport { ActivatedRouteSnapshot, CanActivate, Router } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ContentGroups, PeopleContentService } from './people-content.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthGuardSsoRoleService implements CanActivate {\n    constructor(private jwtHelperService: JwtHelperService,\n                private router: Router,\n                private dialog: MatDialog,\n                private peopleContentService: PeopleContentService) {\n    }\n\n    async canActivate(route: ActivatedRouteSnapshot): Promise<boolean> {\n        let hasRole;\n        let hasRealmRole = false;\n        let hasClientRole = true;\n\n        if (route.data) {\n            if (route.data['roles']) {\n                const rolesToCheck: string[] = route.data['roles'];\n                const isContentAdmin = rolesToCheck.includes(ContentGroups.ALFRESCO_ADMINISTRATORS) ? await this.peopleContentService.isContentAdmin() : false;\n                hasRealmRole = this.jwtHelperService.hasRealmRoles(rolesToCheck) || isContentAdmin;\n            }\n\n            if (route.data['clientRoles']) {\n                const clientRoleName = route.params[route.data['clientRoles']];\n                const rolesToCheck = route.data['roles'];\n                hasClientRole = this.jwtHelperService.hasRealmRolesForClientRole(clientRoleName, rolesToCheck);\n            }\n        }\n\n        hasRole = hasRealmRole && hasClientRole;\n\n        if (!hasRole && route.data && route.data['redirectUrl']) {\n            this.router.navigate(['/' + route.data['redirectUrl']]);\n        }\n\n        if (!hasRole) {\n            this.dialog.closeAll();\n        }\n\n        return hasRole;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { AppDefinitionRepresentation } from '@alfresco/js-api';\nimport { Observable, from, throwError } from 'rxjs';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { LogService } from './log.service';\nimport { map, catchError } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AppsProcessService {\n\n    constructor(private apiService: AlfrescoApiService,\n                private logService: LogService) {\n    }\n\n    /**\n     * Gets a list of deployed apps for this user.\n     * @returns The list of deployed apps\n     */\n    getDeployedApplications(): Observable<AppDefinitionRepresentation[]> {\n        return from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions())\n            .pipe(\n                map((response: any) => <AppDefinitionRepresentation[]> response.data),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets a list of deployed apps for this user, where the app name is `name`.\n     * @param name Name of the app\n     * @returns The list of deployed apps\n     */\n    getDeployedApplicationsByName(name: string): Observable<AppDefinitionRepresentation> {\n        return from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions())\n            .pipe(\n                map((response: any) => <AppDefinitionRepresentation> response.data.find((app) => app.name === name)),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    /**\n     * Gets the details for a specific app ID number.\n     * @param appId ID of the target app\n     * @returns Details of the app\n     */\n    getApplicationDetailsById(appId: number): Observable<AppDefinitionRepresentation> {\n        return from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions())\n            .pipe(\n                map((response: any) => response.data.find((app) => app.id === appId)),\n                catchError((err) => this.handleError(err))\n            );\n    }\n\n    private handleError(error: any) {\n        this.logService.error(error);\n        return throwError(error || 'Server error');\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { TranslationService } from './translation.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PageTitleService {\n\n    private originalTitle: string = '';\n    private translatedTitle: string = '';\n\n    constructor(\n        private titleService: Title,\n        private appConfig: AppConfigService,\n        private translationService: TranslationService) {\n        translationService.translate.onLangChange.subscribe(() => this.onLanguageChanged());\n        translationService.translate.onTranslationChange.subscribe(() => this.onLanguageChanged());\n    }\n\n    /**\n     * Sets the page title.\n     * @param value The new title\n     */\n    setTitle(value: string = '') {\n        this.originalTitle = value;\n        this.translatedTitle = this.translationService.instant(value);\n\n        this.updateTitle();\n    }\n\n    private onLanguageChanged() {\n        this.translatedTitle = this.translationService.instant(this.originalTitle);\n        this.updateTitle();\n    }\n\n    private updateTitle() {\n        const name = this.appConfig.get('application.name') || 'Alfresco ADF Application';\n\n        const title = this.translatedTitle ? `${this.translatedTitle} - ${name}` : `${name}`;\n        this.titleService.setTitle(title);\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { RenditionEntry, RenditionPaging } from '@alfresco/js-api';\nimport { Observable, from, interval, empty } from 'rxjs';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { concatMap, switchMap, takeWhile, map } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class RenditionsService {\n\n    constructor(private apiService: AlfrescoApiService) {\n    }\n\n    /**\n     * Gets the first available rendition found for a node.\n     * @param nodeId ID of the target node\n     * @returns Information object for the rendition\n     */\n    getAvailableRenditionForNode(nodeId: string): Observable<RenditionEntry> {\n        return from(this.apiService.renditionsApi.getRenditions(nodeId)).pipe(\n            map((availableRenditions: RenditionPaging) => {\n                const renditionsAvailable: RenditionEntry[] = availableRenditions.list.entries.filter(\n                    (rendition) => (rendition.entry.id === 'pdf' || rendition.entry.id === 'imgpreview'));\n                const existingRendition = renditionsAvailable.find((rend) => rend.entry.status === 'CREATED');\n                return existingRendition ? existingRendition : renditionsAvailable[0];\n            }));\n    }\n\n    /**\n     * Generates a rendition for a node using the first available encoding.\n     * @param nodeId ID of the target node\n     * @returns Null response to indicate completion\n     */\n    generateRenditionForNode(nodeId: string): Observable<any> {\n        return this.getAvailableRenditionForNode(nodeId).pipe(\n            map((rendition: RenditionEntry) => {\n                if (rendition.entry.status !== 'CREATED') {\n                    return from(this.apiService.renditionsApi.createRendition(nodeId, { id: rendition.entry.id }));\n                } else {\n                    return empty();\n                }\n            })\n        );\n    }\n\n    /**\n     * Checks if the specified rendition is available for a node.\n     * @param nodeId ID of the target node\n     * @param encoding Name of the rendition encoding\n     * @returns True if the rendition is available, false otherwise\n     */\n    isRenditionAvailable(nodeId: string, encoding: string): Observable<boolean> {\n        return new Observable((observer) => {\n            this.getRendition(nodeId, encoding).subscribe(\n                (res) => {\n                    let isAvailable = true;\n                    if (res.entry.status.toString() === 'NOT_CREATED') {\n                        isAvailable = false;\n                    }\n                    observer.next(isAvailable);\n                    observer.complete();\n                },\n                () => {\n                    observer.next(false);\n                    observer.complete();\n                }\n            );\n        });\n    }\n\n    /**\n     * Checks if the node can be converted using the specified rendition.\n     * @param nodeId ID of the target node\n     * @param encoding Name of the rendition encoding\n     * @returns True if the node can be converted, false otherwise\n     */\n    isConversionPossible(nodeId: string, encoding: string): Observable<boolean> {\n        return new Observable((observer) => {\n            this.getRendition(nodeId, encoding).subscribe(\n                () => {\n                    observer.next(true);\n                    observer.complete();\n                },\n                () => {\n                    observer.next(false);\n                    observer.complete();\n                }\n            );\n        });\n    }\n\n    /**\n     * Gets a URL linking to the specified rendition of a node.\n     * @param nodeId ID of the target node\n     * @param encoding Name of the rendition encoding\n     * @returns URL string\n     */\n    getRenditionUrl(nodeId: string, encoding: string): string {\n        return this.apiService.contentApi.getRenditionUrl(nodeId, encoding);\n    }\n\n    /**\n     * Gets information about a rendition of a node.\n     * @param nodeId ID of the target node\n     * @param encoding Name of the rendition encoding\n     * @returns Information object about the rendition\n     */\n    getRendition(nodeId: string, encoding: string): Observable<RenditionEntry> {\n        return from(this.apiService.renditionsApi.getRendition(nodeId, encoding));\n    }\n\n    /**\n     * Gets a list of all renditions for a node.\n     * @param nodeId ID of the target node\n     * @returns Paged list of rendition details\n     */\n    getRenditionsListByNodeId(nodeId: string): Observable<RenditionPaging> {\n        return from(this.apiService.renditionsApi.getRenditions(nodeId));\n    }\n\n    /**\n     * Creates a rendition for a node.\n     * @param nodeId ID of the target node\n     * @param encoding Name of the rendition encoding\n     * @returns Null response to indicate completion\n     */\n    createRendition(nodeId: string, encoding: string): Observable<{}> {\n        return from(this.apiService.renditionsApi.createRendition(nodeId, { id: encoding }));\n    }\n\n    /**\n     * Repeatedly attempts to create a rendition, through to success or failure.\n     * @param nodeId ID of the target node\n     * @param encoding Name of the rendition encoding\n     * @param pollingInterval Time interval (in milliseconds) between checks for completion\n     * @param retries Number of attempts to make before declaring failure\n     * @returns True if the rendition was created, false otherwise\n     */\n    convert(nodeId: string, encoding: string, pollingInterval: number = 1000, retries: number = 5) {\n        return this.createRendition(nodeId, encoding)\n            .pipe(\n                concatMap(() => this.pollRendition(nodeId, encoding, pollingInterval, retries))\n            );\n    }\n\n    private pollRendition(nodeId: string, encoding: string, intervalSize: number = 1000, retries: number = 5) {\n        let attempts = 0;\n        return interval(intervalSize)\n            .pipe(\n                switchMap(() => this.getRendition(nodeId, encoding)),\n                takeWhile((renditionEntry: RenditionEntry) => {\n                    attempts += 1;\n                    if (attempts > retries) {\n                        return false;\n                    }\n                    return (renditionEntry.entry.status.toString() !== 'CREATED');\n                })\n            );\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class ComponentTranslationModel {\n    name: string;\n    path: string;\n    json: string [];\n\n    constructor(obj?: any) {\n        this.name = obj && obj.name;\n        this.path = obj && obj.path;\n        this.json = obj && obj.json || [];\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { TranslateLoader } from '@ngx-translate/core';\nimport { Observable, forkJoin, throwError, of } from 'rxjs';\nimport { ComponentTranslationModel } from '../models/component.model';\nimport { ObjectUtils } from '../utils/object-utils';\nimport { map, catchError, retry } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TranslateLoaderService implements TranslateLoader {\n\n    private prefix: string = 'i18n';\n    private suffix: string = '.json';\n    private providers: ComponentTranslationModel[] = [];\n    private queue: string [][] = [];\n    private defaultLang: string = 'en';\n\n    constructor(private http: HttpClient) {\n    }\n\n    setDefaultLang(value: string) {\n        this.defaultLang = value || 'en';\n    }\n\n    registerProvider(name: string, path: string) {\n        const registered = this.providers.find((provider) => provider.name === name);\n        if (registered) {\n            registered.path = path;\n        } else {\n            this.providers.push(new ComponentTranslationModel({ name: name, path: path }));\n        }\n    }\n\n    providerRegistered(name: string): boolean {\n        return this.providers.find((x) => x.name === name) ? true : false;\n    }\n\n    fetchLanguageFile(lang: string, component: ComponentTranslationModel, fallbackUrl?: string): Observable<void> {\n        const translationUrl = fallbackUrl || `${component.path}/${this.prefix}/${lang}${this.suffix}?v=${Date.now()}`;\n\n        return this.http.get(translationUrl).pipe(\n            map((res: any) => {\n                component.json[lang] = res;\n            }),\n            retry(3),\n            catchError(() => {\n                if (!fallbackUrl && lang.includes('-')) {\n                    const [langId] = lang.split('-');\n\n                    if (langId && langId !== this.defaultLang) {\n                        const url = `${component.path}/${this.prefix}/${langId}${this.suffix}?v=${Date.now()}`;\n\n                        return this.fetchLanguageFile(lang, component, url);\n                    }\n                }\n                return throwError(`Failed to load ${translationUrl}`);\n            })\n        );\n    }\n\n    getComponentToFetch(lang: string): Array<Observable<any>> {\n        const observableBatch = [];\n        if (!this.queue[lang]) {\n            this.queue[lang] = [];\n        }\n        this.providers.forEach((component) => {\n            if (!this.isComponentInQueue(lang, component.name)) {\n                this.queue[lang].push(component.name);\n\n                observableBatch.push(\n                    this.fetchLanguageFile(lang, component)\n                );\n            }\n        });\n\n        return observableBatch;\n    }\n\n    init(lang: string) {\n        if (this.queue[lang] === undefined) {\n            this.queue[lang] = [];\n        }\n    }\n\n    isComponentInQueue(lang: string, name: string) {\n        return (this.queue[lang] || []).find((x) => x === name) ? true : false;\n    }\n\n    getFullTranslationJSON(lang: string): any {\n        let result = {};\n\n        this.providers\n            .slice(0)\n            .sort((a, b) => {\n                if (a.name === 'app') {\n                    return 1;\n                }\n                if (b.name === 'app') {\n                    return -1;\n                }\n                return a.name.localeCompare(b.name);\n            })\n            .forEach((model) => {\n                if (model.json && model.json[lang]) {\n                    result = ObjectUtils.merge(result, model.json[lang]);\n                }\n            });\n\n        return result;\n    }\n\n    getTranslation(lang: string): Observable<any> {\n        let hasFailures = false;\n        const batch = [\n            ...this.getComponentToFetch(lang).map((observable) => {\n                return observable.pipe(\n                    catchError((error) => {\n                        hasFailures = true;\n                        return of(error);\n                    })\n                );\n            })\n        ];\n\n        return new Observable((observer) => {\n\n            if (batch.length > 0) {\n                forkJoin(batch).subscribe(\n                    () => {\n                        const fullTranslation = this.getFullTranslationJSON(lang);\n                        if (fullTranslation) {\n                            observer.next(fullTranslation);\n                        }\n                        if (hasFailures) {\n                            observer.error('Failed to load some resources');\n                        } else {\n                            observer.complete();\n                        }\n                    },\n                    () => {\n                        observer.error('Failed to load some resources');\n                    });\n            } else {\n                const fullTranslation = this.getFullTranslationJSON(lang);\n                if (fullTranslation) {\n                    observer.next(fullTranslation);\n                    observer.complete();\n                }\n            }\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, from, of } from 'rxjs';\n\nimport { NodePaging } from '@alfresco/js-api';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { UserPreferencesService } from './user-preferences.service';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DeletedNodesApiService {\n    constructor(\n        private apiService: AlfrescoApiService,\n        private preferences: UserPreferencesService\n    ) {}\n\n    private get nodesApi() {\n       return this.apiService.getInstance().core.nodesApi;\n    }\n\n    /**\n     * Gets a list of nodes in the trash.\n     * @param options Options for JS-API call\n     * @returns List of nodes in the trash\n     */\n    getDeletedNodes(options?: Object): Observable<NodePaging> {\n        const defaultOptions = {\n            include: [ 'path', 'properties' ],\n            maxItems: this.preferences.paginationSize,\n            skipCount: 0\n        };\n        const queryOptions = Object.assign(defaultOptions, options);\n        const promise = this.nodesApi.getDeletedNodes(queryOptions);\n\n        return from(promise).pipe(\n            catchError((err) => of(err))\n        );\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { NodePaging } from '@alfresco/js-api';\nimport { Observable, from, of } from 'rxjs';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { UserPreferencesService } from './user-preferences.service';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class FavoritesApiService {\n\n    static remapEntry({ entry }: any): any {\n        entry.properties = {\n            'cm:title': entry.title,\n            'cm:description': entry.description\n        };\n\n        return { entry };\n    }\n\n    remapFavoritesData(data: any = {}): NodePaging {\n        const list = (data.list || {});\n        const pagination = (list.pagination || {});\n        const entries: any[] = this\n            .remapFavoriteEntries(list.entries || []);\n\n        return <NodePaging> {\n            list: { entries, pagination }\n        };\n    }\n\n    remapFavoriteEntries(entries: any[]) {\n        return entries\n            .map(({ entry: { target }}: any) => ({\n                entry: target.file || target.folder\n            }))\n            .filter(({ entry }) => (!!entry))\n            .map(FavoritesApiService.remapEntry);\n    }\n\n    constructor(\n        private apiService: AlfrescoApiService,\n        private preferences: UserPreferencesService\n    ) {}\n\n    private get favoritesApi() {\n       return this.apiService.getInstance().core.favoritesApi;\n    }\n\n    /**\n     * Gets the favorites for a user.\n     * @param personId ID of the user\n     * @param options Options supported by JS-API\n     * @returns List of favorites\n     */\n    getFavorites(personId: string, options?: any): Observable<NodePaging> {\n        const defaultOptions = {\n            maxItems: this.preferences.paginationSize,\n            skipCount: 0,\n            where: '(EXISTS(target/file) OR EXISTS(target/folder))',\n            include: [ 'properties', 'allowableOperations' ]\n        };\n        const queryOptions = Object.assign(defaultOptions, options);\n        const promise = this.favoritesApi\n            .getFavorites(personId, queryOptions)\n            .then(this.remapFavoritesData);\n\n        return from(promise).pipe(\n            catchError((err) => of(err))\n        );\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { QueryBody } from '@alfresco/js-api';\nimport { SearchConfigurationInterface } from '../interface/search-configuration.interface';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SearchConfigurationService implements SearchConfigurationInterface {\n\n    constructor() {\n    }\n\n    /**\n     * Generates a QueryBody object with custom search parameters.\n     * @param searchTerm Term text to search for\n     * @param maxResults Maximum number of search results to show in a page\n     * @param skipCount The offset of the start of the page within the results list\n     * @returns Query body defined by the parameters\n     */\n    public generateQueryBody(searchTerm: string, maxResults: number, skipCount: number): QueryBody {\n        const defaultQueryBody: QueryBody = {\n            query: {\n                query: searchTerm ? `'${searchTerm}*' OR name:'${searchTerm}*'` : searchTerm\n            },\n            include: ['path', 'allowableOperations'],\n            paging: {\n                maxItems: maxResults,\n                skipCount: skipCount\n            },\n            filterQueries: [\n                { query: \"TYPE:'cm:folder' OR TYPE:'cm:content'\" },\n                { query: 'NOT cm:creator:System' }]\n        };\n\n        return defaultQueryBody;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { NodePaging, QueryBody, ResultSetPaging } from '@alfresco/js-api';\nimport { Observable, Subject, from, throwError } from 'rxjs';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { SearchConfigurationService } from './search-configuration.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SearchService {\n\n    dataLoaded: Subject<ResultSetPaging> = new Subject();\n\n    constructor(private apiService: AlfrescoApiService,\n                private searchConfigurationService: SearchConfigurationService) {}\n\n    /**\n     * Gets a list of nodes that match the given search criteria.\n     * @param term Term to search for\n     * @param options Options for delivery of the search results\n     * @returns List of nodes resulting from the search\n     */\n    getNodeQueryResults(term: string, options?: SearchOptions): Observable<NodePaging> {\n        const promise = this.apiService.getInstance().core.queriesApi.findNodes(term, options);\n\n        promise.then((nodePaging: NodePaging) => {\n            this.dataLoaded.next(nodePaging);\n        }).catch((err) => this.handleError(err));\n\n        return from(promise);\n    }\n\n    /**\n     * Performs a search.\n     * @param searchTerm Term to search for\n     * @param maxResults Maximum number of items in the list of results\n     * @param skipCount Number of higher-ranked items to skip over in the list\n     * @returns List of search results\n     */\n    search(searchTerm: string, maxResults: number, skipCount: number): Observable<ResultSetPaging> {\n        const searchQuery = Object.assign(this.searchConfigurationService.generateQueryBody(searchTerm, maxResults, skipCount));\n        const promise = this.apiService.getInstance().search.searchApi.search(searchQuery);\n\n        promise.then((nodePaging: NodePaging) => {\n            this.dataLoaded.next(nodePaging);\n        }).catch((err) => this.handleError(err));\n\n        return from(promise);\n    }\n\n    /**\n     * Performs a search with its parameters supplied by a QueryBody object.\n     * @param queryBody Object containing the search parameters\n     * @returns List of search results\n     */\n    searchByQueryBody(queryBody: QueryBody): Observable<ResultSetPaging> {\n        const promise = this.apiService.getInstance().search.searchApi.search(queryBody);\n\n        promise.then((nodePaging: NodePaging) => {\n            this.dataLoaded.next(nodePaging);\n        }).catch((err) => this.handleError(err));\n\n        return from(promise);\n    }\n\n    private handleError(error: any): Observable<any> {\n        return throwError(error || 'Server error');\n    }\n}\n\nexport interface SearchOptions {\n    /** The number of entities that exist in the collection before those included in this list. */\n    skipCount?: number;\n\n    /** The maximum number of items to return in the list. */\n    maxItems?: number;\n\n    /** The id of the node to start the search from. Supports the aliases -my-, -root- and -shared-. */\n    rootNodeId?: string;\n\n    /** Restrict the returned results to only those of the given node type and its sub-types. */\n    nodeType?: string;\n\n    /**\n     * Return additional information about the node. The available optional fields are:\n     * `allowableOperations`, `aspectNames`, `isLink`, `isLocked`, `path` and `properties`.\n     */\n    include?: string[];\n\n    /**\n     * String to control the order of the entities returned in a list. You can use this\n     * parameter to sort the list by one or more fields. Each field has a default sort order,\n     * which is normally ascending order (but see the JS-API docs to check if any fields used\n     * in a method have a descending default search order). To sort the entities in a specific\n     * order, you can use the \"ASC\" and \"DESC\" keywords for any field.\n     */\n    orderBy?: string;\n\n    /**\n     * List of field names. You can use this parameter to restrict the fields returned within\n     * a response if, for example, you want to save on overall bandwidth. The list applies to a\n     * returned individual entity or entries within a collection. If the API method also supports\n     * the `include` parameter, then the fields specified in the include parameter are returned in\n     * addition to those specified in the fields parameter.\n     */\n    fields?: string[];\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { NodePaging, SharedLinkEntry } from '@alfresco/js-api';\nimport { Observable, from, of, Subject } from 'rxjs';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport { UserPreferencesService } from './user-preferences.service';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SharedLinksApiService {\n\n    error = new Subject<{ statusCode: number, message: string }>();\n\n    constructor(private apiService: AlfrescoApiService,\n                private preferences: UserPreferencesService) {\n    }\n\n    private get sharedLinksApi() {\n        return this.apiService.getInstance().core.sharedlinksApi;\n    }\n\n    /**\n     * Gets shared links available to the current user.\n     * @param options Options supported by JS-API\n     * @returns List of shared links\n     */\n    getSharedLinks(options: any = {}): Observable<NodePaging> {\n        const defaultOptions = {\n            maxItems: this.preferences.paginationSize,\n            skipCount: 0,\n            include: ['properties', 'allowableOperations']\n        };\n        const queryOptions = Object.assign({}, defaultOptions, options);\n        const promise = this.sharedLinksApi.findSharedLinks(queryOptions);\n\n        return from(promise).pipe(\n            catchError((err) => of(err))\n        );\n    }\n\n    /**\n     * Creates a shared link available to the current user.\n     * @param nodeId ID of the node to link to\n     * @param options Options supported by JS-API\n     * @returns The shared link just created\n     */\n    createSharedLinks(nodeId: string, options: any = {}): Observable<SharedLinkEntry> {\n        const promise = this.sharedLinksApi.addSharedLink({ nodeId: nodeId }, options);\n\n        return from(promise).pipe(\n            catchError((err) => of(err))\n        );\n    }\n\n    /**\n     * Deletes a shared link.\n     * @param sharedId ID of the link to delete\n     * @returns Null response notifying when the operation is complete\n     */\n    deleteSharedLink(sharedId: string): Observable<any | Error> {\n        const promise = this.sharedLinksApi.deleteSharedLink(sharedId);\n\n        return from(promise).pipe(\n            catchError((err: Error) => of(err))\n        );\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MatDialog } from '@angular/material/dialog';\nimport { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\nimport { LoginDialogComponent } from '../login/components/login-dialog.component';\nimport { LoginDialogComponentData } from '../login/components/login-dialog-component-data.interface';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LoginDialogService {\n\n    constructor(private dialog: MatDialog) {\n    }\n\n    /**\n     * Opens a dialog to choose a file to upload.\n     * @param actionName Name of the action to show in the title\n     * @param title Title for the dialog\n     * @returns Information about the chosen file(s)\n     */\n    openLogin(actionName: string, title: string): Observable<string> {\n        const logged = new Subject<string>();\n        logged.subscribe({\n            complete: this.close.bind(this)\n        });\n\n        const data: LoginDialogComponentData = {\n            title,\n            actionName,\n            logged\n        };\n\n        this.openLoginDialog(data, 'adf-login-dialog', '630px');\n        return logged;\n    }\n\n    private openLoginDialog(data: LoginDialogComponentData, currentPanelClass: string, chosenWidth: string) {\n        this.dialog.open(LoginDialogComponent, { data, panelClass: currentPanelClass, width: chosenWidth });\n    }\n\n    /** Closes the currently open dialog. */\n    close() {\n        this.dialog.closeAll();\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport {\n    AlfrescoApiCompatibility,\n    ContentApi,\n    Core,\n    Node\n} from '@alfresco/js-api';\nimport { ReplaySubject, Subject } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ExternalAlfrescoApiService {\n\n    /**\n     * Publish/subscribe to events related to node updates.\n     */\n    nodeUpdated = new Subject<Node>();\n\n    alfrescoApiInitialized: ReplaySubject<boolean> = new ReplaySubject(1);\n\n    protected alfrescoApi: AlfrescoApiCompatibility;\n\n    getInstance(): AlfrescoApiCompatibility {\n        return this.alfrescoApi;\n    }\n\n    get contentApi(): ContentApi {\n        return this.getInstance().content;\n    }\n\n    get nodesApi(): Core.NodesApi {\n        return this.getInstance().nodes;\n    }\n\n    init(ecmHost: string, contextRoot: string) {\n\n        const domainPrefix = this.createPrefixFromHost(ecmHost);\n\n        const config = {\n            provider: 'ECM',\n            hostEcm: ecmHost,\n            authType: 'BASIC',\n            contextRoot: contextRoot,\n            domainPrefix\n        };\n        this.initAlfrescoApi(config);\n        this.alfrescoApiInitialized.next(true);\n    }\n\n    protected initAlfrescoApi(config) {\n        if (this.alfrescoApi) {\n            this.alfrescoApi.configureJsApi(config);\n        } else {\n            this.alfrescoApi = new AlfrescoApiCompatibility(config);\n        }\n    }\n\n    private createPrefixFromHost(url: string): string {\n        const match = url.match(/:\\/\\/(www[0-9]?\\.)?(.[^/:]+)/i);\n        let result = null;\n        if (match != null && match.length > 2 && typeof match[2] === 'string' && match[2].length > 0) {\n            result = match[2];\n        }\n        return result;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Node } from '@alfresco/js-api';\nimport { AlfrescoApiService } from './alfresco-api.service';\nimport moment from 'moment-es6';\nimport { Moment } from 'moment';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LockService {\n\n    constructor(private alfrescoApiService: AlfrescoApiService) {\n    }\n\n    isLocked(node: Node): boolean {\n        let isLocked = false;\n        if (this.hasLockConfigured(node)) {\n            if (this.isReadOnlyLock(node)) {\n                isLocked = true;\n                if (this.isLockExpired(node)) {\n                    isLocked = false;\n                }\n            } else if (this.isLockOwnerAllowed(node)) {\n                isLocked = this.alfrescoApiService.getInstance().getEcmUsername() !== node.properties['cm:lockOwner'].id;\n                if (this.isLockExpired(node)) {\n                    isLocked = false;\n                }\n            }\n        }\n        return isLocked;\n    }\n\n    private hasLockConfigured(node: Node): boolean {\n        return node.isFile && node.isLocked && node.properties['cm:lockType'];\n    }\n\n    private isReadOnlyLock(node: Node): boolean {\n        return node.properties['cm:lockType'] === 'READ_ONLY_LOCK' && node.properties['cm:lockLifetime'] === 'PERSISTENT';\n    }\n\n    private isLockOwnerAllowed(node: Node): boolean {\n        return node.properties['cm:lockType'] === 'WRITE_LOCK' && node.properties['cm:lockLifetime'] === 'PERSISTENT';\n    }\n\n    private getLockExpiryTime(node: Node): Moment | undefined {\n        if (node.properties['cm:expiryDate']) {\n            return moment(node.properties['cm:expiryDate'], 'yyyy-MM-ddThh:mm:ssZ');\n        }\n        return undefined;\n    }\n\n    private isLockExpired(node: Node): boolean {\n        const expiryLockTime = this.getLockExpiryTime(node);\n        if (expiryLockTime) {\n            return moment().isAfter(expiryLockTime);\n        }\n        return false;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class DemoForm {\n\n    easyForm: any = {\n        'formRepresentation': {\n            'id': 1001,\n            'name': 'ISSUE_FORM',\n            'tabs': [],\n            'fields': [\n                {\n                    'fieldType': 'ContainerRepresentation',\n                    'id': '1498212398417',\n                    'name': 'Label',\n                    'type': 'container',\n                    'value': null,\n                    'required': false,\n                    'readOnly': false,\n                    'overrideId': false,\n                    'colspan': 1,\n                    'placeholder': null,\n                    'minLength': 0,\n                    'maxLength': 0,\n                    'minValue': null,\n                    'maxValue': null,\n                    'regexPattern': null,\n                    'optionType': null,\n                    'hasEmptyValue': false,\n                    'options': null,\n                    'restUrl': null,\n                    'restResponsePath': null,\n                    'restIdProperty': null,\n                    'restLabelProperty': null,\n                    'tab': null,\n                    'className': null,\n                    'dateDisplayFormat': null,\n                    'sizeX': 2,\n                    'sizeY': 1,\n                    'row': -1,\n                    'col': -1,\n                    'numberOfColumns': 2,\n                    'fields': {\n                        '1': [\n                            {\n                                'fieldType': 'RestFieldRepresentation',\n                                'id': 'label',\n                                'name': 'Label',\n                                'type': 'dropdown',\n                                'value': 'Choose one...',\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': true,\n                                'options': [\n                                    {\n                                        'id': 'empty',\n                                        'name': 'Choose one...'\n                                    },\n                                    {\n                                        'id': 'option_1',\n                                        'name': 'test1'\n                                    },\n                                    {\n                                        'id': 'option_2',\n                                        'name': 'test2'\n                                    },\n                                    {\n                                        'id': 'option_3',\n                                        'name': 'test3'\n                                    }\n                                ],\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': null,\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null,\n                                'endpoint': null,\n                                'requestHeaders': null\n                            },\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'Date',\n                                'name': 'Date',\n                                'type': 'date',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            },\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label5',\n                                'name': 'Label5',\n                                'type': 'boolean',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 1\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            },\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label6',\n                                'name': 'Label6',\n                                'type': 'boolean',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 1\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            },\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label4',\n                                'name': 'Label4',\n                                'type': 'integer',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            },\n                            {\n                                'fieldType': 'RestFieldRepresentation',\n                                'id': 'label12',\n                                'name': 'Label12',\n                                'type': 'radio-buttons',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': [\n                                    {\n                                        'id': 'option_1',\n                                        'name': 'Option 1'\n                                    },\n                                    {\n                                        'id': 'option_2',\n                                        'name': 'Option 2'\n                                    }\n                                ],\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null,\n                                'endpoint': null,\n                                'requestHeaders': null\n                            }\n                        ]\n                    }\n                }\n            ],\n            'outcomes': [],\n            'javascriptEvents': [],\n            'className': '',\n            'style': '',\n            'customFieldTemplates': {},\n            'metadata': {},\n            'variables': [\n                {\n                    'id': 'bfca9766-7bc1-45cc-8ecf-cdad551e36e2',\n                    'name': 'name1',\n                    'type': 'string',\n                    'value': ''\n                },\n                {\n                    'id': '3ed9f28a-dbae-463f-b991-47ef06658bb6',\n                    'name': 'name2',\n                    'type': 'string',\n                    'value': ''\n                },\n                {\n                    'id': 'a7710978-1e9c-4b54-a19c-c6267d2b19a2',\n                    'name': 'input02',\n                    'type': 'integer'\n                }\n            ],\n            'customFieldsValueInfo': {},\n            'gridsterForm': false,\n            'globalDateFormat': 'D-M-YYYY'\n        }\n    };\n\n    formDefinition: any = {\n        'formRepresentation': {\n            'id': 3003,\n            'name': 'demo-01',\n            'taskId': '7501',\n            'taskName': 'Demo Form 01',\n            'tabs': [\n                {\n                    'id': 'tab1',\n                    'title': 'Text',\n                    'visibilityCondition': null\n                },\n                {\n                    'id': 'tab2',\n                    'title': 'Misc',\n                    'visibilityCondition': null\n                }\n            ],\n            'fields': [\n                {\n                    'fieldType': 'ContainerRepresentation',\n                    'id': '1488274019966',\n                    'name': 'Label',\n                    'type': 'container',\n                    'value': null,\n                    'required': false,\n                    'readOnly': false,\n                    'overrideId': false,\n                    'colspan': 1,\n                    'placeholder': null,\n                    'minLength': 0,\n                    'maxLength': 0,\n                    'minValue': null,\n                    'maxValue': null,\n                    'regexPattern': null,\n                    'optionType': null,\n                    'hasEmptyValue': null,\n                    'options': null,\n                    'restUrl': null,\n                    'restResponsePath': null,\n                    'restIdProperty': null,\n                    'restLabelProperty': null,\n                    'tab': null,\n                    'className': null,\n                    'dateDisplayFormat': null,\n                    'layout': null,\n                    'sizeX': 2,\n                    'sizeY': 1,\n                    'row': -1,\n                    'col': -1,\n                    'visibilityCondition': null,\n                    'numberOfColumns': 2,\n                    'fields': {\n                        '1': [],\n                        '2': []\n                    }\n                },\n                {\n                    'fieldType': 'ContainerRepresentation',\n                    'id': 'section4',\n                    'name': 'Section 4',\n                    'type': 'group',\n                    'value': null,\n                    'required': false,\n                    'readOnly': false,\n                    'overrideId': false,\n                    'colspan': 1,\n                    'placeholder': null,\n                    'minLength': 0,\n                    'maxLength': 0,\n                    'minValue': null,\n                    'maxValue': null,\n                    'regexPattern': null,\n                    'optionType': null,\n                    'hasEmptyValue': null,\n                    'options': null,\n                    'restUrl': null,\n                    'restResponsePath': null,\n                    'restIdProperty': null,\n                    'restLabelProperty': null,\n                    'tab': 'tab2',\n                    'className': null,\n                    'dateDisplayFormat': null,\n                    'layout': {\n                        'row': -1,\n                        'column': -1,\n                        'colspan': 2\n                    },\n                    'sizeX': 2,\n                    'sizeY': 1,\n                    'row': -1,\n                    'col': -1,\n                    'visibilityCondition': null,\n                    'numberOfColumns': 2,\n                    'fields': {\n                        '1': [\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label8',\n                                'name': 'Label8',\n                                'type': 'people',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab2',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            },\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label13',\n                                'name': 'Label13',\n                                'type': 'functional-group',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab2',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            },\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label18',\n                                'name': 'Label18',\n                                'type': 'readonly',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab2',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            },\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label19',\n                                'name': 'Label19',\n                                'type': 'readonly-text',\n                                'value': 'Display text as part of the form',\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab2',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            }\n                        ],\n                        '2': [\n                            {\n                                'fieldType': 'HyperlinkRepresentation',\n                                'id': 'label15',\n                                'name': 'Label15',\n                                'type': 'hyperlink',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab2',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 1\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null,\n                                'hyperlinkUrl': 'www.google.com',\n                                'displayText': null\n                            },\n                            {\n                                'fieldType': 'AttachFileFieldRepresentation',\n                                'id': 'label16',\n                                'name': 'Label16',\n                                'type': 'upload',\n                                'value': [],\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab2',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 1,\n                                    'fileSource': {\n                                        'serviceId': 'all-file-sources',\n                                        'name': 'All file sources'\n                                    }\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null,\n                                'metaDataColumnDefinitions': null\n                            },\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label17',\n                                'name': 'Label17',\n                                'type': 'select-folder',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab2',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 1,\n                                    'folderSource': {\n                                        'serviceId': 'alfresco-1',\n                                        'name': 'Alfresco 5.2 Local',\n                                        'metaDataAllowed': true\n                                    }\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            }\n                        ]\n                    }\n                },\n                {\n                    'fieldType': 'DynamicTableRepresentation',\n                    'id': 'label14',\n                    'name': 'Label14',\n                    'type': 'dynamic-table',\n                    'value': null,\n                    'required': false,\n                    'readOnly': false,\n                    'overrideId': false,\n                    'colspan': 1,\n                    'placeholder': null,\n                    'minLength': 0,\n                    'maxLength': 0,\n                    'minValue': null,\n                    'maxValue': null,\n                    'regexPattern': null,\n                    'optionType': null,\n                    'hasEmptyValue': null,\n                    'options': null,\n                    'restUrl': null,\n                    'restResponsePath': null,\n                    'restIdProperty': null,\n                    'restLabelProperty': null,\n                    'tab': 'tab2',\n                    'className': null,\n                    'params': {\n                        'existingColspan': 1,\n                        'maxColspan': 1\n                    },\n                    'dateDisplayFormat': null,\n                    'layout': {\n                        'row': -1,\n                        'column': -1,\n                        'colspan': 2\n                    },\n                    'sizeX': 2,\n                    'sizeY': 2,\n                    'row': -1,\n                    'col': -1,\n                    'visibilityCondition': null,\n                    'columnDefinitions': [\n                        {\n                            'id': 'id',\n                            'name': 'id',\n                            'type': 'String',\n                            'value': null,\n                            'optionType': null,\n                            'options': null,\n                            'restResponsePath': null,\n                            'restUrl': null,\n                            'restIdProperty': null,\n                            'restLabelProperty': null,\n                            'amountCurrency': null,\n                            'amountEnableFractions': false,\n                            'required': true,\n                            'editable': true,\n                            'sortable': true,\n                            'visible': true,\n                            'endpoint': null,\n                            'requestHeaders': null\n                        },\n                        {\n                            'id': 'name',\n                            'name': 'name',\n                            'type': 'String',\n                            'value': null,\n                            'optionType': null,\n                            'options': null,\n                            'restResponsePath': null,\n                            'restUrl': null,\n                            'restIdProperty': null,\n                            'restLabelProperty': null,\n                            'amountCurrency': null,\n                            'amountEnableFractions': false,\n                            'required': true,\n                            'editable': true,\n                            'sortable': true,\n                            'visible': true,\n                            'endpoint': null,\n                            'requestHeaders': null\n                        }\n                    ]\n                },\n                {\n                    'fieldType': 'ContainerRepresentation',\n                    'id': 'section1',\n                    'name': 'Section 1',\n                    'type': 'group',\n                    'value': null,\n                    'required': false,\n                    'readOnly': false,\n                    'overrideId': false,\n                    'colspan': 1,\n                    'placeholder': null,\n                    'minLength': 0,\n                    'maxLength': 0,\n                    'minValue': null,\n                    'maxValue': null,\n                    'regexPattern': null,\n                    'optionType': null,\n                    'hasEmptyValue': null,\n                    'options': null,\n                    'restUrl': null,\n                    'restResponsePath': null,\n                    'restIdProperty': null,\n                    'restLabelProperty': null,\n                    'tab': 'tab1',\n                    'className': null,\n                    'dateDisplayFormat': null,\n                    'layout': {\n                        'row': -1,\n                        'column': -1,\n                        'colspan': 2\n                    },\n                    'sizeX': 2,\n                    'sizeY': 1,\n                    'row': -1,\n                    'col': -1,\n                    'visibilityCondition': null,\n                    'numberOfColumns': 2,\n                    'fields': {\n                        '1': [\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label1',\n                                'name': 'Label1',\n                                'type': 'text',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            },\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label3',\n                                'name': 'Label3',\n                                'type': 'text',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            }\n                        ],\n                        '2': [\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label2',\n                                'name': 'Label2',\n                                'type': 'multi-line-text',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 1\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 2,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            }\n                        ]\n                    }\n                },\n                {\n                    'fieldType': 'ContainerRepresentation',\n                    'id': 'section2',\n                    'name': 'Section 2',\n                    'type': 'group',\n                    'value': null,\n                    'required': false,\n                    'readOnly': false,\n                    'overrideId': false,\n                    'colspan': 1,\n                    'placeholder': null,\n                    'minLength': 0,\n                    'maxLength': 0,\n                    'minValue': null,\n                    'maxValue': null,\n                    'regexPattern': null,\n                    'optionType': null,\n                    'hasEmptyValue': null,\n                    'options': null,\n                    'restUrl': null,\n                    'restResponsePath': null,\n                    'restIdProperty': null,\n                    'restLabelProperty': null,\n                    'tab': 'tab1',\n                    'className': null,\n                    'dateDisplayFormat': null,\n                    'layout': {\n                        'row': -1,\n                        'column': -1,\n                        'colspan': 2\n                    },\n                    'sizeX': 2,\n                    'sizeY': 1,\n                    'row': -1,\n                    'col': -1,\n                    'visibilityCondition': null,\n                    'numberOfColumns': 2,\n                    'fields': {\n                        '1': [\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label4',\n                                'name': 'Label4',\n                                'type': 'integer',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            },\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label7',\n                                'name': 'Label7',\n                                'type': 'date',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            }\n                        ],\n                        '2': [\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label5',\n                                'name': 'Label5',\n                                'type': 'boolean',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 1\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            },\n                            {\n                                'fieldType': 'FormFieldRepresentation',\n                                'id': 'label6',\n                                'name': 'Label6',\n                                'type': 'boolean',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 1\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null\n                            },\n                            {\n                                'fieldType': 'AmountFieldRepresentation',\n                                'id': 'label11',\n                                'name': 'Label11',\n                                'type': 'amount',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': '10',\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 1\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null,\n                                'enableFractions': false,\n                                'currency': null\n                            }\n                        ]\n                    }\n                },\n                {\n                    'fieldType': 'ContainerRepresentation',\n                    'id': 'section3',\n                    'name': 'Section 3',\n                    'type': 'group',\n                    'value': null,\n                    'required': false,\n                    'readOnly': false,\n                    'overrideId': false,\n                    'colspan': 1,\n                    'placeholder': null,\n                    'minLength': 0,\n                    'maxLength': 0,\n                    'minValue': null,\n                    'maxValue': null,\n                    'regexPattern': null,\n                    'optionType': null,\n                    'hasEmptyValue': null,\n                    'options': null,\n                    'restUrl': null,\n                    'restResponsePath': null,\n                    'restIdProperty': null,\n                    'restLabelProperty': null,\n                    'tab': 'tab1',\n                    'className': null,\n                    'dateDisplayFormat': null,\n                    'layout': {\n                        'row': -1,\n                        'column': -1,\n                        'colspan': 2\n                    },\n                    'sizeX': 2,\n                    'sizeY': 1,\n                    'row': -1,\n                    'col': -1,\n                    'visibilityCondition': null,\n                    'numberOfColumns': 2,\n                    'fields': {\n                        '1': [\n                            {\n                                'fieldType': 'RestFieldRepresentation',\n                                'id': 'label9',\n                                'name': 'Label9',\n                                'type': 'dropdown',\n                                'value': 'Choose one...',\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': true,\n                                'options': [\n                                    {\n                                        'id': 'empty',\n                                        'name': 'Choose one...'\n                                    }\n                                ],\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null,\n                                'endpoint': null,\n                                'requestHeaders': null\n                            },\n                            {\n                                'fieldType': 'RestFieldRepresentation',\n                                'id': 'label12',\n                                'name': 'Label12',\n                                'type': 'radio-buttons',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': [\n                                    {\n                                        'id': 'option_1',\n                                        'name': 'Option 1'\n                                    },\n                                    {\n                                        'id': 'option_2',\n                                        'name': 'Option 2'\n                                    }\n                                ],\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 2\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null,\n                                'endpoint': null,\n                                'requestHeaders': null\n                            }\n                        ],\n                        '2': [\n                            {\n                                'fieldType': 'RestFieldRepresentation',\n                                'id': 'label10',\n                                'name': 'Label10',\n                                'type': 'typeahead',\n                                'value': null,\n                                'required': false,\n                                'readOnly': false,\n                                'overrideId': false,\n                                'colspan': 1,\n                                'placeholder': null,\n                                'minLength': 0,\n                                'maxLength': 0,\n                                'minValue': null,\n                                'maxValue': null,\n                                'regexPattern': null,\n                                'optionType': null,\n                                'hasEmptyValue': null,\n                                'options': null,\n                                'restUrl': null,\n                                'restResponsePath': null,\n                                'restIdProperty': null,\n                                'restLabelProperty': null,\n                                'tab': 'tab1',\n                                'className': null,\n                                'params': {\n                                    'existingColspan': 1,\n                                    'maxColspan': 1\n                                },\n                                'dateDisplayFormat': null,\n                                'layout': {\n                                    'row': -1,\n                                    'column': -1,\n                                    'colspan': 1\n                                },\n                                'sizeX': 1,\n                                'sizeY': 1,\n                                'row': -1,\n                                'col': -1,\n                                'visibilityCondition': null,\n                                'endpoint': null,\n                                'requestHeaders': null\n                            }\n                        ]\n                    }\n                }\n            ],\n            'outcomes': [],\n            'javascriptEvents': [],\n            'className': '',\n            'style': '',\n            'customFieldTemplates': {},\n            'metadata': {},\n            'variables': [\n                {\n                    'id': 'bfca9766-7bc1-45cc-8ecf-cdad551e36e2',\n                    'name': 'name1',\n                    'type': 'string',\n                    'value': ''\n                },\n                {\n                    'id': '3ed9f28a-dbae-463f-b991-47ef06658bb6',\n                    'name': 'name2',\n                    'type': 'string',\n                    'value': ''\n                },\n                {\n                    'id': 'a7710978-1e9c-4b54-a19c-c6267d2b19a2',\n                    'name': 'input02',\n                    'type': 'integer'\n                }\n            ],\n            'gridsterForm': false,\n            'globalDateFormat': 'D-M-YYYY'\n        }\n    };\n\n    simpleFormDefinition: any = {\n        'formRepresentation': {\n            'id': 1001,\n            'name': 'SIMPLE_FORM_EXAMPLE',\n            'description': '',\n            'version': 1,\n            'lastUpdatedBy': 2,\n            'lastUpdatedByFullName': 'Test01 01Test',\n            'lastUpdated': '2018-02-26T17:44:04.543+0000',\n            'stencilSetId': 0,\n            'referenceId': null,\n            'taskId': '9999',\n            'formDefinition': {\n                'tabs': [],\n                'fields': [\n                    {\n                        'fieldType': 'ContainerRepresentation',\n                        'id': '1519666726245',\n                        'name': 'Label',\n                        'type': 'container',\n                        'value': null,\n                        'required': false,\n                        'readOnly': false,\n                        'overrideId': false,\n                        'colspan': 1,\n                        'placeholder': null,\n                        'minLength': 0,\n                        'maxLength': 0,\n                        'minValue': null,\n                        'maxValue': null,\n                        'regexPattern': null,\n                        'optionType': null,\n                        'hasEmptyValue': null,\n                        'options': null,\n                        'restUrl': null,\n                        'restResponsePath': null,\n                        'restIdProperty': null,\n                        'restLabelProperty': null,\n                        'tab': null,\n                        'className': null,\n                        'dateDisplayFormat': null,\n                        'layout': null,\n                        'sizeX': 2,\n                        'sizeY': 1,\n                        'row': -1,\n                        'col': -1,\n                        'visibilityCondition': null,\n                        'numberOfColumns': 2,\n                        'fields': {\n                            '1': [\n                                {\n                                    'fieldType': 'RestFieldRepresentation',\n                                    'id': 'typeaheadField',\n                                    'name': 'TypeaheadField',\n                                    'type': 'typeahead',\n                                    'value': null,\n                                    'required': false,\n                                    'readOnly': false,\n                                    'overrideId': false,\n                                    'colspan': 1,\n                                    'placeholder': null,\n                                    'minLength': 0,\n                                    'maxLength': 0,\n                                    'minValue': null,\n                                    'maxValue': null,\n                                    'regexPattern': null,\n                                    'optionType': null,\n                                    'hasEmptyValue': null,\n                                    'options': null,\n                                    'restUrl': 'https://jsonplaceholder.typicode.com/users',\n                                    'restResponsePath': null,\n                                    'restIdProperty': 'id',\n                                    'restLabelProperty': 'name',\n                                    'tab': null,\n                                    'className': null,\n                                    'params': {\n                                        'existingColspan': 1,\n                                        'maxColspan': 2\n                                    },\n                                    'dateDisplayFormat': null,\n                                    'layout': {\n                                        'row': -1,\n                                        'column': -1,\n                                        'colspan': 1\n                                    },\n                                    'sizeX': 1,\n                                    'sizeY': 1,\n                                    'row': -1,\n                                    'col': -1,\n                                    'visibilityCondition': null,\n                                    'endpoint': null,\n                                    'requestHeaders': null\n                                }\n                            ],\n                            '2': [\n                                {\n                                    'fieldType': 'RestFieldRepresentation',\n                                    'id': 'radioButton',\n                                    'name': 'RadioButtons',\n                                    'type': 'radio-buttons',\n                                    'value': null,\n                                    'required': false,\n                                    'readOnly': false,\n                                    'overrideId': false,\n                                    'colspan': 1,\n                                    'placeholder': null,\n                                    'minLength': 0,\n                                    'maxLength': 0,\n                                    'minValue': null,\n                                    'maxValue': null,\n                                    'regexPattern': null,\n                                    'optionType': null,\n                                    'hasEmptyValue': null,\n                                    'options': [\n                                        {\n                                            'id': 'option_1',\n                                            'name': 'Option 1'\n                                        },\n                                        {\n                                            'id': 'option_2',\n                                            'name': 'Option 2'\n                                        },\n                                        {\n                                            'id': 'option_3',\n                                            'name': 'Option 3'\n                                        }\n                                    ],\n                                    'restUrl': null,\n                                    'restResponsePath': null,\n                                    'restIdProperty': null,\n                                    'restLabelProperty': null,\n                                    'tab': null,\n                                    'className': null,\n                                    'params': {\n                                        'existingColspan': 1,\n                                        'maxColspan': 1\n                                    },\n                                    'dateDisplayFormat': null,\n                                    'layout': {\n                                        'row': -1,\n                                        'column': -1,\n                                        'colspan': 1\n                                    },\n                                    'sizeX': 1,\n                                    'sizeY': 2,\n                                    'row': -1,\n                                    'col': -1,\n                                    'visibilityCondition': null,\n                                    'endpoint': null,\n                                    'requestHeaders': null\n                                }\n                            ]\n                        }\n                    },\n                    {\n                        'fieldType': 'ContainerRepresentation',\n                        'id': '1519666735185',\n                        'name': 'Label',\n                        'type': 'container',\n                        'value': null,\n                        'required': false,\n                        'readOnly': false,\n                        'overrideId': false,\n                        'colspan': 1,\n                        'placeholder': null,\n                        'minLength': 0,\n                        'maxLength': 0,\n                        'minValue': null,\n                        'maxValue': null,\n                        'regexPattern': null,\n                        'optionType': null,\n                        'hasEmptyValue': null,\n                        'options': null,\n                        'restUrl': null,\n                        'restResponsePath': null,\n                        'restIdProperty': null,\n                        'restLabelProperty': null,\n                        'tab': null,\n                        'className': null,\n                        'dateDisplayFormat': null,\n                        'layout': null,\n                        'sizeX': 2,\n                        'sizeY': 1,\n                        'row': -1,\n                        'col': -1,\n                        'visibilityCondition': null,\n                        'numberOfColumns': 2,\n                        'fields': {\n                            '1': [\n                                {\n                                    'fieldType': 'RestFieldRepresentation',\n                                    'id': 'selectBox',\n                                    'name': 'SelectBox',\n                                    'type': 'dropdown',\n                                    'value': 'Choose one...',\n                                    'required': false,\n                                    'readOnly': false,\n                                    'overrideId': false,\n                                    'colspan': 1,\n                                    'placeholder': null,\n                                    'minLength': 0,\n                                    'maxLength': 0,\n                                    'minValue': null,\n                                    'maxValue': null,\n                                    'regexPattern': null,\n                                    'optionType': 'manual',\n                                    'hasEmptyValue': true,\n                                    'options': [\n                                        {\n                                            'id': 'empty',\n                                            'name': 'Choose one...'\n                                        },\n                                        {\n                                            'id': 'option_1',\n                                            'name': '1'\n                                        },\n                                        {\n                                            'id': 'option_2',\n                                            'name': '2'\n                                        },\n                                        {\n                                            'id': 'option_3',\n                                            'name': '3'\n                                        }\n                                    ],\n                                    'restUrl': null,\n                                    'restResponsePath': null,\n                                    'restIdProperty': null,\n                                    'restLabelProperty': null,\n                                    'tab': null,\n                                    'className': null,\n                                    'params': {\n                                        'existingColspan': 1,\n                                        'maxColspan': 2\n                                    },\n                                    'dateDisplayFormat': null,\n                                    'layout': {\n                                        'row': -1,\n                                        'column': -1,\n                                        'colspan': 1\n                                    },\n                                    'sizeX': 1,\n                                    'sizeY': 1,\n                                    'row': -1,\n                                    'col': -1,\n                                    'visibilityCondition': null,\n                                    'endpoint': null,\n                                    'requestHeaders': null\n                                }\n                            ],\n                            '2': []\n                        }\n                    }\n                ],\n                'outcomes': [],\n                'javascriptEvents': [],\n                'className': '',\n                'style': '',\n                'customFieldTemplates': {},\n                'metadata': {},\n                'variables': [\n                    {\n                        'id': 'bfca9766-7bc1-45cc-8ecf-cdad551e36e2',\n                        'name': 'name1',\n                        'type': 'string',\n                        'value': ''\n                    },\n                    {\n                        'id': '3ed9f28a-dbae-463f-b991-47ef06658bb6',\n                        'name': 'name2',\n                        'type': 'string',\n                        'value': ''\n                    },\n                    {\n                        'id': 'a7710978-1e9c-4b54-a19c-c6267d2b19a2',\n                        'name': 'input02',\n                        'type': 'integer'\n                    }\n                ],\n                'customFieldsValueInfo': {},\n                'gridsterForm': false\n            }\n        }\n    };\n\n    cloudFormDefinition: any = {\n        'formRepresentation': {\n            'id': 'text-form',\n            'name': 'test-start-form',\n            'version': 0,\n            'description': '',\n            'formDefinition': {\n                'tabs': [],\n                'fields': [\n                    {\n                        'id': '1511517333638',\n                        'type': 'container',\n                        'fieldType': 'ContainerRepresentation',\n                        'name': 'Label',\n                        'tab': null,\n                        'numberOfColumns': 2,\n                        'fields': {\n                            '1': [\n                                {\n                                    'fieldType': 'FormFieldRepresentation',\n                                    'id': 'texttest',\n                                    'name': 'texttest',\n                                    'type': 'text',\n                                    'value': null,\n                                    'required': false,\n                                    'placeholder': 'text',\n                                    'params': {\n                                        'existingColspan': 2,\n                                        'maxColspan': 6,\n                                        'inputMaskReversed': true,\n                                        'inputMask': '0#',\n                                        'inputMaskPlaceholder': '(0-9)'\n                                    }\n                                }\n                            ],\n                            '2': [{\n                                'fieldType': 'AttachFileFieldRepresentation',\n                                'id': 'attachfiletest',\n                                'name': 'attachfiletest',\n                                'type': 'upload',\n                                'required': true,\n                                'colspan': 2,\n                                'placeholder': 'attachfile',\n                                'params': {\n                                    'existingColspan': 2,\n                                    'maxColspan': 2,\n                                    'fileSource': {\n                                        'serviceId': 'local-file',\n                                        'name': 'Local File'\n                                    },\n                                    'multiple': true,\n                                    'link': false\n                                },\n                                'visibilityCondition': {\n                                }\n                            }]\n                        }\n                    }\n                ],\n                'outcomes': [],\n                'metadata': {\n                    'property1': 'value1',\n                    'property2': 'value2'\n                },\n                'variables': [\n                    {\n                        'name': 'variable1',\n                        'type': 'string',\n                        'value': 'value1'\n                    },\n                    {\n                        'name': 'variable2',\n                        'type': 'string',\n                        'value': 'value2'\n                    }\n                ]\n            }\n        }\n    };\n\n    getEasyForm(): any {\n        return this.easyForm;\n    }\n\n    getFormDefinition(): any {\n        return this.formDefinition;\n    }\n\n    getSimpleFormDefinition(): any {\n        return this.simpleFormDefinition;\n    }\n\n    getFormCloudDefinition(): any {\n        return this.cloudFormDefinition;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { AlfrescoApiService } from '../services/alfresco-api.service';\nimport { StorageService } from './storage.service';\nimport { UserPreferencesService } from './user-preferences.service';\nimport { DemoForm } from '../mock/form/demo-form.mock';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CoreAutomationService {\n\n    public forms = new DemoForm();\n\n    constructor(private appConfigService: AppConfigService,\n                private alfrescoApiService: AlfrescoApiService,\n                private userPreferencesService: UserPreferencesService,\n                private storageService: StorageService) {\n    }\n\n    setup() {\n        const adfProxy = window['adf'] || {};\n\n        adfProxy.getConfigField = (field: string): any => {\n            return this.appConfigService.get(field);\n        };\n\n        adfProxy.setConfigField = (field: string, value: string) => {\n            this.appConfigService.config[field] = JSON.parse(value);\n        };\n\n        adfProxy.setStorageItem = (key: string, data: string) => {\n            this.storageService.setItem(key, data);\n        };\n\n        adfProxy.removeStorageItem = (key: string) => {\n            this.storageService.removeItem(key);\n        };\n\n        adfProxy.getStorageItem = (key: string): string => {\n            return this.storageService.getItem(key);\n        };\n\n        adfProxy.setUserPreference = (key: string, data: any) => {\n            this.userPreferencesService.set(key, data);\n        };\n\n        adfProxy.setFormInEditor = (json: string) => {\n            this.forms.formDefinition = JSON.parse(json);\n        };\n\n        adfProxy.setCloudFormInEditor = (json: string) => {\n            this.forms.cloudFormDefinition = JSON.parse(json);\n        };\n\n        adfProxy.clearStorage = () => {\n            this.storageService.clear();\n        };\n\n        adfProxy.apiReset = () => {\n            this.alfrescoApiService.reset();\n        };\n\n        window['adf'] = adfProxy;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport {\n    IdentityGroupSearchParam,\n    IdentityGroupQueryCloudRequestModel,\n    IdentityGroupModel,\n    IdentityGroupQueryResponse,\n    IdentityGroupCountModel\n} from '../models/identity-group.model';\nimport { IdentityRoleModel } from '../models/identity-role.model';\nimport { OAuth2Service } from './oauth2.service';\n\n@Injectable({ providedIn: 'root' })\nexport class IdentityGroupService {\n\n    constructor(\n        private oAuth2Service: OAuth2Service,\n        private appConfigService: AppConfigService\n    ) {}\n\n    private get identityHost(): string {\n        return `${this.appConfigService.get('identityHost')}`;\n    }\n\n    /**\n     * Gets all groups.\n     * @returns Array of group information objects\n     */\n    getGroups(): Observable<IdentityGroupModel[]> {\n        const url = `${this.identityHost}/groups`;\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Gets available roles\n     * @param groupId Id of the group.\n     * @returns Array of available roles information objects\n     */\n    getAvailableRoles(groupId: string): Observable<IdentityRoleModel[]> {\n        const url = `${this.identityHost}/groups/${groupId}/role-mappings/realm/available`;\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Gets assigned roles\n     * @param groupId Id of the group.\n     * @returns Array of available roles\n     */\n    getAssignedRoles(groupId: string): Observable<IdentityRoleModel[]> {\n        const url = `${this.identityHost}/groups/${groupId}/role-mappings/realm`;\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Assigns roles to the group\n     * @param groupId The ID of the group\n     * @param roles Array of roles to assign\n     */\n    assignRoles(groupId: string, roles: IdentityRoleModel[]): Observable<any> {\n        const url = `${this.identityHost}/groups/${groupId}/role-mappings/realm`;\n        const bodyParam = JSON.stringify(roles);\n\n        return this.oAuth2Service.post({ url, bodyParam });\n    }\n\n    /**\n     * Removes roles from the group\n     * @param groupId The ID of the group\n     * @param roles Array of roles to remove\n     */\n    removeRoles(groupId: string, roles: IdentityRoleModel[]): Observable<any> {\n        const url = `${this.identityHost}/groups/${groupId}/role-mappings/realm`;\n        const bodyParam = JSON.stringify(roles);\n\n        return this.oAuth2Service.delete({ url, bodyParam });\n    }\n\n    /**\n     * Get effective roles\n     * @param groupId Id of the group\n     * @returns Array of effective roles\n     */\n    getEffectiveRoles(groupId: string): Observable<IdentityRoleModel[]> {\n        const url = `${this.identityHost}/groups/${groupId}/role-mappings/realm/composite`;\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Queries groups.\n     * @returns Array of user information objects\n     */\n    queryGroups(requestQuery: IdentityGroupQueryCloudRequestModel): Observable<IdentityGroupQueryResponse> {\n        const url = `${this.identityHost}/groups`;\n        const queryParams = { first: requestQuery.first || 0, max: requestQuery.max || 5 };\n\n        return this.getTotalGroupsCount().pipe(\n            switchMap((totalCount: IdentityGroupCountModel) =>\n            this.oAuth2Service.get<any[]>({ url, queryParams }).pipe(\n                map((response) => {\n                    return <IdentityGroupQueryResponse> {\n                        entries: response,\n                        pagination: {\n                            skipCount: requestQuery.first,\n                            maxItems: requestQuery.max,\n                            count: totalCount.count,\n                            hasMoreItems: false,\n                            totalItems: totalCount.count\n                        }\n                    };\n                })\n            ))\n        );\n    }\n\n    /**\n     * Gets groups total count.\n     * @returns Number of groups count.\n     */\n    getTotalGroupsCount(): Observable<IdentityGroupCountModel> {\n        const url = `${this.identityHost}/groups/count`;\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Creates new group.\n     * @param newGroup Object of containing the new group details.\n     * @returns Empty response when the group created.\n     */\n    createGroup(newGroup: IdentityGroupModel): Observable<any> {\n        const url = `${this.identityHost}/groups`;\n        const bodyParam = newGroup;\n\n        return this.oAuth2Service.post({ url, bodyParam });\n    }\n\n    /**\n     * Updates group details.\n     * @param groupId Id of the targeted group.\n     * @param updatedGroup Object of containing the group details\n     * @returns Empty response when the group updated.\n     */\n    updateGroup(groupId: string, updatedGroup: IdentityGroupModel): Observable<any> {\n        const url = `${this.identityHost}/groups/${groupId}`;\n        const bodyParam = JSON.stringify(updatedGroup);\n\n        return this.oAuth2Service.put({ url, bodyParam });\n    }\n\n    /**\n     * Deletes Group.\n     * @param groupId Id of the group.\n     * @returns Empty response when the group deleted.\n     */\n    deleteGroup(groupId: string): Observable<any> {\n        const url = `${this.identityHost}/groups/${groupId}`;\n        return this.oAuth2Service.delete({ url });\n    }\n\n    /**\n     * Finds groups filtered by name.\n     * @param searchParams Object containing the name filter string\n     * @returns List of group information\n     */\n    findGroupsByName(searchParams: IdentityGroupSearchParam): Observable<IdentityGroupModel[]> {\n        if (searchParams.name === '') {\n            return of([]);\n        }\n        const url = `${this.identityHost}/groups`;\n        const queryParams = { search: searchParams.name };\n\n        return this.oAuth2Service.get({ url, queryParams });\n    }\n\n    /**\n     * Gets details for a specified group.\n     * @param groupId Id of the target group\n     * @returns Group details\n     */\n    getGroupRoles(groupId: string): Observable<IdentityRoleModel[]> {\n        const url = this.buildRolesUrl(groupId);\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Check that a group has one or more roles from the supplied list.\n     * @param groupId Id of the target group\n     * @param roleNames Array of role names\n     * @returns True if the group has one or more of the roles, false otherwise\n     */\n    checkGroupHasRole(groupId: string, roleNames: string[]): Observable<boolean>  {\n        return this.getGroupRoles(groupId).pipe(map((groupRoles) => {\n            let hasRole = false;\n            if (groupRoles && groupRoles.length > 0) {\n                roleNames.forEach((roleName: string) => {\n                    const role = groupRoles.find(({ name }) => roleName === name);\n                    if (role) {\n                        hasRole = true;\n                        return;\n                    }\n                });\n            }\n            return hasRole;\n        }));\n    }\n\n    /**\n     * Gets the client Id using the app name.\n     * @param applicationName Name of the app\n     * @returns client Id string\n     */\n    getClientIdByApplicationName(applicationName: string): Observable<string> {\n        const url = `${this.identityHost}/clients`;\n        const queryParams = {clientId: applicationName};\n\n        return this.oAuth2Service.get<any[]>({ url, queryParams }).pipe(\n            map((response) => response && response.length > 0 ? response[0].id : '')\n        );\n    }\n\n    /**\n     * Gets client roles.\n     * @param groupId Id of the target group\n     * @param clientId Id of the client\n     * @returns List of roles\n     */\n    getClientRoles(groupId: string, clientId: string): Observable<IdentityRoleModel[]> {\n        const url = `${this.identityHost}/groups/${groupId}/role-mappings/clients/${clientId}`;\n        return this.oAuth2Service.get({ url });\n    }\n\n    /**\n     * Checks if a group has a client app.\n     * @param groupId Id of the target group\n     * @param clientId Id of the client\n     * @returns True if the group has the client app, false otherwise\n     */\n    checkGroupHasClientApp(groupId: string, clientId: string): Observable<boolean> {\n        return this.getClientRoles(groupId, clientId).pipe(\n            map((response) => response && response.length > 0)\n        );\n    }\n\n    /**\n     * Check if a group has any of the client app roles in the supplied list.\n     * @param groupId Id of the target group\n     * @param clientId Id of the client\n     * @param roleNames Array of role names to check\n     * @returns True if the group has one or more of the roles, false otherwise\n     */\n    checkGroupHasAnyClientAppRole(groupId: string, clientId: string, roleNames: string[]): Observable<boolean> {\n        return this.getClientRoles(groupId, clientId).pipe(\n            map((clientRoles: any[]) => {\n                let hasRole = false;\n                if (clientRoles.length > 0) {\n                    roleNames.forEach((roleName) => {\n                        const role = clientRoles.find(({ name }) => name === roleName);\n\n                        if (role) {\n                            hasRole = true;\n                            return;\n                        }\n                    });\n                }\n                return hasRole;\n            })\n        );\n    }\n\n    private buildRolesUrl(groupId: string): string {\n        return `${this.identityHost}/groups/${groupId}/role-mappings/realm/composite`;\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { throwError as observableThrowError, Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { Pagination } from '@alfresco/js-api';\nimport { IdentityRoleModel } from '../models/identity-role.model';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { LogService } from './log.service';\n\nexport interface IdentityRoleResponseModel {\n    entries: IdentityRoleModel[];\n    pagination: Pagination;\n  }\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class IdentityRoleService {\n    contextRoot = '';\n    identityHost = '';\n\n    constructor(\n        protected http: HttpClient,\n        protected appConfig: AppConfigService,\n        protected logService: LogService\n    ) {\n        this.contextRoot = this.appConfig.get('apiHost', '');\n        this.identityHost = this.appConfig.get('identityHost');\n    }\n\n    /**\n     * Ret all roles\n     * @returns List of roles\n     */\n    getRoles(\n        skipCount: number = 0,\n        size: number = 5\n    ): Observable<IdentityRoleResponseModel> {\n        return this.http.get<any>(`${this.identityHost}/roles`).pipe(\n            map(res => {\n                return this.preparePaginationWithRoles(res, skipCount, size);\n            }),\n            catchError(error => this.handleError(error))\n        );\n    }\n\n    private preparePaginationWithRoles(\n        roles: IdentityRoleModel[],\n        skipCount: number = 0,\n        size: number = 5\n    ): IdentityRoleResponseModel {\n        return {\n            entries: roles.slice(skipCount, skipCount + size),\n            pagination: {\n                skipCount: skipCount,\n                maxItems: size,\n                count: roles.length,\n                hasMoreItems: false,\n                totalItems: roles.length\n            }\n        };\n    }\n\n    /**\n     * Add new role\n     * @param newRole Role model\n     * @returns Server result payload\n     */\n    addRole(newRole: IdentityRoleModel): Observable<any> {\n        if (newRole) {\n            const request = newRole;\n            return this.http\n                .post(`${this.identityHost}/roles`, request)\n                .pipe(catchError(error => this.handleError(error)));\n        }\n        return of();\n    }\n\n    /**\n     * Delete existing role\n     * @param deletedRole Role model\n     * @returns Server result payload\n     */\n    deleteRole(deletedRole: IdentityRoleModel): Observable<any> {\n        return this.http\n            .delete(`${this.identityHost}/roles-by-id/${deletedRole.id}`)\n            .pipe(catchError(error => this.handleError(error)));\n    }\n\n    /**\n     * Update existing role\n     * @param updatedRole Role model\n     * @param roleId Role id\n     * @returns Server result payload\n     */\n    updateRole(\n        updatedRole: IdentityRoleModel,\n        roleId: string\n    ): Observable<any> {\n        if (updatedRole && roleId) {\n            const request = updatedRole;\n            return this.http\n                .put(`${this.identityHost}/roles-by-id/${roleId}`, request)\n                .pipe(catchError(error => this.handleError(error)));\n        }\n        return of();\n    }\n\n    private handleError(error: any) {\n        this.logService.error(error);\n        return observableThrowError(error || 'Server error');\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { throwError as observableThrowError, Observable } from 'rxjs';\nimport { Injectable, Injector } from '@angular/core';\nimport {\n  HttpHandler, HttpInterceptor, HttpRequest,\n  HttpSentEvent, HttpHeaderResponse, HttpProgressEvent, HttpResponse, HttpUserEvent, HttpHeaders\n} from '@angular/common/http';\nimport { AuthenticationService } from './authentication.service';\nimport { catchError, mergeMap } from 'rxjs/operators';\n\n@Injectable()\nexport class AuthBearerInterceptor implements HttpInterceptor {\n  private excludedUrlsRegex: RegExp[];\n  private authService: AuthenticationService;\n\n  constructor(private injector: Injector) { }\n\n  private loadExcludedUrlsRegex() {\n    const excludedUrls: string[] = this.authService.getBearerExcludedUrls();\n    this.excludedUrlsRegex = excludedUrls.map((urlPattern) => new RegExp(urlPattern, 'gi')) || [];\n\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler):\n    Observable<HttpSentEvent | HttpHeaderResponse | HttpProgressEvent | HttpResponse<any> | HttpUserEvent<any>> {\n\n    this.authService = this.injector.get(AuthenticationService);\n\n    if (!this.authService || !this.authService.getBearerExcludedUrls()) {\n      return next.handle(req);\n    }\n\n    if (!this.excludedUrlsRegex) {\n      this.loadExcludedUrlsRegex();\n    }\n\n    const urlRequest = req.url;\n    const shallPass: boolean = !!this.excludedUrlsRegex.find((regex) => regex.test(urlRequest));\n    if (shallPass) {\n      return next.handle(req)\n        .pipe(\n          catchError((error) => {\n            return observableThrowError(error);\n          })\n        );\n    }\n\n    return this.authService.addTokenToHeader(req.headers)\n      .pipe(\n        mergeMap((headersWithBearer) => {\n          const headerWithContentType = this.appendJsonContentType(headersWithBearer);\n          const kcReq = req.clone({ headers: headerWithContentType});\n          return next.handle(kcReq)\n            .pipe(\n              catchError((error) => {\n                return observableThrowError(error);\n              })\n           );\n      })\n      );\n  }\n\n  private appendJsonContentType(headers: HttpHeaders): HttpHeaders {\n    return headers.set('Content-Type', 'application/json;charset=UTF-8');\n  }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { MaterialModule } from '../material.module';\nimport { DownloadZipDialogComponent } from './download-zip/download-zip.dialog';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { PipeModule } from '../pipes/pipe.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule,\n        PipeModule\n    ],\n    declarations: [\n        DownloadZipDialogComponent\n    ],\n    exports: [\n        DownloadZipDialogComponent\n    ]\n})\nexport class DialogModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, ViewChild, OnDestroy, OnInit, AfterViewInit, ChangeDetectorRef } from '@angular/core';\nimport { NotificationService } from '../services/notification.service';\nimport { NotificationModel, NOTIFICATION_TYPE } from '../models/notification.model';\nimport { MatMenuTrigger, MenuPositionX, MenuPositionY } from '@angular/material/menu';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { StorageService } from '../../services/storage.service';\nimport { Pagination } from '@alfresco/js-api';\n\n@Component({\n    selector: 'adf-notification-history',\n    templateUrl: 'notification-history.component.html'\n})\nexport class NotificationHistoryComponent implements OnDestroy, OnInit, AfterViewInit {\n\n    public static MAX_NOTIFICATION_STACK_LENGTH = 100;\n    public static NOTIFICATION_STORAGE = 'notification-history';\n\n    @ViewChild(MatMenuTrigger, { static: true })\n    trigger: MatMenuTrigger;\n\n    /** Custom choice for opening the menu at the bottom. Can be `before` or `after`. */\n    @Input()\n    menuPositionX: MenuPositionX = 'after';\n\n    /** Custom choice for opening the menu at the bottom. Can be `above` or `below`. */\n    @Input()\n    menuPositionY: MenuPositionY = 'below';\n\n    /** Maximum number of notifications to display. The rest will remain hidden until load more is clicked */\n    @Input()\n    maxNotifications: number = 5;\n\n    onDestroy$ = new Subject<boolean>();\n    notifications: NotificationModel[] = [];\n    paginatedNotifications = [];\n    pagination: Pagination;\n\n    constructor(\n        private notificationService: NotificationService,\n        public storageService: StorageService,\n        public cd: ChangeDetectorRef) {\n\n    }\n\n    ngOnInit() {\n        this.notifications = JSON.parse(this.storageService.getItem(NotificationHistoryComponent.NOTIFICATION_STORAGE)) || [];\n    }\n\n    ngAfterViewInit(): void {\n        this.notificationService.notifications$\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe((notification: NotificationModel) => {\n                this.addNewNotification(notification);\n                this.cd.detectChanges();\n            });\n    }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n\n    addNewNotification(notification: NotificationModel) {\n        this.notifications.unshift(notification);\n\n        if (this.notifications.length > NotificationHistoryComponent.MAX_NOTIFICATION_STACK_LENGTH) {\n            this.notifications.shift();\n        }\n\n        this.saveNotifications();\n        this.createPagination();\n    }\n\n    saveNotifications() {\n        this.storageService.setItem(NotificationHistoryComponent.NOTIFICATION_STORAGE, JSON.stringify(this.notifications.filter((notification) =>\n            notification.type !== NOTIFICATION_TYPE.RECURSIVE\n        )));\n    }\n\n    onMenuOpened() {\n        this.createPagination();\n    }\n\n    onKeyPress(event: KeyboardEvent) {\n        this.closeUserModal(event);\n    }\n\n    private closeUserModal($event: KeyboardEvent) {\n        if ($event.keyCode === 27) {\n            this.trigger.closeMenu();\n        }\n    }\n\n    markAsRead() {\n        this.notifications = [];\n        this.paginatedNotifications = [];\n        this.storageService.removeItem(NotificationHistoryComponent.NOTIFICATION_STORAGE);\n        this.createPagination();\n        this.trigger.closeMenu();\n    }\n\n    createPagination() {\n        this.pagination = {\n            skipCount: this.maxNotifications,\n            maxItems: this.maxNotifications,\n            totalItems: this.notifications.length,\n            hasMoreItems: this.notifications.length > this.maxNotifications\n        };\n        this.paginatedNotifications = this.notifications.slice(0, this.pagination.skipCount);\n    }\n\n    loadMore() {\n        this.pagination.skipCount = this.pagination.maxItems + this.pagination.skipCount;\n        this.pagination.hasMoreItems = this.notifications.length > this.pagination.skipCount;\n        this.paginatedNotifications = this.notifications.slice(0, this.pagination.skipCount);\n    }\n\n    hasMoreNotifications(): boolean {\n        return this.pagination?.hasMoreItems;\n    }\n\n    onNotificationClick(notification: NotificationModel) {\n        if (notification.clickCallBack) {\n            notification.clickCallBack(notification.args);\n            this.trigger.closeMenu();\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { NotificationModel, NOTIFICATION_TYPE } from '../models/notification.model';\n\n@Pipe({\n    name: 'notificationIcon'\n})\nexport class NotificationIconPipe implements PipeTransform {\n\n    transform(notification: NotificationModel): string {\n        if (notification.icon) {\n            return notification.icon;\n        } else {\n            switch (notification.type) {\n                case NOTIFICATION_TYPE.ERROR:\n                    return 'error';\n                case NOTIFICATION_TYPE.WARN:\n                    return 'warning';\n                default:\n                    return 'info';\n            }\n        }\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MaterialModule } from '../material.module';\nimport { PipeModule } from './../pipes/pipe.module';\nimport { NotificationHistoryComponent } from './components/notification-history.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NotificationIconPipe } from './pipes/notification-icon.pipe';\nimport { PaginationModule } from './../pagination/pagination.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MaterialModule,\n        TranslateModule,\n        PipeModule,\n        PaginationModule\n    ],\n    declarations: [\n        NotificationHistoryComponent,\n        NotificationIconPipe\n    ],\n    exports: [\n        NotificationHistoryComponent\n    ]\n})\nexport class NotificationHistoryModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { trigger, transition, animate, style, state, AnimationTriggerMetadata } from '@angular/animations';\n\nexport const searchAnimation: AnimationTriggerMetadata = trigger('transitionMessages', [\n    state('active', style({\n        'margin-left': '{{ margin-left }}px',\n        'margin-right': '{{ margin-right }}px',\n        'transform': '{{ transform }}'\n    }), { params: { 'margin-left': 0, 'margin-right': 0, 'transform': 'translateX(0%)' } }),\n    state('inactive', style({\n        'margin-left': '{{ margin-left }}px',\n        'margin-right': '{{ margin-right }}px',\n        'transform': '{{ transform }}'\n    }), { params: { 'margin-left': 0, 'margin-right': 0, 'transform': 'translateX(0%)' } }),\n    state('no-animation', style({ transform: 'translateX(0%)', width: '100%' })),\n    transition('active <=> inactive', animate('400ms cubic-bezier(0.25, 0.8, 0.25, 1)'))\n]);\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ViewEncapsulation, Component, Input, OnDestroy, ViewChild, ElementRef, Output, EventEmitter, OnInit } from '@angular/core';\nimport { Subject, Observable, Subscription } from 'rxjs';\nimport { debounceTime, takeUntil, filter } from 'rxjs/operators';\nimport { Direction } from '@angular/cdk/bidi';\nimport { searchAnimation } from './animations';\nimport { UserPreferencesService } from '../services/user-preferences.service';\nimport { SearchTextStateEnum, SearchAnimationState, SearchAnimationDirection } from '../models/search-text-input.model';\n\n@Component({\n    selector: 'adf-search-text-input',\n    templateUrl: './search-text-input.component.html',\n    animations: [searchAnimation],\n    encapsulation: ViewEncapsulation.None,\n    host: {\n        'class': 'adf-search-text-input'\n    }\n})\nexport class SearchTextInputComponent implements OnInit, OnDestroy {\n\n    /** Toggles auto-completion of the search input field. */\n    @Input()\n    autocomplete: boolean = false;\n\n    /** Toggles whether to use an expanding search control. If false\n     * then a regular input is used.\n     */\n    @Input()\n    expandable: boolean = true;\n\n    /** Type of the input field to render, e.g. \"search\" or \"text\" (default). */\n    @Input()\n    inputType: string = 'text';\n\n    /** Toggles \"find-as-you-type\" suggestions for possible matches. */\n    @Input()\n    liveSearchEnabled: boolean = true;\n\n    /** Trigger autocomplete results on input change. */\n    @Input()\n    searchAutocomplete: any = false;\n\n    /** Search term preselected */\n    @Input()\n    searchTerm: string = '';\n\n    /** Debounce time in milliseconds. */\n    @Input()\n    debounceTime: number = 0;\n\n     /** Listener for results-list events (focus, blur and focusout). */\n    @Input()\n    focusListener: Observable<FocusEvent>;\n\n    /** Collapse search bar on submit. */\n    @Input()\n    collapseOnSubmit: boolean = true;\n\n    /** Default state expanded or Collapsed. */\n     @Input()\n    defaultState: SearchTextStateEnum = SearchTextStateEnum.collapsed;\n\n    /** Emitted when the search term is changed. The search term is provided\n     * in the 'value' property of the returned object.  If the term is less\n     * than three characters in length then it is truncated to an empty\n     * string.\n     */\n    @Output()\n    searchChange: EventEmitter<string> = new EventEmitter();\n\n    /** Emitted when the search is submitted by pressing the ENTER key.\n     * The search term is provided as the value of the event.\n     */\n    @Output()\n    submit: EventEmitter<any> = new EventEmitter();\n\n    /**  Emitted when the result list is selected */\n    @Output()\n    selectResult: EventEmitter<any> = new EventEmitter();\n\n    /**  Emitted when the result list is reset */\n    @Output()\n    reset: EventEmitter<boolean> = new EventEmitter();\n\n    @ViewChild('searchInput', { static: true })\n    searchInput: ElementRef;\n\n    subscriptAnimationState: any;\n\n    animationStates: SearchAnimationDirection = {\n        ltr : {\n            active: { value: 'active', params: { 'margin-left': 13 } },\n            inactive: { value: 'inactive', params: { 'transform': 'translateX(82%)' } }\n        },\n        rtl: {\n            active:  { value: 'active', params: { 'margin-right': 13 } },\n            inactive: { value: 'inactive', params: { 'transform': 'translateX(-82%)' } }\n        }\n    };\n\n    private dir = 'ltr';\n    private onDestroy$ = new Subject<boolean>();\n    private toggleSearch = new Subject<any>();\n    private focusSubscription: Subscription;\n    private valueChange = new Subject<string>();\n\n    constructor (\n        private userPreferencesService: UserPreferencesService\n    ) {\n        this.toggleSearch\n            .pipe(\n                debounceTime(200),\n                takeUntil(this.onDestroy$)\n            )\n            .subscribe(() => {\n                if (this.expandable) {\n                    this.subscriptAnimationState = this.toggleAnimation();\n                    if (this.subscriptAnimationState.value === 'inactive') {\n                        this.searchTerm = '';\n                        this.reset.emit(true);\n                        if ( document.activeElement.id === this.searchInput.nativeElement.id) {\n                            this.searchInput.nativeElement.blur();\n                        }\n                    }\n                }\n            });\n    }\n\n    ngOnInit() {\n        this.userPreferencesService\n            .select('textOrientation')\n            .pipe(takeUntil(this.onDestroy$))\n            .subscribe((direction: Direction) => {\n                this.dir = direction;\n                this.subscriptAnimationState = this.getDefaultState(this.dir);\n            });\n\n        this.subscriptAnimationState = this.getDefaultState(this.dir);\n        this.setValueChangeHandler();\n        this.setupFocusEventHandlers();\n    }\n\n    applySearchFocus(animationDoneEvent) {\n        if (animationDoneEvent.toState === 'active' && this.defaultState !== SearchTextStateEnum.expanded) {\n            this.searchInput.nativeElement.focus();\n        }\n    }\n\n    getAutoComplete(): string {\n        return this.autocomplete ? 'on' : 'off';\n    }\n\n    private toggleAnimation() {\n        if (this.dir === 'ltr') {\n            return this.subscriptAnimationState.value === 'inactive' ?\n                { value: 'active', params: { 'margin-left': 13 } } :\n                { value: 'inactive', params: { 'transform': 'translateX(82%)' } };\n        } else {\n            return this.subscriptAnimationState.value === 'inactive' ?\n                { value: 'active', params: { 'margin-right': 13 } } :\n                { value: 'inactive', params: { 'transform': 'translateX(-82%)' } };\n        }\n    }\n\n    private getDefaultState(dir: string): SearchAnimationState {\n        if (this.dir) {\n            return this.getAnimationState(dir);\n        }\n        return this.animationStates.ltr.inactive;\n    }\n\n    private getAnimationState(dir: string): SearchAnimationState {\n        if ( this.expandable && this.defaultState === SearchTextStateEnum.expanded ) {\n            return this.animationStates[dir].active;\n        } else if ( this.expandable ) {\n            return this.animationStates[dir].inactive;\n        } else {\n            return { value: 'no-animation' };\n        }\n    }\n\n    private setupFocusEventHandlers() {\n        if ( this.focusListener ) {\n            const focusEvents: Observable<FocusEvent> = this.focusListener\n            .pipe(\n                debounceTime(50),\n                filter(($event: any) => {\n                    return this.isSearchBarActive() && ($event.type === 'blur' || $event.type === 'focusout' || $event.type === 'focus');\n                }),\n                takeUntil(this.onDestroy$)\n            );\n\n            this.focusSubscription = focusEvents.subscribe( (event: FocusEvent) => {\n                if ( event.type === 'focus') {\n                    this.searchInput.nativeElement.focus();\n                } else {\n                    this.toggleSearchBar();\n                }\n            });\n        }\n    }\n\n    private setValueChangeHandler() {\n        this.valueChange.pipe(\n            debounceTime(this.debounceTime),\n            takeUntil(this.onDestroy$)\n        ).subscribe( (value: string) => {\n            this.searchChange.emit(value);\n        });\n    }\n\n    selectFirstResult($event) {\n        this.selectResult.emit($event);\n    }\n\n    onBlur($event) {\n        if (!$event.relatedTarget && this.defaultState === SearchTextStateEnum.collapsed) {\n            this.searchTerm = '';\n            this.subscriptAnimationState = this.animationStates[this.dir].inactive;\n        }\n    }\n\n    inputChange($event: any) {\n        this.valueChange.next($event);\n    }\n\n    toggleSearchBar() {\n        if (this.toggleSearch) {\n            this.toggleSearch.next();\n        }\n    }\n\n    searchSubmit(event: any) {\n        this.submit.emit(event);\n        if (this.collapseOnSubmit) {\n            this.toggleSearchBar();\n        }\n    }\n\n    activateToolbar(): boolean {\n        if (!this.isSearchBarActive()) {\n            this.toggleSearchBar();\n        }\n        return false;\n    }\n\n    isSearchBarActive(): boolean {\n        return this.subscriptAnimationState.value === 'active' && this.liveSearchEnabled;\n    }\n\n    ngOnDestroy() {\n        if (this.toggleSearch) {\n            this.toggleSearch.complete();\n            this.toggleSearch = null;\n        }\n\n        if (this.focusSubscription) {\n            this.focusSubscription.unsubscribe();\n            this.focusSubscription = null;\n            this.focusListener = null;\n        }\n\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable: no-input-rename no-use-before-declare no-input-rename  */\n\nimport { ENTER, ESCAPE } from '@angular/cdk/keycodes';\nimport {\n    ChangeDetectorRef,\n    Directive,\n    ElementRef,\n    forwardRef,\n    Inject,\n    Input,\n    NgZone,\n    OnDestroy,\n    Optional\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { DOCUMENT } from '@angular/common';\nimport { Observable, Subject, Subscription, merge, of, fromEvent } from 'rxjs';\nimport { filter, switchMap, takeUntil } from 'rxjs/operators';\nimport { SearchComponentInterface } from '../interface/search-configuration.interface';\n\nexport const SEARCH_AUTOCOMPLETE_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => SearchTriggerDirective),\n    multi: true\n};\n\n/**\n * Directive selectors without adf- prefix will be deprecated on 3.0.0\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: `input[searchAutocomplete], textarea[searchAutocomplete]`,\n    host: {\n        'role': 'combobox',\n        '[attr.autocomplete]': 'autocomplete',\n        'aria-autocomplete': 'list',\n        '[attr.aria-expanded]': 'panelOpen.toString()',\n        '(blur)': 'onTouched()',\n        '(input)': 'handleInput($event)',\n        '(keydown)': 'handleKeydown($event)'\n    },\n    providers: [SEARCH_AUTOCOMPLETE_VALUE_ACCESSOR]\n})\nexport class SearchTriggerDirective implements ControlValueAccessor, OnDestroy {\n    private onDestroy$: Subject<boolean> = new Subject<boolean>();\n\n    @Input('searchAutocomplete')\n    searchPanel: SearchComponentInterface;\n\n    @Input()\n    autocomplete: string = 'off';\n\n    private _panelOpen: boolean = false;\n    private closingActionsSubscription: Subscription;\n    private escapeEventStream = new Subject<void>();\n\n    onChange: (value: any) => void = () => { };\n\n    onTouched = () => { };\n\n    constructor(private element: ElementRef,\n                private ngZone: NgZone,\n                private changeDetectorRef: ChangeDetectorRef,\n                @Optional() @Inject(DOCUMENT) private document: any) { }\n\n    ngOnDestroy() {\n        this.onDestroy$.next(true);\n        this.onDestroy$.complete();\n\n        if (this.escapeEventStream) {\n            this.escapeEventStream = null;\n        }\n        if ( this.closingActionsSubscription ) {\n            this.closingActionsSubscription.unsubscribe();\n        }\n    }\n\n    get panelOpen(): boolean {\n        return this._panelOpen && this.searchPanel.showPanel;\n    }\n\n    openPanel(): void {\n        this.searchPanel.isOpen = this._panelOpen = true;\n        this.closingActionsSubscription = this.subscribeToClosingActions();\n    }\n\n    closePanel(): void {\n        if (this._panelOpen) {\n            this.closingActionsSubscription.unsubscribe();\n            this._panelOpen = false;\n            this.searchPanel.resetResults();\n            this.searchPanel.hidePanel();\n            this.changeDetectorRef.detectChanges();\n        }\n    }\n\n    get panelClosingActions(): Observable<any> {\n        return merge(\n            this.escapeEventStream,\n            this.outsideClickStream\n        );\n    }\n\n    private get outsideClickStream(): Observable<any> {\n        if (!this.document) {\n            return of(null);\n        }\n\n        return merge(\n            fromEvent(this.document, 'click'),\n            fromEvent(this.document, 'touchend')\n        ).pipe(\n            filter((event: MouseEvent | TouchEvent) => {\n                const clickTarget = event.target as HTMLElement;\n                return this._panelOpen && clickTarget !== this.element.nativeElement;\n            }),\n            takeUntil(this.onDestroy$)\n        );\n    }\n\n    writeValue(value: any): void {\n        Promise.resolve(null).then(() => this.setTriggerValue(value));\n    }\n\n    registerOnChange(fn: (value: any) => {}): void {\n        this.onChange = fn;\n    }\n\n    registerOnTouched(fn: () => {}) {\n        this.onTouched = fn;\n    }\n\n    handleKeydown(event: KeyboardEvent): void {\n        const keyCode = event.keyCode;\n\n        if (keyCode === ESCAPE && this.panelOpen) {\n            this.escapeEventStream.next();\n            event.stopPropagation();\n        } else if (keyCode === ENTER) {\n            this.escapeEventStream.next();\n            event.preventDefault();\n        }\n\n    }\n\n    handleInput(event: KeyboardEvent): void {\n        if (document.activeElement === event.target ) {\n            const inputValue: string = (event.target as HTMLInputElement).value;\n            this.onChange(inputValue);\n            if (inputValue && this.searchPanel) {\n                this.searchPanel.keyPressedStream.next(inputValue);\n                this.openPanel();\n            } else if (this.searchPanel) {\n                this.searchPanel.resetResults();\n                this.closePanel();\n            }\n        }\n    }\n\n    private isPanelOptionClicked(event: MouseEvent) {\n        let isPanelOption: boolean = false;\n        if ( event && this.searchPanel ) {\n            const clickTarget = event.target as HTMLElement;\n            isPanelOption = !this.isNoResultOption() &&\n                            !!this.searchPanel.panel &&\n                            !!this.searchPanel.panel.nativeElement.contains(clickTarget);\n        }\n        return isPanelOption;\n    }\n\n    private isNoResultOption(): boolean {\n        return this.searchPanel && this.searchPanel.results.list ? this.searchPanel.results.list.entries.length === 0 : true;\n    }\n\n    private subscribeToClosingActions(): Subscription {\n        const firstStable = this.ngZone.onStable.asObservable();\n        const optionChanges = this.searchPanel.keyPressedStream.asObservable();\n\n        return merge(firstStable, optionChanges)\n            .pipe(\n                switchMap(() => {\n                    this.searchPanel.setVisibility();\n                    return this.panelClosingActions;\n                }),\n                takeUntil(this.onDestroy$)\n            )\n            .subscribe((event) => this.setValueAndClose(event));\n    }\n\n    private setTriggerValue(value: any): void {\n        const toDisplay = this.searchPanel && this.searchPanel.displayWith ?\n            this.searchPanel.displayWith(value) : value;\n        const inputValue = toDisplay != null ? toDisplay : '';\n        this.element.nativeElement.value = inputValue;\n    }\n\n    private setValueAndClose(event: any | null): void {\n        if (this.isPanelOptionClicked(event) && !event.defaultPrevented) {\n            this.setTriggerValue(event.target.textContent.trim());\n            this.onChange(event.target.textContent.trim());\n            this.element.nativeElement.focus();\n        }\n        this.closePanel();\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MaterialModule } from '../material.module';\nimport { FormsModule } from '@angular/forms';\nimport { SearchTextInputComponent } from './search-text-input.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { SearchTriggerDirective } from './search-trigger.directive';\n\n@NgModule({\n    declarations: [\n        SearchTextInputComponent,\n        SearchTriggerDirective\n    ],\n    imports: [\n        CommonModule,\n        TranslateModule,\n        MaterialModule,\n        FormsModule\n    ],\n    exports: [\n        SearchTextInputComponent,\n        SearchTriggerDirective\n    ]\n})\nexport class SearchTextModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'adf-blank-page',\n  template: ``\n})\nexport class BlankPageComponent {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NgModule } from '@angular/core';\n\nimport { BlankPageComponent } from './blank-page.component';\n\n@NgModule({\n    declarations: [\n        BlankPageComponent\n    ],\n    exports: [\n        BlankPageComponent\n    ]\n})\nexport class BlankPageModule {\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:adf-file-name  */\nexport class AlfrescoApiMock {\n\n    login() {\n        return new Promise((resolve) => {\n            resolve('TICKET_4479f4d3bb155195879bfbb8d5206f433488a1b1');\n        });\n    }\n\n    logout() {\n        return new Promise((resolve) => {\n            resolve('logout');\n        });\n    }\n\n    changeConfig() {\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { AppConfigService, Status } from '../app-config/app-config.service';\nimport { HttpClient } from '@angular/common/http';\nimport { ExtensionService } from '@alfresco/adf-extensions';\n@Injectable()\nexport class AppConfigServiceMock extends AppConfigService {\n\n    config: any = {\n        application: {\n            name: 'Alfresco ADF Application'\n        },\n        ecmHost: 'http://{hostname}{:port}/ecm',\n        bpmHost: 'http://{hostname}{:port}/bpm',\n        logLevel: 'silent'\n    };\n\n    constructor(http: HttpClient, extensionService: ExtensionService) {\n        super(http, extensionService);\n    }\n\n    load(): Promise<any> {\n        return new Promise((resolve) => {\n            this.status = Status.LOADED;\n            this.onDataLoaded(this.config);\n            resolve(this.config);\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport let fakeApps = {\n    size: 2, total: 2, start: 0,\n    data: [\n        {\n            id: 1, defaultAppId: null, name: 'Sales-Fakes-App', description: 'desc-fake1', modelId: 22,\n            theme: 'theme-1-fake', icon: 'glyphicon-asterisk', 'deploymentId': '111', 'tenantId': null\n        },\n        {\n            id: 2, defaultAppId: null, name: 'health-care-Fake', description: 'desc-fake2', modelId: 33,\n            theme: 'theme-2-fake', icon: 'glyphicon-asterisk', 'deploymentId': '444', 'tenantId': null\n        }\n    ]\n};\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Observable, of, throwError } from 'rxjs';\nimport { RedirectionModel } from '../models/redirection.model';\n\n// TODO: should be extending AuthenticationService\nexport class AuthenticationMock /*extends AuthenticationService*/ {\n    private redirectUrl: RedirectionModel = null;\n\n    setRedirectUrl(url: RedirectionModel) {\n        this.redirectUrl = url;\n    }\n\n    getRedirectUrl(): string|null {\n        return this.redirectUrl ? this.redirectUrl.url : null;\n    }\n\n    // TODO: real auth service returns Observable<string>\n    login(username: string, password: string): Observable<{ type: string, ticket: any }> {\n        if (username === 'fake-username' && password === 'fake-password') {\n            return of({ type: 'type', ticket: 'ticket'});\n        }\n\n        if (username === 'fake-username-CORS-error' && password === 'fake-password') {\n            return throwError({\n                error: {\n                    crossDomain: true,\n                    message: 'ERROR: the network is offline, Origin is not allowed by Access-Control-Allow-Origin'\n                }\n            });\n        }\n\n        if (username === 'fake-username-CSRF-error' && password === 'fake-password') {\n            return throwError({message: 'ERROR: Invalid CSRF-token', status: 403});\n        }\n\n        if (username === 'fake-username-ECM-access-error' && password === 'fake-password') {\n            return throwError({message: 'ERROR: 00170728 Access Denied.  The system is currently in read-only mode', status: 403});\n        }\n\n        return throwError('Fake server error');\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BpmUserModel } from '../models';\n\nexport let fakeBpmUserNoImage = {\n    apps: [],\n    capabilities: 'fake-capability',\n    company: 'fake-company',\n    created: 'fake-create-date',\n    email: 'fakeBpm@fake.com',\n    externalId: 'fake-external-id',\n    firstName: 'fake-first-name',\n    lastName: 'fake-last-name',\n    groups: [],\n    id: 'fake-id',\n    lastUpdate: 'fake-update-date',\n    latestSyncTimeStamp: 'fake-timestamp',\n    password: 'fake-password',\n    pictureId: undefined,\n    status: 'fake-status',\n    tenantId: 'fake-tenant-id',\n    tenantName: 'fake-tenant-name',\n    tenantPictureId: 'fake-tenant-picture-id',\n    type: 'fake-type'\n};\n\nexport let fakeBpmUser = new BpmUserModel({\n    apps: [],\n    capabilities: null,\n    company: 'fake-company',\n    created: 'fake-create-date',\n    email: 'fakeBpm@fake.com',\n    externalId: 'fake-external-id',\n    firstName: 'fake-bpm-first-name',\n    lastName: 'fake-bpm-last-name',\n    groups: [],\n    id: 'fake-id',\n    lastUpdate: 'fake-update-date',\n    latestSyncTimeStamp: 'fake-timestamp',\n    password: 'fake-password',\n    pictureId: 12,\n    status: 'fake-status',\n    tenantId: 'fake-tenant-id',\n    tenantName: 'fake-tenant-name',\n    tenantPictureId: 'fake-tenant-picture-id',\n    type: 'fake-type'\n});\n\nexport let fakeBpmEditedUser = {\n    apps: [],\n    capabilities: 'fake-capability',\n    company: 'fake-company',\n    created: 'fake-create-date',\n    email: 'fakeBpm@fake.com',\n    externalId: 'fake-external-id',\n    firstName: 'fake-first-name',\n    lastName: 'fake-last-name',\n    groups: [],\n    id: 'fake-id',\n    lastUpdate: 'fake-update-date',\n    latestSyncTimeStamp: 'fake-timestamp',\n    password: 'fake-password',\n    pictureId: 'src/assets/images/bpmImg.gif',\n    status: 'fake-status',\n    tenantId: 'fake-tenant-id',\n    tenantName: 'fake-tenant-name',\n    tenantPictureId: 'fake-tenant-picture-id',\n    type: 'fake-type'\n};\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommentModel } from '../models/comment.model';\nimport { UserProcessModel } from '../models/user-process.model';\n\nexport let fakeUser1 = { id: 1, email: 'fake-email@dom.com', firstName: 'firstName', lastName: 'lastName' };\n\nexport let fakeUser2 = { id: 1001, email: 'some-one@somegroup.com', firstName: 'some', lastName: 'one' };\n\nexport let fakeTasksComment = {\n    size: 2, total: 2, start: 0,\n    data: [\n        {\n            id: 1, message: 'fake-message-1', created: '', createdBy: fakeUser1\n        },\n        {\n            id: 2, message: 'fake-message-2', created: '', createdBy: fakeUser1\n        }\n    ]\n};\n\nexport let fakeProcessComment = new CommentModel({id: 1, message: 'Test', created: new Date('2016-11-10T03:37:30.010+0000'), createdBy: new UserProcessModel({\n    id: 13,\n    firstName: 'Wilbur',\n    lastName: 'Adams',\n    email: 'wilbur@app.com'\n})});\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { CookieService } from '../services/cookie.service';\n\n@Injectable()\nexport class CookieServiceMock extends CookieService {\n\n    /** @override */\n    isEnabled(): boolean {\n        return true;\n    }\n\n    /** @override */\n    getItem(key: string): string | null {\n        return this[key] && this[key].data || null;\n    }\n\n    /** @override */\n    setItem(key: string, data: string, expiration: Date | null, path: string | null): void {\n        this[key] = {data, expiration, path};\n    }\n\n    /** @override */\n    clear() {\n        Object.keys(this).forEach((key) => {\n            if (this.hasOwnProperty(key) && typeof(this[key]) !== 'function') {\n                this[key] = undefined;\n            }\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EcmCompanyModel } from '../models/ecm-company.model';\nimport { PersonEntry, Person, PersonPaging } from '@alfresco/js-api';\nimport { EcmUserModel } from '../models';\n\nexport const fakeEcmCompany: EcmCompanyModel = {\n    organization: 'company-fake-name',\n    address1: 'fake-address-1',\n    address2: 'fake-address-2',\n    address3: 'fake-address-3',\n    postcode: 'fAk1',\n    telephone: '00000000',\n    fax: '11111111',\n    email: 'fakeCompany@fake.com'\n};\n\nexport const fakeEcmUser = new EcmUserModel({\n    id: 'fake-id',\n    firstName: 'fake-ecm-first-name',\n    lastName: 'fake-ecm-last-name',\n    description: 'i am a fake user for test',\n    avatarId: 'fake-avatar-id',\n    email: 'fakeEcm@ecmUser.com',\n    skypeId: 'fake-skype-id',\n    googleId: 'fake-googleId-id',\n    instantMessageId: 'fake-instantMessageId-id',\n    company: null,\n    jobTitle: 'job-ecm-test',\n    location: 'fake location',\n    mobile: '000000000',\n    telephone: '11111111',\n    statusUpdatedAt: 'fake-date',\n    userStatus: 'active',\n    enabled: true,\n    emailNotificationsEnabled: true\n});\n\nexport const fakeEcmUser2 = {\n    id: 'another-fake-id',\n    firstName: 'another-fake-first-name',\n    lastName: 'another',\n    displayName: 'admin.adf User',\n    email: 'admin.adf@alfresco.com',\n    company: null,\n    enabled: true,\n    emailNotificationsEnabled: true\n};\n\nexport const fakeEcmUserNoImage = {\n    id: 'fake-id',\n    firstName: 'fake-first-name',\n    lastName: 'fake-last-name',\n    description: 'i am a fake user for test',\n    avatarId: null,\n    email: 'fakeEcm@ecmUser.com',\n    skypeId: 'fake-skype-id',\n    googleId: 'fake-googleId-id',\n    instantMessageId: 'fake-instantMessageId-id',\n    company: null,\n    jobTitle: null,\n    location: 'fake location',\n    mobile: '000000000',\n    telephone: '11111111',\n    statusUpdatedAt: 'fake-date',\n    userStatus: 'active',\n    enabled: true,\n    emailNotificationsEnabled: true\n};\n\nexport const fakeEcmEditedUser = {\n    id: 'fake-id',\n    firstName: null,\n    lastName: 'fake-last-name',\n    description: 'i am a fake user for test',\n    avatarId: 'fake-avatar-id',\n    email: 'fakeEcm@ecmUser.com',\n    skypeId: 'fake-skype-id',\n    googleId: 'fake-googleId-id',\n    instantMessageId: 'fake-instantMessageId-id',\n    company: null,\n    jobTitle: 'test job',\n    location: 'fake location',\n    mobile: '000000000',\n    telephone: '11111111',\n    statusUpdatedAt: 'fake-date',\n    userStatus: 'active',\n    enabled: true,\n    emailNotificationsEnabled: true\n};\n\nexport const fakeEcmUserList = new PersonPaging({\n    list: {\n        pagination: {\n            count: 2,\n            hasMoreItems: false,\n            totalItems: 2,\n            skipCount: 0,\n            maxItems: 100\n        },\n        entries: [\n            {\n                entry: fakeEcmUser\n            },\n            {\n                entry: fakeEcmUser2\n            }\n        ]\n    }\n});\n\nexport const createNewPersonMock = {\n    id: 'fake-id',\n    firstName: 'fake-ecm-first-name',\n    lastName: 'fake-ecm-last-name',\n    description: 'i am a fake user for test',\n    password: 'fake-avatar-id',\n    email: 'fakeEcm@ecmUser.com'\n};\n\nexport function getFakeUserWithContentAdminCapability(): PersonEntry {\n    const fakeEcmUserWithAdminCapabilities = {\n        ...fakeEcmUser,\n        capabilities: {\n            isAdmin: true\n        }\n    };\n    const mockPerson = new Person(fakeEcmUserWithAdminCapabilities);\n    return { entry: mockPerson };\n}\n\nexport function getFakeUserWithContentUserCapability(): PersonEntry {\n    const fakeEcmUserWithAdminCapabilities = {\n        ...fakeEcmUser,\n        capabilities: {\n            isAdmin: false\n        }\n    };\n    const mockPerson = new Person(fakeEcmUserWithAdminCapabilities);\n    return { entry: mockPerson };\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class EventMock {\n\n    static keyDown(key: any) {\n        const event: any = document.createEvent('Event');\n        event.keyCode = key;\n        event.initEvent('keydown');\n        document.dispatchEvent(event);\n    }\n\n    static keyUp(key: any) {\n        const event: any = document.createEvent('Event');\n        event.keyCode = key;\n        event.initEvent('keyup');\n        document.dispatchEvent(event);\n    }\n\n    static resizeMobileView() {\n        // todo: no longer compiles with TS 2.0.2 as innerWidth/innerHeight are readonly fields\n        /*\n        window.innerWidth = 320;\n        window.innerHeight = 568;\n        */\n        window.dispatchEvent(new Event('resize'));\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport let fakeSearch = {\n    list: {\n        pagination: {\n            count: 1,\n            hasMoreItems: false,\n            totalItems: 1,\n            skipCount: 0,\n            maxItems: 100\n        },\n        entries: [\n            {\n                entry: {\n                    id: '123',\n                    name: 'MyDoc',\n                    content: {\n                        mimetype: 'text/plain'\n                    },\n                    createdByUser: {\n                        displayName: 'John Doe'\n                    },\n                    modifiedByUser: {\n                        displayName: 'John Doe'\n                    }\n                }\n            }\n        ]\n    }\n};\n\nexport let mockError = {\n    error: {\n        errorKey: 'Search failed',\n        statusCode: 400,\n        briefSummary: '08220082 search failed',\n        stackTrace: 'For security reasons the stack trace is no longer displayed, but the property is kept for previous versions.',\n        descriptionURL: 'https://api-explorer.alfresco.com'\n    }\n};\n\nexport let searchMockApi: any = {\n    core: {\n        queriesApi: {\n            findNodes: () => Promise.resolve(fakeSearch)\n        }\n    },\n    isEcmLoggedIn() {\n        return false;\n    },\n    reply: () => ''\n};\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EventEmitter, Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { TranslationService } from '../services/translation.service';\n\nexport interface LangChangeEvent {\n    lang: string;\n    translations: any;\n}\n\n@Injectable()\nexport class TranslationMock implements TranslationService {\n\n    defaultLang: string = 'en';\n    userLang: string;\n    customLoader: any;\n\n    translate: any = {\n        onLangChange: new EventEmitter<LangChangeEvent>()\n    };\n\n    addTranslationFolder() {}\n\n    onTranslationChanged() {}\n\n    use(): any {}\n\n    loadTranslation() {}\n\n    get(key: string | Array<string>): Observable<string | any> {\n        return of(key);\n    }\n\n    instant(key: string | Array<string>): string | any {\n        return key;\n    }\n\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { AlfrescoApiService } from '../services/alfresco-api.service';\nimport { StorageService } from '../services/storage.service';\n\n/* tslint:disable:adf-file-name */\n@Injectable()\nexport class AlfrescoApiServiceMock extends AlfrescoApiService {\n\n    constructor(protected appConfig: AppConfigService,\n                protected storageService: StorageService) {\n        super(appConfig, storageService);\n        if (!this.alfrescoApi) {\n            this.initAlfrescoApi();\n        }\n    }\n\n    initialize(): Promise<any> {\n        return new Promise((resolve) => {\n            this.alfrescoApiInitialized.next(true);\n            resolve({});\n        });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormModel, FormValues } from '../../form/components/widgets/core/index';\n\nexport let formTest = new FormModel({});\n\nexport const fakeTaskProcessVariableModels = [\n    { id:   'TEST_VAR_1', type:   'string', value:   'test_value_1' },\n    { id:   'TEST_VAR_2', type:   'string', value:   'test_value_2' },\n    { id:   'TEST_VAR_3', type:   'string', value:   'test_value_3' }\n];\n\nexport const formValues: FormValues = {\n    'test_1':   'value_1',\n    'test_2':   'value_2',\n    'test_3':   'value_1',\n    'test_4':   'dropdown_id',\n    'test_5':   'dropdown_label',\n    'dropdown':   { 'id':   'dropdown_id', 'name':   'dropdown_label' }\n};\n\nexport const fakeFormJson: any = {\n    id:   '9999',\n    name:   'FORM_VISIBILITY',\n    processDefinitionId:   'PROCESS_TEST:  9:  9999',\n    processDefinitionName:   'PROCESS_TEST',\n    processDefinitionKey:   'PROCESS_TEST',\n    taskId:   '999',\n    taskName:   'TEST',\n    fields:   [\n        {\n            fieldType:   'ContainerRepresentation',\n            id:   '000000000000000000',\n            name:   'Label',\n            type:   'container',\n            value:   null,\n            numberOfColumns:   2,\n            fields:   {\n                1:   [\n                    {\n                        fieldType:   'FormFieldRepresentation',\n                        id:   'FIELD_TEST',\n                        name:   'FIELD_TEST',\n                        type:   'text',\n                        value:   'RIGHT_FORM_FIELD_VALUE',\n                        visibilityCondition:   null,\n                        isVisible:   true\n                    },\n                    {\n                        fieldType:   'FormFieldRepresentation',\n                        id:   'FIELD_WITH_CONDITION',\n                        name:   'FIELD_WITH_CONDITION',\n                        type:   'text',\n                        value:   'field_with_condition_value',\n                        visibilityCondition:   null,\n                        isVisible:   true\n                    },\n                    {\n                        fieldType:   'FormFieldRepresentation',\n                        id:   'LEFT_FORM_FIELD_ID',\n                        name:   'LEFT_FORM_FIELD_NAME',\n                        type:   'text',\n                        value:   'LEFT_FORM_FIELD_VALUE',\n                        visibilityCondition:   null,\n                        isVisible:   true\n                    }\n                ],\n                2:   [\n                    {\n                        fieldType:   'FormFieldRepresentation',\n                        id:   'RIGHT_FORM_FIELD_ID',\n                        name:   'RIGHT_FORM_FIELD_NAME',\n                        type:   'text',\n                        value:   'RIGHT_FORM_FIELD_VALUE',\n                        visibilityCondition:   null,\n                        isVisible:   true\n                    }\n                ]\n            }\n        }\n    ],\n    variables:   [\n        {\n            'id':   'e621e8ff-42a6-499c-8121-33c7c35d8641',\n            'name':   'age',\n            'type':   'integer',\n            'value':   11\n        },\n        {\n            'id':   '4f8aa99e-8526-429c-9d99-809978489d96',\n            'name':   'name',\n            'type':   'string',\n            'value':   'abc'\n        },\n        {\n            'id':   '0207b649-ff07-4f3a-a589-d10afa507b9b',\n            'name':   'dob',\n            'type':   'date',\n            'value':   '2019-05-13'\n        }\n    ]\n};\n\nexport const complexVisibilityJsonVisible: any = {\n    'id':   47591,\n    'name':   'Test-visibility',\n    'description':   '',\n    'version':   4,\n    'lastUpdatedBy':   13,\n    'lastUpdatedByFullName':   'romano romano',\n    'lastUpdated':   '2019-06-11T11:  04:  36.870+0000',\n    'stencilSetId':   0,\n    'referenceId':   null,\n    'formDefinition':   {\n        'tabs':   [],\n        'fields':   [{\n            'fieldType':   'ContainerRepresentation',\n            'id':   '1560246123312',\n            'name':   'Label',\n            'type':   'container',\n            'value':   null,\n            'required':   false,\n            'readOnly':   false,\n            'overrideId':   false,\n            'colspan':   1,\n            'placeholder':   null,\n            'minLength':   0,\n            'maxLength':   0,\n            'minValue':   null,\n            'maxValue':   null,\n            'regexPattern':   null,\n            'optionType':   null,\n            'hasEmptyValue':   null,\n            'options':   null,\n            'restUrl':   null,\n            'restResponsePath':   null,\n            'restIdProperty':   null,\n            'restLabelProperty':   null,\n            'tab':   null,\n            'className':   null,\n            'dateDisplayFormat':   null,\n            'layout':   null,\n            'sizeX':   2,\n            'sizeY':   1,\n            'row':   -1,\n            'col':   -1,\n            'visibilityCondition':   null,\n            'numberOfColumns':   2,\n            'fields':   {\n                '1':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label',\n                    'name':   'Label',\n                    'type':   'text',\n                    'value':   null,\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   2 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   null\n                }],\n                '2':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label1',\n                    'name':   'Label1',\n                    'type':   'text',\n                    'value':   null,\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   1 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   null\n                }]\n            }\n        }, {\n            'fieldType':   'ContainerRepresentation',\n            'id':   '1560246128696',\n            'name':   'Label',\n            'type':   'container',\n            'value':   null,\n            'required':   false,\n            'readOnly':   false,\n            'overrideId':   false,\n            'colspan':   1,\n            'placeholder':   null,\n            'minLength':   0,\n            'maxLength':   0,\n            'minValue':   null,\n            'maxValue':   null,\n            'regexPattern':   null,\n            'optionType':   null,\n            'hasEmptyValue':   null,\n            'options':   null,\n            'restUrl':   null,\n            'restResponsePath':   null,\n            'restIdProperty':   null,\n            'restLabelProperty':   null,\n            'tab':   null,\n            'className':   null,\n            'dateDisplayFormat':   null,\n            'layout':   null,\n            'sizeX':   2,\n            'sizeY':   1,\n            'row':   -1,\n            'col':   -1,\n            'visibilityCondition':   null,\n            'numberOfColumns':   2,\n            'fields':   {\n                '1':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label4',\n                    'name':   'Label4',\n                    'type':   'text',\n                    'value':   null,\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   2 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   null\n                }],\n                '2':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label3',\n                    'name':   'Label3',\n                    'type':   'text',\n                    'value':   '',\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   1 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   null\n                }]\n            }\n        }, {\n            'fieldType':   'ContainerRepresentation',\n            'id':   '1560246126964',\n            'name':   'Label',\n            'type':   'container',\n            'value':   null,\n            'required':   false,\n            'readOnly':   false,\n            'overrideId':   false,\n            'colspan':   1,\n            'placeholder':   null,\n            'minLength':   0,\n            'maxLength':   0,\n            'minValue':   null,\n            'maxValue':   null,\n            'regexPattern':   null,\n            'optionType':   null,\n            'hasEmptyValue':   null,\n            'options':   null,\n            'restUrl':   null,\n            'restResponsePath':   null,\n            'restIdProperty':   null,\n            'restLabelProperty':   null,\n            'tab':   null,\n            'className':   null,\n            'dateDisplayFormat':   null,\n            'layout':   null,\n            'sizeX':   2,\n            'sizeY':   1,\n            'row':   -1,\n            'col':   -1,\n            'visibilityCondition':   null,\n            'numberOfColumns':   2,\n            'fields':   {\n                '1':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label2',\n                    'name':   'Label2',\n                    'type':   'text',\n                    'value':   null,\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   2 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   null\n                }],\n                '2':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label5',\n                    'name':   'Label5',\n                    'type':   'boolean',\n                    'value':   null,\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   1 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   {\n                        'leftFormFieldId':   'label',\n                        'leftRestResponseId':   null,\n                        'operator':   '==',\n                        'rightValue':   'aaa',\n                        'rightType':   null,\n                        'rightFormFieldId':   '',\n                        'rightRestResponseId':   '',\n                        'nextConditionOperator':   'and',\n                        'nextCondition':   {\n                            'leftFormFieldId':   'label1',\n                            'leftRestResponseId':   null,\n                            'operator':   '!=',\n                            'rightValue':   'aaa',\n                            'rightType':   null,\n                            'rightFormFieldId':   '',\n                            'rightRestResponseId':   '',\n                            'nextConditionOperator':   'and',\n                            'nextCondition':   {\n                                'leftFormFieldId':   'label2',\n                                'leftRestResponseId':   null,\n                                'operator':   '!empty',\n                                'rightValue':   null,\n                                'rightType':   null,\n                                'rightFormFieldId':   '',\n                                'rightRestResponseId':   '',\n                                'nextConditionOperator':   'or',\n                                'nextCondition':   {\n                                    'leftFormFieldId':   'label3',\n                                    'leftRestResponseId':   null,\n                                    'operator':   'empty',\n                                    'rightValue':   null,\n                                    'rightType':   null,\n                                    'rightFormFieldId':   '',\n                                    'rightRestResponseId':   '',\n                                    'nextConditionOperator':   null,\n                                    'nextCondition':   null\n                                }\n                            }\n                        }\n                    }\n                }]\n            }\n        }],\n        'outcomes':   [],\n        'javascriptEvents':   [],\n        'className':   '',\n        'style':   '',\n        'customFieldTemplates':   {},\n        'metadata':   {},\n        'variables':   [],\n        'customFieldsValueInfo':   {},\n        'gridsterForm':   false\n    }\n};\n\nexport const complexVisibilityJsonNotVisible: any = {\n    'id':   47591,\n    'name':   'Test-visibility',\n    'description':   '',\n    'version':   4,\n    'lastUpdatedBy':   13,\n    'lastUpdatedByFullName':   'romano romano',\n    'lastUpdated':   '2019-06-11T11:  04:  36.870+0000',\n    'stencilSetId':   0,\n    'referenceId':   null,\n    'formDefinition':   {\n        'tabs':   [],\n        'fields':   [{\n            'fieldType':   'ContainerRepresentation',\n            'id':   '1560246123312',\n            'name':   'Label',\n            'type':   'container',\n            'value':   null,\n            'required':   false,\n            'readOnly':   false,\n            'overrideId':   false,\n            'colspan':   1,\n            'placeholder':   null,\n            'minLength':   0,\n            'maxLength':   0,\n            'minValue':   null,\n            'maxValue':   null,\n            'regexPattern':   null,\n            'optionType':   null,\n            'hasEmptyValue':   null,\n            'options':   null,\n            'restUrl':   null,\n            'restResponsePath':   null,\n            'restIdProperty':   null,\n            'restLabelProperty':   null,\n            'tab':   null,\n            'className':   null,\n            'dateDisplayFormat':   null,\n            'layout':   null,\n            'sizeX':   2,\n            'sizeY':   1,\n            'row':   -1,\n            'col':   -1,\n            'visibilityCondition':   null,\n            'numberOfColumns':   2,\n            'fields':   {\n                '1':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label',\n                    'name':   'Label',\n                    'type':   'text',\n                    'value':   null,\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   2 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   null\n                }],\n                '2':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label1',\n                    'name':   'Label1',\n                    'type':   'text',\n                    'value':   null,\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   1 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   null\n                }]\n            }\n        }, {\n            'fieldType':   'ContainerRepresentation',\n            'id':   '1560246128696',\n            'name':   'Label',\n            'type':   'container',\n            'value':   null,\n            'required':   false,\n            'readOnly':   false,\n            'overrideId':   false,\n            'colspan':   1,\n            'placeholder':   null,\n            'minLength':   0,\n            'maxLength':   0,\n            'minValue':   null,\n            'maxValue':   null,\n            'regexPattern':   null,\n            'optionType':   null,\n            'hasEmptyValue':   null,\n            'options':   null,\n            'restUrl':   null,\n            'restResponsePath':   null,\n            'restIdProperty':   null,\n            'restLabelProperty':   null,\n            'tab':   null,\n            'className':   null,\n            'dateDisplayFormat':   null,\n            'layout':   null,\n            'sizeX':   2,\n            'sizeY':   1,\n            'row':   -1,\n            'col':   -1,\n            'visibilityCondition':   null,\n            'numberOfColumns':   2,\n            'fields':   {\n                '1':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label4',\n                    'name':   'Label4',\n                    'type':   'text',\n                    'value':   null,\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   2 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   null\n                }],\n                '2':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label3',\n                    'name':   'Label3',\n                    'type':   'text',\n                    'value':   'OPSSS',\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   1 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   null\n                }]\n            }\n        }, {\n            'fieldType':   'ContainerRepresentation',\n            'id':   '1560246126964',\n            'name':   'Label',\n            'type':   'container',\n            'value':   null,\n            'required':   false,\n            'readOnly':   false,\n            'overrideId':   false,\n            'colspan':   1,\n            'placeholder':   null,\n            'minLength':   0,\n            'maxLength':   0,\n            'minValue':   null,\n            'maxValue':   null,\n            'regexPattern':   null,\n            'optionType':   null,\n            'hasEmptyValue':   null,\n            'options':   null,\n            'restUrl':   null,\n            'restResponsePath':   null,\n            'restIdProperty':   null,\n            'restLabelProperty':   null,\n            'tab':   null,\n            'className':   null,\n            'dateDisplayFormat':   null,\n            'layout':   null,\n            'sizeX':   2,\n            'sizeY':   1,\n            'row':   -1,\n            'col':   -1,\n            'visibilityCondition':   null,\n            'numberOfColumns':   2,\n            'fields':   {\n                '1':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label2',\n                    'name':   'Label2',\n                    'type':   'text',\n                    'value':   null,\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   2 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   null\n                }],\n                '2':   [{\n                    'fieldType':   'FormFieldRepresentation',\n                    'id':   'label5',\n                    'name':   'Label5',\n                    'type':   'boolean',\n                    'value':   null,\n                    'required':   false,\n                    'readOnly':   false,\n                    'overrideId':   false,\n                    'colspan':   1,\n                    'placeholder':   null,\n                    'minLength':   0,\n                    'maxLength':   0,\n                    'minValue':   null,\n                    'maxValue':   null,\n                    'regexPattern':   null,\n                    'optionType':   null,\n                    'hasEmptyValue':   null,\n                    'options':   null,\n                    'restUrl':   null,\n                    'restResponsePath':   null,\n                    'restIdProperty':   null,\n                    'restLabelProperty':   null,\n                    'tab':   null,\n                    'className':   null,\n                    'params':   { 'existingColspan':   1, 'maxColspan':   1 },\n                    'dateDisplayFormat':   null,\n                    'layout':   { 'row':   -1, 'column':   -1, 'colspan':   1 },\n                    'sizeX':   1,\n                    'sizeY':   1,\n                    'row':   -1,\n                    'col':   -1,\n                    'visibilityCondition':   {\n                        'leftFormFieldId':   'label',\n                        'leftRestResponseId':   null,\n                        'operator':   '==',\n                        'rightValue':   'aaa',\n                        'rightFormFieldId':   '',\n                        'rightRestResponseId':   '',\n                        'nextConditionOperator':   'and',\n                        'nextCondition':   {\n                            'leftFormFieldId':   'label1',\n                            'leftRestResponseId':   null,\n                            'operator':   '!=',\n                            'rightValue':   'aaa',\n                            'rightFormFieldId':   '',\n                            'rightRestResponseId':   '',\n                            'nextConditionOperator':   'and',\n                            'nextCondition':   {\n                                'leftFormFieldId':   'label2',\n                                'leftRestResponseId':   null,\n                                'operator':   '!empty',\n                                'rightValue':   null,\n                                'rightFormFieldId':   '',\n                                'rightRestResponseId':   '',\n                                'nextConditionOperator':   'or',\n                                'nextCondition':   {\n                                    'leftFormFieldId':   'label3',\n                                    'leftRestResponseId':   null,\n                                    'operator':   'empty',\n                                    'rightValue':   null,\n                                    'rightFormFieldId':   '',\n                                    'rightRestResponseId':   '',\n                                    'nextConditionOperator':   null,\n                                    'nextCondition':   null\n                                }\n                            }\n                        }\n                    }\n                }]\n            }\n        }],\n        'outcomes':   [],\n        'javascriptEvents':   [],\n        'className':   '',\n        'style':   '',\n        'customFieldTemplates':   {},\n        'metadata':   {},\n        'variables':   [],\n        'customFieldsValueInfo':   {},\n        'gridsterForm':   false\n    }\n};\n\nexport const tabVisibilityJsonMock: any = {\n    'id': 45231,\n    'name': 'visibility-form',\n    'description': '',\n    'version': 2,\n    'lastUpdatedBy': 4255,\n    'lastUpdatedByFullName': 'first last',\n    'lastUpdated': '2019-08-26T08: 04: 02.091+0000',\n    'stencilSetId': null,\n    'referenceId': null,\n    'tabs': [\n        {\n           'id': 'tab1',\n           'title': 'tab1',\n           'visibilityCondition': null\n        },\n        {\n           'id': 'tab2',\n           'title': 'Tab2',\n           'visibilityCondition': {\n              'leftFormFieldId': 'label',\n              'leftRestResponseId': null,\n              'operator': '==',\n              'rightValue': 'text',\n              'rightType': null,\n              'rightFormFieldId': '',\n              'rightRestResponseId': '',\n              'nextConditionOperator': '',\n              'nextCondition': null\n           }\n        }\n     ],\n    'formDefinition': {\n       'fields': [\n          {\n             'fieldType': 'ContainerRepresentation',\n             'id': '1566806229182',\n             'name': 'Label',\n             'type': 'container',\n             'value': null,\n             'required': false,\n             'readOnly': false,\n             'overrideId': false,\n             'colspan': 1,\n             'placeholder': null,\n             'minLength': 0,\n             'maxLength': 0,\n             'minValue': null,\n             'maxValue': null,\n             'regexPattern': null,\n             'optionType': null,\n             'hasEmptyValue': null,\n             'options': null,\n             'restUrl': null,\n             'restResponsePath': null,\n             'restIdProperty': null,\n             'restLabelProperty': null,\n             'tab': 'tab1',\n             'className': null,\n             'dateDisplayFormat': null,\n             'layout': null,\n             'sizeX': 2,\n             'sizeY': 1,\n             'row': -1,\n             'col': -1,\n             'visibilityCondition': null,\n             'numberOfColumns': 2,\n             'fields': {\n                '1': [\n                   {\n                      'fieldType': 'FormFieldRepresentation',\n                      'id': 'label',\n                      'name': 'Label',\n                      'type': 'text',\n                      'value': null,\n                      'required': false,\n                      'readOnly': false,\n                      'overrideId': false,\n                      'colspan': 1,\n                      'placeholder': null,\n                      'minLength': 0,\n                      'maxLength': 0,\n                      'minValue': null,\n                      'maxValue': null,\n                      'regexPattern': null,\n                      'optionType': null,\n                      'hasEmptyValue': null,\n                      'options': null,\n                      'restUrl': null,\n                      'restResponsePath': null,\n                      'restIdProperty': null,\n                      'restLabelProperty': null,\n                      'tab': 'tab1',\n                      'className': null,\n                      'params': {\n                         'existingColspan': 1,\n                         'maxColspan': 2\n                      },\n                      'dateDisplayFormat': null,\n                      'layout': {\n                         'row': -1,\n                         'column': -1,\n                         'colspan': 1\n                      },\n                      'sizeX': 1,\n                      'sizeY': 1,\n                      'row': -1,\n                      'col': -1,\n                      'visibilityCondition': null\n                   }\n                ],\n                '2': [\n\n                ]\n             }\n          }\n       ],\n       'outcomes': [\n\n       ],\n       'javascriptEvents': [\n\n       ],\n       'className': '',\n       'style': '',\n       'customFieldTemplates': {\n\n       },\n       'metadata': {\n\n       },\n       'variables': [\n\n       ],\n       'customFieldsValueInfo': {\n\n       },\n       'gridsterForm': false\n    }\n };\n\nexport const tabInvalidFormVisibility: any = {\n    'id': 'form-0668939d-34b2-440c-ab4d-01ab8b05a881',\n    'name': 'tab-visibility',\n    'description': '',\n    'version': 0,\n    'standalone': true,\n    'tabs': [\n        {\n            'id': 'a8a4718d-5019-4852-9645-bba9b8253d86',\n            'title': 'tab1',\n            'visibilityCondition': {\n                'leftType': 'field',\n                'leftValue': 'Text1',\n                'operator': '==',\n                'rightValue': 'showtab',\n                'rightType': 'value',\n                'nextConditionOperator': '',\n                'nextCondition': null\n            }\n        },\n        {\n            'id': 'bb9033ca-55ef-432a-8120-bffc8a179ebb',\n            'title': 'tab2',\n            'visibilityCondition': null\n        }\n    ],\n    'formDefinition': {\n        'fields': [\n            {\n                'id': '093270a5-6e28-4cf0-a72a-09731c0d59fd',\n                'name': 'Label',\n                'type': 'container',\n                'tab': 'a8a4718d-5019-4852-9645-bba9b8253d86',\n                'numberOfColumns': 2,\n                'fields': {\n                    '1': [\n                        {\n                            'id': 'Number1',\n                            'name': 'Number1',\n                            'type': 'integer',\n                            'colspan': 1,\n                            'placeholder': null,\n                            'minValue': null,\n                            'maxValue': null,\n                            'required': false,\n                            'visibilityCondition': null,\n                            'params': {\n                                'existingColspan': 1,\n                                'maxColspan': 2\n                            }\n                        },\n                        {\n                            'id': 'Number2',\n                            'name': 'Number2',\n                            'type': 'integer',\n                            'colspan': 1,\n                            'placeholder': null,\n                            'minValue': null,\n                            'maxValue': null,\n                            'required': false,\n                            'visibilityCondition': {\n                                'leftType': 'field',\n                                'leftValue': 'Text2',\n                                'operator': '==',\n                                'rightValue': 'shownumber',\n                                'rightType': 'value',\n                                'nextConditionOperator': '',\n                                'nextCondition': null\n                            },\n                            'params': {\n                                'existingColspan': 1,\n                                'maxColspan': 2\n                            }\n                        }\n                    ],\n                    '2': [\n                        {\n                            'id': 'Text2',\n                            'name': 'Text2',\n                            'type': 'text',\n                            'required': false,\n                            'colspan': 1,\n                            'placeholder': null,\n                            'minLength': 0,\n                            'maxLength': 0,\n                            'regexPattern': null,\n                            'visibilityCondition': null,\n                            'params': {\n                                'existingColspan': 1,\n                                'maxColspan': 2\n                            }\n                        }\n                    ]\n                }\n            },\n            {\n                'id': 'c33579eb-3514-42cc-832d-2998d06a3eab',\n                'name': 'Label',\n                'type': 'container',\n                'tab': 'bb9033ca-55ef-432a-8120-bffc8a179ebb',\n                'numberOfColumns': 2,\n                'fields': {\n                    '1': [\n                        {\n                            'id': 'Text1',\n                            'name': 'Text1',\n                            'type': 'text',\n                            'required': false,\n                            'colspan': 1,\n                            'placeholder': null,\n                            'minLength': 0,\n                            'maxLength': 0,\n                            'regexPattern': null,\n                            'visibilityCondition': null,\n                            'params': {\n                                'existingColspan': 1,\n                                'maxColspan': 2\n                            }\n                        }\n                    ],\n                    '2': []\n                }\n            }\n        ],\n        'outcomes': [],\n        'metadata': {},\n        'variables': []\n    }\n};\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { IdentityGroupModel, IdentityGroupCountModel } from '../models/identity-group.model';\nimport { IdentityRoleModel } from '../models/identity-role.model';\n\nexport const mockIdentityGroup1 = <IdentityGroupModel> {\n    id: 'mock-group-id-1', name: 'Mock Group 1', path: '/mock', subGroups: []\n};\n\nexport const mockIdentityGroup2 = <IdentityGroupModel> {\n    id: 'mock-group-id-2', name: 'Mock Group 2', path: '', subGroups: []\n};\n\nexport const mockIdentityGroup3 = <IdentityGroupModel> {\n  id: 'mock-group-id-3', name: 'Mock Group 3', path: '', subGroups: []\n};\n\nexport const mockIdentityGroup4 = <IdentityGroupModel> {\n    id: 'mock-group-id-4', name: 'Mock Group 4', path: '', subGroups: []\n};\n\nexport const mockIdentityGroup5 = <IdentityGroupModel> {\n    id: 'mock-group-id-5', name: 'Mock Group 5', path: '', subGroups: []\n};\n\nexport const mockIdentityGroupsCount = <IdentityGroupCountModel> { count: 10 };\n\nexport const mockIdentityGroups = [\n    mockIdentityGroup1, mockIdentityGroup2, mockIdentityGroup3, mockIdentityGroup4, mockIdentityGroup5\n];\n\nexport const mockApplicationDetails = {id: 'mock-app-id', name: 'mock-app-name'};\n\nexport const roleMappingMock = [\n    { id: 'role-id-1', name: 'role-name-1' }, { id: 'role-id-2', name: 'role-name-2' }\n];\n\nexport const roleMappingApi: any = {\n    oauth2Auth: {\n        callCustomApi: () => {\n            return Promise.resolve(roleMappingMock);\n        }\n    }\n};\n\nexport const noRoleMappingApi: any = {\n    oauth2Auth: {\n        callCustomApi: () => {\n            return Promise.resolve([]);\n        }\n    }\n};\n\nexport const groupsMockApi: any = {\n    oauth2Auth: {\n        callCustomApi: () => {\n            return Promise.resolve(mockIdentityGroups);\n        }\n    }\n};\n\nexport const createGroupMappingApi: any = {\n    oauth2Auth: {\n        callCustomApi: () => {\n            return Promise.resolve();\n        }\n    }\n};\n\nexport const updateGroupMappingApi: any = {\n    oauth2Auth: {\n        callCustomApi: () => {\n            return Promise.resolve();\n        }\n    }\n};\n\nexport const deleteGroupMappingApi: any = {\n    oauth2Auth: {\n        callCustomApi: () => {\n            return Promise.resolve();\n        }\n    }\n};\n\nexport const applicationDetailsMockApi: any = {\n    oauth2Auth: {\n        callCustomApi: () => {\n            return Promise.resolve([mockApplicationDetails]);\n        }\n    }\n};\n\nexport const mockIdentityRoles = [\n    new IdentityRoleModel({id: 'mock-role-id', name: 'MOCK-ADMIN-ROLE'}),\n    new IdentityRoleModel({id: 'mock-role-id', name: 'MOCK-USER-ROLE'}),\n    new IdentityRoleModel({id: 'mock-role-id', name: 'MOCK-ROLE-1'})\n];\n\nexport const clientRoles: IdentityRoleModel[] = [\n    new IdentityRoleModel({ name: 'MOCK-ADMIN-ROLE' }),\n    new IdentityRoleModel({ name: 'MOCK-USER-ROLE' })\n];\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TestBed, TestModuleMetadata } from '@angular/core/testing';\n\ninterface DoneFn extends Function {\n    (): void;\n    fail: (message?: Error | string) => void;\n}\n\ndeclare function beforeAll(action: (done: DoneFn) => void, timeout?: number): void;\ndeclare function afterAll(action: (done: DoneFn) => void, timeout?: number): void;\n\nconst resetTestingModule = TestBed.resetTestingModule;\nconst preventAngularFromResetting = () => (TestBed.resetTestingModule = () => TestBed);\nconst allowAngularToReset = () => (TestBed.resetTestingModule = resetTestingModule);\n\nexport const setupTestBed = (moduleDef: TestModuleMetadata) => {\n    beforeAll((done) => {\n            localStorage.clear();\n            sessionStorage.clear();\n            resetTestingModule();\n            preventAngularFromResetting();\n            TestBed.configureTestingModule(moduleDef);\n            TestBed.compileComponents()\n                .then(() => {\n                    TestBed.resetTestingModule = () => TestBed;\n                    done();\n                })\n                .catch(done.fail);\n      }\n    );\n\n    afterAll(() => allowAngularToReset());\n};\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AlfrescoApiService } from './alfresco-api.service';\n\nexport function startupServiceFactory(alfrescoApiService: AlfrescoApiService): Function {\n    return () => alfrescoApiService.load();\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DirectionalityConfigService } from '../services/directionality-config.service';\n\nexport function directionalityConfigFactory(\n    directionalityConfigService: DirectionalityConfigService\n): Function { return () => directionalityConfigService; }\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable, Inject, Renderer2, RendererFactory2 } from '@angular/core';\nimport { Directionality, Direction } from '@angular/cdk/bidi';\nimport { UserPreferencesService } from '../services/user-preferences.service';\nimport { DOCUMENT } from '@angular/common';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DirectionalityConfigService {\n    constructor(\n        @Inject(DOCUMENT) private document: any,\n        private rendererFactory: RendererFactory2,\n        private userPreferencesService: UserPreferencesService,\n        private directionality: Directionality\n    ) {\n        const renderer: Renderer2 = this.rendererFactory.createRenderer(null, null);\n\n        this.userPreferencesService\n            .select('textOrientation')\n            .subscribe((direction: Direction) => {\n                renderer.setAttribute(this.document.body, 'dir', direction);\n                (<any> this.directionality).value = direction;\n            });\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { VersionCompatibilityService } from './version-compatibility.service';\n\nexport function versionCompatibilityFactory(\n    versionCompatibilityService: VersionCompatibilityService\n): Function { return () => versionCompatibilityService; }\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { APP_INITIALIZER, NgModule, ModuleWithProviders } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TranslateModule, TranslateLoader, TranslateStore, TranslateService } from '@ngx-translate/core';\n\nimport { MaterialModule } from './material.module';\nimport { AboutModule } from './about/about.module';\nimport { AppConfigModule } from './app-config/app-config.module';\nimport { CardViewModule } from './card-view/card-view.module';\nimport { ContextMenuModule } from './context-menu/context-menu.module';\nimport { DataColumnModule } from './data-column/data-column.module';\nimport { DataTableModule } from './datatable/datatable.module';\nimport { InfoDrawerModule } from './info-drawer/info-drawer.module';\nimport { LanguageMenuModule } from './language-menu/language-menu.module';\nimport { LoginModule } from './login/login.module';\nimport { PaginationModule } from './pagination/pagination.module';\nimport { HostSettingsModule } from './settings/host-settings.module';\nimport { ToolbarModule } from './toolbar/toolbar.module';\nimport { UserInfoModule } from './userinfo/userinfo.module';\nimport { ViewerModule } from './viewer/viewer.module';\nimport { FormBaseModule } from './form/form-base.module';\nimport { SidenavLayoutModule } from './layout/layout.module';\nimport { CommentsModule } from './comments/comments.module';\nimport { ButtonsMenuModule } from './buttons-menu/buttons-menu.module';\nimport { TemplateModule } from './templates/template.module';\nimport { ClipboardModule } from './clipboard/clipboard.module';\nimport { NotificationHistoryModule } from './notifications/notification-history.module';\nimport { BlankPageModule } from './blank-page/blank-page.module';\n\nimport { DirectiveModule } from './directives/directive.module';\nimport { DialogModule } from './dialogs/dialog.module';\nimport { PipeModule } from './pipes/pipe.module';\n\nimport { AlfrescoApiService } from './services/alfresco-api.service';\nimport { TranslationService } from './services/translation.service';\nimport { startupServiceFactory } from './services/startup-service-factory';\nimport { SortingPickerModule } from './sorting-picker/sorting-picker.module';\nimport { IconModule } from './icon/icon.module';\nimport { TranslateLoaderService } from './services/translate-loader.service';\nimport { ExtensionsModule } from '@alfresco/adf-extensions';\nimport { directionalityConfigFactory } from './services/directionality-config-factory';\nimport { DirectionalityConfigService } from './services/directionality-config.service';\nimport { SearchTextModule } from './search-text/search-text-input.module';\nimport { versionCompatibilityFactory } from './services/version-compatibility-factory';\nimport { VersionCompatibilityService } from './services/version-compatibility.service';\n@NgModule({\n    imports: [\n        TranslateModule,\n        ExtensionsModule,\n        AboutModule,\n        ViewerModule,\n        SidenavLayoutModule,\n        PipeModule,\n        CommonModule,\n        DirectiveModule,\n        DialogModule,\n        FormsModule,\n        ReactiveFormsModule,\n        HostSettingsModule,\n        UserInfoModule,\n        MaterialModule,\n        AppConfigModule,\n        PaginationModule,\n        ToolbarModule,\n        ContextMenuModule,\n        CardViewModule,\n        FormBaseModule,\n        CommentsModule,\n        LoginModule,\n        LanguageMenuModule,\n        InfoDrawerModule,\n        DataColumnModule,\n        DataTableModule,\n        ButtonsMenuModule,\n        TemplateModule,\n        IconModule,\n        SortingPickerModule,\n        NotificationHistoryModule,\n        SearchTextModule,\n        BlankPageModule\n    ],\n    exports: [\n        AboutModule,\n        ViewerModule,\n        SidenavLayoutModule,\n        PipeModule,\n        CommonModule,\n        DirectiveModule,\n        DialogModule,\n        ClipboardModule,\n        FormsModule,\n        ReactiveFormsModule,\n        HostSettingsModule,\n        UserInfoModule,\n        MaterialModule,\n        AppConfigModule,\n        PaginationModule,\n        ToolbarModule,\n        ContextMenuModule,\n        CardViewModule,\n        FormBaseModule,\n        CommentsModule,\n        LoginModule,\n        LanguageMenuModule,\n        InfoDrawerModule,\n        DataColumnModule,\n        DataTableModule,\n        TranslateModule,\n        ButtonsMenuModule,\n        TemplateModule,\n        SortingPickerModule,\n        IconModule,\n        NotificationHistoryModule,\n        SearchTextModule,\n        BlankPageModule\n    ]\n})\nexport class CoreModule {\n    static forRoot(): ModuleWithProviders<CoreModule> {\n        return {\n            ngModule: CoreModule,\n            providers: [\n                TranslateStore,\n                TranslateService,\n                { provide: TranslateLoader, useClass: TranslateLoaderService },\n                {\n                    provide: APP_INITIALIZER,\n                    useFactory: startupServiceFactory,\n                    deps: [\n                        AlfrescoApiService\n                    ],\n                    multi: true\n                },\n                {\n                    provide: APP_INITIALIZER,\n                    useFactory: directionalityConfigFactory,\n                    deps: [ DirectionalityConfigService ],\n                    multi: true\n                },\n                {\n                    provide: APP_INITIALIZER,\n                    useFactory: versionCompatibilityFactory,\n                    deps: [ VersionCompatibilityService ],\n                    multi: true\n                }\n            ]\n        };\n    }\n\n    static forChild(): ModuleWithProviders<CoreModule> {\n        return {\n            ngModule: CoreModule\n        };\n    }\n\n    constructor(translation: TranslationService) {\n        translation.addTranslationFolder('adf-core', 'assets/adf-core');\n    }\n}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NgModule, APP_INITIALIZER } from '@angular/core';\nimport { NoopAnimationsModule } from '@angular/platform-browser/animations';\nimport { RouterTestingModule } from '@angular/router/testing';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreModule } from '../core.module';\nimport { AlfrescoApiService } from '../services/alfresco-api.service';\nimport { AlfrescoApiServiceMock } from '../mock/alfresco-api.service.mock';\nimport { AppConfigService } from '../app-config/app-config.service';\nimport { AppConfigServiceMock } from '../mock/app-config.service.mock';\nimport { TranslationService } from '../services/translation.service';\nimport { TranslationMock } from '../mock/translation.service.mock';\nimport { DatePipe } from '@angular/common';\nimport { CookieService } from '../services/cookie.service';\nimport { CookieServiceMock } from '../mock/cookie.service.mock';\nimport { HttpClientModule } from '@angular/common/http';\nimport { directionalityConfigFactory } from '../services/directionality-config-factory';\nimport { DirectionalityConfigService } from '../services/directionality-config.service';\nimport { versionCompatibilityFactory } from '../services/version-compatibility-factory';\nimport { VersionCompatibilityService } from '../services/version-compatibility.service';\n\n@NgModule({\n    imports: [\n        NoopAnimationsModule,\n        RouterTestingModule,\n        HttpClientModule,\n        TranslateModule.forRoot(),\n        CoreModule.forRoot()\n    ],\n    providers: [\n        DatePipe,\n        { provide: AlfrescoApiService, useClass: AlfrescoApiServiceMock },\n        { provide: AppConfigService, useClass: AppConfigServiceMock },\n        { provide: TranslationService, useClass: TranslationMock },\n        { provide: CookieService, useClass: CookieServiceMock },\n        {\n            provide: APP_INITIALIZER,\n            useFactory: directionalityConfigFactory,\n            deps: [ DirectionalityConfigService ],\n            multi: true\n        },\n        {\n            provide: APP_INITIALIZER,\n            useFactory: versionCompatibilityFactory,\n            deps: [ VersionCompatibilityService ],\n            multi: true\n        }\n    ],\n    exports: [\n        NoopAnimationsModule,\n        CoreModule,\n        TranslateModule\n    ]\n})\nexport class CoreTestingModule {}\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const fakeForm: any = {\n    id: 1001,\n    name: 'ISSUE_FORM',\n    processDefinitionId: 'ISSUE_APP:1:2504',\n    processDefinitionName: 'ISSUE_APP',\n    processDefinitionKey: 'ISSUE_APP',\n    taskId: '7506',\n    taskDefinitionKey: 'sid-F67A2996-1684-4774-855A-4591490081FD',\n    tabs: [],\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: '1498212398417',\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                1: [\n                    {\n                        fieldType: 'RestFieldRepresentation',\n                        id: 'dropdownId',\n                        name: 'Label',\n                        type: 'dropdown',\n                        value: 'Choose one...',\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: true,\n                        options: [\n                            {\n                                id: 'empty',\n                                name: 'Choose one...'\n                            },\n                            {\n                                id: 'option_1',\n                                name: 'test1'\n                            },\n                            {\n                                id: 'option_2',\n                                name: 'test2'\n                            },\n                            {\n                                id: 'option_3',\n                                name: 'test3'\n                            }\n                        ],\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null,\n                        endpoint: null,\n                        requestHeaders: null\n                    }\n                ],\n                2: [\n                    {\n                        fieldType: 'RestFieldRepresentation',\n                        id: 'radio',\n                        name: 'radio',\n                        type: 'radio-buttons',\n                        value: null,\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: [\n                            {\n                                id: 'option_1',\n                                name: 'Option 1'\n                            },\n                            {\n                                id: 'option_2',\n                                name: 'Option 2'\n                            },\n                            {\n                                id: 'option_3',\n                                name: 'Option 3'\n                            }\n                        ],\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 1\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 2,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null,\n                        endpoint: null,\n                        requestHeaders: null\n                    }\n                ]\n            }\n        },\n        {\n            fieldType: 'ContainerRepresentation',\n            id: '1498212413062',\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                1: [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'date',\n                        name: 'date',\n                        type: 'date',\n                        value: null,\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ],\n                2: []\n            }\n        }\n    ],\n    outcomes: [],\n    javascriptEvents: [],\n    className: '',\n    style: '',\n    customFieldTemplates: {},\n    metadata: {},\n    variables: [],\n    customFieldsValueInfo: {},\n    gridsterForm: false,\n    globalDateFormat: 'D-M-YYYY'\n};\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport let fakeRendition = {\n    entry: {\n        id: 'pdf',\n        content: {\n            mimeType: 'application/pdf',\n            mimeTypeName: 'Adobe PDF Document'\n        },\n        status: 'NOT_CREATED'\n    }\n};\n\nexport let fakeRenditionCreated = {\n    entry: {\n        id: 'pdf',\n        content: {\n            mimeType: 'application/pdf',\n            mimeTypeName: 'Adobe PDF Document'\n        },\n        status: 'CREATED'\n    }\n};\n\nexport let fakeRenditionsList = {\n    list: {\n        pagination: {\n            count: 6,\n            hasMoreItems: false,\n            totalItems: 6,\n            skipCount: 0,\n            maxItems: 100\n        },\n        entries: [\n            {\n                entry: {\n                    id: 'avatar',\n                    content: {\n                        mimeType: 'image/png',\n                        mimeTypeName: 'PNG Image'\n                    },\n                    status: 'NOT_CREATED'\n                }\n            },\n            {\n                entry: {\n                    id: 'avatar32',\n                    content: {\n                        mimeType: 'image/png',\n                        mimeTypeName: 'PNG Image'\n                    },\n                    status: 'NOT_CREATED'\n                }\n            },\n            {\n                entry: {\n                    id: 'doclib',\n                    content: {\n                        mimeType: 'image/png',\n                        mimeTypeName: 'PNG Image'\n                    },\n                    status: 'NOT_CREATED'\n                }\n            },\n            {\n                entry: {\n                    id: 'imgpreview',\n                    content: {\n                        mimeType: 'image/jpeg',\n                        mimeTypeName: 'JPEG Image'\n                    },\n                    status: 'NOT_CREATED'\n                }\n            },\n            {\n                entry: {\n                    id: 'medium',\n                    content: {\n                        mimeType: 'image/jpeg',\n                        mimeTypeName: 'JPEG Image'\n                    },\n                    status: 'NOT_CREATED'\n                }\n            },\n            {\n                entry: {\n                    id: 'pdf',\n                    content: {\n                        mimeType: 'application/pdf',\n                        mimeTypeName: 'Adobe PDF Document'\n                    },\n                    status: 'NOT_CREATED'\n                }\n            }\n        ]\n    }\n};\n\nexport let fakeRenditionsListWithACreated = {\n    list: {\n        pagination: {\n            count: 6,\n            hasMoreItems: false,\n            totalItems: 6,\n            skipCount: 0,\n            maxItems: 100\n        },\n        entries: [\n            {\n                entry: {\n                    id: 'avatar',\n                    content: {\n                        mimeType: 'image/png',\n                        mimeTypeName: 'PNG Image'\n                    },\n                    status: 'NOT_CREATED'\n                }\n            },\n            {\n                entry: {\n                    id: 'avatar32',\n                    content: {\n                        mimeType: 'image/png',\n                        mimeTypeName: 'PNG Image'\n                    },\n                    status: 'NOT_CREATED'\n                }\n            },\n            {\n                entry: {\n                    id: 'doclib',\n                    content: {\n                        mimeType: 'image/png',\n                        mimeTypeName: 'PNG Image'\n                    },\n                    status: 'NOT_CREATED'\n                }\n            },\n            {\n                entry: {\n                    id: 'imgpreview',\n                    content: {\n                        mimeType: 'image/jpeg',\n                        mimeTypeName: 'JPEG Image'\n                    },\n                    status: 'NOT_CREATED'\n                }\n            },\n            {\n                entry: {\n                    id: 'medium',\n                    content: {\n                        mimeType: 'image/jpeg',\n                        mimeTypeName: 'JPEG Image'\n                    },\n                    status: 'NOT_CREATED'\n                }\n            },\n            {\n                entry: {\n                    id: 'pdf',\n                    content: {\n                        mimeType: 'application/pdf',\n                        mimeTypeName: 'Adobe PDF Document'\n                    },\n                    status: 'CREATED'\n                }\n            }\n        ]\n    }\n};\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const formDefVisibilitiFieldDependsOnNextOne: any = {\n    id: 19,\n    processDefinitionId: 'visibility:1:148',\n    processDefinitionName: 'visibility',\n    processDefinitionKey: 'visibility',\n    tabs: [],\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: '1506960847579',\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                '1': [\n                    {\n                        fieldType: 'RestFieldRepresentation',\n                        id: 'country',\n                        name: 'country',\n                        type: 'dropdown',\n                        value: 'Choose one...',\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: true,\n                        options: [\n                            {\n                                id: 'empty',\n                                name: 'Choose one...'\n                            },\n                            {\n                                id: 'option_1',\n                                name: 'france'\n                            },\n                            {\n                                id: 'option_2',\n                                name: 'uk'\n                            }\n                        ],\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: {\n                            leftType: 'field',\n                            leftValue: 'name',\n                            operator: '==',\n                            rightValue: 'italy',\n                            rightFormFieldId: '',\n                            rightRestResponseId: '',\n                            nextConditionOperator: '',\n                            nextCondition: null\n                        },\n                        endpoint: null,\n                        requestHeaders: null\n                    }\n                ],\n                '2': [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'name',\n                        name: 'name',\n                        type: 'text',\n                        value: null,\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 1\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ]\n            }\n        }\n    ],\n    outcomes: [],\n    javascriptEvents: [],\n    className: '',\n    style: '',\n    customFieldTemplates: {},\n    metadata: {},\n    variables: [],\n    customFieldsValueInfo: {},\n    gridsterForm: false,\n    globalDateFormat: 'D-M-YYYY'\n};\n\nexport const formDefVisibilitiFieldDependsOnPreviousOne: any = {\n    id: 19,\n    processDefinitionId: 'visibility:1:148',\n    processDefinitionName: 'visibility',\n    processDefinitionKey: 'visibility',\n    tabs: [],\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: '1506960847579',\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                '1': [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'name',\n                        name: 'name',\n                        type: 'text',\n                        value: null,\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 1\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ],\n                '2': [\n                    {\n                        fieldType: 'RestFieldRepresentation',\n                        id: 'country',\n                        name: 'country',\n                        type: 'dropdown',\n                        value: 'Choose one...',\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: true,\n                        options: [\n                            {\n                                id: 'empty',\n                                name: 'Choose one...'\n                            },\n                            {\n                                id: 'option_1',\n                                name: 'france'\n                            },\n                            {\n                                id: 'option_2',\n                                name: 'uk'\n                            }\n                        ],\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: {\n                            leftType: 'field',\n                            leftValue: 'name',\n                            operator: '==',\n                            rightValue: 'italy',\n                            rightFormFieldId: '',\n                            rightRestResponseId: '',\n                            nextConditionOperator: '',\n                            nextCondition: null\n                        },\n                        endpoint: null,\n                        requestHeaders: null\n                    }\n                ]\n            }\n        }\n    ],\n    outcomes: [],\n    javascriptEvents: [],\n    className: '',\n    style: '',\n    customFieldTemplates: {},\n    metadata: {},\n    variables: [],\n    customFieldsValueInfo: {},\n    gridsterForm: false,\n    globalDateFormat: 'D-M-YYYY'\n};\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const formDefinitionTwoTextFields: any = {\n    id: 20,\n    name: 'formTextDefinition',\n    processDefinitionId: 'textDefinition:1:153',\n    processDefinitionName: 'textDefinition',\n    processDefinitionKey: 'textDefinition',\n    taskId: '159',\n    taskDefinitionKey: 'sid-D941F49F-2B04-4FBB-9B49-9E95991993E8',\n    tabs: [],\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: '1507044399260',\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                '1': [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'firstname',\n                        name: 'firstName',\n                        type: 'text',\n                        value: null,\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ],\n                '2': [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'lastname',\n                        name: 'lastName',\n                        type: 'text',\n                        value: null,\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 1\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ]\n            }\n        }\n    ],\n    outcomes: [],\n    javascriptEvents: [],\n    className: '',\n    style: '',\n    customFieldTemplates: {},\n    metadata: {},\n    variables: [],\n    customFieldsValueInfo: {},\n    gridsterForm: false,\n    globalDateFormat: 'D-M-YYYY'\n};\n\nexport const formDefinitionDropdownField: any = {\n    id: 21,\n    name: 'dropdownDefinition',\n    processDefinitionId: 'textDefinition:2:163',\n    processDefinitionName: 'textDefinition',\n    processDefinitionKey: 'textDefinition',\n    taskId: '169',\n    taskDefinitionKey: 'sid-D941F49F-2B04-4FBB-9B49-9E95991993E8',\n    tabs: [],\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: '1507046026940',\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                '1': [\n                    {\n                        fieldType: 'RestFieldRepresentation',\n                        id: 'country',\n                        name: 'country',\n                        type: 'dropdown',\n                        value: 'Choose one...',\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: true,\n                        options: [\n                            {\n                                id: 'empty',\n                                name: 'Choose one...'\n                            },\n                            {\n                                id: 'option_1',\n                                name: 'united kingdom'\n                            },\n                            {\n                                id: 'option_2',\n                                name: 'italy'\n                            },\n                            {\n                                id: 'option_3',\n                                name: 'france'\n                            }\n                        ],\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null,\n                        endpoint: null,\n                        requestHeaders: null\n                    }\n                ],\n                '2': []\n            }\n        }\n    ],\n    outcomes: [],\n    javascriptEvents: [],\n    className: '',\n    style: '',\n    customFieldTemplates: {},\n    metadata: {},\n    variables: [],\n    customFieldsValueInfo: {},\n    gridsterForm: false,\n    globalDateFormat: 'D-M-YYYY'\n};\n\nexport const formDefinitionRequiredField: any = {\n    id: 21,\n    name: 'dropdownDefinition',\n    processDefinitionId: 'textDefinition:2:163',\n    processDefinitionName: 'textDefinition',\n    processDefinitionKey: 'textDefinition',\n    taskId: '169',\n    taskDefinitionKey: 'sid-D941F49F-2B04-4FBB-9B49-9E95991993E8',\n    tabs: [],\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: '1507046026940',\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                '1': [\n                    {\n                        fieldType: 'RestFieldRepresentation',\n                        id: 'country',\n                        name: 'country',\n                        type: 'dropdown',\n                        value: 'Choose one...',\n                        required: true,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: true,\n                        options: [\n                            {\n                                id: 'empty',\n                                name: 'Choose one...'\n                            },\n                            {\n                                id: 'option_1',\n                                name: 'united kingdom'\n                            },\n                            {\n                                id: 'option_2',\n                                name: 'italy'\n                            },\n                            {\n                                id: 'option_3',\n                                name: 'france'\n                            }\n                        ],\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null,\n                        endpoint: null,\n                        requestHeaders: null\n                    }\n                ],\n                '2': []\n            }\n        }\n    ],\n    outcomes: [],\n    javascriptEvents: [],\n    className: '',\n    style: '',\n    customFieldTemplates: {},\n    metadata: {},\n    variables: [],\n    customFieldsValueInfo: {},\n    gridsterForm: false,\n    globalDateFormat: 'D-M-YYYY'\n};\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const formModelTabs: any = {\n    formRepresentation: {\n        id: 16,\n        name: 'start event',\n        description: '',\n        version: 2,\n        lastUpdatedBy: 4,\n        lastUpdatedByFullName: 'User Test',\n        lastUpdated: '2017-10-04T13:00:03.030+0000',\n        stencilSetId: null,\n        referenceId: null,\n        formDefinition: {\n          tabs: [],\n          fields: [\n            {\n              fieldType: 'ContainerRepresentation',\n              id: '1507037668653',\n              name: 'Label',\n              type: 'container',\n              value: null,\n              required: false,\n              readOnly: false,\n              overrideId: false,\n              colspan: 1,\n              placeholder: null,\n              minLength: 0,\n              maxLength: 0,\n              minValue: null,\n              maxValue: null,\n              regexPattern: null,\n              optionType: null,\n              hasEmptyValue: null,\n              options: null,\n              restUrl: null,\n              restResponsePath: null,\n              restIdProperty: null,\n              restLabelProperty: null,\n              tab: null,\n              className: null,\n              dateDisplayFormat: null,\n              layout: null,\n              sizeX: 2,\n              sizeY: 1,\n              row: -1,\n              col: -1,\n              visibilityCondition: null,\n              numberOfColumns: 2,\n              fields: {\n                '1': [\n                  {\n                    fieldType: 'AmountFieldRepresentation',\n                    id: 'label',\n                    name: 'Label',\n                    type: 'amount',\n                    value: null,\n                    required: false,\n                    readOnly: false,\n                    overrideId: false,\n                    colspan: 1,\n                    placeholder: null,\n                    minLength: 0,\n                    maxLength: 0,\n                    minValue: null,\n                    maxValue: null,\n                    regexPattern: null,\n                    optionType: null,\n                    hasEmptyValue: null,\n                    options: null,\n                    restUrl: null,\n                    restResponsePath: null,\n                    restIdProperty: null,\n                    restLabelProperty: null,\n                    tab: null,\n                    className: null,\n                    params: {\n                      existingColspan: 1,\n                      maxColspan: 2\n                    },\n                    dateDisplayFormat: null,\n                    layout: {\n                      row: -1,\n                      column: -1,\n                      colspan: 1\n                    },\n                    sizeX: 1,\n                    sizeY: 1,\n                    row: -1,\n                    col: -1,\n                    visibilityCondition: null,\n                    enableFractions: false,\n                    currency: null\n                  }\n                ],\n                '2': [\n                  {\n                    fieldType: 'FormFieldRepresentation',\n                    id: 'label1',\n                    name: 'Label1',\n                    type: 'date',\n                    value: null,\n                    required: false,\n                    readOnly: false,\n                    overrideId: false,\n                    colspan: 1,\n                    placeholder: null,\n                    minLength: 0,\n                    maxLength: 0,\n                    minValue: null,\n                    maxValue: null,\n                    regexPattern: null,\n                    optionType: null,\n                    hasEmptyValue: null,\n                    options: null,\n                    restUrl: null,\n                    restResponsePath: null,\n                    restIdProperty: null,\n                    restLabelProperty: null,\n                    tab: null,\n                    className: null,\n                    params: {\n                      existingColspan: 1,\n                      maxColspan: 1\n                    },\n                    dateDisplayFormat: null,\n                    layout: {\n                      row: -1,\n                      column: -1,\n                      colspan: 1\n                    },\n                    sizeX: 1,\n                    sizeY: 1,\n                    row: -1,\n                    col: -1,\n                    visibilityCondition: null\n                  }\n                ]\n              }\n            },\n            {\n              fieldType: 'ContainerRepresentation',\n              id: '1507037670167',\n              name: 'Label',\n              type: 'container',\n              value: null,\n              required: false,\n              readOnly: false,\n              overrideId: false,\n              colspan: 1,\n              placeholder: null,\n              minLength: 0,\n              maxLength: 0,\n              minValue: null,\n              maxValue: null,\n              regexPattern: null,\n              optionType: null,\n              hasEmptyValue: null,\n              options: null,\n              restUrl: null,\n              restResponsePath: null,\n              restIdProperty: null,\n              restLabelProperty: null,\n              tab: null,\n              className: null,\n              dateDisplayFormat: null,\n              layout: null,\n              sizeX: 2,\n              sizeY: 1,\n              row: -1,\n              col: -1,\n              visibilityCondition: null,\n              numberOfColumns: 2,\n              fields: {\n                '1': [\n                  {\n                    fieldType: 'FormFieldRepresentation',\n                    id: 'label2',\n                    name: 'Label2',\n                    type: 'boolean',\n                    value: null,\n                    required: false,\n                    readOnly: false,\n                    overrideId: false,\n                    colspan: 1,\n                    placeholder: null,\n                    minLength: 0,\n                    maxLength: 0,\n                    minValue: null,\n                    maxValue: null,\n                    regexPattern: null,\n                    optionType: null,\n                    hasEmptyValue: null,\n                    options: null,\n                    restUrl: null,\n                    restResponsePath: null,\n                    restIdProperty: null,\n                    restLabelProperty: null,\n                    tab: null,\n                    className: null,\n                    params: {\n                      existingColspan: 1,\n                      maxColspan: 2\n                    },\n                    dateDisplayFormat: null,\n                    layout: {\n                      row: -1,\n                      column: -1,\n                      colspan: 1\n                    },\n                    sizeX: 1,\n                    sizeY: 1,\n                    row: -1,\n                    col: -1,\n                    visibilityCondition: null\n                  }\n                ],\n                '2': []\n              }\n            }\n          ],\n          outcomes: [],\n          javascriptEvents: [],\n          className: '',\n          style: '',\n          customFieldTemplates: {},\n          metadata: {},\n          variables: [],\n          customFieldsValueInfo: {},\n          gridsterForm: false\n        }\n    }\n  };\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const formReadonlyTwoTextFields: any = {\n    id: 22,\n    name: 'formTextDefinition',\n    processDefinitionId: 'textDefinition:3:182',\n    processDefinitionName: 'textDefinition',\n    processDefinitionKey: 'textDefinition',\n    taskId: '188',\n    taskDefinitionKey: 'sid-D941F49F-2B04-4FBB-9B49-9E95991993E8',\n    tabs: [],\n    fields: [\n      {\n        fieldType: 'ContainerRepresentation',\n        id: '1507044399260',\n        name: 'Label',\n        type: 'container',\n        value: null,\n        required: false,\n        readOnly: false,\n        overrideId: false,\n        colspan: 1,\n        placeholder: null,\n        minLength: 0,\n        maxLength: 0,\n        minValue: null,\n        maxValue: null,\n        regexPattern: null,\n        optionType: null,\n        hasEmptyValue: null,\n        options: null,\n        restUrl: null,\n        restResponsePath: null,\n        restIdProperty: null,\n        restLabelProperty: null,\n        tab: null,\n        className: null,\n        dateDisplayFormat: null,\n        layout: null,\n        sizeX: 2,\n        sizeY: 1,\n        row: -1,\n        col: -1,\n        visibilityCondition: null,\n        numberOfColumns: 2,\n        fields: {\n          '1': [\n            {\n              fieldType: 'FormFieldRepresentation',\n              id: 'firstname',\n              name: 'firstName',\n              type: 'readonly',\n              value: 'fakeFirstName',\n              required: false,\n              readOnly: false,\n              overrideId: false,\n              colspan: 1,\n              placeholder: null,\n              minLength: 0,\n              maxLength: 0,\n              minValue: null,\n              maxValue: null,\n              regexPattern: null,\n              optionType: null,\n              hasEmptyValue: null,\n              options: null,\n              restUrl: null,\n              restResponsePath: null,\n              restIdProperty: null,\n              restLabelProperty: null,\n              tab: null,\n              className: null,\n              params: {\n                existingColspan: 1,\n                maxColspan: 2,\n                field: {\n                  id: 'firstname',\n                  name: 'firstName',\n                  type: 'text',\n                  value: null,\n                  required: false,\n                  readOnly: false,\n                  overrideId: false,\n                  colspan: 1,\n                  placeholder: null,\n                  minLength: 0,\n                  maxLength: 0,\n                  minValue: null,\n                  maxValue: null,\n                  regexPattern: null,\n                  optionType: null,\n                  hasEmptyValue: null,\n                  options: null,\n                  restUrl: null,\n                  restResponsePath: null,\n                  restIdProperty: null,\n                  restLabelProperty: null,\n                  tab: null,\n                  className: null,\n                  dateDisplayFormat: null,\n                  layout: null,\n                  sizeX: 0,\n                  sizeY: 0,\n                  row: 0,\n                  col: 0,\n                  visibilityCondition: null\n                }\n              },\n              dateDisplayFormat: null,\n              layout: {\n                row: -1,\n                column: -1,\n                colspan: 1\n              },\n              sizeX: 1,\n              sizeY: 1,\n              row: -1,\n              col: -1,\n              visibilityCondition: null\n            }\n          ],\n          '2': [\n            {\n              fieldType: 'FormFieldRepresentation',\n              id: 'lastname',\n              name: 'lastName',\n              type: 'readonly',\n              value: 'fakeLastName',\n              required: false,\n              readOnly: false,\n              overrideId: false,\n              colspan: 1,\n              placeholder: null,\n              minLength: 0,\n              maxLength: 0,\n              minValue: null,\n              maxValue: null,\n              regexPattern: null,\n              optionType: null,\n              hasEmptyValue: null,\n              options: null,\n              restUrl: null,\n              restResponsePath: null,\n              restIdProperty: null,\n              restLabelProperty: null,\n              tab: null,\n              className: null,\n              params: {\n                existingColspan: 1,\n                maxColspan: 1,\n                field: {\n                  id: 'lastname',\n                  name: 'lastName',\n                  type: 'text',\n                  value: null,\n                  required: false,\n                  readOnly: false,\n                  overrideId: false,\n                  colspan: 1,\n                  placeholder: null,\n                  minLength: 0,\n                  maxLength: 0,\n                  minValue: null,\n                  maxValue: null,\n                  regexPattern: null,\n                  optionType: null,\n                  hasEmptyValue: null,\n                  options: null,\n                  restUrl: null,\n                  restResponsePath: null,\n                  restIdProperty: null,\n                  restLabelProperty: null,\n                  tab: null,\n                  className: null,\n                  dateDisplayFormat: null,\n                  layout: null,\n                  sizeX: 0,\n                  sizeY: 0,\n                  row: 0,\n                  col: 0,\n                  visibilityCondition: null\n                }\n              },\n              dateDisplayFormat: null,\n              layout: {\n                row: -1,\n                column: -1,\n                colspan: 1\n              },\n              sizeX: 1,\n              sizeY: 1,\n              row: -1,\n              col: -1,\n              visibilityCondition: null\n            }\n          ]\n        }\n      }\n    ],\n    outcomes: [],\n    javascriptEvents: [],\n    className: '',\n    style: '',\n    customFieldTemplates: {},\n    metadata: {},\n    variables: [],\n    customFieldsValueInfo: {},\n    gridsterForm: false,\n    globalDateFormat: 'D-M-YYYY'\n  };\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport let mockToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ' +\n    'zdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiZmFtaWx5X25hbWUiOiJEb2UiLCJnaXZ' +\n    'lbl9uYW1lIjoiSm9obiIsImFkbWluIjp0cnVlLCJlbWFpbCI6ImpvaG5Eb2VAZ21haWwuY29tIiwicHJ' +\n    'lZmVycmVkX3VzZXJuYW1lIjoiam9obkRvZTEiLCJqdGkiOiI2MmQ3YjA4NS1hNTJjLTRjZmEtYjA2Zi1' +\n    'hODFhN2IwNjRjZDIiLCJpYXQiOjE1NDM0MTA0NzcsImV4cCI6MTU0MzQxNTIxM30.pSP86kmX3keuU5E3ndaOUq2TzKdJRsuMnBdFz3Y-UEU';\n","/*!\n * @license\n * Copyright 2019 Alfresco Software, Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const startFormDateWidgetMock: any = {\n    id: 4,\n    name: 'Claim Review Process',\n    processDefinitionId: 'ClaimReviewProcess:2: 93',\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953253784,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            readOnly: false,\n            fields: {\n                1: [{\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'date',\n                        name: 'date',\n                        type: 'date',\n                        value: null\n                    }]}\n        }]\n};\n\nexport const startFormNumberWidgetMock: any = {\n    id: 4,\n    name: 'Claim Review Process',\n    processDefinitionId: 'ClaimReviewProcess:2: 93',\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953253784,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            readOnly: false,\n            fields: {\n                1: [{\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'number',\n                        name: 'number widget',\n                        type: 'integer',\n                        value: null\n                    }]}\n        }]\n};\n\nexport const startFormAmountWidgetMock: any = {\n    id: 4,\n    name: 'Claim Review Process',\n    processDefinitionId: 'ClaimReviewProcess:2: 93',\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953253784,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            readOnly: false,\n            fields: {\n                1: [{\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'amount',\n                        name: 'amount widget',\n                        type: 'amount',\n                        value: null\n                    }]}\n        }]\n};\n\nexport const startFormRadioButtonWidgetMock: any = {\n    id: 4,\n    name: 'Claim Review Process',\n    processDefinitionId: 'ClaimReviewProcess:2: 93',\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953253784,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            readOnly: false,\n            fields: {\n                1: [{\n                        fieldType: 'RestFieldRepresentation',\n                        id: 'radio-but',\n                        name: 'radio-buttons',\n                        type: 'radio-buttons',\n                        value: null\n                    }]}\n        }]\n};\n\nexport const startFormTextDefinitionMock: any = {\n    id: 4,\n    name: 'Claim Review Process',\n    processDefinitionId: 'ClaimReviewProcess:2: 93',\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953253784,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            readOnly: false,\n            fields: {\n                1: [{\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'mocktext',\n                        name: 'mockText',\n                        type: 'text',\n                        value: null\n                    }]}\n        }]\n};\n\nexport const startFormDropdownDefinitionMock: any = {\n    id: 4,\n    name: 'Claim Review Process',\n    processDefinitionId: 'ClaimReviewProcess:2: 93',\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953253784,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            readOnly: false,\n            fields: {\n                1: [{\n\n                        fieldType: 'RestFieldRepresentation',\n                        id: 'mockTypeDropDown',\n                        name: 'mock DropDown',\n                        type: 'dropdown',\n                        value: 'Chooseone...',\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        options: [\n                            {\n                                id: 'empty',\n                                name: 'Chooseone...'\n                            },\n                            {\n                                id: 'opt1',\n                                name: 'Option-1'\n                            },\n                            {\n                                id: 'opt2',\n                                name: 'Option-2'\n                            },\n                            {\n                                id: 'opt3',\n                                name: 'Option-3'\n                            },\n                            {\n                                id: 'opt2',\n                                name: 'Option-3'\n                            }\n                        ]\n                    }]}\n        }]\n};\n\nexport const startMockForm: any = {\n    id: 4,\n    name: 'Claim Review Process',\n    processDefinitionId: 'ClaimReviewProcess:2: 93',\n    processDefinitionName: 'ClaimReviewProcess',\n    processDefinitionKey: 'ClaimReviewProcess',\n    tabs: [],\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953253784,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                1: [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'clientname',\n                        name: 'ClientName',\n                        type: 'text',\n                        value: null,\n                        required: true,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ],\n                2: [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'policyno',\n                        name: 'PolicyNo',\n                        type: 'integer',\n                        value: null,\n                        required: true,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: 'EnterPolicyName',\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 1\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ]\n            }\n        },\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953270269,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                1: [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'billAmount',\n                        name: 'BillAmount',\n                        type: 'integer',\n                        value: null,\n                        required: true,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: 'EnterBillAmount',\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ],\n                2: [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'billdate',\n                        name: 'BillDate',\n                        type: 'date',\n                        value: null,\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: 'billdate',\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 1\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ]\n            }\n        },\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953280930,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                1: [\n                    {\n                        fieldType: 'RestFieldRepresentation',\n                        id: 'claimtype',\n                        name: 'ClaimType',\n                        type: 'dropdown',\n                        value: 'Chooseone...',\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: true,\n                        options: [\n                            {\n                                id: 'empty',\n                                name: 'Chooseone...'\n                            },\n                            {\n                                id: 'cashless',\n                                name: 'Cashless'\n                            },\n                            {\n                                id: 'reimbursement',\n                                name: 'Reimbursement'\n                            }\n                        ],\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null,\n                        endpoint: null,\n                        requestHeaders: null\n                    }\n                ],\n                2: [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'hospitalName',\n                        name: 'HospitalName',\n                        type: 'text',\n                        value: null,\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: 'EnterHospitalName',\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 1\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ]\n            }\n        }\n    ],\n    outcomes: [\n        {\n            id: 'approve',\n            name: 'Approve'\n        },\n        {\n            id: 'complete',\n            name: 'Complete'\n        },\n        {\n            id: 'start_process',\n            name: 'Start Process'\n        }\n    ],\n    javascriptEvents: [],\n    className: '',\n    style: '',\n    metadata: {},\n    variables: [],\n    customFieldsValueInfo: {},\n    gridsterForm: false,\n    globalDateFormat: 'D - M - YYYY'\n};\n\nexport const startMockFormWithTab: any = {\n    id: 4,\n    taskName: 'Mock Title',\n    processDefinitionId: 'ClaimReviewProcess:2: 93',\n    processDefinitionName: 'ClaimReviewProcess',\n    processDefinitionKey: 'ClaimReviewProcess',\n    tabs: [\n        {\n            id: 'form1',\n            name: 'Tab 1'\n        },\n        {\n            id: 'form2',\n            name: 'Tab 2'\n        }\n    ],\n    fields: [\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953253784,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                1: [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'clientname',\n                        name: 'ClientName',\n                        type: 'text',\n                        value: null,\n                        required: true,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ],\n                2: [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'policyno',\n                        name: 'PolicyNo',\n                        type: 'integer',\n                        value: null,\n                        required: true,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: 'EnterPolicyName',\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 1\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ]\n            }\n        },\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953270269,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                1: [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'billAmount',\n                        name: 'BillAmount',\n                        type: 'integer',\n                        value: null,\n                        required: true,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: 'EnterBillAmount',\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ],\n                2: [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'billdate',\n                        name: 'BillDate',\n                        type: 'date',\n                        value: null,\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: 'billdate',\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 1\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ]\n            }\n        },\n        {\n            fieldType: 'ContainerRepresentation',\n            id: 1497953280930,\n            name: 'Label',\n            type: 'container',\n            value: null,\n            required: false,\n            readOnly: false,\n            overrideId: false,\n            colspan: 1,\n            placeholder: null,\n            minLength: 0,\n            maxLength: 0,\n            minValue: null,\n            maxValue: null,\n            regexPattern: null,\n            optionType: null,\n            hasEmptyValue: null,\n            options: null,\n            restUrl: null,\n            restResponsePath: null,\n            restIdProperty: null,\n            restLabelProperty: null,\n            tab: null,\n            className: null,\n            dateDisplayFormat: null,\n            layout: null,\n            sizeX: 2,\n            sizeY: 1,\n            row: -1,\n            col: -1,\n            visibilityCondition: null,\n            numberOfColumns: 2,\n            fields: {\n                1: [\n                    {\n                        fieldType: 'RestFieldRepresentation',\n                        id: 'claimtype',\n                        name: 'ClaimType',\n                        type: 'dropdown',\n                        value: 'Chooseone...',\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: null,\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: true,\n                        options: [\n                            {\n                                id: 'empty',\n                                name: 'Chooseone...'\n                            },\n                            {\n                                id: 'cashless',\n                                name: 'Cashless'\n                            },\n                            {\n                                id: 'reimbursement',\n                                name: 'Reimbursement'\n                            }\n                        ],\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 2\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null,\n                        endpoint: null,\n                        requestHeaders: null\n                    }\n                ],\n                2: [\n                    {\n                        fieldType: 'FormFieldRepresentation',\n                        id: 'hospitalName',\n                        name: 'HospitalName',\n                        type: 'text',\n                        value: null,\n                        required: false,\n                        readOnly: false,\n                        overrideId: false,\n                        colspan: 1,\n                        placeholder: 'EnterHospitalName',\n                        minLength: 0,\n                        maxLength: 0,\n                        minValue: null,\n                        maxValue: null,\n                        regexPattern: null,\n                        optionType: null,\n                        hasEmptyValue: null,\n                        options: null,\n                        restUrl: null,\n                        restResponsePath: null,\n                        restIdProperty: null,\n                        restLabelProperty: null,\n                        tab: null,\n                        className: null,\n                        params: {\n                            existingColspan: 1,\n                            maxColspan: 1\n                        },\n                        dateDisplayFormat: null,\n                        layout: {\n                            row: -1,\n                            column: -1,\n                            colspan: 1\n                        },\n                        sizeX: 1,\n                        sizeY: 1,\n                        row: -1,\n                        col: -1,\n                        visibilityCondition: null\n                    }\n                ]\n            }\n        }\n    ],\n    outcomes: [\n        {\n            id: 'approve',\n            name: 'Approve'\n        },\n        {\n            id: 'complete',\n            name: 'Complete'\n        }\n    ],\n    javascriptEvents: [],\n    className: '',\n    style: '',\n    metadata: {},\n    variables: [],\n    customFieldsValueInfo: {},\n    gridsterForm: false,\n    globalDateFormat: 'D - M - YYYY'\n};\n"]}