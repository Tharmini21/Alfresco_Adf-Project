!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],t):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=t():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return n.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return n.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return i.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return s.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return s.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return o.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return h.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return c.SVGGraphics}});var n=r(1),i=r(5),s=r(2),a=r(16),o=r(7),l=r(10),h=r(17),c=r(18);{const{isNodeJS:e}=r(4);if(e){const e=r(19).PDFNodeStream;(0,i.setPDFNetworkStreamFactory)(t=>new e(t))}else{const e=r(22).PDFNetworkStream;let t;(0,n.isFetchSupported)()&&(t=r(23).PDFFetchStream),(0,i.setPDFNetworkStreamFactory)(r=>t&&(0,n.isValidFetchUrl)(r.url)?new t(r):new e(r))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e,{url:t,target:r,rel:s,enabled:a=!0}={}){(0,n.assert)(t&&"string"==typeof t,'addLinkAttributes: A valid "url" parameter must provided.');const l=(0,n.removeNullCharacters)(t);a?e.href=e.title=l:(e.href="",e.title="Disabled: "+l,e.onclick=()=>!1);let h="";switch(r){case o.NONE:break;case o.SELF:h="_self";break;case o.BLANK:h="_blank";break;case o.PARENT:h="_parent";break;case o.TOP:h="_top"}e.target=h,e.rel="string"==typeof s?s:i},t.getFilenameFromUrl=function(e){const t=e.indexOf("#"),r=e.indexOf("?"),n=Math.min(t>0?t:e.length,r>0?r:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)},t.isFetchSupported=l,t.isValidFetchUrl=h,t.loadScript=function(e){return new Promise((t,r)=>{const n=document.createElement("script");n.src=e,n.onload=t,n.onerror=function(){r(new Error("Cannot load script at: "+n.src))},(document.head||document.documentElement).appendChild(n)})},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var n=r(2);const i="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=i;const s="http://www.w3.org/2000/svg";t.DOMCanvasFactory=class{create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=document.createElement("canvas"),n=r.getContext("2d");return r.width=e,r.height=t,{canvas:r,context:n}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}},t.DOMCMapReaderFactory=class{constructor({baseUrl:e=null,isCompressed:t=!1}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return l()&&h(t,document.baseURI)?fetch(t).then(async e=>{if(!e.ok)throw new Error(e.statusText);let t;return t=this.isCompressed?new Uint8Array(await e.arrayBuffer()):(0,n.stringToBytes)(await e.text()),{cMapData:t,compressionType:r}}).catch(e=>{throw new Error("Unable to load "+(this.isCompressed?"binary ":"")+"CMap at: "+t)}):new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),this.isCompressed&&(s.responseType="arraybuffer"),s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(200===s.status||0===s.status){let t;if(this.isCompressed&&s.response?t=new Uint8Array(s.response):!this.isCompressed&&s.responseText&&(t=(0,n.stringToBytes)(s.responseText)),t)return void e({cMapData:t,compressionType:r})}i(new Error(s.statusText))}},s.send(null)}).catch(e=>{throw new Error("Unable to load "+(this.isCompressed?"binary ":"")+"CMap at: "+t)})}},t.DOMSVGFactory=class{create(e,t){(0,n.assert)(e>0&&t>0,"Invalid SVG dimensions");const r=document.createElementNS(s,"svg:svg");return r.setAttribute("version","1.1"),r.setAttribute("width",e+"px"),r.setAttribute("height",t+"px"),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 "+e+" "+t),r}createElement(e){return(0,n.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS(s,e)}};class a{constructor({viewBox:e,scale:t,rotation:r,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=n,this.offsetY=i;const a=(e[2]+e[0])/2,o=(e[3]+e[1])/2;let l,h,c,u,d,p,f,g;switch(r=(r%=360)<0?r+360:r){case 180:l=-1,h=0,c=0,u=1;break;case 90:l=0,h=1,c=1,u=0;break;case 270:l=0,h=-1,c=-1,u=0;break;case 0:l=1,h=0,c=0,u=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(c=-c,u=-u),0===l?(d=Math.abs(o-e[1])*t+n,p=Math.abs(a-e[0])*t+i,f=Math.abs(e[3]-e[1])*t,g=Math.abs(e[2]-e[0])*t):(d=Math.abs(a-e[0])*t+n,p=Math.abs(o-e[1])*t+i,f=Math.abs(e[2]-e[0])*t,g=Math.abs(e[3]-e[1])*t),this.transform=[l*t,h*t,c*t,u*t,d-l*t*a-c*t*o,p-h*t*a-u*t*o],this.width=f,this.height=g}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:n=this.offsetY,dontFlip:i=!1}={}){return new a({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:n,dontFlip:i})}convertToViewportPoint(e,t){return n.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=n.Util.applyTransform([e[0],e[1]],this.transform),r=n.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return n.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=a,t.RenderingCancelledException=class extends n.BaseException{constructor(e,t){super(e),this.type=t}};const o={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function l(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function h(e,t){try{const{protocol:r}=t?new URL(e,t):new URL(e);return"http:"===r||"https:"===r}catch(r){return!1}}let c;t.LinkTarget=o,t.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(e){e in this.started&&(0,n.warn)("Timer is already running for "+e),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,n.warn)("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const r of this.times){const e=r.name;e.length>t&&(t=e.length)}for(const r of this.times){const n=r.end-r.start;e.push(`${r.name.padEnd(t)} ${n}ms\n`)}return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||!(0,n.isString)(e))return null;c||(c=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=c.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const h=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===h?(a+=u,o+=d):"+"===h&&(a-=u,o-=d),new Date(Date.UTC(r,i,s,a,o,l))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=d,t.arraysToBytes=function(e){const t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];let r=0;for(let s=0;s<t;s++)r+=d(e[s]);let n=0;const i=new Uint8Array(r);for(let s=0;s<t;s++){let t=e[s];t instanceof Uint8Array||(t="string"==typeof t?u(t):new Uint8Array(t));const r=t.byteLength;i.set(t,n),n+=r}return i},t.assert=o,t.bytesToString=function(e){o(null!==e&&"object"==typeof e&&void 0!==e.length,"Invalid argument for bytesToString");const t=e.length,r=8192;if(t<r)return String.fromCharCode.apply(null,e);const n=[];for(let i=0;i<t;i+=r){const s=Math.min(i+r,t),a=e.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")},t.createPromiseCapability=function(){const e=Object.create(null);let t=!1;return Object.defineProperty(e,"settled",{get:()=>t}),e.promise=new Promise((function(r,n){e.resolve=function(e){t=!0,r(e)},e.reject=function(e){t=!0,n(e)}})),e},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=n.INFOS&&console.log("Info: "+e)},t.isArrayBuffer=function(e){return"object"==typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))},t.isBool=function(e){return"boolean"==typeof e},t.isEmptyObj=function(e){for(const t in e)return!1;return!0},t.isNum=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSameOrigin=function(e,t){let r;try{if(r=new URL(e),!r.origin||"null"===r.origin)return!1}catch(i){return!1}const n=new URL(t,r);return r.origin===n.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{const r=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(r){}return null},t.removeNullCharacters=function(e){return"string"!=typeof e?(s("The argument for removeNullCharacters must be a string."),e):e.replace(c,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=l,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=u,t.stringToPDFString=function(e){const t=e.length,r=[];if("þ"===e[0]&&"ÿ"===e[1])for(let n=2;n<t;n+=2)r.push(String.fromCharCode(e.charCodeAt(n)<<8|e.charCodeAt(n+1)));else if("ÿ"===e[0]&&"þ"===e[1])for(let n=2;n<t;n+=2)r.push(String.fromCharCode(e.charCodeAt(n+1)<<8|e.charCodeAt(n)));else for(let n=0;n<t;++n){const t=g[e.charCodeAt(n)];r.push(t?String.fromCharCode(t):e.charAt(n))}return r.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=s,t.unreachable=a,t.IsEvalSupportedCached=t.IsLittleEndianCached=t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0,r(3),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const n={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=n,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=n.WARNINGS;function s(e){i>=n.WARNINGS&&console.log("Warning: "+e)}function a(e){throw new Error(e)}function o(e,t){e||a(t)}function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}const h=function(){function e(t){this.constructor===e&&a("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=h,t.PasswordException=class extends h{constructor(e,t){super(e),this.code=t}},t.UnknownErrorException=class extends h{constructor(e,t){super(e),this.details=t}},t.InvalidPDFException=class extends h{},t.MissingPDFException=class extends h{},t.UnexpectedResponseException=class extends h{constructor(e,t){super(e),this.status=t}},t.FormatError=class extends h{},t.AbortException=class extends h{};const c=/\x00/g;function u(e){o("string"==typeof e,"Invalid argument for stringToBytes");const t=e.length,r=new Uint8Array(t);for(let n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r}function d(e){return void 0!==e.length?e.length:(o(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}t.IsLittleEndianCached={get value(){return l(this,"value",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}},t.IsEvalSupportedCached={get value(){return l(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};const p=["rgb(",0,",",0,",",0,")"];class f{static makeCssRgb(e,t,r){return p[1]=e,p[3]=t,p[5]=r,p.join("")}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]}static getAxialAlignedBoundingBox(e,t){const r=f.applyTransform(e,t),n=f.applyTransform(e.slice(2,4),t),i=f.applyTransform([e[0],e[3]],t),s=f.applyTransform([e[2],e[1]],t);return[Math.min(r[0],n[0],i[0],s[0]),Math.min(r[1],n[1],i[1],s[1]),Math.max(r[0],n[0],i[0],s[0]),Math.max(r[1],n[1],i[1],s[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static apply3dTransform(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],n=e[2]*t[1]+e[3]*t[3],i=(r+n)/2,s=Math.sqrt((r+n)*(r+n)-4*(r*n-(e[2]*t[0]+e[3]*t[2])*(e[0]*t[1]+e[1]*t[3])))/2,a=i-s||1;return[Math.sqrt(i+s||1),Math.sqrt(a)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){function r(e,t){return e-t}const n=[e[0],e[2],t[0],t[2]].sort(r),i=[e[1],e[3],t[1],t[3]].sort(r),s=[];return e=f.normalizeRect(e),t=f.normalizeRect(t),n[0]===e[0]&&n[1]===t[0]||n[0]===t[0]&&n[1]===e[0]?(s[0]=n[1],s[2]=n[2],i[0]===e[1]&&i[1]===t[1]||i[0]===t[1]&&i[1]===e[1]?(s[1]=i[1],s[3]=i[2],s):null):null}}t.Util=f;const g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],m=function(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,r,n=!1){if(!n&&URL.createObjectURL){const e=new Blob([t],{type:r});return URL.createObjectURL(e)}let i=`data:${r};base64,`;for(let s=0,a=t.length;s<a;s+=3){const r=255&t[s],n=255&t[s+1],o=255&t[s+2];i+=e[r>>2]+e[(3&r)<<4|n>>4]+e[s+1<a?(15&n)<<2|o>>6:64]+e[s+2<a?63&o:64]}return i}}();t.createObjectURL=m},function(e,t,r){"use strict";r(4)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const n="object"==typeof process&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;t.isNodeJS=n},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(6),_api_compatibility=__w_pdfjs_require__(7),_canvas=__w_pdfjs_require__(8),_worker_options=__w_pdfjs_require__(10),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(11),_metadata=__w_pdfjs_require__(12),_transport_stream=__w_pdfjs_require__(14),_webgl=__w_pdfjs_require__(15);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){const t=new PDFDocumentLoadingTask;let r;if("string"==typeof e)r={url:e};else if((0,_util.isArrayBuffer)(e))r={data:e};else if(e instanceof PDFDataRangeTransport)r={range:e};else{if("object"!=typeof e)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=e}const n=Object.create(null);let i=null,s=null;for(const o in r)if("url"!==o||"undefined"==typeof window)if("range"!==o)if("worker"!==o)if("data"!==o||r[o]instanceof Uint8Array)n[o]=r[o];else{const e=r[o];if("string"==typeof e)n[o]=(0,_util.stringToBytes)(e);else if("object"!=typeof e||null===e||isNaN(e.length)){if(!(0,_util.isArrayBuffer)(e))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");n[o]=new Uint8Array(e)}else n[o]=new Uint8Array(e)}else s=r[o];else i=r[o];else n[o]=new URL(r[o],window.location).href;if(n.rangeChunkSize=n.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,n.CMapReaderFactory=n.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.fontExtraProperties=!0===n.fontExtraProperties,n.pdfBug=!0===n.pdfBug,Number.isInteger(n.maxImageSize)||(n.maxImageSize=-1),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!s){const e={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};s=e.port?PDFWorker.fromPort(e):new PDFWorker(e),t._worker=s}const a=t.docId;return s.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(s,n,i,a),r=new Promise((function(e){let t;i?t=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,disableRange:n.disableRange,disableStream:n.disableStream},i):n.data||(t=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),e(t)}));return Promise.all([e,r]).then((function([e,r]){if(t.destroyed)throw new Error("Loading aborted");const i=new _message_handler.MessageHandler(a,e,s.port);i.postMessageTransfers=s.postMessageTransfers;const o=new WorkerTransport(i,t,r,n);t._transport=o,i.send("Ready",null)}))})).catch(t._capability.reject),t}function _fetchDocument(e,t,r,n){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(r&&(t.length=r.length,t.initialData=r.initialData,t.progressiveDone=r.progressiveDone),e.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.5.207",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}).then((function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t})))}const PDFDocumentLoadingTask=function(){let e=0;return class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(()=>{this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}}();class PDFDataRangeTransport{constructor(e,t,r=!1){this.length=e,this.initialData=t,this.progressiveDone=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t}get numPages(){return this._pdfInfo.numPages}get fingerprint(){return this._pdfInfo.fingerprint}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getOpenActionDestination(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then((function(e){return e&&e.dest?e.dest:null}))}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getOutline(){return this._transport.getOutline()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}getStats(){return this._transport.getStats()}cleanup(){return this._transport.startCleanup()}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,t,r,n=!1){this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=n?new _display_utils.StatTimer:null,this._pdfBug=n,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:n=0,dontFlip:i=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:n,dontFlip:i})}getAnnotations({intent:e=null}={}){return this.annotationsPromise&&this.annotationsIntent===e||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,e),this.annotationsIntent=e),this.annotationsPromise}render({canvasContext:e,viewport:t,intent:r="display",enableWebGL:n=!1,renderInteractiveForms:i=!1,transform:s=null,imageLayer:a=null,canvasFactory:o=null,background:l=null}){this._stats&&this._stats.time("Overall");const h="print"===r?"print":"display";this.pendingCleanup=!1,this.intentStates[h]||(this.intentStates[h]=Object.create(null));const c=this.intentStates[h];c.streamReaderCancelTimeout&&(clearTimeout(c.streamReaderCancelTimeout),c.streamReaderCancelTimeout=null);const u=o||new _display_utils.DOMCanvasFactory,d=new _webgl.WebGLContext({enable:n});c.displayReadyCapability||(c.displayReadyCapability=(0,_util.createPromiseCapability)(),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:h,renderInteractiveForms:!0===i}));const p=e=>{const t=c.renderTasks.indexOf(f);t>=0&&c.renderTasks.splice(t,1),(this.cleanupAfterRender||"print"===h)&&(this.pendingCleanup=!0),this._tryCleanup(),e?(f.capability.reject(e),this._abortOperatorList({intentState:c,reason:e})):f.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},f=new InternalRenderTask({callback:p,params:{canvasContext:e,viewport:t,transform:s,imageLayer:a,background:l},objs:this.objs,commonObjs:this.commonObjs,operatorList:c.operatorList,pageIndex:this._pageIndex,canvasFactory:u,webGLContext:d,useRequestAnimationFrame:"print"!==h,pdfBug:this._pdfBug});c.renderTasks||(c.renderTasks=[]),c.renderTasks.push(f);const g=f.task;return c.displayReadyCapability.promise.then(e=>{this.pendingCleanup?p():(this._stats&&this._stats.time("Rendering"),f.initializeGraphics(e),f.operatorListChanged())}).catch(p),g}getOperatorList(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));const e=this.intentStates.oplist;let t;return e.opListReadCapability||(t={},t.operatorListChanged=function(){if(e.operatorList.lastChunk){e.opListReadCapability.resolve(e.operatorList);const r=e.renderTasks.indexOf(t);r>=0&&e.renderTasks.splice(r,1)}},e.opListReadCapability=(0,_util.createPromiseCapability)(),e.renderTasks=[],e.renderTasks.push(t),e.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:"oplist"})),e.opListReadCapability.promise}streamTextContent({normalizeWhitespace:e=!1,disableCombineTextItems:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===e,combineTextItems:!0!==t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(e={}){const t=this.streamTextContent(e);return new Promise((function(e,r){const n=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){n.read().then((function({value:r,done:n}){n?e(i):(Object.assign(i.styles,r.styles),i.items.push(...r.items),t())}),r)}()}))}_destroy(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;const e=[];return Object.keys(this.intentStates).forEach(t=>{const r=this.intentStates[t];this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==t&&r.renderTasks.forEach((function(t){const r=t.capability.promise.catch((function(){}));e.push(r),t.cancel()}))}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){return!(!this.pendingCleanup||Object.keys(this.intentStates).some(e=>{const t=this.intentStates[e];return 0!==t.renderTasks.length||!t.operatorList.lastChunk})||(Object.keys(this.intentStates).forEach(e=>{delete this.intentStates[e]}),this.objs.clear(),this.annotationsPromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,0))}_startRenderPage(e,t){const r=this.intentStates[t];r&&(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(e))}_renderPageChunk(e,t){for(let r=0,n=e.length;r<n;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk;for(let r=0;r<t.renderTasks.length;r++)t.renderTasks[r].operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList(e){(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');const t=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),r=this.intentStates[e.intent];r.streamReader=t;const n=()=>{t.read().then(({value:e,done:t})=>{t?r.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,r),n())},e=>{if(r.streamReader=null,!this._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;for(let e=0;e<r.renderTasks.length;e++)r.renderTasks[e].operatorListChanged();this._tryCleanup()}if(r.displayReadyCapability)r.displayReadyCapability.reject(e);else{if(!r.opListReadCapability)throw e;r.opListReadCapability.reject(e)}}})};n()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if((0,_util.assert)(t instanceof Error||"object"==typeof t&&null!==t,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),e.streamReader){if(!r){if(0!==e.renderTasks.length)return;if(t instanceof _display_utils.RenderingCancelledException)return void(e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:t,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}e.streamReader.cancel(new _util.AbortException(t&&t.message)),e.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some(t=>this.intentStates[t]===e&&(delete this.intentStates[t],!0)),this.cleanup())}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(e=!0){this._listeners=[],this._defer=e,this._deferred=Promise.resolve(void 0)}postMessage(e,t){if(!this._defer)return void this._listeners.forEach(t=>{t.call(this,{data:e})});const r=new WeakMap,n={data:function e(n){if("object"!=typeof n||null===n)return n;if(r.has(n))return r.get(n);let i,s;if((i=n.buffer)&&(0,_util.isArrayBuffer)(i))return s=t&&t.includes(i)?new n.constructor(i,n.byteOffset,n.byteLength):new n.constructor(n),r.set(n,s),s;s=Array.isArray(n)?[]:{},r.set(n,s);for(const t in n){let r,i=n;for(;!(r=Object.getOwnPropertyDescriptor(i,t));)i=Object.getPrototypeOf(i);if(void 0!==r.value)if("function"!=typeof r.value)s[t]=e(r.value);else if(n.hasOwnProperty&&n.hasOwnProperty(t))throw new Error("LoopbackPort.postMessage - cannot clone: "+n[t])}return s}(e)};this._deferred.then(()=>{this._listeners.forEach(e=>{e.call(this,n)})})}addEventListener(e,t){this._listeners.push(t)}removeEventListener(e,t){const r=this._listeners.indexOf(t);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorker=function PDFWorkerClosure(){const pdfWorkerPorts=new WeakMap;let isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&"function"==typeof require)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){const e=document.currentScript&&document.currentScript.src;e&&(fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){let e;try{e=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(t){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();const loader=async function(){const mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&"function"==typeof require){const worker=eval("require")(getWorkerSrc());return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(getWorkerSrc()),window.pdfjsWorker.WorkerMessageHandler};return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){return URL.createObjectURL(new Blob(["importScripts('"+e+"');"]))}class PDFWorker{constructor({name:e=null,port:t=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(t&&pdfWorkerPorts.has(t))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=e,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=r,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return pdfWorkerPorts.set(t,this),void this._initializeFromPort(t);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){let t=getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,t)||(t=createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t),r=new _message_handler.MessageHandler("main","worker",e),n=()=>{e.removeEventListener("error",i),r.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||n()};e.addEventListener("error",i),r.on("test",t=>{e.removeEventListener("error",i),this.destroyed?n():t?(this._messageHandler=r,this._port=e,this._webWorker=e,t.supportTransfers||(this.postMessageTransfers=!1),this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),e.terminate())}),r.on("ready",t=>{if(e.removeEventListener("error",i),this.destroyed)n();else try{s()}catch(r){this._setupFakeWorker()}});const s=()=>{const e=new Uint8Array([this.postMessageTransfers?255:0]);try{r.send("test",e,[e.buffer])}catch(t){(0,_util.warn)("Cannot use postMessage transfers."),e[0]=0,r.send("test",e)}};return void s()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const r="fake"+nextFakeWorkerId++,n=new _message_handler.MessageHandler(r+"_worker",r,t);e.setup(n,t);const i=new _message_handler.MessageHandler(r,r+"_worker",t);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(e.port)?pdfWorkerPorts.get(e.port):new PDFWorker(e)}static getWorkerSrc(){return getWorkerSrc()}}return PDFWorker}();exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(e,t,r,n){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=n,this.CMapReaderFactory=new n.CMapReaderFactory({baseUrl:n.cMapUrl,isCompressed:n.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];this.pageCache.forEach((function(t){t&&e.push(t._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.fontLoader.clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function({value:e,done:r}){r?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e)}}),e.on("ReaderHeadersReady",e=>{const r=(0,_util.createPromiseCapability)(),n=this._fullReader;return n.headersReady.then(()=>{n.isStreamingSupported&&n.isRangeSupported||(this._lastProgress&&t.onProgress&&t.onProgress(this._lastProgress),n.onProgress=e=>{t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}),r.resolve({isStreamingSupported:n.isStreamingSupported,isRangeSupported:n.isRangeSupported,contentLength:n.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(e.begin,e.end);r?(t.onPull=()=>{r.read().then((function({value:e,done:r}){r?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch(e=>{t.error(e)})},t.onCancel=e=>{r.cancel(e)}):t.close()}),e.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,t._capability.resolve(new PDFDocumentProxy(e,this))}),e.on("DocException",(function(e){let r;switch(e.name){case"PasswordException":r=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":r=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":r=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":r=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":r=new _util.UnknownErrorException(e.message,e.details)}t._capability.reject(r)})),e.on("PasswordRequest",e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),t.onPassword){const n=e=>{this._passwordCapability.resolve({password:e})};try{t.onPassword(n,e.code)}catch(r){this._passwordCapability.reject(r)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise}),e.on("DataLoaded",e=>{t.onProgress&&t.onProgress({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{this.destroyed||this.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.intent)}),e.on("commonobj",t=>{if(this.destroyed)return;const[r,n,i]=t;if(!this.commonObjs.has(r))switch(n){case"Font":const t=this._params;if("error"in i){const e=i.error;(0,_util.warn)("Error during font loading: "+e),this.commonObjs.resolve(r,e);break}let s=null;t.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(s={registerFont(e,t){globalThis.FontInspector.fontAdded(e,t)}});const a=new _font_loader.FontFaceObject(i,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:s});this.fontLoader.bind(a).catch(t=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!t.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(r,a)});break;case"FontPath":case"FontType3Res":case"Image":this.commonObjs.resolve(r,i);break;default:throw new Error("Got unknown common object type "+n)}}),e.on("obj",e=>{if(this.destroyed)return;const[t,r,n,i]=e,s=this.pageCache[r];if(!s.objs.has(t))switch(n){case"Image":s.objs.resolve(t,i);const e=8e6;i&&"data"in i&&i.data.length>e&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+n)}}),e.on("DocProgress",e=>{this.destroyed||t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",(e,t)=>{if(this.destroyed)return void t.error(new Error("Worker was destroyed"));let r=!1;t.onPull=()=>{r?t.close():(r=!0,this.CMapReaderFactory.fetch(e).then((function(e){t.enqueue(e,1,[e.cMapData.buffer])})).catch((function(e){t.error(e)})))}})}_onUnsupportedFeature({featureId:e}){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));const t=e-1;if(t in this.pagePromises)return this.pagePromises[t];const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(e=>{if(this.destroyed)throw new Error("Transport destroyed");const r=new PDFPageProxy(t,e,this,this._params.pdfBug);return this.pageCache[t]=r,r});return this.pagePromises[t]=r,r}getPageIndex(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch((function(e){return Promise.reject(new Error(e))}))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?this._fullReader.filename:null}))}getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}startCleanup(){return this.messageHandler.sendWithPromise("Cleanup",null).then(()=>{for(let e=0,t=this.pageCache.length;e<t;e++){const t=this.pageCache[e];if(t&&!t.cleanup())throw new Error(`startCleanup: Page ${e+1} is currently rendering.`)}this.commonObjs.clear(),this.fontLoader.clear()})}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace})}}class PDFObjects{constructor(){this._objs=Object.create(null)}_ensureObj(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}get(e,t=null){if(t)return this._ensureObj(e).capability.promise.then(t),null;const r=this._objs[e];if(!r||!r.resolved)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=this._objs[e];return!!t&&t.resolved}resolve(e,t){const r=this._ensureObj(e);r.resolved=!0,r.data=t,r.capability.resolve(t)}clear(){this._objs=Object.create(null)}}class RenderTask{constructor(e){this._internalRenderTask=e,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}const InternalRenderTask=function(){const e=new WeakSet;return class{constructor({callback:e,params:t,objs:r,commonObjs:n,operatorList:i,pageIndex:s,canvasFactory:a,webGLContext:o,useRequestAnimationFrame:l=!1,pdfBug:h=!1}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=n,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=s,this.canvasFactory=a,this.webGLContext=o,this._pdfBug=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}initializeGraphics(t=!1){if(this.cancelled)return;if(this._canvas){if(e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:n,transform:i,imageLayer:s,background:a}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,s),this.gfx.beginDrawing({transform:i,viewport:n,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(t=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page "+(this._pageIndex+1),"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this.cancel.bind(this))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback())))}}}(),version="2.5.207";exports.version=version;const build="0974d605";exports.build=build},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var n=r(2);class i{constructor({docId:e,onUnsupportedFeature:t}){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseFontLoader."),this.docId=e,this._onUnsupportedFeature=t,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(e){this.nativeFontFaces.push(e),document.fonts.add(e)}insertRule(e){let t=this.styleElement;t||(t=this.styleElement=document.createElement("style"),t.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(t));const r=t.sheet;r.insertRule(e,r.cssRules.length)}clear(){this.nativeFontFaces.forEach((function(e){document.fonts.delete(e)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(e){if(e.attached||e.missingFile)return;if(e.attached=!0,this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(r){throw this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,n.warn)(`Failed to load font '${t.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const n=this._queueLoadingCallback(r);this._prepareFontLoadEvent([t],[e],n)})}}_queueLoadingCallback(e){(0,n.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const e="undefined"!=typeof document&&!!document.fonts;return(0,n.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){(0,n.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,n.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(e,t,r){(0,n.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let s;t.FontLoader=s,t.FontLoader=s=class extends i{constructor(e){super(e),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let e=!1;if("undefined"==typeof navigator)e=!0;else{const t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t&&t[1]>=14&&(e=!0)}return(0,n.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const t=this.loadingContext,r={id:"pdfjs-font-loading-"+t.nextRequestId++,done:!1,complete:function(){for((0,n.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;t.requests.length>0&&t.requests[0].done;){const e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(r),r}get _loadTestFont(){return(0,n.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t,r){function i(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function s(e,t,r,n){return e.substring(0,t)+n+e.substring(t+r)}let a,o;const l=document.createElement("canvas");l.width=1,l.height=1;const h=l.getContext("2d");let c=0;const u=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=s(d,976,u.length,u);const p=1482184792;let f=i(d,16);for(a=0,o=u.length-3;a<o;a+=4)f=f-p+i(u,a)|0;a<u.length&&(f=f-p+i(u+"XXX",a)|0),d=s(d,16,4,(0,n.string32)(f));const g=`url(data:font/opentype;base64,${btoa(d)});`;this.insertRule(`@font-face {font-family:"${u}";src:${g}}`);const m=[];for(a=0,o=t.length;a<o;a++)m.push(t[a].loadedName);m.push(u);const _=document.createElement("div");for(_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px",a=0,o=m.length;a<o;++a){const e=document.createElement("span");e.textContent="Hi",e.style.fontFamily=m[a],_.appendChild(e)}document.body.appendChild(_),function e(t,r){if(c++,c>30)return(0,n.warn)("Load test font never loaded."),void r();h.font="30px "+t,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0?r():setTimeout(e.bind(null,t,r))}(u,(function(){document.body.removeChild(_),r.complete()}))}},t.FontFaceObject=class{constructor(e,{isEvalSupported:t=!0,disableFontFace:r=!1,ignoreErrors:n=!1,onUnsupportedFeature:i=null,fontRegistry:s=null}){this.compiledGlyphs=Object.create(null);for(const a in e)this[a]=e[a];this.isEvalSupported=!1!==t,this.disableFontFace=!0===r,this.ignoreErrors=!0===n,this._onUnsupportedFeature=i,this.fontRegistry=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;const e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,n.bytesToString)(new Uint8Array(this.data)),t=`url(data:${this.mimetype};base64,${btoa(e)});`,r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,t),r}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let r,i;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){if(!this.ignoreErrors)throw s;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,n.warn)(`getPathGenerator - ignoring character: "${s}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&n.IsEvalSupportedCached.value){let e,n="";for(let t=0,s=r.length;t<s;t++)i=r[t],e=void 0!==i.args?i.args.join(","):"",n+="c."+i.cmd+"("+e+");\n";return this.compiledGlyphs[t]=new Function("c","size",n)}return this.compiledGlyphs[t]=function(e,t){for(let n=0,s=r.length;n<s;n++)i=r[n],"scale"===i.cmd&&(i.args=[t,-t]),e[i.cmd].apply(e,i.args)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var n=r(4);const i=Object.create(null);n.isNodeJS&&(i.disableFontFace=!0);const s=Object.freeze(i);t.apiCompatibilityParams=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var n=r(2),i=r(9),s=4096,a=.65,o=16;function l(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],a=e[5],o=t*i-r*n,l=r*n-t*i;return[i/o,r/l,n/l,t/o,(i*s-n*a)/l,(r*s-t*a)/o]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var r=this._transformMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5],this._originalTranslate(e,t)},e.scale=function(e,t){var r=this._transformMatrix;r[0]=r[0]*e,r[1]=r[1]*e,r[2]=r[2]*t,r[3]=r[3]*t,this._originalScale(e,t)},e.transform=function(t,r,n,i,s,a){var o=this._transformMatrix;this._transformMatrix=[o[0]*t+o[2]*r,o[1]*t+o[3]*r,o[0]*n+o[2]*i,o[1]*n+o[3]*i,o[0]*s+o[2]*a+o[4],o[1]*s+o[3]*a+o[5]],e._originalTransform(t,r,n,i,s,a)},e.setTransform=function(t,r,n,i,s,a){this._transformMatrix=[t,r,n,i,s,a],e._originalSetTransform(t,r,n,i,s,a)},e.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),n=this._transformMatrix;this._transformMatrix=[n[0]*t+n[2]*r,n[1]*t+n[3]*r,n[0]*-r+n[2]*t,n[1]*-r+n[3]*t,n[4],n[5]],this._originalRotate(e)})}var h=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,r,n){var i;return void 0!==this.cache[e]?(this.canvasFactory.reset(i=this.cache[e],t,r),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),n&&l(i.context),i},clear(){for(var e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}},e}(),c=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),u=function(){function e(e,t,r,n,i,s){this.ctx=e,this.current=new c,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=n,this.webGLContext=i,this.imageLayer=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new h(this.canvasFactory),e&&l(e),this._cachedGetSinglePixelWidth=null}function t(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var r,i,s,a,l,h=t.height,c=t.width,u=h%o,d=(h-u)/o,p=0===u?d:d+1,f=e.createImageData(c,o),g=0,m=t.data,_=f.data;if(t.kind===n.ImageKind.GRAYSCALE_1BPP){var v=m.byteLength,y=new Uint32Array(_.buffer,0,_.byteLength>>2),b=y.length,x=c+7>>3,A=4294967295,w=n.IsLittleEndianCached.value?4278190080:255;for(i=0;i<p;i++){for(a=i<d?o:u,r=0,s=0;s<a;s++){for(var S=v-g,C=0,P=S>x?c:8*S-7,k=-8&P,T=0,R=0;C<k;C+=8)R=m[g++],y[r++]=128&R?A:w,y[r++]=64&R?A:w,y[r++]=32&R?A:w,y[r++]=16&R?A:w,y[r++]=8&R?A:w,y[r++]=4&R?A:w,y[r++]=2&R?A:w,y[r++]=1&R?A:w;for(;C<P;C++)0===T&&(R=m[g++],T=128),y[r++]=R&T?A:w,T>>=1}for(;r<b;)y[r++]=0;e.putImageData(f,0,i*o)}}else if(t.kind===n.ImageKind.RGBA_32BPP){for(s=0,l=c*o*4,i=0;i<d;i++)_.set(m.subarray(g,g+l)),g+=l,e.putImageData(f,0,s),s+=o;i<p&&(_.set(m.subarray(g,g+(l=c*u*4))),e.putImageData(f,0,s))}else{if(t.kind!==n.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+t.kind);for(l=c*(a=o),i=0;i<p;i++){for(i>=d&&(l=c*(a=u)),r=0,s=l;s--;)_[r++]=m[g++],_[r++]=m[g++],_[r++]=m[g++],_[r++]=255;e.putImageData(f,0,i*o)}}}}function r(e,t){for(var r=t.height,n=t.width,i=r%o,s=(r-i)/o,a=0===i?s:s+1,l=e.createImageData(n,o),h=0,c=t.data,u=l.data,d=0;d<a;d++){for(var p=d<s?o:i,f=3,g=0;g<p;g++)for(var m=0,_=0;_<n;_++){if(!m){var v=c[h++];m=128}u[f]=v&m?0:255,f+=4,m>>=1}e.putImageData(l,0,d*o)}}function u(e,t){for(var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],n=0,i=r.length;n<i;n++){var s=r[n];void 0!==e[s]&&(t[s]=e[s])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function d(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function p(e,t,r,n){for(var i=e.length,s=3;s<i;s+=4){var a=e[s];if(0===a)e[s-3]=t,e[s-2]=r,e[s-1]=n;else if(a<255){var o=255-a;e[s-3]=e[s-3]*a+t*o>>8,e[s-2]=e[s-2]*a+r*o>>8,e[s-1]=e[s-1]*a+n*o>>8}}}function f(e,t,r){for(var n=e.length,i=3;i<n;i+=4)t[i]=t[i]*(r?r[e[i]]:e[i])*.00392156862745098|0}function g(e,t,r){for(var n=e.length,i=3;i<n;i+=4){var s=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=r?t[i]*r[s>>8]>>8:t[i]*s>>16}}function m(e,t,r,n){var i=t.canvas,s=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var a=t.backdrop||null;if(!t.transferMap&&n.isEnabled){const s=n.composeSMask({layer:r.canvas,mask:i,properties:{subtype:t.subtype,backdrop:a}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}!function(e,t,r,n,i,s,a){var o,l=!!s,h=l?s[0]:0,c=l?s[1]:0,u=l?s[2]:0;o="Luminosity"===i?g:f;for(var d=Math.min(n,Math.ceil(1048576/r)),m=0;m<n;m+=d){var _=Math.min(d,n-m),v=e.getImageData(0,m,r,_),y=t.getImageData(0,m,r,_);l&&p(v.data,h,c,u),o(v.data,y.data,a),e.putImageData(y,0,m)}}(s,r,i.width,i.height,t.subtype,a,t.transferMap),e.drawImage(i,0,0)}var _=["butt","round","square"],v=["miter","round","bevel"],y={},b={};for(var x in e.prototype={beginDrawing({transform:e,viewport:t,transparency:r=!1,background:n=null}){var i=this.ctx.canvas.width,s=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=n||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,i,s),this.ctx.restore(),r){var a=this.cachedCanvases.getCanvas("transparent",i,s,!0);this.compositeCtx=this.ctx,this.transparentCanvas=a.canvas,this.ctx=a.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),d(this.ctx),e&&this.ctx.transform.apply(this.ctx,e),this.ctx.transform.apply(this.ctx,t.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,r,i){var s=e.argsArray,a=e.fnArray,o=t||0,l=s.length;if(l===o)return o;for(var h,c=l-o>10&&"function"==typeof r,u=c?Date.now()+15:0,d=0,p=this.commonObjs,f=this.objs;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if((h=a[o])!==n.OPS.dependency)this[h].apply(this,s[o]);else for(const e of s[o]){const t=e.startsWith("g_")?p:f;if(!t.has(e))return t.get(e,r),o}if(++o===l)return o;if(c&&++d>10){if(Date.now()>u)return r(),o;d=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=_[e]},setLineJoin:function(e){this.ctx.lineJoin=v[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)},setRenderingIntent(e){},setFlatness(e){},setGState:function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t],i=n[1];switch(n[0]){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=i?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,e.canvas.width,e.canvas.height,!0),r=this.ctx,n=r.mozCurrentTransform;this.ctx.save();var i=t.context;i.scale(1/e.scaleX,1/e.scaleY),i.translate(-e.offsetX,-e.offsetY),i.transform.apply(i,n),e.startTransformInverse=i.mozCurrentTransformInverse,u(r,i),this.ctx=i,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),m(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),u(e,this.ctx),this.current.resumeSMaskCtx=e;var t=n.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(e),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),m(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),u(e,this.ctx);var t=n.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(e,t,r,n,i,s){this.ctx.transform(e,t,r,n,i,s),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var r=this.ctx,i=this.current,s=i.x,a=i.y,o=0,l=0,h=e.length;o<h;o++)switch(0|e[o]){case n.OPS.rectangle:s=t[l++],a=t[l++];var c=t[l++],u=t[l++];0===c&&(c=this.getSinglePixelWidth()),0===u&&(u=this.getSinglePixelWidth());var d=s+c,p=a+u;this.ctx.moveTo(s,a),this.ctx.lineTo(d,a),this.ctx.lineTo(d,p),this.ctx.lineTo(s,p),this.ctx.lineTo(s,a),this.ctx.closePath();break;case n.OPS.moveTo:s=t[l++],a=t[l++],r.moveTo(s,a);break;case n.OPS.lineTo:s=t[l++],a=t[l++],r.lineTo(s,a);break;case n.OPS.curveTo:r.bezierCurveTo(t[l],t[l+1],t[l+2],t[l+3],s=t[l+4],a=t[l+5]),l+=6;break;case n.OPS.curveTo2:r.bezierCurveTo(s,a,t[l],t[l+1],t[l+2],t[l+3]),s=t[l+2],a=t[l+3],l+=4;break;case n.OPS.curveTo3:r.bezierCurveTo(t[l],t[l+1],s=t[l+2],a=t[l+3],s,a),l+=4;break;case n.OPS.closePath:r.closePath()}i.setCurrentPoint(s,a)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,r=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,r&&r.hasOwnProperty("type")&&"Pattern"===r.type){t.save();const e=n.Util.singularValueDecompose2dScale(t.mozCurrentTransform)[0];t.strokeStyle=r.getPattern(t,this),t.lineWidth=Math.max(this.getSinglePixelWidth()*a,this.current.lineWidth*e),t.stroke(),t.restore()}else t.lineWidth=Math.max(this.getSinglePixelWidth()*a,this.current.lineWidth),t.stroke();e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,r=this.current.fillColor,n=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=r.getPattern(t,this),n=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),n&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=y},eoClip:function(){this.pendingClip=b},beginText:function(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var r=0;r<e.length;r++){var n=e[r];t.setTransform.apply(t,n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error("Can't find font for "+e);if(i.fontMatrix=r.fontMatrix?r.fontMatrix:n.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,n.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;let s="normal";r.black?s="900":r.bold&&(s="bold");var a=r.italic?"italic":"normal",o=`"${r.loadedName||"sans-serif"}", ${r.fallbackName}`;let l=t;t<16?l=16:t>100&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font=`${a} ${s} ${l}px ${o}`},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,r,n,i,s){this.current.textMatrix=[e,t,r,n,i,s],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar(e,t,r,i){var s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,h=a.fontSize/a.fontSizeScale,c=l&n.TextRenderingMode.FILL_STROKE_MASK,u=!!(l&n.TextRenderingMode.ADD_TO_PATH_FLAG);const d=a.patternFill&&!o.missingFile;var p;(o.disableFontFace||u||d)&&(p=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||d?(s.save(),s.translate(t,r),s.beginPath(),p(s,h),i&&s.setTransform.apply(s,i),c!==n.TextRenderingMode.FILL&&c!==n.TextRenderingMode.FILL_STROKE||s.fill(),c!==n.TextRenderingMode.STROKE&&c!==n.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(c!==n.TextRenderingMode.FILL&&c!==n.TextRenderingMode.FILL_STROKE||s.fillText(e,t,r),c!==n.TextRenderingMode.STROKE&&c!==n.TextRenderingMode.FILL_STROKE||s.strokeText(e,t,r)),u&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:t,y:r,fontSize:h,addToPath:p})},get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,r=!1,i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",r)},showText:function(e){var t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);var i=t.fontSize;if(0===i)return;var s=this.ctx,o=t.fontSizeScale,l=t.charSpacing,h=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,d=e.length,p=r.vertical,f=p?1:-1,g=r.defaultVMetrics,m=i*t.fontMatrix[0],_=t.textRenderingMode===n.TextRenderingMode.FILL&&!r.disableFontFace&&!t.patternFill;let v;if(s.save(),t.patternFill){s.save();const e=t.fillColor.getPattern(s,this);v=s.mozCurrentTransform,s.restore(),s.fillStyle=e}s.transform.apply(s,t.textMatrix),s.translate(t.x,t.y+t.textRise),s.scale(u,c>0?-1:1);var y=t.lineWidth,b=t.textMatrixScale;if(0===b||0===y){var x=t.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;x!==n.TextRenderingMode.STROKE&&x!==n.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,y=this.getSinglePixelWidth()*a)}else y/=b;1!==o&&(s.scale(o,o),y/=o),s.lineWidth=y;var A,w=0;for(A=0;A<d;++A){var S=e[A];if((0,n.isNum)(S))w+=f*S*i/1e3;else{var C,P,k,T,R=!1,M=(S.isSpace?h:0)+l,L=S.fontChar,E=S.accent,D=S.width;if(p?(k=S.vmetric||g,T=S.vmetric?k[1]:.5*D,D=k?-k[0]:D,C=(T=-T*m)/o,P=(w+k[2]*m)/o):(C=w/o,P=0),r.remeasure&&D>0){var F=1e3*s.measureText(L).width/i*o;if(D<F&&this.isFontSubpixelAAEnabled){var I=D/F;R=!0,s.save(),s.scale(I,1),C/=I}else D!==F&&(C+=(D-F)/2e3*i/o)}(S.isInFont||r.missingFile)&&(_&&!E?s.fillText(L,C,P):(this.paintChar(L,C,P,v),E&&this.paintChar(E.fontChar,C+E.offset.x/o,P-E.offset.y/o,v))),w+=p?D*m-M*c:D*m+M*c,R&&s.restore()}}p?t.y-=w:t.x+=w*u,s.restore()},showType3Text:function(e){var t,r,i,s,a=this.ctx,o=this.current,l=o.font,h=o.fontSize,c=o.fontDirection,u=l.vertical?1:-1,d=o.charSpacing,p=o.wordSpacing,f=o.textHScale*c,g=o.fontMatrix||n.FONT_IDENTITY_MATRIX,m=e.length;if(o.textRenderingMode!==n.TextRenderingMode.INVISIBLE&&0!==h){for(this._cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,o.textMatrix),a.translate(o.x,o.y),a.scale(f,c),t=0;t<m;++t)if((0,n.isNum)(r=e[t]))this.ctx.translate(s=u*r*h/1e3,0),o.x+=s*f;else{var _=(r.isSpace?p:0)+d,v=l.charProcOperatorList[r.operatorListId];if(v){this.processingType3=r,this.save(),a.scale(h,h),a.transform.apply(a,g),this.executeOperatorList(v),this.restore();var y=n.Util.applyTransform([r.width,0],g);a.translate(i=y[0]*h+_,0),o.x+=i*f}else(0,n.warn)(`Type3 character "${r.operatorListId}" is not available.`)}a.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,r,n,i,s){this.ctx.rect(r,n,i-r,s-n),this.clip(),this.endPath()},getColorN_Pattern:function(t){var r;if("TilingPattern"===t[0]){var n=t[1],s=this.baseTransform||this.ctx.mozCurrentTransform.slice();r=new i.TilingPattern(t,n,this.ctx,{createCanvasGraphics:t=>new e(t,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext)},s)}else r=(0,i.getShadingPatternFromIR)(t);return r},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,r){var i=n.Util.makeCssRgb(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i},setFillRGBColor:function(e,t,r){var i=n.Util.makeCssRgb(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var r=(0,i.getShadingPatternFromIR)(e);t.fillStyle=r.getPattern(t,this,!0);var s=t.mozCurrentTransformInverse;if(s){var a=t.canvas,o=a.width,l=a.height,h=n.Util.applyTransform([0,0],s),c=n.Util.applyTransform([0,l],s),u=n.Util.applyTransform([o,0],s),d=n.Util.applyTransform([o,l],s),p=Math.min(h[0],c[0],u[0],d[0]),f=Math.min(h[1],c[1],u[1],d[1]),g=Math.max(h[0],c[0],u[0],d[0]),m=Math.max(h[1],c[1],u[1],d[1]);this.ctx.fillRect(p,f,g-p,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,n.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,n.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,n.info)("TODO: Support non-isolated groups."),e.knockout&&(0,n.warn)("Knockout groups not supported.");var r=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var i=n.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform);i=n.Util.intersect(i,[0,0,t.canvas.width,t.canvas.height])||[0,0,0,0];var a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),h=Math.max(Math.ceil(i[3])-o,1),c=1,d=1;l>s&&(c=l/s,l=s),h>s&&(d=h/s,h=s);var p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);var f=this.cachedCanvases.getCanvas(p,l,h,!0),g=f.context;g.scale(1/c,1/d),g.translate(-a,-o),g.transform.apply(g,r),e.smask?this.smaskStack.push({canvas:f.canvas,context:g,offsetX:a,offsetY:o,scaleX:c,scaleY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.scale(c,d)),u(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,r){this.save(),d(this.ctx),this.current=new c,Array.isArray(e)&&4===e.length&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.clip(),this.endPath()),this.transform.apply(this,t),this.transform.apply(this,r)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(e){var t=this.ctx,n=e.width,i=e.height,s=this.current.fillColor,a=this.current.patternFill,o=this.processingType3;if(o&&void 0===o.compiled&&(o.compiled=n<=1e3&&i<=1e3?function(e){var t,r,n,i,s=e.width,a=e.height,o=s+1,l=new Uint8Array(o*(a+1)),h=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),c=s+7&-8,u=e.data,d=new Uint8Array(c*a),p=0;for(t=0,i=u.length;t<i;t++)for(var f=128,g=u[t];f>0;)d[p++]=g&f?0:255,f>>=1;var m=0;for(0!==d[p=0]&&(l[0]=1,++m),r=1;r<s;r++)d[p]!==d[p+1]&&(l[r]=d[p]?2:1,++m),p++;for(0!==d[p]&&(l[r]=2,++m),t=1;t<a;t++){n=t*o,d[(p=t*c)-c]!==d[p]&&(l[n]=d[p]?1:8,++m);var _=(d[p]?4:0)+(d[p-c]?8:0);for(r=1;r<s;r++)h[_=(_>>2)+(d[p+1]?4:0)+(d[p-c+1]?8:0)]&&(l[n+r]=h[_],++m),p++;if(d[p-c]!==d[p]&&(l[n+r]=d[p]?2:4,++m),m>1e3)return null}for(n=t*o,0!==d[p=c*(a-1)]&&(l[n]=8,++m),r=1;r<s;r++)d[p]!==d[p+1]&&(l[n+r]=d[p]?4:8,++m),p++;if(0!==d[p]&&(l[n+r]=4,++m),m>1e3)return null;var v=new Int32Array([0,o,-1,0,-o,0,0,0,1]),y=[];for(t=0;m&&t<=a;t++){for(var b=t*o,x=b+s;b<x&&!l[b];)b++;if(b!==x){var A,w=[b%o,t],S=l[b],C=b;do{var P=v[S];do{b+=P}while(!l[b]);5!==(A=l[b])&&10!==A?(S=A,l[b]=0):l[b]&=(S=A&51*S>>4)>>2|S<<2,w.push(b%o),w.push(b/o|0),l[b]||--m}while(C!==b);y.push(w),--t}}return function(e){e.save(),e.scale(1/s,-1/a),e.translate(0,-a),e.beginPath();for(let r=0,n=y.length;r<n;r++){var t=y[r];e.moveTo(t[0],t[1]);for(let r=2,n=t.length;r<n;r+=2)e.lineTo(t[r],t[r+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:n,height:i}):null),o&&o.compiled)o.compiled(t);else{var l=this.cachedCanvases.getCanvas("maskCanvas",n,i),h=l.context;h.save(),r(h,e),h.globalCompositeOperation="source-in",h.fillStyle=a?s.getPattern(h,this):s,h.fillRect(0,0,n,i),h.restore(),this.paintInlineImageXObject(l.canvas)}},paintImageMaskXObjectRepeat:function(e,t,n,i){var s=e.width,a=e.height,o=this.current.fillColor,l=this.current.patternFill,h=this.cachedCanvases.getCanvas("maskCanvas",s,a),c=h.context;c.save(),r(c,e),c.globalCompositeOperation="source-in",c.fillStyle=l?o.getPattern(c,this):o,c.fillRect(0,0,s,a),c.restore();for(var u=this.ctx,d=0,p=i.length;d<p;d+=2)u.save(),u.transform(t,0,0,n,i[d],i[d+1]),u.scale(1,-1),u.drawImage(h.canvas,0,0,s,a,0,-1,1,1),u.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,n=this.current.fillColor,i=this.current.patternFill,s=0,a=e.length;s<a;s++){var o=e[s],l=o.width,h=o.height,c=this.cachedCanvases.getCanvas("maskCanvas",l,h),u=c.context;u.save(),r(u,o),u.globalCompositeOperation="source-in",u.fillStyle=i?n.getPattern(u,this):n,u.fillRect(0,0,l,h),u.restore(),t.save(),t.transform.apply(t,o.transform),t.scale(1,-1),t.drawImage(c.canvas,0,0,l,h,0,-1,1,1),t.restore()}},paintImageXObject:function(e){const t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,n.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,r,i){const s=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(s){for(var a=s.width,o=s.height,l=[],h=0,c=i.length;h<c;h+=2)l.push({transform:[t,0,0,r,i[h],i[h+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}else(0,n.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var r=e.width,n=e.height,i=this.ctx;this.save(),i.scale(1/r,-1/n);var s,a,o=i.mozCurrentTransformInverse,l=o[0],h=o[1],c=Math.max(Math.sqrt(l*l+h*h),1),u=o[2],d=o[3],p=Math.max(Math.sqrt(u*u+d*d),1);if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{var f=(a=this.cachedCanvases.getCanvas("inlineImage",r,n)).context;t(f,e),s=a.canvas}for(var g=r,m=n,_="prescale1";c>2&&g>1||p>2&&m>1;){var v=g,y=m;c>2&&g>1&&(c/=g/(v=Math.ceil(g/2))),p>2&&m>1&&(p/=m/(y=Math.ceil(m/2))),(f=(a=this.cachedCanvases.getCanvas(_,v,y)).context).clearRect(0,0,v,y),f.drawImage(s,0,0,g,m,0,0,v,y),s=a.canvas,g=v,m=y,_="prescale1"===_?"prescale2":"prescale1"}if(i.drawImage(s,0,0,g,m,0,-n,r,n),this.imageLayer){var b=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:e,left:b[0],top:b[1],width:r/o[0],height:n/o[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,r){var n=this.ctx,i=e.width,s=e.height,a=this.cachedCanvases.getCanvas("inlineImage",i,s);t(a.context,e);for(var o=0,l=r.length;o<l;o++){var h=r[o];if(n.save(),n.transform.apply(n,h.transform),n.scale(1,-1),n.drawImage(a.canvas,h.x,h.y,h.w,h.h,0,-1,1,1),this.imageLayer){var c=this.getCanvasPosition(h.x,h.y);this.imageLayer.appendImage({imgData:e,left:c[0],top:c[1],width:i,height:s})}n.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,n.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===b?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth(e){if(null===this._cachedGetSinglePixelWidth){const e=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var r=this.ctx.mozCurrentTransform;return[r[0]*e+r[2]*t+r[4],r[1]*e+r[3]*t+r[5]]}},n.OPS)e.prototype[n.OPS[x]]=e.prototype[x];return e}();t.CanvasGraphics=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=i[e[0]];if(!t)throw new Error("Unknown IR type: "+e[0]);return t.fromIR(e)},t.TilingPattern=void 0;var n=r(2),i={};function s(e,t){if(!t||"undefined"==typeof Path2D)return;const r=t[2]-t[0],n=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],r,n),e.clip(i)}i.RadialAxial={fromIR:function(e){var t=e[1],r=e[2],n=e[3],i=e[4],a=e[5],o=e[6],l=e[7];return{type:"Pattern",getPattern:function(e){var h;s(e,r),"axial"===t?h=e.createLinearGradient(i[0],i[1],a[0],a[1]):"radial"===t&&(h=e.createRadialGradient(i[0],i[1],o,a[0],a[1],l));for(var c=0,u=n.length;c<u;++c){var d=n[c];h.addColorStop(d[0],d[1])}return h}}}};var a=function(){function e(e,t,r,n,i,s,a,o){var l,h=t.coords,c=t.colors,u=e.data,d=4*e.width;h[r+1]>h[n+1]&&(l=r,r=n,n=l,l=s,s=a,a=l),h[n+1]>h[i+1]&&(l=n,n=i,i=l,l=a,a=o,o=l),h[r+1]>h[n+1]&&(l=r,r=n,n=l,l=s,s=a,a=l);var p=(h[r]+t.offsetX)*t.scaleX,f=(h[r+1]+t.offsetY)*t.scaleY,g=(h[n]+t.offsetX)*t.scaleX,m=(h[n+1]+t.offsetY)*t.scaleY,_=(h[i]+t.offsetX)*t.scaleX,v=(h[i+1]+t.offsetY)*t.scaleY;if(!(f>=v))for(var y,b,x,A,w,S,C,P,k=c[s],T=c[s+1],R=c[s+2],M=c[a],L=c[a+1],E=c[a+2],D=c[o],F=c[o+1],I=c[o+2],N=Math.round(f),O=Math.round(v),B=N;B<=O;B++){if(B<m){let e;e=B<f?0:f===m?1:(f-B)/(f-m),y=p-(p-g)*e,b=k-(k-M)*e,x=T-(T-L)*e,A=R-(R-E)*e}else{let e;e=B>v?1:m===v?0:(m-B)/(m-v),y=g-(g-_)*e,b=M-(M-D)*e,x=L-(L-F)*e,A=E-(E-I)*e}let e;e=B<f?0:B>v?1:(f-B)/(f-v),w=p-(p-_)*e,S=k-(k-D)*e,C=T-(T-F)*e,P=R-(R-I)*e;for(var j=Math.round(Math.min(y,w)),U=Math.round(Math.max(y,w)),W=d*B+4*j,H=j;H<=U;H++)e=(y-H)/(y-w),e<0?e=0:e>1&&(e=1),u[W++]=b-(b-S)*e|0,u[W++]=x-(x-C)*e|0,u[W++]=A-(A-P)*e|0,u[W++]=255}}function t(t,r,n){var i,s,a=r.coords,o=r.colors;switch(r.type){case"lattice":var l=r.verticesPerRow,h=Math.floor(a.length/l)-1,c=l-1;for(i=0;i<h;i++)for(var u=i*l,d=0;d<c;d++,u++)e(t,n,a[u],a[u+1],a[u+l],o[u],o[u+1],o[u+l]),e(t,n,a[u+l+1],a[u+1],a[u+l],o[u+l+1],o[u+1],o[u+l]);break;case"triangles":for(i=0,s=a.length;i<s;i+=3)e(t,n,a[i],a[i+1],a[i+2],o[i],o[i+1],o[i+2]);break;default:throw new Error("illegal figure")}}return function(e,r,n,i,s,a,o,l){var h,c,u,d,p=Math.floor(e[0]),f=Math.floor(e[1]),g=Math.ceil(e[2])-p,m=Math.ceil(e[3])-f,_=Math.min(Math.ceil(Math.abs(g*r[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*r[1]*1.1)),3e3),y=g/_,b=m/v,x={coords:n,colors:i,offsetX:-p,offsetY:-f,scaleX:1/y,scaleY:1/b},A=_+4,w=v+4;if(l.isEnabled)h=l.drawFigures({width:_,height:v,backgroundColor:a,figures:s,context:x}),(c=o.getCanvas("mesh",A,w,!1)).context.drawImage(h,2,2),h=c.canvas;else{var S=(c=o.getCanvas("mesh",A,w,!1)).context,C=S.createImageData(_,v);if(a){var P=C.data;for(u=0,d=P.length;u<d;u+=4)P[u]=a[0],P[u+1]=a[1],P[u+2]=a[2],P[u+3]=255}for(u=0;u<s.length;u++)t(C,s[u],x);S.putImageData(C,2,2),h=c.canvas}return{canvas:h,offsetX:p-2*y,offsetY:f-2*b,scaleX:y,scaleY:b}}}();i.Mesh={fromIR:function(e){var t=e[2],r=e[3],i=e[4],o=e[5],l=e[6],h=e[7],c=e[8];return{type:"Pattern",getPattern:function(e,u,d){var p;if(s(e,h),d)p=n.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(p=n.Util.singularValueDecompose2dScale(u.baseTransform),l){var f=n.Util.singularValueDecompose2dScale(l);p=[p[0]*f[0],p[1]*f[1]]}var g=a(o,p,t,r,i,d?null:c,u.cachedCanvases,u.webGLContext);return d||(e.setTransform.apply(e,u.baseTransform),l&&e.transform.apply(e,l)),e.translate(g.offsetX,g.offsetY),e.scale(g.scaleX,g.scaleY),e.createPattern(g.canvas,"no-repeat")}}}},i.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var o=function(){function e(e,t,r,n,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=n,this.baseTransform=i,this.type="Pattern",this.ctx=r}return e.prototype={createPatternCanvas:function(e){var t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,a=this.paintType,o=this.color,l=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+this.tilingType);var h=r[0],c=r[1],u=r[2],d=r[3],p=n.Util.singularValueDecompose2dScale(this.matrix),f=n.Util.singularValueDecompose2dScale(this.baseTransform),g=[p[0]*f[0],p[1]*f[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,g[0]),_=this.getSizeAndScale(s,this.ctx.canvas.height,g[1]),v=e.cachedCanvases.getCanvas("pattern",m.size,_.size,!0),y=l.createCanvasGraphics(v.context);return y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(y,a,o),y.transform(m.scale,0,0,_.scale,0,0),y.transform(1,0,0,1,-h,-c),this.clipBbox(y,r,h,c,u,d),y.executeOperatorList(t),this.ctx.transform(1,0,0,1,h,c),this.ctx.scale(1/m.scale,1/_.scale),v.canvas},getSizeAndScale:function(e,t,r){e=Math.abs(e);var n=Math.max(3e3,t),i=Math.ceil(e*r);return i>=n?i=n:r=i/e,{scale:r,size:i}},clipBbox:function(e,t,r,n,i,s){Array.isArray(t)&&4===t.length&&(e.ctx.rect(r,n,i-r,s-n),e.clip(),e.endPath())},setFillAndStrokeStyleToContext:function(e,t,r){const i=e.ctx,s=e.current;switch(t){case 1:var a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case 2:var o=n.Util.makeCssRgb(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new n.FormatError("Unsupported paint type: "+t)}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);var r=this.createPatternCanvas(t);return e.createPattern(r,"repeat")}},e}();t.TilingPattern=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var n=r(2);function i(e){if("object"!=typeof e||null===e)return e;switch(e.name){case"AbortException":return new n.AbortException(e.message);case"MissingPDFException":return new n.MissingPDFException(e.message);case"UnexpectedResponseException":return new n.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new n.UnknownErrorException(e.message,e.details);default:return new n.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=class{constructor(e,t,r){this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this._processStreamMessage(t);if(t.callback){const e=t.callbackId,r=this.callbackCapabilities[e];if(!r)throw new Error("Cannot resolve callback "+e);if(delete this.callbackCapabilities[e],1===t.callback)r.resolve(t.data);else{if(2!==t.callback)throw new Error("Unexpected callback case");r.reject(i(t.reason))}return}const n=this.actionHandler[t.action];if(!n)throw new Error("Unknown action from worker: "+t.action);if(t.callbackId){const e=this.sourceName,s=t.sourceName;new Promise((function(e){e(n(t.data))})).then((function(n){r.postMessage({sourceName:e,targetName:s,callback:1,callbackId:t.callbackId,data:n})}),(function(n){r.postMessage({sourceName:e,targetName:s,callback:2,callbackId:t.callbackId,reason:i(n)})}))}else t.streamId?this._createStreamSink(t):n(t.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=(0,n.createPromiseCapability)();this.callbackCapabilities[i]=s;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,s){const a=this.streamId++,o=this.sourceName,l=this.targetName,h=this.comObj;return new ReadableStream({start:r=>{const i=(0,n.createPromiseCapability)();return this.streamControllers[a]={controller:r,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},this._postMessage({sourceName:o,targetName:l,action:e,streamId:a,data:t,desiredSize:r.desiredSize},s),i.promise},pull:e=>{const t=(0,n.createPromiseCapability)();return this.streamControllers[a].pullCall=t,h.postMessage({sourceName:o,targetName:l,stream:6,streamId:a,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,n.assert)(e instanceof Error,"cancel must have a valid reason");const t=(0,n.createPromiseCapability)();return this.streamControllers[a].cancelCall=t,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:o,targetName:l,stream:1,streamId:a,reason:i(e)}),t.promise}},r)}_createStreamSink(e){const t=this,r=this.actionHandler[e.action],s=e.streamId,a=this.sourceName,o=e.sourceName,l=this.comObj,h={enqueue(e,r=1,i){if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=r,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:a,targetName:o,stream:4,streamId:s,chunk:e},i)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:a,targetName:o,stream:3,streamId:s}),delete t.streamSinks[s])},error(e){(0,n.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:a,targetName:o,stream:5,streamId:s,reason:i(e)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[s]=h,new Promise((function(t){t(r(e.data,h))})).then((function(){l.postMessage({sourceName:a,targetName:o,stream:8,streamId:s,success:!0})}),(function(e){l.postMessage({sourceName:a,targetName:o,stream:8,streamId:s,reason:i(e)})}))}_processStreamMessage(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,a=this.comObj;switch(e.stream){case 8:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(i(e.reason));break;case 7:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(i(e.reason));break;case 6:if(!this.streamSinks[t]){a.postMessage({sourceName:r,targetName:s,stream:7,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;const{onPull:o}=this.streamSinks[e.streamId];new Promise((function(e){e(o&&o())})).then((function(){a.postMessage({sourceName:r,targetName:s,stream:7,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:r,targetName:s,stream:7,streamId:t,reason:i(e)})}));break;case 4:if((0,n.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case 3:if((0,n.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case 5:(0,n.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(i(e.reason)),this._deleteStreamController(t);break;case 2:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(i(e.reason)),this._deleteStreamController(t);break;case 1:if(!this.streamSinks[t])break;const{onCancel:l}=this.streamSinks[e.streamId];new Promise((function(t){t(l&&l(i(e.reason)))})).then((function(){a.postMessage({sourceName:r,targetName:s,stream:2,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:r,targetName:s,stream:2,streamId:t,reason:i(e)})})),this.streamSinks[t].sinkCapability.reject(i(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(e){await Promise.allSettled([this.streamControllers[e].startCall,this.streamControllers[e].pullCall,this.streamControllers[e].cancelCall].map((function(e){return e&&e.promise}))),delete this.streamControllers[e]}_postMessage(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var n=r(2),i=r(13);t.Metadata=class{constructor(e){(0,n.assert)("string"==typeof e,"Metadata: input is not a string"),e=this._repair(e);const t=(new i.SimpleXMLParser).parseFromString(e);this._metadataMap=new Map,t&&this._parse(t)}_repair(e){return e.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(e,t){const r=t.replace(/\\([0-3])([0-7])([0-7])/g,(function(e,t,r,n){return String.fromCharCode(64*t+8*r+1*n)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${t} isn't defined.`)}));let n="";for(let i=0,s=r.length;i<s;i+=2){const e=256*r.charCodeAt(i)+r.charCodeAt(i+1);n+=e>=32&&e<127&&60!==e&&62!==e&&38!==e?String.fromCharCode(e):"&#x"+(65536+e).toString(16).substring(1)+";"}return">"+n}))}_parse(e){let t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase())for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName.toLowerCase();)t=t.nextSibling;const r=t?t.nodeName.toLowerCase():null;if(!t||"rdf:rdf"!==r||!t.hasChildNodes())return;const n=t.childNodes;for(let i=0,s=n.length;i<s;i++){const e=n[i];if("rdf:description"===e.nodeName.toLowerCase())for(let t=0,r=e.childNodes.length;t<r;t++)if("#text"!==e.childNodes[t].nodeName.toLowerCase()){const r=e.childNodes[t],n=r.nodeName.toLowerCase();this._metadataMap.set(n,r.textContent.trim())}}}get(e){return this._metadataMap.has(e)?this._metadataMap.get(e):null}getAll(){const e=Object.create(null);for(const[t,r]of this._metadataMap)e[t]=r;return e}has(e){return this._metadataMap.has(e)}}},function(e,t,r){"use strict";function n(e,t){const r=e[t];return" "===r||"\n"===r||"\r"===r||"\t"===r}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=void 0;class i{constructor(e,t){this.nodeName=e,this.nodeValue=t,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const e=this.parentNode.childNodes;if(!e)return;const t=e.indexOf(this);return-1!==t?e[t+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map((function(e){return e.textContent})).join(""):this.nodeValue||""}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}}t.SimpleXMLParser=class extends class{_resolveEntities(e){return e.replace(/&([^;]+);/g,(e,t)=>{if("#x"===t.substring(0,2))return String.fromCharCode(parseInt(t.substring(2),16));if("#"===t.substring(0,1))return String.fromCharCode(parseInt(t.substring(1),10));switch(t){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(t)})}_parseContent(e,t){const r=[];let i=t;function s(){for(;i<e.length&&n(e,i);)++i}for(;i<e.length&&!n(e,i)&&">"!==e[i]&&"/"!==e[i];)++i;const a=e.substring(t,i);for(s();i<e.length&&">"!==e[i]&&"/"!==e[i]&&"?"!==e[i];){s();let t="",a="";for(;i<e.length&&!n(e,i)&&"="!==e[i];)t+=e[i],++i;if(s(),"="!==e[i])return null;++i,s();const o=e[i];if('"'!==o&&"'"!==o)return null;const l=e.indexOf(o,++i);if(l<0)return null;a=e.substring(i,l),r.push({name:t,value:this._resolveEntities(a)}),i=l+1,s()}return{name:a,attributes:r,parsed:i-t}}_parseProcessingInstruction(e,t){let r=t;for(;r<e.length&&!n(e,r)&&">"!==e[r]&&"/"!==e[r];)++r;const i=e.substring(t,r);!function(){for(;r<e.length&&n(e,r);)++r}();const s=r;for(;r<e.length&&("?"!==e[r]||">"!==e[r+1]);)++r;return{name:i,value:e.substring(s,r),parsed:r-t}}parseXml(e){let t=0;for(;t<e.length;){let r=t;if("<"===e[t]){let t;switch(++r,e[r]){case"/":if(++r,t=e.indexOf(">",r),t<0)return void this.onError(-9);this.onEndElement(e.substring(r,t)),r=t+1;break;case"?":++r;const n=this._parseProcessingInstruction(e,r);if("?>"!==e.substring(r+n.parsed,r+n.parsed+2))return void this.onError(-3);this.onPi(n.name,n.value),r+=n.parsed+2;break;case"!":if("--"===e.substring(r+1,r+3)){if(t=e.indexOf("--\x3e",r+3),t<0)return void this.onError(-5);this.onComment(e.substring(r+3,t)),r=t+3}else if("[CDATA["===e.substring(r+1,r+8)){if(t=e.indexOf("]]>",r+8),t<0)return void this.onError(-2);this.onCdata(e.substring(r+8,t)),r=t+3}else{if("DOCTYPE"!==e.substring(r+1,r+8))return void this.onError(-6);{const n=e.indexOf("[",r+8);let i=!1;if(t=e.indexOf(">",r+8),t<0)return void this.onError(-4);if(n>0&&t>n){if(t=e.indexOf("]>",r+8),t<0)return void this.onError(-4);i=!0}const s=e.substring(r+8,t+(i?1:0));this.onDoctype(s),r=t+(i?2:1)}}break;default:const i=this._parseContent(e,r);if(null===i)return void this.onError(-6);let s=!1;if("/>"===e.substring(r+i.parsed,r+i.parsed+2))s=!0;else if(">"!==e.substring(r+i.parsed,r+i.parsed+1))return void this.onError(-9);this.onBeginElement(i.name,i.attributes,s),r+=i.parsed+(s?2:1)}}else{for(;r<e.length&&"<"!==e[r];)r++;const n=e.substring(t,r);this.onText(this._resolveEntities(n))}t=r}}onResolveEntity(e){return`&${e};`}onPi(e,t){}onComment(e){}onCdata(e){}onDoctype(e){}onText(e){}onBeginElement(e,t,r){}onEndElement(e){}onError(e){}}{constructor(){super(),this._currentFragment=null,this._stack=null,this._errorCode=0}parseFromString(e){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(e),0!==this._errorCode)return;const[t]=this._currentFragment;return t?{documentElement:t}:void 0}onResolveEntity(e){switch(e){case"apos":return"'"}return super.onResolveEntity(e)}onText(e){if(function(e){for(let t=0,r=e.length;t<r;t++)if(!n(e,t))return!1;return!0}(e))return;const t=new i("#text",e);this._currentFragment.push(t)}onCdata(e){const t=new i("#text",e);this._currentFragment.push(t)}onBeginElement(e,t,r){const n=new i(e);n.childNodes=[],this._currentFragment.push(n),r||(this._stack.push(this._currentFragment),this._currentFragment=n.childNodes)}onEndElement(e){this._currentFragment=this._stack.pop()||[];const t=this._currentFragment[this._currentFragment.length-1];if(t)for(let r=0,n=t.childNodes.length;r<n;r++)t.childNodes[r].parentNode=t}onError(e){this._errorCode=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var n=r(2);t.PDFDataTransportStream=class{constructor(e,t){(0,n.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1;const r=e.initialData;if(r&&r.length>0){const e=new Uint8Array(r).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),this._pdfDataRangeTransport.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{const r=this._rangeReaders.some((function(r){return r._begin===e.begin&&(r._enqueue(t),!0)}));(0,n.assert)(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}_onProgress(e){if(void 0===e.total){const t=this._rangeReaders[0];t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{const t=this._fullRequestReader;t&&t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new i(this,e,this._progressiveDone)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach((function(t){t.cancel(e)})),this._pdfDataRangeTransport.abort()}};class i{constructor(e,t,r=!1){this._stream=e,this._done=r||!1,this._filename=null,this._queuedChunks=t||[],this._loaded=0;for(const n of this._queuedChunks)this._loaded+=n.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,n.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){this._done||(0===this._requests.length?this._queuedChunk=e:(this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,n.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var n=r(2);t.WebGLContext=class{constructor({enable:e=!1}){this._enabled=!0===e}get isEnabled(){let e=this._enabled;return e&&(e=i.tryInitGL()),(0,n.shadow)(this,"isEnabled",e)}composeSMask({layer:e,mask:t,properties:r}){return i.composeSMask(e,t,r)}drawFigures({width:e,height:t,backgroundColor:r,figures:n,context:s}){return i.drawFigures(e,t,r,n,s)}clear(){i.cleanup()}};var i=function(){function e(e,t,r){var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(n);throw new Error("Error during shader compilation: "+i)}return n}function t(t,r){return e(t,r,t.VERTEX_SHADER)}function r(t,r){return e(t,r,t.FRAGMENT_SHADER)}function n(e,t){for(var r=e.createProgram(),n=0,i=t.length;n<i;++n)e.attachShader(r,t[n]);if(e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS)){var s=e.getProgramInfoLog(r);throw new Error("Error during program linking: "+s)}return r}function i(e,t,r){e.activeTexture(r);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n}var s,a;function o(){s||(a=document.createElement("canvas"),s=a.getContext("webgl",{premultipliedalpha:!1}))}var l=null,h=null;return{tryInitGL(){try{return o(),!!s}catch(e){}return!1},composeSMask:function(e,h,c){var u=e.width,d=e.height;l||function(){var e,i;o(),e=a,a=null,i=s,s=null;var h=n(i,[t(i,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),r(i,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);i.useProgram(h);var c={};c.gl=i,c.canvas=e,c.resolutionLocation=i.getUniformLocation(h,"u_resolution"),c.positionLocation=i.getAttribLocation(h,"a_position"),c.backdropLocation=i.getUniformLocation(h,"u_backdrop"),c.subtypeLocation=i.getUniformLocation(h,"u_subtype");var u=i.getAttribLocation(h,"a_texCoord"),d=i.getUniformLocation(h,"u_image"),p=i.getUniformLocation(h,"u_mask"),f=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,f),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.enableVertexAttribArray(u),i.vertexAttribPointer(u,2,i.FLOAT,!1,0,0),i.uniform1i(d,0),i.uniform1i(p,1),l=c}();var p=l,f=p.canvas,g=p.gl;f.width=u,f.height=d,g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),g.uniform2f(p.resolutionLocation,u,d),c.backdrop?g.uniform4f(p.resolutionLocation,c.backdrop[0],c.backdrop[1],c.backdrop[2],1):g.uniform4f(p.resolutionLocation,0,0,0,0),g.uniform1i(p.subtypeLocation,"Luminosity"===c.subtype?1:0);var m=i(g,e,g.TEXTURE0),_=i(g,h,g.TEXTURE1),v=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,v),g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,u,0,0,d,0,d,u,0,u,d]),g.STATIC_DRAW),g.enableVertexAttribArray(p.positionLocation),g.vertexAttribPointer(p.positionLocation,2,g.FLOAT,!1,0,0),g.clearColor(0,0,0,0),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),g.clear(g.COLOR_BUFFER_BIT),g.drawArrays(g.TRIANGLES,0,6),g.flush(),g.deleteTexture(m),g.deleteTexture(_),g.deleteBuffer(v),f},drawFigures:function(e,i,l,c,u){h||function(){var e,i;o(),e=a,a=null,i=s,s=null;var l=n(i,[t(i,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),r(i,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);i.useProgram(l);var c={};c.gl=i,c.canvas=e,c.resolutionLocation=i.getUniformLocation(l,"u_resolution"),c.scaleLocation=i.getUniformLocation(l,"u_scale"),c.offsetLocation=i.getUniformLocation(l,"u_offset"),c.positionLocation=i.getAttribLocation(l,"a_position"),c.colorLocation=i.getAttribLocation(l,"a_color"),h=c}();var d=h,p=d.canvas,f=d.gl;p.width=e,p.height=i,f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight),f.uniform2f(d.resolutionLocation,e,i);var g,m,_,v=0;for(g=0,m=c.length;g<m;g++)switch(c[g].type){case"lattice":v+=((_=c[g].coords.length/c[g].verticesPerRow|0)-1)*(c[g].verticesPerRow-1)*6;break;case"triangles":v+=c[g].coords.length}var y=new Float32Array(2*v),b=new Uint8Array(3*v),x=u.coords,A=u.colors,w=0,S=0;for(g=0,m=c.length;g<m;g++){var C=c[g],P=C.coords,k=C.colors;switch(C.type){case"lattice":var T=C.verticesPerRow;_=P.length/T|0;for(var R=1;R<_;R++)for(var M=R*T+1,L=1;L<T;L++,M++)y[w]=x[P[M-T-1]],y[w+1]=x[P[M-T-1]+1],y[w+2]=x[P[M-T]],y[w+3]=x[P[M-T]+1],y[w+4]=x[P[M-1]],y[w+5]=x[P[M-1]+1],b[S]=A[k[M-T-1]],b[S+1]=A[k[M-T-1]+1],b[S+2]=A[k[M-T-1]+2],b[S+3]=A[k[M-T]],b[S+4]=A[k[M-T]+1],b[S+5]=A[k[M-T]+2],b[S+6]=A[k[M-1]],b[S+7]=A[k[M-1]+1],b[S+8]=A[k[M-1]+2],y[w+6]=y[w+2],y[w+7]=y[w+3],y[w+8]=y[w+4],y[w+9]=y[w+5],y[w+10]=x[P[M]],y[w+11]=x[P[M]+1],b[S+9]=b[S+3],b[S+10]=b[S+4],b[S+11]=b[S+5],b[S+12]=b[S+6],b[S+13]=b[S+7],b[S+14]=b[S+8],b[S+15]=A[k[M]],b[S+16]=A[k[M]+1],b[S+17]=A[k[M]+2],w+=12,S+=18;break;case"triangles":for(var E=0,D=P.length;E<D;E++)y[w]=x[P[E]],y[w+1]=x[P[E]+1],b[S]=A[k[E]],b[S+1]=A[k[E]+1],b[S+2]=A[k[E]+2],w+=2,S+=3}}l?f.clearColor(l[0]/255,l[1]/255,l[2]/255,1):f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT);var F=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,F),f.bufferData(f.ARRAY_BUFFER,y,f.STATIC_DRAW),f.enableVertexAttribArray(d.positionLocation),f.vertexAttribPointer(d.positionLocation,2,f.FLOAT,!1,0,0);var I=f.createBuffer();return f.bindBuffer(f.ARRAY_BUFFER,I),f.bufferData(f.ARRAY_BUFFER,b,f.STATIC_DRAW),f.enableVertexAttribArray(d.colorLocation),f.vertexAttribPointer(d.colorLocation,3,f.UNSIGNED_BYTE,!1,0,0),f.uniform2f(d.scaleLocation,u.scaleX,u.scaleY),f.uniform2f(d.offsetLocation,u.offsetX,u.offsetY),f.drawArrays(f.TRIANGLES,0,v),f.flush(),f.deleteBuffer(F),f.deleteBuffer(I),p},cleanup(){l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0),h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0),l=null,h=null}}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var n=r(1),i=r(2);class s{static create(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new o(e);case i.AnnotationType.TEXT:return new l(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new c(e);case"Btn":return e.data.radioButton?new d(e):e.data.checkBox?new u(e):new p(e);case"Ch":return new f(e)}return new h(e);case i.AnnotationType.POPUP:return new g(e);case i.AnnotationType.FREETEXT:return new _(e);case i.AnnotationType.LINE:return new v(e);case i.AnnotationType.SQUARE:return new y(e);case i.AnnotationType.CIRCLE:return new b(e);case i.AnnotationType.POLYLINE:return new x(e);case i.AnnotationType.CARET:return new w(e);case i.AnnotationType.INK:return new S(e);case i.AnnotationType.POLYGON:return new A(e);case i.AnnotationType.HIGHLIGHT:return new C(e);case i.AnnotationType.UNDERLINE:return new P(e);case i.AnnotationType.SQUIGGLY:return new k(e);case i.AnnotationType.STRIKEOUT:return new T(e);case i.AnnotationType.STAMP:return new R(e);case i.AnnotationType.FILEATTACHMENT:return new M(e);default:return new a(e)}}}class a{constructor(e,t=!1,r=!1){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,this.svgFactory=e.svgFactory,t&&(this.container=this._createContainer(r))}_createContainer(e=!1){const t=this.data,r=this.page,n=this.viewport,s=document.createElement("section");let a=t.rect[2]-t.rect[0],o=t.rect[3]-t.rect[1];s.setAttribute("data-annotation-id",t.id);const l=i.Util.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]);if(s.style.transform=`matrix(${n.transform.join(",")})`,s.style.transformOrigin=`-${l[0]}px -${l[1]}px`,!e&&t.borderStyle.width>0){s.style.borderWidth=t.borderStyle.width+"px",t.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(a-=2*t.borderStyle.width,o-=2*t.borderStyle.width);const e=t.borderStyle.horizontalCornerRadius,r=t.borderStyle.verticalCornerRadius;switch((e>0||r>0)&&(s.style.borderRadius=`${e}px / ${r}px`),t.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:s.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:s.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:s.style.borderBottomStyle="solid"}t.color?s.style.borderColor=i.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):s.style.borderWidth=0}return s.style.left=l[0]+"px",s.style.top=l[1]+"px",s.style.width=a+"px",s.style.height=o+"px",s}_createPopup(e,t,r){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));const n=new m({container:e,trigger:t,color:r.color,title:r.title,modificationDate:r.modificationDate,contents:r.contents,hideWrapper:!0}).render();n.style.left=e.style.width,e.appendChild(n)}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}}class o extends a{constructor(e){super(e,!!(e.data.url||e.data.dest||e.data.action))}render(){this.container.className="linkAnnotation";const{data:e,linkService:t}=this,r=document.createElement("a");return e.url?(0,n.addLinkAttributes)(r,{url:e.url,target:e.newWindow?n.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(r,e.action):this._bindLink(r,e.dest),this.container.appendChild(r),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.navigateTo(t),!1),t&&(e.className="internalLink")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),e.className="internalLink"}}class l extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents))}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}class h extends a{render(){return this.container}}class c extends h{constructor(e){super(e,e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue)}render(){this.container.className="textWidgetAnnotation";let e=null;if(this.renderInteractiveForms){if(this.data.multiLine?(e=document.createElement("textarea"),e.textContent=this.data.fieldValue):(e=document.createElement("input"),e.type="text",e.setAttribute("value",this.data.fieldValue)),e.disabled=this.data.readOnly,e.name=this.data.fieldName,null!==this.data.maxLen&&(e.maxLength=this.data.maxLen),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;e.classList.add("comb"),e.style.letterSpacing=`calc(${t}px - 1ch)`}}else{e=document.createElement("div"),e.textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell";let t=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(t=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(e,t)}return null!==this.data.textAlignment&&(e.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(e),this.container}_setTextStyle(e,t){const r=e.style;if(r.fontSize=this.data.fontSize+"px",r.direction=this.data.fontDirection<0?"rtl":"ltr",!t)return;let n="normal";t.black?n="900":t.bold&&(n="bold"),r.fontWeight=n,r.fontStyle=t.italic?"italic":"normal",r.fontFamily=(t.loadedName?`"${t.loadedName}", `:"")+(t.fallbackName||"Helvetica, sans-serif")}}class u extends h{constructor(e){super(e,e.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation checkBox";const e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",e.name=this.data.fieldName,this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}class d extends h{constructor(e){super(e,e.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}class p extends o{render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",e}}class f extends h{constructor(e){super(e,e.renderInteractiveForms)}render(){this.container.className="choiceWidgetAnnotation";const e=document.createElement("select");e.disabled=this.data.readOnly,e.name=this.data.fieldName,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));for(const t of this.data.options){const r=document.createElement("option");r.textContent=t.displayValue,r.value=t.exportValue,this.data.fieldValue.includes(t.displayValue)&&r.setAttribute("selected",!0),e.appendChild(r)}return this.container.appendChild(e),this.container}}class g extends a{constructor(e){super(e,!(!e.data.title&&!e.data.contents))}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const e=this.layer.querySelector(`[data-annotation-id="${this.data.parentId}"]`);if(!e)return this.container;const t=new m({container:this.container,trigger:e,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),r=parseFloat(e.style.left),n=parseFloat(e.style.width);return this.container.style.transformOrigin=`-${r+n}px -${e.style.top}`,this.container.style.left=r+n+"px",this.container.appendChild(t.render()),this.container}}class m{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.modificationDate=e.modificationDate,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);const t=document.createElement("div");t.className="popup";const r=this.color;r&&(t.style.backgroundColor=i.Util.makeCssRgb(0|.7*(255-r[0])+r[0],0|.7*(255-r[1])+r[1],0|.7*(255-r[2])+r[2]));const s=document.createElement("h1");s.textContent=this.title,t.appendChild(s);const a=n.PDFDateString.toDateObject(this.modificationDate);if(a){const e=document.createElement("span");e.textContent="{{date}}, {{time}}",e.dataset.l10nId="annotation_date_string",e.dataset.l10nArgs=JSON.stringify({date:a.toLocaleDateString(),time:a.toLocaleTimeString()}),t.appendChild(e)}const o=this._formatContents(this.contents);return t.appendChild(o),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(t),e}_formatContents(e){const t=document.createElement("p"),r=e.split(/(?:\r\n?|\n)/);for(let n=0,i=r.length;n<i;++n)t.appendChild(document.createTextNode(r[n])),n<i-1&&t.appendChild(document.createElement("br"));return t}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}class _ extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class v extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){this.container.className="lineAnnotation";const e=this.data,t=this.svgFactory.create(e.rect[2]-e.rect[0],e.rect[3]-e.rect[1]),r=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),t.appendChild(r),this.container.append(t),this._createPopup(this.container,r,e),this.container}}class y extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){this.container.className="squareAnnotation";const e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),i=e.borderStyle.width,s=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",i/2),s.setAttribute("y",i/2),s.setAttribute("width",t-i),s.setAttribute("height",r-i),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","none"),n.appendChild(s),this.container.append(n),this._createPopup(this.container,s,e),this.container}}class b extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){this.container.className="circleAnnotation";const e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),i=e.borderStyle.width,s=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",t/2),s.setAttribute("cy",r/2),s.setAttribute("rx",t/2-i/2),s.setAttribute("ry",r/2-i/2),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","none"),n.appendChild(s),this.container.append(n),this._createPopup(this.container,s,e),this.container}}class x extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,t=this.svgFactory.create(e.rect[2]-e.rect[0],e.rect[3]-e.rect[1]);let r=[];for(const i of e.vertices)r.push(i.x-e.rect[0]+","+(e.rect[3]-i.y));r=r.join(" ");const n=this.svgFactory.createElement(this.svgElementName);return n.setAttribute("points",r),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","none"),t.appendChild(n),this.container.append(t),this._createPopup(this.container,n,e),this.container}}class A extends x{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class w extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class S extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,t=this.svgFactory.create(e.rect[2]-e.rect[0],e.rect[3]-e.rect[1]);for(const r of e.inkLists){let n=[];for(const t of r)n.push(`${t.x-e.rect[0]},${e.rect[3]-t.y}`);n=n.join(" ");const i=this.svgFactory.createElement(this.svgElementName);i.setAttribute("points",n),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),this._createPopup(this.container,i,e),t.appendChild(i)}return this.container.append(t),this.container}}class C extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class P extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class k extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class T extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class R extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class M extends a{constructor(e){super(e,!0);const{filename:t,content:r}=this.data.file;this.filename=(0,n.getFilenameFromUrl)(t),this.content=r,this.linkService.eventBus&&this.linkService.eventBus.dispatch("fileattachmentannotation",{source:this,id:(0,i.stringToPDFString)(t),filename:t,content:r})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,i.warn)("Download cannot be started due to unavailable download manager")}}t.AnnotationLayer=class{static render(e){const t=[],r=[];for(const n of e.annotations)n&&(n.annotationType!==i.AnnotationType.POPUP?t.push(n):r.push(n));r.length&&t.push(...r);for(const i of t){const t=s.create({data:i,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:e.renderInteractiveForms||!1,svgFactory:new n.DOMSVGFactory});t.isRenderable&&e.div.appendChild(t.render())}}static update(e){for(const t of e.annotations){const r=e.div.querySelector(`[data-annotation-id="${t.id}"]`);r&&(r.style.transform=`matrix(${e.viewport.transform.join(",")})`)}e.div.removeAttribute("hidden")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var n=r(2),i=function(){var e=/\S/;function t(t,r,i){var s=document.createElement("span"),a={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(t._textDivs.push(s),!e.test(r.str))return a.isWhitespace=!0,void t._textDivProperties.set(s,a);var o=n.Util.transform(t._viewport.transform,r.transform),l=Math.atan2(o[1],o[0]),h=i[r.fontName];h.vertical&&(l+=Math.PI/2);var c=Math.sqrt(o[2]*o[2]+o[3]*o[3]),u=c;let d,p;h.ascent?u*=h.ascent:h.descent&&(u*=1+h.descent),0===l?(d=o[4],p=o[5]-u):(d=o[4]+u*Math.sin(l),p=o[5]-u*Math.cos(l)),s.style.left=d+"px",s.style.top=p+"px",s.style.fontSize=c+"px",s.style.fontFamily=h.fontFamily,s.textContent=r.str,t._fontInspectorEnabled&&(s.dataset.fontName=r.fontName),0!==l&&(a.angle=l*(180/Math.PI));let f=!1;if(r.str.length>1)f=!0;else if(r.transform[0]!==r.transform[3]){const e=Math.abs(r.transform[0]),t=Math.abs(r.transform[3]);e!==t&&Math.max(e,t)/Math.min(e,t)>1.5&&(f=!0)}if(f&&(a.canvasWidth=h.vertical?r.height*t._viewport.scale:r.width*t._viewport.scale),t._textDivProperties.set(s,a),t._textContentStream&&t._layoutText(s),t._enhanceTextSelection){var g=1,m=0;0!==l&&(g=Math.cos(l),m=Math.sin(l));var _,v,y=(h.vertical?r.height:r.width)*t._viewport.scale,b=c;v=0!==l?n.Util.getAxialAlignedBoundingBox([0,0,y,b],_=[g,m,-m,g,d,p]):[d,p,d+y,p+b],t._bounds.push({left:v[0],top:v[1],right:v[2],bottom:v[3],div:s,size:[y,b],m:_})}}function r(e){if(!e._canceled){var t=e._textDivs,r=e._capability,n=t.length;if(n>1e5)return e._renderingDone=!0,void r.resolve();if(!e._textContentStream)for(var i=0;i<n;i++)e._layoutText(t[i]);e._renderingDone=!0,r.resolve()}}function i(e,t,r){let n=0;for(let i=0;i<r;i++){const r=e[t++];r>0&&(n=n?Math.min(r,n):r)}return n}function s(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));var r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach((function(e){for(var t=0;t<r.length&&r[t].end<=e.y1;)t++;for(var n,i,s=r.length-1;s>=0&&r[s].start>=e.y2;)s--;var a,o,l=-1/0;for(a=t;a<=s;a++){var h;(h=(i=(n=r[a]).boundary).x2>e.x1?i.index>e.index?i.x1New:e.x1:void 0===i.x2New?(i.x2+e.x1)/2:i.x2New)>l&&(l=h)}for(e.x1New=l,a=t;a<=s;a++)void 0===(i=(n=r[a]).boundary).x2New?i.x2>e.x1?i.index>e.index&&(i.x2New=i.x2):i.x2New=l:i.x2New>l&&(i.x2New=Math.max(l,i.x2));var c=[],u=null;for(a=t;a<=s;a++){var d=(i=(n=r[a]).boundary).x2>e.x2?i:e;u===d?c[c.length-1].end=n.end:(c.push({start:n.start,end:n.end,boundary:d}),u=d)}for(r[t].start<e.y1&&(c[0].start=e.y1,c.unshift({start:r[t].start,end:e.y1,boundary:r[t].boundary})),e.y2<r[s].end&&(c[c.length-1].end=e.y2,c.push({start:e.y2,end:r[s].end,boundary:r[s].boundary})),a=t;a<=s;a++)if(void 0===(i=(n=r[a]).boundary).x2New){var p=!1;for(o=t-1;!p&&o>=0&&r[o].start>=i.y1;o--)p=r[o].boundary===i;for(o=s+1;!p&&o<r.length&&r[o].end<=i.y2;o++)p=r[o].boundary===i;for(o=0;!p&&o<c.length;o++)p=c[o].boundary===i;p||(i.x2New=l)}Array.prototype.splice.apply(r,[t,s-t+1].concat(c))})),r.forEach((function(t){var r=t.boundary;void 0===r.x2New&&(r.x2New=Math.max(e,r.x2))}))}function a({textContent:e,textContentStream:t,container:r,viewport:i,textDivs:s,textContentItemsStr:a,enhanceTextSelection:o}){this._textContent=e,this._textContentStream=t,this._container=r,this._viewport=i,this._textDivs=s||[],this._textContentItemsStr=a||[],this._enhanceTextSelection=!!o,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}return a.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems(e,r){for(let n=0,i=e.length;n<i;n++)this._textContentItemsStr.push(e[n].str),t(this,e[n],r)},_layoutText(e){const t=this._textDivProperties.get(e);if(t.isWhitespace)return;let r="";if(0!==t.canvasWidth){const{fontSize:n,fontFamily:i}=e.style;n===this._layoutTextLastFontSize&&i===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=`${n} ${i}`,this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=i);const{width:s}=this._layoutTextCtx.measureText(e.textContent);s>0&&(t.scale=t.canvasWidth/s,r=`scaleX(${t.scale})`)}0!==t.angle&&(r=`rotate(${t.angle}deg) ${r}`),r.length>0&&(this._enhanceTextSelection&&(t.originalTransform=r),e.style.transform=r),this._textDivProperties.set(e,t),this._container.appendChild(e)},_render:function(e){const t=(0,n.createPromiseCapability)();let i=Object.create(null);const s=document.createElement("canvas");if(s.mozOpaque=!0,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),t.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const e=()=>{this._reader.read().then(({value:r,done:n})=>{n?t.resolve():(Object.assign(i,r.styles),this._processItems(r.items,i),e())},t.reject)};this._reader=this._textContentStream.getReader(),e()}}t.promise.then(()=>{i=null,e?this._renderTimer=setTimeout(()=>{r(this),this._renderTimer=null},e):r(this)},this._capability.reject)},expandTextDivs:function(e){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(e){for(var t=e._bounds,r=e._viewport,a=function(e,t,r){var n=r.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));s(e,n);var i=new Array(r.length);return n.forEach((function(e){i[e.index]={left:e.x1New,top:0,right:e.x2New,bottom:0}})),r.map((function(t,r){var s=i[r],a=n[r];a.x1=t.top,a.y1=e-s.right,a.x2=t.bottom,a.y2=e-s.left,a.index=r,a.x1New=void 0,a.x2New=void 0})),s(t,n),n.forEach((function(e){var t=e.index;i[t].top=e.x1New,i[t].bottom=e.x2New})),i}(r.width,r.height,t),o=0;o<a.length;o++){var l=t[o].div,h=e._textDivProperties.get(l);if(0!==h.angle){var c=a[o],u=t[o],d=u.m,p=d[0],f=d[1],g=[[0,0],[0,u.size[1]],[u.size[0],0],u.size],m=new Float64Array(64);g.forEach((function(e,t){var r=n.Util.applyTransform(e,d);m[t+0]=p&&(c.left-r[0])/p,m[t+4]=f&&(c.top-r[1])/f,m[t+8]=p&&(c.right-r[0])/p,m[t+12]=f&&(c.bottom-r[1])/f,m[t+16]=f&&(c.left-r[0])/-f,m[t+20]=p&&(c.top-r[1])/p,m[t+24]=f&&(c.right-r[0])/-f,m[t+28]=p&&(c.bottom-r[1])/p,m[t+32]=p&&(c.left-r[0])/-p,m[t+36]=f&&(c.top-r[1])/-f,m[t+40]=p&&(c.right-r[0])/-p,m[t+44]=f&&(c.bottom-r[1])/-f,m[t+48]=f&&(c.left-r[0])/f,m[t+52]=p&&(c.top-r[1])/-p,m[t+56]=f&&(c.right-r[0])/f,m[t+60]=p&&(c.bottom-r[1])/-p}));var _=1+Math.min(Math.abs(p),Math.abs(f));h.paddingLeft=i(m,32,16)/_,h.paddingTop=i(m,48,16)/_,h.paddingRight=i(m,0,16)/_,h.paddingBottom=i(m,16,16)/_,e._textDivProperties.set(l,h)}else h.paddingLeft=t[o].left-a[o].left,h.paddingTop=t[o].top-a[o].top,h.paddingRight=a[o].right-t[o].right,h.paddingBottom=a[o].bottom-t[o].bottom,e._textDivProperties.set(l,h)}}(this),this._bounds=null);const t=[],r=[];for(var a=0,o=this._textDivs.length;a<o;a++){const n=this._textDivs[a],i=this._textDivProperties.get(n);i.isWhitespace||(e?(t.length=0,r.length=0,i.originalTransform&&t.push(i.originalTransform),i.paddingTop>0?(r.push(i.paddingTop+"px"),t.push(`translateY(${-i.paddingTop}px)`)):r.push(0),r.push(i.paddingRight>0?i.paddingRight/i.scale+"px":0),r.push(i.paddingBottom>0?i.paddingBottom+"px":0),i.paddingLeft>0?(r.push(i.paddingLeft/i.scale+"px"),t.push(`translateX(${-i.paddingLeft/i.scale}px)`)):r.push(0),n.style.padding=r.join(" "),t.length&&(n.style.transform=t.join(" "))):(n.style.padding=null,n.style.transform=i.originalTransform))}}},function(e){var t=new a({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var n=r(2),i=r(1),s=r(4);let a=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=a;{const e={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},r="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",c=["butt","round","square"],u=["miter","round","bevel"],d=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e=1&e?3988292384^e>>1&2147483647:e>>1&2147483647;t[n]=e}function r(e,r,n,i){let s=i;const a=r.length;n[s]=a>>24&255,n[s+1]=a>>16&255,n[s+2]=a>>8&255,n[s+3]=255&a,s+=4,n[s]=255&e.charCodeAt(0),n[s+1]=255&e.charCodeAt(1),n[s+2]=255&e.charCodeAt(2),n[s+3]=255&e.charCodeAt(3),s+=4,n.set(r,s),s+=r.length;const o=function(e,r,n){let i=-1;for(let s=r;s<n;s++)i=i>>>8^t[255&(i^e[s])];return-1^i}(n,i+4,s);n[s]=o>>24&255,n[s+1]=o>>16&255,n[s+2]=o>>8&255,n[s+3]=255&o}function i(e){let t=e.length;const r=65535,n=Math.ceil(t/r),i=new Uint8Array(2+t+5*n+4);let s=0;i[s++]=120,i[s++]=156;let a=0;for(;t>r;)i[s++]=0,i[s++]=255,i[s++]=255,i[s++]=0,i[s++]=0,i.set(e.subarray(a,a+r),s),s+=r,a+=r,t-=r;i[s++]=1,i[s++]=255&t,i[s++]=t>>8&255,i[s++]=255&~t,i[s++]=(65535&~t)>>8&255,i.set(e.subarray(a),s),s+=e.length-a;const o=function(e,t,r){let n=1,i=0;for(let s=0;s<r;++s)n=(n+(255&e[s]))%65521,i=(i+n)%65521;return i<<16|n}(e,0,e.length);return i[s++]=o>>24&255,i[s++]=o>>16&255,i[s++]=o>>8&255,i[s++]=255&o,i}return function(t,a,o){return function(t,a,o,l){const h=t.width,c=t.height;let u,d,p;const f=t.data;switch(a){case n.ImageKind.GRAYSCALE_1BPP:d=0,u=1,p=h+7>>3;break;case n.ImageKind.RGB_24BPP:d=2,u=8,p=3*h;break;case n.ImageKind.RGBA_32BPP:d=6,u=8,p=4*h;break;default:throw new Error("invalid format")}const g=new Uint8Array((1+p)*c);let m=0,_=0;for(let e=0;e<c;++e)g[m++]=0,g.set(f.subarray(_,_+p),m),_+=p,m+=p;if(a===n.ImageKind.GRAYSCALE_1BPP&&l){m=0;for(let e=0;e<c;e++){m++;for(let e=0;e<p;e++)g[m++]^=255}}const v=new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,c>>24&255,c>>16&255,c>>8&255,255&c,u,d,0,0,0]),y=function(e){if(!s.isNodeJS)return i(e);try{let t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);const r=require("zlib").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(t){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return i(e)}(g),b=new Uint8Array(e.length+36+v.length+y.length);let x=0;return b.set(e,x),x+=e.length,r("IHDR",v,b,x),x+=12+v.length,r("IDATA",y,b,x),x+=12+y.length,r("IEND",new Uint8Array(0),b,x),(0,n.createObjectURL)(b,"image/png",o)}(t,void 0===t.kind?n.ImageKind.GRAYSCALE_1BPP:t.kind,a,o)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=e.fontWeight,this.fontSize=0,this.textMatrix=n.IDENTITY_MATRIX,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=n.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=e.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function o(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let r=t.length-1;if("0"!==t[r])return t;do{r--}while("0"===t[r]);return t.substring(0,"."===t[r]?r:r+1)}function l(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${o(e[0])} ${o(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2])return`rotate(${o(180*Math.acos(e[0])/Math.PI)})`}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${o(e[4])} ${o(e[5])})`;return`matrix(${o(e[0])} ${o(e[1])} ${o(e[2])} ${o(e[3])} ${o(e[4])} `+o(e[5])+")"}let f=0,g=0,m=0;t.SVGGraphics=a=class{constructor(e,t,r=!1){this.svgFactory=new i.DOMSVGFactory,this.current=new p,this.transformMatrix=n.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!r,this._operatorIdMapping=[];for(const i in n.OPS)this._operatorIdMapping[n.OPS[i]]=i}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,r=e.argsArray;for(let i=0,s=t.length;i<s;i++)if(t[i]===n.OPS.dependency)for(const e of r[i]){const t=e.startsWith("g_")?this.commonObjs:this.objs,r=new Promise(r=>{t.get(e,r)});this.current.dependencies.push(r)}return Promise.all(this.current.dependencies)}transform(e,t,r,i,s,a){this.transformMatrix=n.Util.transform(this.transformMatrix,[e,t,r,i,s,a]),this.tgrp=null}getSVG(e,t){this.viewport=t;const r=this._initialize(t);return this.loadDependencies(e).then(()=>(this.transformMatrix=n.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),r))}convertOpList(e){const t=this._operatorIdMapping,r=e.argsArray,n=e.fnArray,i=[];for(let s=0,a=n.length;s<a;s++){const e=n[s];i.push({fnId:e,fn:t[e],args:r[s]})}return function(e){let t=[];const r=[];for(const n of e)"save"!==n.fn?"restore"===n.fn?t=r.pop():t.push(n):(t.push({fnId:92,fn:"group",items:[]}),r.push(t),t=t[t.length-1].items);return t}(i)}executeOpTree(e){for(const t of e){const e=t.fn,r=t.args;switch(0|t.fnId){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(r);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case n.OPS.setFont:this.setFont(r);break;case n.OPS.showText:case n.OPS.showSpacedText:this.showText(r[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(r[0],r[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case n.OPS.setHScale:this.setHScale(r[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case n.OPS.setTextRise:this.setTextRise(r[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case n.OPS.setLineWidth:this.setLineWidth(r[0]);break;case n.OPS.setLineJoin:this.setLineJoin(r[0]);break;case n.OPS.setLineCap:this.setLineCap(r[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case n.OPS.setFillColorN:this.setFillColorN(r);break;case n.OPS.shadingFill:this.shadingFill(r[0]);break;case n.OPS.setDash:this.setDash(r[0],r[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case n.OPS.setFlatness:this.setFlatness(r[0]);break;case n.OPS.setGState:this.setGState(r[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case n.OPS.constructPath:this.constructPath(r[0],r[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,n.warn)("Unimplemented operator "+e)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,r,n,i,s){const a=this.current;a.textMatrix=a.lineMatrix=[e,t,r,n,i,s],a.textMatrixScale=Math.sqrt(e*e+t*t),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",o(a.fontSize)+"px"),a.tspan.setAttributeNS(null,"y",o(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.appendChild(a.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=n.IDENTITY_MATRIX,e.lineMatrix=n.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const r=this.current;r.x=r.lineX+=e,r.y=r.lineY+=t,r.xcoords=[],r.ycoords=[],r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",o(r.fontSize)+"px"),r.tspan.setAttributeNS(null,"y",o(-r.y))}showText(t){const i=this.current,s=i.font,a=i.fontSize;if(0===a)return;const h=i.fontSizeScale,c=i.charSpacing,u=i.wordSpacing,d=i.fontDirection,p=i.textHScale*d,f=s.vertical,g=f?1:-1,m=s.defaultVMetrics,_=a*i.fontMatrix[0];let v=0;for(const e of t){if(null===e){v+=d*u;continue}if((0,n.isNum)(e)){v+=g*e*a/1e3;continue}const t=(e.isSpace?u:0)+c,r=e.fontChar;let o,l,p,y=e.width;if(f){let t;const r=e.vmetric||m;t=e.vmetric?r[1]:.5*y,t=-t*_,y=r?-r[0]:y,o=t/h,l=(v+r[2]*_)/h}else o=v/h,l=0;(e.isInFont||s.missingFile)&&(i.xcoords.push(i.x+o),f&&i.ycoords.push(-i.y+l),i.tspan.textContent+=r),p=f?y*_-t*d:y*_+t*d,v+=p}i.tspan.setAttributeNS(null,"x",i.xcoords.map(o).join(" ")),i.tspan.setAttributeNS(null,"y",f?i.ycoords.map(o).join(" "):o(-i.y)),f?i.y-=v:i.x+=v*p,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",o(i.fontSize)+"px"),i.fontStyle!==e.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==e.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const y=i.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;y===n.TextRenderingMode.FILL||y===n.TextRenderingMode.FILL_STROKE?(i.fillColor!==e.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(y===n.TextRenderingMode.STROKE||y===n.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let b=i.textMatrix;0!==i.textRise&&(b=b.slice(),b[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${l(b)} scale(${o(p)}, -1)`),i.txtElement.setAttributeNS(r,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const t=(0,n.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\n`}setFont(e){const t=this.current,r=this.commonObjs.get(e[0]);let i=e[1];t.font=r,!this.embedFonts||r.missingFile||this.embeddedFonts[r.loadedName]||(this.addFontStyle(r),this.embeddedFonts[r.loadedName]=r),t.fontMatrix=r.fontMatrix?r.fontMatrix:n.FONT_IDENTITY_MATRIX;let s="normal";r.black?s="900":r.bold&&(s="bold");const a=r.italic?"italic":"normal";i<0?(i=-i,t.fontDirection=-1):t.fontDirection=1,t.fontSize=i,t.fontFamily=r.loadedName,t.fontWeight=s,t.fontStyle=a,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",o(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const e=this.current;e.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement&&e.txtElement.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=c[e]}setLineJoin(e){this.current.lineJoin=u[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,r){this.current.strokeColor=n.Util.makeCssRgb(e,t,r)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,r){this.current.fillColor=n.Util.makeCssRgb(e,t,r),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const t=this.viewport.width,r=this.viewport.height,i=n.Util.inverseTransform(this.transformMatrix),s=n.Util.applyTransform([0,0],i),a=n.Util.applyTransform([0,r],i),o=n.Util.applyTransform([t,0],i),l=n.Util.applyTransform([t,r],i),h=Math.min(s[0],a[0],o[0],l[0]),c=Math.min(s[1],a[1],o[1],l[1]),u=Math.max(s[0],a[0],o[0],l[0]),d=Math.max(s[1],a[1],o[1],l[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",h),p.setAttributeNS(null,"y",c),p.setAttributeNS(null,"width",u-h),p.setAttributeNS(null,"height",d-c),p.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&p.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(p)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],r=e[2],i=e[3]||n.IDENTITY_MATRIX,[s,a,o,l]=e[4],h=e[5],c=e[6],u=e[7],d="shading"+m++,[p,f]=n.Util.applyTransform([s,a],i),[g,_]=n.Util.applyTransform([o,l],i),[v,y]=n.Util.singularValueDecompose2dScale(i),b=h*v,x=c*y,A=this.svgFactory.createElement("svg:pattern");A.setAttributeNS(null,"id",d),A.setAttributeNS(null,"patternUnits","userSpaceOnUse"),A.setAttributeNS(null,"width",b),A.setAttributeNS(null,"height",x),A.setAttributeNS(null,"x",""+p),A.setAttributeNS(null,"y",""+f);const w=this.svg,S=this.transformMatrix,C=this.current.fillColor,P=this.current.strokeColor,k=this.svgFactory.create(g-p,_-f);if(this.svg=k,this.transformMatrix=i,2===u){const e=n.Util.makeCssRgb(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(r)),this.svg=w,this.transformMatrix=S,this.current.fillColor=C,this.current.strokeColor=P,A.appendChild(k.childNodes[0]),this.defs.appendChild(A),`url(#${d})`}_makeShadingPattern(e){switch(e[0]){case"RadialAxial":const t="shading"+m++,r=e[3];let i;switch(e[1]){case"axial":const r=e[4],n=e[5];i=this.svgFactory.createElement("svg:linearGradient"),i.setAttributeNS(null,"id",t),i.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),i.setAttributeNS(null,"x1",r[0]),i.setAttributeNS(null,"y1",r[1]),i.setAttributeNS(null,"x2",n[0]),i.setAttributeNS(null,"y2",n[1]);break;case"radial":const s=e[4],a=e[5],o=e[6],l=e[7];i=this.svgFactory.createElement("svg:radialGradient"),i.setAttributeNS(null,"id",t),i.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),i.setAttributeNS(null,"cx",a[0]),i.setAttributeNS(null,"cy",a[1]),i.setAttributeNS(null,"r",l),i.setAttributeNS(null,"fx",s[0]),i.setAttributeNS(null,"fy",s[1]),i.setAttributeNS(null,"fr",o);break;default:throw new Error("Unknown RadialAxial type: "+e[1])}for(const e of r){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),i.appendChild(t)}return this.defs.appendChild(i),`url(#${t})`;case"Mesh":return(0,n.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: "+e[0])}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const r=this.current;let i=r.x,s=r.y,a=[],l=0;for(const h of e)switch(0|h){case n.OPS.rectangle:i=t[l++],s=t[l++];const e=i+t[l++],r=s+t[l++];a.push("M",o(i),o(s),"L",o(e),o(s),"L",o(e),o(r),"L",o(i),o(r),"Z");break;case n.OPS.moveTo:i=t[l++],s=t[l++],a.push("M",o(i),o(s));break;case n.OPS.lineTo:i=t[l++],s=t[l++],a.push("L",o(i),o(s));break;case n.OPS.curveTo:i=t[l+4],s=t[l+5],a.push("C",o(t[l]),o(t[l+1]),o(t[l+2]),o(t[l+3]),o(i),o(s)),l+=6;break;case n.OPS.curveTo2:a.push("C",o(i),o(s),o(t[l]),o(t[l+1]),o(t[l+2]),o(t[l+3])),i=t[l+2],s=t[l+3],l+=4;break;case n.OPS.curveTo3:i=t[l+2],s=t[l+3],a.push("C",o(t[l]),o(t[l+1]),o(i),o(s),o(i),o(s)),l+=4;break;case n.OPS.closePath:a.push("Z")}a=a.join(" "),r.path&&e.length>0&&e[0]!==n.OPS.rectangle&&e[0]!==n.OPS.moveTo?a=r.path.getAttributeNS(null,"d")+a:(r.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(r.path)),r.path.setAttributeNS(null,"d",a),r.path.setAttributeNS(null,"fill","none"),r.element=r.path,r.setCurrentPoint(i,s)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath"+f++,r=this.svgFactory.createElement("svg:clipPath");r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"transform",l(this.transformMatrix));const n=e.element.cloneNode(!0);n.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,r.appendChild(n),this.defs.appendChild(r),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach((function(e){e.clipGroup=null})),r.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=e.path.getAttributeNS(null,"d")+"Z";e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r);break;case"CA":this.setStrokeAlpha(r);break;case"ca":this.setFillAlpha(r);break;default:(0,n.warn)("Unimplemented graphic state operator "+t)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,t=1){const r=this.current;let n=r.dashArray;1!==t&&n.length>0&&(n=n.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",r.strokeColor),e.setAttributeNS(null,"stroke-opacity",r.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",o(r.miterLimit)),e.setAttributeNS(null,"stroke-linecap",r.lineCap),e.setAttributeNS(null,"stroke-linejoin",r.lineJoin),e.setAttributeNS(null,"stroke-width",o(t*r.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",n.map(o).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",o(t*r.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}paintImageXObject(e){const t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,n.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const r=e.width,n=e.height,i=d(e,this.forceDataSchema,!!t),s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",o(r)),s.setAttributeNS(null,"height",o(n)),this.current.element=s,this.clip("nonzero");const a=this.svgFactory.createElement("svg:image");a.setAttributeNS(h,"xlink:href",i),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",o(-n)),a.setAttributeNS(null,"width",o(r)+"px"),a.setAttributeNS(null,"height",o(n)+"px"),a.setAttributeNS(null,"transform",`scale(${o(1/r)} ${o(-1/n)})`),t?t.appendChild(a):this._ensureTransformGroup().appendChild(a)}paintImageMaskXObject(e){const t=this.current,r=e.width,n=e.height,i=t.fillColor;t.maskId="mask"+g++;const s=this.svgFactory.createElement("svg:mask");s.setAttributeNS(null,"id",t.maskId);const a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",o(r)),a.setAttributeNS(null,"height",o(n)),a.setAttributeNS(null,"fill",i),a.setAttributeNS(null,"mask",`url(#${t.maskId})`),this.defs.appendChild(s),this._ensureTransformGroup().appendChild(a),this.paintInlineImageXObject(e,s)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],r=t[3]-t[1],n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x",t[0]),n.setAttributeNS(null,"y",t[1]),n.setAttributeNS(null,"width",o(e)),n.setAttributeNS(null,"height",o(r)),this.current.element=n,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),r=this.svgFactory.createElement("svg:defs");t.appendChild(r),this.defs=r;const n=this.svgFactory.createElement("svg:g");return n.setAttributeNS(null,"transform",l(e.transform)),t.appendChild(n),this.svg=n,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",l(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var n=r(2),i=r(20);const s=require("fs"),a=require("http"),o=require("https"),l=require("url"),h=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=l.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?l.parse("file:///"+e):(t.host||(t.protocol="file:"),t)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new p(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new m(this,e,t):new f(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}};class c{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._headersCapability=(0,n.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!e.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class p extends c{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new n.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const r=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(r)};this._request=null,this._request="http:"===this._url.protocol?a.request(d(this._url,e.httpHeaders),t):o.request(d(this._url,e.httpHeaders),t),this._request.on("error",e=>{this._storedError=e,this._headersCapability.reject(e)}),this._request.end()}}class f extends u{constructor(e,t,r){super(e),this._httpHeaders={};for(const n in e.httpHeaders){const t=e.httpHeaders[n];void 0!==t&&(this._httpHeaders[n]=t)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e}};this._request=null,this._request="http:"===this._url.protocol?a.request(d(this._url,this._httpHeaders),i):o.request(d(this._url,this._httpHeaders),i),this._request.on("error",e=>{this._storedError=e}),this._request.end()}}class g extends c{constructor(e){super(e);let t=decodeURIComponent(this._url.path);h.test(this._url.href)&&(t=t.replace(/^\//,"")),s.lstat(t,(e,r)=>{if(e)return"ENOENT"===e.code&&(e=new n.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=r.size,this._setReadableStream(s.createReadStream(t)),this._headersCapability.resolve()})}}class m extends u{constructor(e,t,r){super(e);let n=decodeURIComponent(this._url.path);h.test(this._url.href)&&(n=n.replace(/^\//,"")),this._setReadableStream(s.createReadStream(n,{start:t,end:r-1}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+t+'".'):new n.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,i.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(r){}if(/\.pdf$/i.test(e))return e}return null},t.validateRangeRequestCapabilities=function({getResponseHeader:e,isHttp:t,rangeChunkSize:r,disableRange:i}){(0,n.assert)(r>0,"Range chunk size must be larger than zero");const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e("Content-Length"),10);return Number.isInteger(a)?(s.suggestedLength=a,a<=2*r||i||!t||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s):s},t.validateResponseStatus=function(e){return 200===e||206===e};var n=r(2),i=r(21)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,r=n("filename\\*","i").exec(e);if(r){r=r[1];let e=a(r);return e=unescape(e),e=o(e),e=l(e),s(e)}if(r=function(e){const t=[];let r;const i=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(r=i.exec(e));){let[,e,n,i]=r;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[n,i]}const s=[];for(let n=0;n<t.length&&n in t;++n){let[e,r]=t[n];r=a(r),e&&(r=unescape(r),0===n&&(r=o(r))),s.push(r)}return s.join("")}(e),r)return s(l(r));if(r=n("filename","i").exec(e),r){r=r[1];let e=a(r);return e=l(e),s(e)}function n(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,r){if(e){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const n=new TextDecoder(e,{fatal:!0}),i=Array.from(r,(function(e){return 255&e.charCodeAt(0)}));r=n.decode(new Uint8Array(i)),t=!1}catch(n){if(/^utf-?8$/i.test(e))try{r=decodeURIComponent(escape(r)),t=!1}catch(i){}}}return r}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const r=t[e].indexOf('"');-1!==r&&(t[e]=t[e].slice(0,r),t.length=e+1),t[e]=t[e].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,r,n){if("q"===r||"Q"===r)return i(t,n=(n=n.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{n=atob(n)}catch(s){}return i(t,n)}))}return""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var n=r(2),i=r(20);class s{constructor(e,t){this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const n={begin:e,end:t};for(const i in r)n[i]=r[i];return this.request(n)}requestFull(e){return this.request(e)}request(e){const t=this.getXhr(),r=this.currXhrId++,n=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const e=this.httpHeaders[i];void 0!==e&&t.setRequestHeader(i,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),n.expectedStatus=206):n.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),n.onHeadersReceived=e.onHeadersReceived,n.onDone=e.onDone,n.onError=e.onError,n.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){const r=this.pendingRequests[e];r&&r.onProgress&&r.onProgress(t)}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void(r.onError&&r.onError(i.status));const s=i.status||200;if((200!==s||206!==r.expectedStatus)&&s!==r.expectedStatus)return void(r.onError&&r.onError(i.status));const a=function(e){const t=e.response;return"string"!=typeof t?t:(0,n.stringToBytes)(t).buffer}(i);if(206===s){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);r.onDone({begin:parseInt(t[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):r.onError&&r.onError(i.status)}hasPendingRequests(){for(const e in this.pendingRequests)return!0;return!1}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortAllRequests(){for(const e in this.pendingRequests)this.abortRequest(0|e)}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new s(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new o(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}};class a{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=e=>t.getResponseHeader(e),{allowRangeRequests:n,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});n&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[])}_onError(e){const t=(0,i.createResponseStatusError)(e,this._url);this._storedError=t,this._headersReceivedCapability.reject(t),this._requests.forEach((function(e){e.reject(t)})),this._requests=[],this._cachedChunks=[]}_onProgress(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,n.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(e,t,r){this._manager=e;const n={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,r,n),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}_close(){this.onClosed&&this.onClosed(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}_onProgress(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,n.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var n=r(2),i=r(20);function s(e,t,r){return{method:"GET",headers:e,signal:r&&r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function a(e){const t=new Headers;for(const r in e){const n=e[r];void 0!==n&&t.append(r,n)}return t}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new o(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new l(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}};class o{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=a(this._stream.httpHeaders);const r=t.url;fetch(r,s(this._headers,this._withCredentials,this._abortController)).then(e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,r);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:s,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}class l{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=a(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const l=o.url;fetch(l,s(this._headers,this._withCredentials,this._abortController)).then(e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()}),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}}])})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],t):"object"==typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=t():e["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return n.AnnotationLayerBuilder}}),Object.defineProperty(t,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return n.DefaultAnnotationLayerFactory}}),Object.defineProperty(t,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return i.DefaultTextLayerFactory}}),Object.defineProperty(t,"TextLayerBuilder",{enumerable:!0,get:function(){return i.TextLayerBuilder}}),Object.defineProperty(t,"EventBus",{enumerable:!0,get:function(){return s.EventBus}}),Object.defineProperty(t,"NullL10n",{enumerable:!0,get:function(){return s.NullL10n}}),Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return s.ProgressBar}}),Object.defineProperty(t,"PDFLinkService",{enumerable:!0,get:function(){return a.PDFLinkService}}),Object.defineProperty(t,"SimpleLinkService",{enumerable:!0,get:function(){return a.SimpleLinkService}}),Object.defineProperty(t,"DownloadManager",{enumerable:!0,get:function(){return o.DownloadManager}}),Object.defineProperty(t,"GenericL10n",{enumerable:!0,get:function(){return l.GenericL10n}}),Object.defineProperty(t,"PDFFindController",{enumerable:!0,get:function(){return h.PDFFindController}}),Object.defineProperty(t,"PDFHistory",{enumerable:!0,get:function(){return c.PDFHistory}}),Object.defineProperty(t,"PDFPageView",{enumerable:!0,get:function(){return u.PDFPageView}}),Object.defineProperty(t,"PDFSinglePageViewer",{enumerable:!0,get:function(){return d.PDFSinglePageViewer}}),Object.defineProperty(t,"PDFViewer",{enumerable:!0,get:function(){return p.PDFViewer}});var n=r(1),i=r(5),s=r(3),a=r(4),o=r(6),l=r(8),h=r(10),c=r(12),u=r(13),d=r(15),p=r(17)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var n=r(2),i=r(3),s=r(4);class a{constructor({pageDiv:e,pdfPage:t,linkService:r,downloadManager:n,imageResourcesPath:s="",renderInteractiveForms:a=!1,l10n:o=i.NullL10n}){this.pageDiv=e,this.pdfPage=t,this.linkService=r,this.downloadManager=n,this.imageResourcesPath=s,this.renderInteractiveForms=a,this.l10n=o,this.div=null,this._cancelled=!1}render(e,t="display"){this.pdfPage.getAnnotations({intent:t}).then(t=>{if(this._cancelled)return;const r={viewport:e.clone({dontFlip:!0}),div:this.div,annotations:t,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderInteractiveForms:this.renderInteractiveForms,linkService:this.linkService,downloadManager:this.downloadManager};if(this.div)n.AnnotationLayer.update(r);else{if(0===t.length)return;this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.appendChild(this.div),r.div=this.div,n.AnnotationLayer.render(r),this.l10n.translate(this.div)}})}cancel(){this._cancelled=!0}hide(){this.div&&this.div.setAttribute("hidden","true")}}t.AnnotationLayerBuilder=a,t.DefaultAnnotationLayerFactory=class{createAnnotationLayerBuilder(e,t,r="",n=!1,o=i.NullL10n){return new a({pageDiv:e,pdfPage:t,imageResourcesPath:r,renderInteractiveForms:n,linkService:new s.SimpleLinkService,l10n:o})}}},function(e,t,r){"use strict";let n;n="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js"),e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRotation=function(e){return Number.isInteger(e)&&e%90==0},t.isValidScrollMode=function(e){return Number.isInteger(e)&&Object.values(n).includes(e)&&e!==n.UNKNOWN},t.isValidSpreadMode=function(e){return Number.isInteger(e)&&Object.values(i).includes(e)&&e!==i.UNKNOWN},t.isPortraitOrientation=function(e){return e.width<=e.height},t.clamp=c,t.getPDFFileNameFromURL=function(e,t="document.pdf"){if("string"!=typeof e)return t;if(function(e){let t=0;const r=e.length;for(;t<r&&""===e[t].trim();)t++;return"data:"===e.substring(t,t+5).toLowerCase()}(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;const r=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let i=r.exec(n[1])||r.exec(n[2])||r.exec(n[3]);if(i&&(i=i[0],i.includes("%")))try{i=r.exec(decodeURIComponent(i))[0]}catch(s){}return i||t},t.noContextMenuHandler=function(e){e.preventDefault()},t.parseQueryString=function(e){const t=e.split("&"),r=Object.create(null);for(let n=0,i=t.length;n<i;++n){const e=t[n].split("="),i=e[0].toLowerCase(),s=e.length>1?e[1]:null;r[decodeURIComponent(i)]=decodeURIComponent(s)}return r},t.backtrackBeforeAllVisibleElements=a,t.getVisibleElements=function(e,t,r=!1,n=!1){const i=e.scrollTop,o=i+e.clientHeight,l=e.scrollLeft,h=l+e.clientWidth,c=[],u=t.length;let d=0===u?0:s(t,n?function(e){const t=e.div;return t.offsetLeft+t.clientLeft+t.clientWidth>l}:function(e){const t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>i});d>0&&d<u&&!n&&(d=a(d,t,i));let p=n?h:-1;for(let s=d;s<u;s++){const e=t[s],r=e.div,a=r.offsetLeft+r.clientLeft,u=r.offsetTop+r.clientTop,d=r.clientWidth,f=r.clientHeight,g=a+d,m=u+f;if(-1===p)m>=o&&(p=m);else if((n?a:u)>p)break;if(m<=i||u>=o||g<=l||a>=h)continue;const _=Math.max(0,i-u)+Math.max(0,m-o),v=Math.max(0,l-a)+Math.max(0,g-h);c.push({id:e.id,x:a,y:u,view:e,percent:(f-_)*(d-v)*100/f/d|0})}const f=c[0],g=c[c.length-1];return r&&c.sort((function(e,t){const r=e.percent-t.percent;return Math.abs(r)>.001?-r:e.id-t.id})),{first:f,last:g,views:c}},t.roundToDivide=function(e,t){const r=e%t;return 0===r?e:Math.round(e-r+t)},t.getPageSizeInches=function({view:e,userUnit:t,rotate:r}){const[n,i,s,a]=e,o=r%180!=0,l=(s-n)/72*t,h=(a-i)/72*t;return{width:o?h:l,height:o?l:h}},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];const t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];const r=e>1?t:e;let n,i=0,s=1,a=1,o=1;for(;;){const e=i+a,t=s+o;if(t>8)break;r<=e/t?(a=e,o=t):(i=e,s=t)}return n=r-i/s<a/o-r?r===e?[i,s]:[s,i]:r===e?[a,o]:[o,a],n},t.getOutputScale=function(e){const t=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);return{sx:t,sy:t,scaled:1!==t}},t.scrollIntoView=function(e,t,r=!1){let n=e.offsetParent;if(!n)return void console.error("offsetParent is not set -- cannot scroll");let i=e.offsetTop+e.clientTop,s=e.offsetLeft+e.clientLeft;for(;n.clientHeight===n.scrollHeight&&n.clientWidth===n.scrollWidth||r&&"hidden"===getComputedStyle(n).overflow;)if(n.dataset._scaleY&&(i/=n.dataset._scaleY,s/=n.dataset._scaleX),i+=n.offsetTop,s+=n.offsetLeft,n=n.offsetParent,!n)return;t&&(void 0!==t.top&&(i+=t.top),void 0!==t.left&&(s+=t.left,n.scrollLeft=s)),n.scrollTop=i},t.watchScroll=function(e,t){const r=function(r){i||(i=window.requestAnimationFrame((function(){i=null;const r=e.scrollLeft,s=n.lastX;r!==s&&(n.right=r>s),n.lastX=r;const a=e.scrollTop,o=n.lastY;a!==o&&(n.down=a>o),n.lastY=a,t(n)})))},n={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:r};let i=null;return e.addEventListener("scroll",r,!0),n},t.binarySearchFirstItem=s,t.normalizeWheelEventDelta=function(e){let t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY);const r=Math.atan2(e.deltaY,e.deltaX);return-.25*Math.PI<r&&r<.75*Math.PI&&(t=-t),0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30),t},t.waitOnEventOrTimeout=function({target:e,name:t,delay:r=0}){return new Promise((function(n,i){if("object"!=typeof e||!t||"string"!=typeof t||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function s(r){e instanceof h?e._off(t,a):e.removeEventListener(t,a),c&&clearTimeout(c),n(r)}const a=s.bind(null,o.EVENT);e instanceof h?e._on(t,a):e.addEventListener(t,a);const l=s.bind(null,o.TIMEOUT),c=setTimeout(l,r)}))},t.moveToEndOfArray=function(e,t){const r=[],n=e.length;let i=0;for(let s=0;s<n;++s)t(e[s])?r.push(e[s]):(e[i]=e[s],++i);for(let s=0;i<n;++s,++i)e[i]=r[s]},t.WaitOnType=t.animationStarted=t.ProgressBar=t.EventBus=t.NullL10n=t.SpreadMode=t.ScrollMode=t.TextLayerMode=t.RendererType=t.PresentationModeState=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=t.AutoPrintRegExp=void 0,t.CSS_UNITS=96/72,t.DEFAULT_SCALE_VALUE="auto",t.DEFAULT_SCALE=1,t.MIN_SCALE=.1,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=1.25,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5,t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},t.RendererType={CANVAS:"canvas",SVG:"svg"},t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const n={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};t.ScrollMode=n;const i={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function s(e,t){let r=0,n=e.length-1;if(n<0||!t(e[n]))return e.length;if(t(e[r]))return r;for(;r<n;){const i=r+n>>1;t(e[i])?n=i:r=i+1}return r}function a(e,t,r){if(e<2)return e;let n=t[e].div,i=n.offsetTop+n.clientTop;i>=r&&(n=t[e-1].div,i=n.offsetTop+n.clientTop);for(let s=e-2;s>=0&&(n=t[s].div,!(n.offsetTop+n.clientTop+n.clientHeight<=i));--s)e=s;return e}t.SpreadMode=i,t.AutoPrintRegExp=/\bprint\s*\(/,t.NullL10n={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",get:async(e,t,r)=>function(e,t){return t?e.replace(/\{\{\s*(\w+)\s*\}\}/g,(e,r)=>r in t?t[r]:"{{"+r+"}}"):e}(r,t),async translate(e){}};const o={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=o;const l=new Promise((function(e){window.requestAnimationFrame(e)}));t.animationStarted=l;class h{constructor(e){this._listeners=Object.create(null)}on(e,t){this._on(e,t,{external:!0})}off(e,t){this._off(e,t,{external:!0})}dispatch(e){const t=this._listeners[e];if(!t||0===t.length)return;const r=Array.prototype.slice.call(arguments,1);let n;t.slice(0).forEach((function({listener:e,external:t}){if(t)return n||(n=[]),void n.push(e);e.apply(null,r)})),n&&(n.forEach((function(e){e.apply(null,r)})),n=null)}_on(e,t,r=null){let n=this._listeners[e];n||(this._listeners[e]=n=[]),n.push({listener:t,external:!0===(r&&r.external)})}_off(e,t,r=null){const n=this._listeners[e];if(n)for(let i=0,s=n.length;i<s;i++)if(n[i].listener===t)return void n.splice(i,1)}}function c(e,t,r){return Math.min(Math.max(e,t),r)}t.EventBus=h,t.ProgressBar=class{constructor(e,{height:t,width:r,units:n}={}){this.visible=!0,this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=t||100,this.width=r||100,this.units=n||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(e){this._indeterminate=isNaN(e),this._percent=c(e,0,100),this._updateBar()}setWidth(e){if(!e)return;const t=e.parentNode.offsetWidth-e.offsetWidth;t>0&&(this.bar.style.width=`calc(100% - ${t}px)`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}show(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var n=r(3);t.PDFLinkService=class{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:r=null,externalLinkEnabled:n=!0,ignoreDestinationZoom:i=!1}={}){this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=r,this.externalLinkEnabled=n,this._ignoreDestinationZoom=i,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(e){this.pdfViewer.currentPageNumber=e}get rotation(){return this.pdfViewer.pagesRotation}set rotation(e){this.pdfViewer.pagesRotation=e}navigateTo(e){const t=({namedDest:r,explicitDest:n})=>{const i=n[0];let s;if(i instanceof Object){if(s=this._cachedPageNumber(i),null===s)return void this.pdfDocument.getPageIndex(i).then(e=>{this.cachePageRef(e+1,i),t({namedDest:r,explicitDest:n})}).catch(()=>{console.error(`PDFLinkService.navigateTo: "${i}" is not a valid page reference, for dest="${e}".`)})}else{if(!Number.isInteger(i))return void console.error(`PDFLinkService.navigateTo: "${i}" is not a valid destination reference, for dest="${e}".`);s=i+1}!s||s<1||s>this.pagesCount?console.error(`PDFLinkService.navigateTo: "${s}" is not a valid page number, for dest="${e}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:r,explicitDest:n,pageNumber:s})),this.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:n,ignoreDestinationZoom:this._ignoreDestinationZoom}))};new Promise((t,r)=>{"string"!=typeof e?t({namedDest:"",explicitDest:e}):this.pdfDocument.getDestination(e).then(r=>{t({namedDest:e,explicitDest:r})})}).then(r=>{Array.isArray(r.explicitDest)?t(r):console.error(`PDFLinkService.navigateTo: "${r.explicitDest}" is not a valid destination array, for dest="${e}".`)})}getDestinationHash(e){if("string"==typeof e)return this.getAnchorUrl("#"+escape(e));if(Array.isArray(e)){const t=JSON.stringify(e);return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return(this.baseUrl||"")+e}setHash(e){let t,r;if(e.includes("=")){const i=(0,n.parseQueryString)(e);if("search"in i&&this.eventBus.dispatch("findfromurlhash",{source:this,query:i.search.replace(/"/g,""),phraseSearch:"true"===i.phrase}),"page"in i&&(t=0|i.page||1),"zoom"in i){const e=i.zoom.split(","),t=e[0],n=parseFloat(t);t.includes("Fit")?"Fit"===t||"FitB"===t?r=[null,{name:t}]:"FitH"===t||"FitBH"===t||"FitV"===t||"FitBV"===t?r=[null,{name:t},e.length>1?0|e[1]:null]:"FitR"===t?5!==e.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):r=[null,{name:t},0|e[1],0|e[2],0|e[3],0|e[4]]:console.error(`PDFLinkService.setHash: "${t}" is not a valid zoom value.`):r=[null,{name:"XYZ"},e.length>1?0|e[1]:null,e.length>2?0|e[2]:null,n?n/100:t]}r?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:r,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in i&&this.eventBus.dispatch("pagemode",{source:this,mode:i.pagemode}),"nameddest"in i&&this.navigateTo(i.nameddest)}else{r=unescape(e);try{r=JSON.parse(r),Array.isArray(r)||(r=r.toString())}catch(i){}if("string"==typeof r||function(e){if(!Array.isArray(e))return!1;const t=e.length;if(t<2)return!1;const r=e[0];if(!("object"==typeof r&&Number.isInteger(r.num)&&Number.isInteger(r.gen)||Number.isInteger(r)&&r>=0))return!1;const n=e[1];if("object"!=typeof n||"string"!=typeof n.name)return!1;let i=!0;switch(n.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;i=!1;break;default:return!1}for(let s=2;s<t;s++){const t=e[s];if(!("number"==typeof t||i&&null===t))return!1}return!0}(r))return void this.navigateTo(r);console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}}executeNamedAction(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}cachePageRef(e,t){t&&(this._pagesRefCache[0===t.gen?t.num+"R":`${t.num}R${t.gen}`]=e)}_cachedPageNumber(e){return this._pagesRefCache&&this._pagesRefCache[0===e.gen?e.num+"R":`${e.num}R${e.gen}`]||null}isPageVisible(e){return this.pdfViewer.isPageVisible(e)}},t.SimpleLinkService=class{constructor(){this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}get pagesCount(){return 0}get page(){return 0}set page(e){}get rotation(){return 0}set rotation(e){}navigateTo(e){}getDestinationHash(e){return"#"}getAnchorUrl(e){return"#"}setHash(e){}executeNamedAction(e){}cachePageRef(e,t){}isPageVisible(e){return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTextLayerFactory=t.TextLayerBuilder=void 0;var n=r(2);class i{constructor({textLayerDiv:e,eventBus:t,pageIndex:r,viewport:n,findController:i=null,enhanceTextSelection:s=!1}){this.textLayerDiv=e,this.eventBus=t,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=r,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=n,this.textDivs=[],this.findController=i,this.textLayerRenderTask=null,this.enhanceTextSelection=s,this._onUpdateTextLayerMatches=null,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(e=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs=[];const t=document.createDocumentFragment();this.textLayerRenderTask=(0,n.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:t,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:e,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(t),this._finishRendering(),this._updateMatches()},(function(e){})),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=e=>{e.pageIndex!==this.pageIdx&&-1!==e.pageIndex||this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}setTextContentStream(e){this.cancel(),this.textContentStream=e}setTextContent(e){this.cancel(),this.textContent=e}_convertMatches(e,t){if(!e)return[];const{findController:r,textContentItemsStr:n}=this;let i=0,s=0;const a=n.length-1,o=r.state.query.length,l=[];for(let h=0,c=e.length;h<c;h++){let r=e[h];for(;i!==a&&r>=s+n[i].length;)s+=n[i].length,i++;i===n.length&&console.error("Could not find a matching mapping");const c={begin:{divIdx:i,offset:r-s}};for(r+=t?t[h]:o;i!==a&&r>s+n[i].length;)s+=n[i].length,i++;c.end={divIdx:i,offset:r-s},l.push(c)}return l}_renderMatches(e){if(0===e.length)return;const{findController:t,pageIdx:r,textContentItemsStr:n,textDivs:i}=this,s=r===t.selected.pageIdx,a=t.selected.matchIdx;let o=null;const l=void 0;function h(e,t){const r=e.divIdx;i[r].textContent="",c(r,0,e.offset,t)}function c(e,t,r,s){const a=i[e],o=n[e].substring(t,r),l=document.createTextNode(o);if(s){const e=document.createElement("span");return e.className=s,e.appendChild(l),void a.appendChild(e)}a.appendChild(l)}let u=a,d=u+1;if(t.state.highlightAll)u=0,d=e.length;else if(!s)return;for(let p=u;p<d;p++){const n=e[p],u=n.begin,d=n.end,f=s&&p===a,g=f?" selected":"";if(f&&t.scrollMatchIntoView({element:i[u.divIdx],pageIndex:r,matchIndex:a}),o&&u.divIdx===o.divIdx?c(o.divIdx,o.offset,u.offset):(null!==o&&c(o.divIdx,o.offset,l),h(u)),u.divIdx===d.divIdx)c(u.divIdx,u.offset,d.offset,"highlight"+g);else{c(u.divIdx,u.offset,l,"highlight begin"+g);for(let e=u.divIdx+1,t=d.divIdx;e<t;e++)i[e].className="highlight middle"+g;h(d,"highlight end"+g)}o=d}o&&c(o.divIdx,o.offset,l)}_updateMatches(){if(!this.renderingDone)return;const{findController:e,matches:t,pageIdx:r,textContentItemsStr:n,textDivs:i}=this;let s=-1;for(let a=0,o=t.length;a<o;a++){const e=t[a];for(let t=Math.max(s,e.begin.divIdx),r=e.end.divIdx;t<=r;t++){const e=i[t];e.textContent=n[t],e.className=""}s=e.end.divIdx+1}e&&e.highlightMatches&&(this.matches=this._convertMatches(e.pageMatches[r]||null,e.pageMatchesLength[r]||null),this._renderMatches(this.matches))}_bindMouse(){const e=this.textLayerDiv;let t=null;e.addEventListener("mousedown",r=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(t&&(clearTimeout(t),t=null));const n=e.querySelector(".endOfContent");if(!n)return;let i=r.target!==e;if(i=i&&"none"!==window.getComputedStyle(n).getPropertyValue("-moz-user-select"),i){const t=e.getBoundingClientRect(),i=Math.max(0,(r.pageY-t.top)/t.height);n.style.top=(100*i).toFixed(2)+"%"}n.classList.add("active")}),e.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(t=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),t=null},300));const r=e.querySelector(".endOfContent");r&&(r.style.top="",r.classList.remove("active"))})}}t.TextLayerBuilder=i,t.DefaultTextLayerFactory=class{createTextLayerBuilder(e,t,r,n=!1,s){return new i({textLayerDiv:e,pageIndex:t,viewport:r,enhanceTextSelection:n,eventBus:s})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var n=r(2);const i=r(7).viewerCompatibilityParams.disableCreateObjectURL||!1;function s(e,t){const r=document.createElement("a");if(!r.click)throw new Error('DownloadManager: "a.click()" is not supported.');r.href=e,r.target="_parent","download"in r&&(r.download=t),(document.body||document.documentElement).appendChild(r),r.click(),r.remove()}t.DownloadManager=class{constructor({disableCreateObjectURL:e=i}){this.disableCreateObjectURL=e}downloadUrl(e,t){(0,n.createValidAbsoluteUrl)(e,"http://example.com")&&s(e+"#pdfjs.action=download",t)}downloadData(e,t,r){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([e],{type:r}),t):s((0,n.createObjectURL)(e,r,this.disableCreateObjectURL),t)}download(e,t,r){navigator.msSaveBlob?navigator.msSaveBlob(e,r)||this.downloadUrl(t,r):this.disableCreateObjectURL?this.downloadUrl(t,r):s(URL.createObjectURL(e),r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewerCompatibilityParams=void 0;const n=Object.create(null);{const e="undefined"!=typeof navigator&&navigator.userAgent||"",t="undefined"!=typeof navigator&&navigator.platform||"",r="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,i=/Android/.test(e),s=/Trident/.test(e),a=/\b(iPad|iPhone|iPod)(?=;)/.test(e)||"MacIntel"===t&&r>1,o=/CriOS/.test(e);(s||o)&&(n.disableCreateObjectURL=!0),(a||i)&&(n.maxCanvasPixels=5242880)}const i=Object.freeze(n);t.viewerCompatibilityParams=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0,r(9);const n=document.webL10n;t.GenericL10n=class{constructor(e){this._lang=e,this._ready=new Promise((t,r)=>{n.setLanguage(e,()=>{t(n)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(e,t,r){return(await this._ready).get(e,t,r)}async translate(e){return(await this._ready).translate(e)}}},function(e,t,r){"use strict";document.webL10n=function(e,t,r){var n={},i="",s="textContent",a="",o={},l="loading";function h(e,t,r){t=t||function(e){},r=r||function(){};var n=new XMLHttpRequest;n.open("GET",e,!0),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=utf-8"),n.onreadystatechange=function(){4==n.readyState&&(200==n.status||0===n.status?t(n.responseText):r())},n.onerror=r,n.ontimeout=r;try{n.send(null)}catch(i){r()}}function c(e,t,r){var i=n[e];if(!i){if(console.warn("#"+e+" is undefined."),!r)return null;i=r}var s={};for(var a in i){var o=i[a];o=d(o=u(o,t,e,a),t,e),s[a]=o}return s}function u(e,t,r,i){var s=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(!s||!s.length)return e;var a,l=s[1],h=s[2];return t&&h in t?a=t[h]:h in n&&(a=n[h]),l in o&&(e=(0,o[l])(e,a,r,i)),e}function d(e,t,r){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,(function(e,i){return t&&i in t?t[i]:i in n?n[i]:(console.log("argument {{"+i+"}} for #"+r+" is undefined."),e)}))}function p(e){var r=function(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),r=e.getAttribute("data-l10n-args"),n={};if(r)try{n=JSON.parse(r)}catch(i){console.warn("could not parse arguments for #"+t)}return{id:t,args:n}}(e);if(r.id){var n=c(r.id,r.args);if(n){if(n[s]){if(0===function(e){if(e.children)return e.children.length;if(void 0!==e.childElementCount)return e.childElementCount;for(var t=0,r=0;r<e.childNodes.length;r++)t+=1===e.nodeType?1:0;return t}(e))e[s]=n[s];else{for(var i=e.childNodes,a=!1,o=0,l=i.length;o<l;o++)3===i[o].nodeType&&/\S/.test(i[o].nodeValue)&&(a?i[o].nodeValue="":(i[o].nodeValue=n[s],a=!0));if(!a){var h=t.createTextNode(n[s]);e.insertBefore(h,e.firstChild)}}delete n[s]}for(var u in n)e[u]=n[u]}else console.warn("#"+r.id+" is undefined.")}}return o.plural=function(e,t,r,i){var l=parseFloat(t);if(isNaN(l))return e;if(i!=s)return e;o._pluralRules||(o._pluralRules=function(e){function t(e,t){return-1!==t.indexOf(e)}function r(e,t,r){return t<=e&&e<=r}var n={0:function(e){return"other"},1:function(e){return r(e%100,3,10)?"few":0===e?"zero":r(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return r(e,0,1)?"one":"other"},5:function(e){return r(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return r(e,3,6)?"few":r(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&r(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return r(e%10,2,9)&&!r(e%100,11,19)?"few":e%10!=1||r(e%100,11,19)?"other":"one"},11:function(e){return r(e%10,2,4)&&!r(e%100,12,14)?"few":e%10==0||r(e%10,5,9)||r(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return r(e,2,4)?"few":1==e?"one":"other"},13:function(e){return r(e%10,2,4)&&!r(e%100,12,14)?"few":1!=e&&r(e%10,0,1)||r(e%10,5,9)||r(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return r(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||r(e%100,2,10)?"few":r(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":r(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return r(e,2,10)?"few":r(e,0,1)?"one":"other"},20:function(e){return!r(e%10,3,4)&&e%10!=9||r(e%100,10,19)||r(e%100,70,79)||r(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||t(e%100,[12,72,92])?e%10!=1||t(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return r(e,0,1)||r(e,11,99)?"one":"other"},23:function(e){return r(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return r(e,3,10)||r(e,13,19)?"few":t(e,[2,12])?"two":t(e,[1,11])?"one":"other"}},i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[e.replace(/-.*$/,"")];return i in n?n[i]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}(a));var h="["+o._pluralRules(l)+"]";return 0===l&&r+"[zero]"in n?e=n[r+"[zero]"][i]:1==l&&r+"[one]"in n?e=n[r+"[one]"][i]:2==l&&r+"[two]"in n?e=n[r+"[two]"][i]:r+h in n?e=n[r+h][i]:r+"[other]"in n&&(e=n[r+"[other]"][i]),e},{get:function(e,t,r){var n,i=e.lastIndexOf("."),a=s;i>0&&(a=e.substring(i+1),e=e.substring(0,i)),r&&((n={})[a]=r);var o=c(e,t,n);return o&&a in o?o[a]:"{{"+e+"}}"},getData:function(){return n},getText:function(){return i},getLanguage:function(){return a},setLanguage:function(e,r){!function(e,r){e&&(e=e.toLowerCase()),r=r||function(){},n={},i="",a="",a=e;var o=t.querySelectorAll('link[type="application/l10n"]'),c=o.length;if(0!==c){var u,d,p=0;d=function(){++p>=c&&(r(),l="complete")};for(var f=0;f<c;f++)new v(o[f]).load(e,d)}else{var g=(u=t.querySelector('script[type="application/l10n"]'))?JSON.parse(u.innerHTML):null;if(g&&g.locales&&g.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(n=g.locales[e])){var m=g.default_locale.toLowerCase();for(var _ in g.locales){if((_=_.toLowerCase())===e){n=g.locales[e];break}_===m&&(n=g.locales[m])}}r()}else console.log("no resource to load, early way out");l="complete"}function v(e){var t=e.href;this.load=function(e,r){!function(e,t,r,a){var o=e.replace(/[^\/]*$/,"")||"./";function l(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}h(e,(function(e){i+=e,function(e,i){var a={},c=/^\s*|\s*$/,u=/^\s*#|^\s*$/,d=/^\s*\[(.*)\]\s*$/,p=/^\s*@import\s+url\((.*)\)\s*$/i,f=/^([^=\s]*)\s*=\s*(.+)$/;function g(e,r,n){var i=e.replace(c,"").split(/[\r\n]+/),s="*",h=t.split("-",1)[0],g=!1,_="";!function e(){for(;;){if(!i.length)return void n();var c=i.shift();if(!u.test(c)){if(r){if(_=d.exec(c)){s=_[1].toLowerCase(),g="*"!==s&&s!==t&&s!==h;continue}if(g)continue;if(_=p.exec(c))return void m(o+_[1],e)}var v=c.match(f);v&&3==v.length&&(a[v[1]]=l(v[2]))}}}()}function m(e,t){h(e,(function(e){g(e,!1,t)}),(function(){console.warn(e+" not found."),t()}))}g(e,!0,(function(){!function(e){for(var t in e){var i,a,o=t.lastIndexOf(".");o>0?(i=t.substring(0,o),a=t.substring(o+1)):(i=t,a=s),n[i]||(n[i]={}),n[i][a]=e[t]}r&&r()}(a)}))}(e)}),a)}(t,e,r,(function(){console.warn(t+" not found."),console.warn('"'+e+'" resource not found'),a="",r()}))}}}(e,(function(){r&&r()}))},getDirection:function(){var e=a.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function(e){for(var r=function(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}(e=e||t.documentElement),n=r.length,i=0;i<n;i++)p(r[i]);p(e)},getReadyState:function(){return l},ready:function(r){r&&("complete"==l||"interactive"==l?e.setTimeout((function(){r()})):t.addEventListener&&t.addEventListener("localized",(function e(){t.removeEventListener("localized",e),r()})))}}}(window,document)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var n=r(2),i=r(11),s=r(3);const a={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=a;const o={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"};let l=null;function h(e){if(!l){const e=Object.keys(o).join("");l=new RegExp(`[${e}]`,"g")}return e.replace(l,(function(e){return o[e]}))}t.PDFFindController=class{constructor({linkService:e,eventBus:t}){this._linkService=e,this._eventBus=t,this._reset(),t._on("findbarclose",this._onFindBarClose.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(e){this._pdfDocument&&this._reset(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}executeCommand(e,t){if(!t)return;const r=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(e,t))&&(this._dirtyMatch=!0),this._state=t,"findhighlightallchange"!==e&&this._updateUIState(a.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||r&&this._pdfDocument!==r)return;this._extractText();const t=!this._highlightMatches,n=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),"find"===e?this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250):this._dirtyMatch?this._nextMatch():"findagain"===e?(this._nextMatch(),t&&this._state.highlightAll&&this._updateAllPages()):"findhighlightallchange"===e?(n?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch()})}scrollMatchIntoView({element:e=null,pageIndex:t=-1,matchIndex:r=-1}){this._scrollMatches&&e&&-1!==r&&r===this._selected.matchIdx&&-1!==t&&t===this._selected.pageIdx&&(this._scrollMatches=!1,(0,s.scrollIntoView)(e,{top:-50,left:-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,n.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=h(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(e,t){if(t.query!==this._state.query)return!0;switch(e){case"findagain":const e=this._selected.pageIdx+1,t=this._linkService;return e>=1&&e<=t.pagesCount&&e!==t.page&&!t.isPageVisible(e);case"findhighlightallchange":return!1}return!0}_prepareMatches(e,t,r){function n(t){const r=e[t];if(t<e.length-1&&r.match===e[t+1].match)return r.skipped=!0,!0;for(let n=t-1;n>=0;n--){const t=e[n];if(!t.skipped){if(t.match+t.matchLength<r.match)break;if(t.match+t.matchLength>=r.match+r.matchLength)return r.skipped=!0,!0}}return!1}e.sort((function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match}));for(let i=0,s=e.length;i<s;i++)n(i)||(t.push(e[i].match),r.push(e[i].matchLength))}_isEntireWord(e,t,r){if(t>0){const r=e.charCodeAt(t),n=e.charCodeAt(t-1);if((0,i.getCharacterType)(r)===(0,i.getCharacterType)(n))return!1}const n=t+r-1;if(n<e.length-1){const t=e.charCodeAt(n),r=e.charCodeAt(n+1);if((0,i.getCharacterType)(t)===(0,i.getCharacterType)(r))return!1}return!0}_calculatePhraseMatch(e,t,r,n){const i=[],s=e.length;let a=-s;for(;a=r.indexOf(e,a+s),-1!==a;)n&&!this._isEntireWord(r,a,s)||i.push(a);this._pageMatches[t]=i}_calculateWordMatch(e,t,r,n){const i=[],s=e.match(/\S+/g);for(let a=0,o=s.length;a<o;a++){const e=s[a],t=e.length;let o=-t;for(;o=r.indexOf(e,o+t),-1!==o;)n&&!this._isEntireWord(r,o,t)||i.push({match:o,matchLength:t,skipped:!1})}this._pageMatchesLength[t]=[],this._pageMatches[t]=[],this._prepareMatches(i,this._pageMatches[t],this._pageMatchesLength[t])}_calculateMatch(e){let t=this._pageContents[e],r=this._query;const{caseSensitive:n,entireWord:i,phraseSearch:s}=this._state;if(0===r.length)return;n||(t=t.toLowerCase(),r=r.toLowerCase()),s?this._calculatePhraseMatch(r,e,t,i):this._calculateWordMatch(r,e,t,i),this._state.highlightAll&&this._updatePage(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this._nextPageMatch());const a=this._pageMatches[e].length;a>0&&(this._matchesCountTotal+=a,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();for(let t=0,r=this._linkService.pagesCount;t<r;t++){const r=(0,n.createPromiseCapability)();this._extractTextPromises[t]=r.promise,e=e.then(()=>this._pdfDocument.getPage(t+1).then(e=>e.getTextContent({normalizeWhitespace:!0})).then(e=>{const n=e.items,i=[];for(let t=0,r=n.length;t<r;t++)i.push(n[t].str);this._pageContents[t]=h(i.join("")),r.resolve(t)},e=>{console.error("Unable to get text content for page "+(t+1),e),this._pageContents[t]="",r.resolve(t)}))}}_updatePage(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const e=this._state.findPrevious,t=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let e=0;e<r;e++)!0!==this._pendingFindMatches[e]&&(this._pendingFindMatches[e]=!0,this._extractTextPromises[e].then(e=>{delete this._pendingFindMatches[e],this._calculateMatch(e)}))}if(""===this._query)return void this._updateUIState(a.FOUND);if(this._resumePageIdx)return;const n=this._offset;if(this._pagesToSearch=r,null!==n.matchIdx){const t=this._pageMatches[n.pageIdx].length;if(!e&&n.matchIdx+1<t||e&&n.matchIdx>0)return n.matchIdx=e?n.matchIdx-1:n.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(e)}this._nextPageMatch()}_matchesReady(e){const t=this._offset,r=e.length,n=this._state.findPrevious;return r?(t.matchIdx=n?r-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(n),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this._matchesReady(e))}_advanceOffsetPage(e){const t=this._offset,r=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=r||t.pageIdx<0)&&(t.pageIdx=e?r-1:0,t.wrapped=!0)}_updateMatch(e=!1){let t=a.NOT_FOUND;const r=this._offset.wrapped;if(this._offset.wrapped=!1,e){const e=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=r?a.WRAPPED:a.FOUND,-1!==e&&e!==this._selected.pageIdx&&this._updatePage(e)}this._updateUIState(t,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(a.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:e,matchIdx:t}=this._selected;let r=0,n=this._matchesCountTotal;if(-1!==t){for(let t=0;t<e;t++)r+=this._pageMatches[t]&&this._pageMatches[t].length||0;r+=t+1}return(r<1||r>n)&&(r=n=0),{current:r,total:n}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(e,t){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,matchesCount:this._requestMatchesCount()})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCharacterType=function(e){return function(e){return e<11904}(e)?function(e){return 0==(65408&e)}(e)?function(e){return 32===e||9===e||13===e||10===e}(e)?n.SPACE:function(e){return e>=97&&e<=122||e>=65&&e<=90}(e)||function(e){return e>=48&&e<=57}(e)||95===e?n.ALPHA_LETTER:n.PUNCT:function(e){return 3584==(65408&e)}(e)?n.THAI_LETTER:160===e?n.SPACE:n.ALPHA_LETTER:function(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}(e)?n.HAN_LETTER:function(e){return e>=12448&&e<=12543}(e)?n.KATAKANA_LETTER:function(e){return e>=12352&&e<=12447}(e)?n.HIRAGANA_LETTER:function(e){return e>=65376&&e<=65439}(e)?n.HALFWIDTH_KATAKANA_LETTER:n.ALPHA_LETTER},t.CharacterType=void 0;const n={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDestHashesEqual=s,t.isDestArraysEqual=a,t.PDFHistory=void 0;var n=r(3);function i(){return document.location.hash}function s(e,t){if("string"!=typeof e||"string"!=typeof t)return!1;if(e===t)return!0;const{nameddest:r}=(0,n.parseQueryString)(e);return r===t}function a(e,t){function r(e,t){if(typeof e!=typeof t)return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null!==e&&"object"==typeof e&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!r(e[n],t[n]))return!1;return!0}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}t.PDFHistory=class{constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",e=>{this._isViewerInPresentationMode=e.active||e.switchInProgress}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1;const e=t=>{this.eventBus._off("pagesloaded",e),this._isPagesLoaded=!!t.pagesCount};this.eventBus._on("pagesloaded",e)})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:r=!1}){if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const n=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===r,this._initialized=!0,this._bindEvents();const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=i(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(s,!0)||t){const{hash:e,page:r,rotation:i}=this._parseCurrentHash(!0);return!e||n||t?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:e,page:r,rotation:i},!0)}const a=s.destination;this._updateInternalState(a,s.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==a.rotation&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark="page="+a.page)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:r}){if(!this._initialized)return;if(e&&"string"!=typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(t))return void console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);if(!(Number.isInteger(r)&&r>0&&r<=this.linkService.pagesCount)&&(null!==r||this._destination))return void console.error(`PDFHistory.push: "${r}" is not a valid pageNumber parameter.`);const n=e||JSON.stringify(t);if(!n)return;let i=!1;if(this._destination&&(s(this._destination.hash,n)||a(this._destination.dest,t))){if(this._destination.page)return;i=!0}this._popStateInProgress&&!i||(this._pushOrReplaceState({dest:t,hash:n,page:r,rotation:this.linkService.rotation},i),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushCurrentPosition(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e,t=!1){const r=t||!this._destination,n={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:e};let i;if(this._updateInternalState(e,n.uid),this._updateUrl&&e&&e.hash){const t=document.location.href.split("#")[0];t.startsWith("file://")||(i=`${t}#${e.hash}`)}r?window.history.replaceState(n,"",i):(this._maxUid=this._uid,window.history.pushState(n,"",i))}_tryPushCurrentPosition(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination)return void this._pushOrReplaceState(t);if(this._destination.temporary)return void this._pushOrReplaceState(t,!0);if(this._destination.hash===t.hash)return;if(!this._destination.page&&this._numPositionUpdates<=50)return;let r=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest||!this._destination.first)return;r=!0}this._pushOrReplaceState(t,r)}_isValidState(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[t]=performance.getEntriesByType("navigation");if(!t||"reload"!==t.type)return!1}}return!(!Number.isInteger(e.uid)||e.uid<0)&&null!==e.destination&&"object"==typeof e.destination}_updateInternalState(e,t,r=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),r&&e&&e.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._numPositionUpdates=0}_parseCurrentHash(e=!1){const t=unescape(i()).substring(1),r=(0,n.parseQueryString)(t),s=r.nameddest||"";let a=0|r.page;return Number.isInteger(a)&&a>0&&a<=this.linkService.pagesCount&&!(e&&s.length>0)||(a=null),{hash:t,page:a,rotation:this.linkService.rotation}}_updateViewarea({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page="+e.pageNumber:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:e}){const t=i(),r=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:e,page:t,rotation:r}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:e,page:t,rotation:r},!0)}if(!this._isValidState(e))return;this._popStateInProgress=!0,r&&(this._blockHashChange++,(0,n.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const s=e.destination;this._updateInternalState(s,e.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,n.isValidRotation)(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.navigateTo(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var n=r(3),i=r(2),s=r(14);const a=r(7).viewerCompatibilityParams.maxCanvasPixels||16777216;t.PDFPageView=class{constructor(e){const t=e.container,r=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||n.DEFAULT_SCALE,this.viewport=r,this.pdfPageRotate=r.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:n.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms=e.renderInteractiveForms||!1,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels||a,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.textLayerFactory=e.textLayerFactory,this.annotationLayerFactory=e.annotationLayerFactory,this.renderer=e.renderer||n.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.l10n=e.l10n||n.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=s.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;const i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),this.div=i,t.appendChild(i)}setPdfPage(e){this.pdfPage=e,this.pdfPageRotate=e.rotate,this.viewport=e.getViewport({scale:this.scale*n.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.stats=e.stats,this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;const t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset(e=!1,t=!1){this.cancelRendering(t),this.renderingState=s.RenderingStates.INITIAL;const r=this.div;r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px";const n=r.childNodes,i=e&&this.zoomLayer||null,a=t&&this.annotationLayer&&this.annotationLayer.div||null;for(let s=n.length-1;s>=0;s--){const e=n[s];i!==e&&a!==e&&r.removeChild(e)}r.removeAttribute("data-loaded"),a?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),i||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",r.appendChild(this.loadingIconDiv)}update(e,t){if(this.scale=e||this.scale,void 0!==t&&(this.rotation=t),this.viewport=this.viewport.clone({scale:this.scale*n.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});let r=!1;if(this.canvas&&this.maxCanvasPixels>0){const e=this.outputScale;(Math.floor(this.viewport.width)*e.sx|0)*(Math.floor(this.viewport.height)*e.sy|0)>this.maxCanvasPixels&&(r=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&r)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}cancelRendering(e=!1){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!e&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}cssTransform(e,t=!1){const r=this.viewport.width,n=this.viewport.height,i=this.div;e.style.width=e.parentNode.style.width=i.style.width=Math.floor(r)+"px",e.style.height=e.parentNode.style.height=i.style.height=Math.floor(n)+"px";const s=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,a=Math.abs(s);let o=1,l=1;if(90!==a&&270!==a||(o=n/r,l=r/n),e.style.transform="rotate("+s+"deg) scale("+o+","+l+")",this.textLayer){const e=this.textLayer.viewport,t=Math.abs(this.viewport.rotation-e.rotation);let n=r/e.width;90!==t&&270!==t||(n=r/e.height);const i=this.textLayer.textLayerDiv;let s,a;switch(t){case 0:s=a=0;break;case 90:s=0,a="-"+i.style.height;break;case 180:s="-"+i.style.width,a="-"+i.style.height;break;case 270:s="-"+i.style.width,a=0;break;default:console.error("Bad rotation value.")}i.style.transform="rotate("+t+"deg) scale("+n+", "+n+") translate("+s+", "+a+")",i.style.transformOrigin="0% 0%"}t&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}draw(){this.renderingState!==s.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:e,pdfPage:t}=this;if(!t)return this.renderingState=s.RenderingStates.FINISHED,this.loadingIconDiv&&(e.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=s.RenderingStates.RUNNING;const r=document.createElement("div");r.style.width=e.style.width,r.style.height=e.style.height,r.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?e.insertBefore(r,this.annotationLayer.div):e.appendChild(r);let a=null;if(this.textLayerMode!==n.TextLayerMode.DISABLE&&this.textLayerFactory){const t=document.createElement("div");t.className="textLayer",t.style.width=r.style.width,t.style.height=r.style.height,this.annotationLayer&&this.annotationLayer.div?e.insertBefore(t,this.annotationLayer.div):e.appendChild(t),a=this.textLayerFactory.createTextLayerBuilder(t,this.id-1,this.viewport,this.textLayerMode===n.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=a;let o=null;this.renderingQueue&&(o=e=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=s.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=s.RenderingStates.RUNNING,e()});e()});const l=async r=>{if(h===this.paintTask&&(this.paintTask=null),r instanceof i.RenderingCancelledException)this.error=null;else if(this.renderingState=s.RenderingStates.FINISHED,this.loadingIconDiv&&(e.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),this._resetZoomLayer(!0),this.error=r,this.stats=t.stats,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now()}),r)throw r},h=this.renderer===n.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);h.onRenderContinue=o,this.paintTask=h;const c=h.promise.then((function(){return l(null).then((function(){if(a){const e=t.streamTextContent({normalizeWhitespace:!0});a.setTextContentStream(e),a.render()}}))}),(function(e){return l(e)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(e,t,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),c}paintOnCanvas(e){const t=(0,i.createPromiseCapability)(),r={promise:t.promise,onRenderContinue(e){e()},cancel(){p.cancel()}},s=this.viewport,a=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then(e=>{a.setAttribute("aria-label",e)}),a.setAttribute("hidden","hidden");let o=!0;const l=function(){o&&(a.removeAttribute("hidden"),o=!1)};e.appendChild(a),this.canvas=a,a.mozOpaque=!0;const h=a.getContext("2d",{alpha:!1}),c=(0,n.getOutputScale)(h);if(this.outputScale=c,this.useOnlyCssZoom){const e=s.clone({scale:n.CSS_UNITS});c.sx*=e.width/s.width,c.sy*=e.height/s.height,c.scaled=!0}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(s.width*s.height));c.sx>e||c.sy>e?(c.sx=e,c.sy=e,c.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const u=(0,n.approximateFraction)(c.sx),d=(0,n.approximateFraction)(c.sy);a.width=(0,n.roundToDivide)(s.width*c.sx,u[0]),a.height=(0,n.roundToDivide)(s.height*c.sy,d[0]),a.style.width=(0,n.roundToDivide)(s.width,u[1])+"px",a.style.height=(0,n.roundToDivide)(s.height,d[1])+"px",this.paintedViewportMap.set(a,s);const p=this.pdfPage.render({canvasContext:h,transform:c.scaled?[c.sx,0,0,c.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});return p.onContinue=function(e){l(),r.onRenderContinue?r.onRenderContinue(e):e()},p.promise.then((function(){l(),t.resolve(void 0)}),(function(e){l(),t.reject(e)})),r}paintOnSvg(e){let t=!1;const r=()=>{if(t)throw new i.RenderingCancelledException("Rendering cancelled, page "+this.id,"svg")},a=this.pdfPage,o=this.viewport.clone({scale:n.CSS_UNITS});return{promise:a.getOperatorList().then(t=>(r(),new i.SVGGraphics(a.commonObjs,a.objs).getSVG(t,o).then(t=>{r(),this.svg=t,this.paintedViewportMap.set(t,o),t.style.width=e.style.width,t.style.height=e.style.height,this.renderingState=s.RenderingStates.FINISHED,e.appendChild(t)}))),onRenderContinue(e){e()},cancel(){t=!0}}}setPageLabel(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFRenderingQueue=t.RenderingStates=void 0;const n={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.RenderingStates=n,t.PDFRenderingQueue=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}getHighestPriority(e,t,r){const n=e.views,i=n.length;if(0===i)return null;for(let s=0;s<i;++s){const e=n[s].view;if(!this.isViewFinished(e))return e}if(r){const r=e.last.id;if(t[r]&&!this.isViewFinished(t[r]))return t[r]}else{const r=e.first.id-2;if(t[r]&&!this.isViewFinished(t[r]))return t[r]}return null}isViewFinished(e){return e.renderingState===n.FINISHED}renderView(e){switch(e.renderingState){case n.FINISHED:return!1;case n.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case n.RUNNING:this.highestPriorityPage=e.renderingId;break;case n.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(e=>{console.error(`renderView: "${e}"`)})}return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSinglePageViewer=void 0;var n=r(16),i=r(2);t.PDFSinglePageViewer=class extends n.BaseViewer{constructor(e){super(e),this.eventBus._on("pagesinit",e=>{this._ensurePageViewVisible()})}get _viewerElement(){return(0,i.shadow)(this,"_viewerElement",this._shadowViewer)}_resetView(){super._resetView(),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}_ensurePageViewVisible(){const e=this._pages[this._currentPageNumber-1],t=this._pages[this._previousPageNumber-1],r=this.viewer.childNodes;switch(r.length){case 0:this.viewer.appendChild(e.div);break;case 1:if(r[0]!==t.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(e===t)break;this._shadowViewer.appendChild(t.div),this.viewer.appendChild(e.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}_scrollUpdate(){this._updateScrollDown&&this._updateScrollDown(),super._scrollUpdate()}_scrollIntoView({pageDiv:e,pageSpot:t=null,pageNumber:r=null}){r&&this._setCurrentPageNumber(r);const n=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),super._scrollIntoView({pageDiv:e,pageSpot:t,pageNumber:r}),this._updateScrollDown=()=>{this.scroll.down=n,this._updateScrollDown=null}}_getVisiblePages(){return this._getCurrentVisiblePage()}_updateHelper(e){}get _isScrollModeHorizontal(){return(0,i.shadow)(this,"_isScrollModeHorizontal",!1)}_updateScrollMode(){}_updateSpreadMode(){}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseViewer=void 0;var n=r(3),i=r(14),s=r(1),a=r(2),o=r(13),l=r(4),h=r(5);function c(e){const t=[];this.push=function(r){const n=t.indexOf(r);n>=0&&t.splice(n,1),t.push(r),t.length>e&&t.shift().destroy()},this.resize=function(r,i){if(e=r,i){const e=new Set;for(let t=0,r=i.length;t<r;++t)e.add(i[t].id);(0,n.moveToEndOfArray)(t,(function(t){return e.has(t.id)}))}for(;t.length>e;)t.shift().destroy()}}class u{constructor(e){if(this.constructor===u)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.eventBus=e.eventBus,this.linkService=e.linkService||new l.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.removePageBorders=e.removePageBorders||!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:n.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms=e.renderInteractiveForms||!1,this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.renderer=e.renderer||n.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n||n.NullL10n,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new i.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=(0,n.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=n.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every((function(e){return e&&e.pdfPage}))}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`${this._name}.currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){return this._currentPageNumber===e?(t&&this._resetCurrentPageView(),!0):0<e&&e<=this.pagesCount&&(this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels&&this._pageLabels[e-1]}),t&&this._resetCurrentPageView(),!0)}get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]}set currentPageLabel(e){if(!this.pdfDocument)return;let t=0|e;if(this._pageLabels){const r=this._pageLabels.indexOf(e);r>=0&&(t=r+1)}this._setCurrentPageNumber(t,!0)||console.error(`${this._name}.currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==n.UNKNOWN_SCALE?this._currentScale:n.DEFAULT_SCALE}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(e,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this._setScale(e,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!(0,n.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument)return;if(this._pagesRotation===e)return;this._pagesRotation=e;const t=this._currentPageNumber;for(let r=0,n=this._pages.length;r<n;r++){const t=this._pages[r];t.update(t.scale,e)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _viewerElement(){throw new Error("Not implemented: _viewerElement")}_onePageRenderedOrForceFetch(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}setDocument(e){if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=e,!e)return;const t=e.numPages,r=e.getPage(1);this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:t})}),this._onBeforeDraw=e=>{const t=this._pages[e.pageNumber-1];t&&this._buffer.push(t)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=e=>{e.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve(),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),r.then(r=>{this._firstPageCapability.resolve(r);const i=this.currentScale,s=r.getViewport({scale:i*n.CSS_UNITS}),a=this.textLayerMode!==n.TextLayerMode.DISABLE?this:null;for(let e=1;e<=t;++e){const t=new o.PDFPageView({container:this._viewerElement,eventBus:this.eventBus,id:e,scale:i,defaultViewport:s.clone(),renderingQueue:this.renderingQueue,textLayerFactory:a,textLayerMode:this.textLayerMode,annotationLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderInteractiveForms:this.renderInteractiveForms,renderer:this.renderer,enableWebGL:this.enableWebGL,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(t)}const l=this._pages[0];l&&(l.setPdfPage(r),this.linkService.cachePageRef(1,r.ref)),this._spreadMode!==n.SpreadMode.NONE&&this._updateSpreadMode(),this._onePageRenderedOrForceFetch().then(()=>{if(this.findController&&this.findController.setDocument(e),e.loadingParams.disableAutoFetch||t>7500)return void this._pagesCapability.resolve();let r=t-1;if(r<=0)this._pagesCapability.resolve();else for(let n=2;n<=t;++n)e.getPage(n).then(e=>{const t=this._pages[n-1];t.pdfPage||t.setPdfPage(e),this.linkService.cachePageRef(n,e.ref),0==--r&&this._pagesCapability.resolve()},e=>{console.error(`Unable to get page ${n} to initialize viewer`,e),0==--r&&this._pagesCapability.resolve()})}),this.eventBus.dispatch("pagesinit",{source:this}),this.defaultRenderingQueue&&this.update()}).catch(e=>{console.error("Unable to initialize viewer",e)})}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let e=0,t=this._pages.length;e<t;e++)this._pages[e].setPageLabel(this._pageLabels&&this._pageLabels[e])}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=n.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new c(10),this._location=null,this._pagesRotation=0,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,a.createPromiseCapability)(),this._onePageRenderedCapability=(0,a.createPromiseCapability)(),this._pagesCapability=(0,a.createPromiseCapability)(),this._scrollMode=n.ScrollMode.VERTICAL,this._spreadMode=n.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:e,pageSpot:t=null,pageNumber:r=null}){(0,n.scrollIntoView)(e,t)}_setScaleUpdatePages(e,t,r=!1,n=!1){if(this._currentScaleValue=t.toString(),function(e,t){return t===e||Math.abs(t-e)<1e-15}(this._currentScale,e))n&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});else{for(let t=0,r=this._pages.length;t<r;t++)this._pages[t].update(e);if(this._currentScale=e,!r){let e,t=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(t=this._location.pageNumber,e=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:t,destArray:e,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:n?t:void 0}),this.defaultRenderingQueue&&this.update()}}_setScale(e,t=!1){let r=parseFloat(e);if(r>0)this._setScaleUpdatePages(r,e,t,!1);else{const i=this._pages[this._currentPageNumber-1];if(!i)return;const s=this.isInPresentationMode||this.removePageBorders;let a=s?0:n.SCROLLBAR_PADDING,o=s?0:n.VERTICAL_PADDING;!s&&this._isScrollModeHorizontal&&([a,o]=[o,a]);const l=(this.container.clientWidth-a)/i.width*i.scale,h=(this.container.clientHeight-o)/i.height*i.scale;switch(e){case"page-actual":r=1;break;case"page-width":r=l;break;case"page-height":r=h;break;case"page-fit":r=Math.min(l,h);break;case"auto":const t=(0,n.isPortraitOrientation)(i)?l:Math.min(h,l);r=Math.min(n.MAX_AUTO_SCALE,t);break;default:return void console.error(`${this._name}._setScale: "${e}" is an unknown zoom value.`)}this._setScaleUpdatePages(r,e,t,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:r=!1,ignoreDestinationZoom:i=!1}){if(!this.pdfDocument)return;const s=Number.isInteger(e)&&this._pages[e-1];if(!s)return void console.error(this._name+".scrollPageIntoView: "+`"${e}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!t)return void this._setCurrentPageNumber(e,!0);let a,o,l=0,h=0,c=0,u=0;const d=s.rotation%180!=0,p=(d?s.height:s.width)/s.scale/n.CSS_UNITS,f=(d?s.width:s.height)/s.scale/n.CSS_UNITS;let g=0;switch(t[1].name){case"XYZ":l=t[2],h=t[3],g=t[4],l=null!==l?l:0,h=null!==h?h:f;break;case"Fit":case"FitB":g="page-fit";break;case"FitH":case"FitBH":h=t[2],g="page-width",null===h&&this._location&&(l=this._location.left,h=this._location.top);break;case"FitV":case"FitBV":l=t[2],c=p,u=f,g="page-height";break;case"FitR":l=t[2],h=t[3],c=t[4]-l,u=t[5]-h,a=(this.container.clientWidth-(this.removePageBorders?0:n.SCROLLBAR_PADDING))/c/n.CSS_UNITS,o=(this.container.clientHeight-(this.removePageBorders?0:n.VERTICAL_PADDING))/u/n.CSS_UNITS,g=Math.min(Math.abs(a),Math.abs(o));break;default:return void console.error(this._name+".scrollPageIntoView: "+`"${t[1].name}" is not a valid destination type.`)}if(i||(g&&g!==this._currentScale?this.currentScaleValue=g:this._currentScale===n.UNKNOWN_SCALE&&(this.currentScaleValue=n.DEFAULT_SCALE_VALUE)),"page-fit"===g&&!t[4])return void this._scrollIntoView({pageDiv:s.div,pageNumber:e});const m=[s.viewport.convertToViewportPoint(l,h),s.viewport.convertToViewportPoint(l+c,h+u)];let _=Math.min(m[0][0],m[1][0]),v=Math.min(m[0][1],m[1][1]);r||(_=Math.max(_,0),v=Math.max(v,0)),this._scrollIntoView({pageDiv:s.div,pageSpot:{left:_,top:v},pageNumber:e})}_updateLocation(e){const t=this._currentScale,r=this._currentScaleValue,n=parseFloat(r)===t?Math.round(1e4*t)/100:r,i=e.id;let s="#page="+i;s+="&zoom="+n;const a=this.container,o=this._pages[i-1].getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y),l=Math.round(o[0]),h=Math.round(o[1]);s+=","+l+","+h,this._location={pageNumber:i,scale:n,top:h,left:l,rotation:this._pagesRotation,pdfOpenParams:s}}_updateHelper(e){throw new Error("Not implemented: _updateHelper")}update(){const e=this._getVisiblePages(),t=e.views,r=t.length;if(0===r)return;const n=Math.max(10,2*r+1);this._buffer.resize(n,t),this.renderingQueue.renderHighestPriority(e),this._updateHelper(t),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isScrollModeHorizontal(){return!this.isInPresentationMode&&this._scrollMode===n.ScrollMode.HORIZONTAL}get isInPresentationMode(){return this.presentationModeState===n.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===n.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const e=this._pages[this._currentPageNumber-1],t=e.div,r={id:e.id,x:t.offsetLeft+t.clientLeft,y:t.offsetTop+t.clientTop,view:e};return{first:r,last:r,views:[r]}}_getVisiblePages(){return(0,n.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}isPageVisible(e){return!!this.pdfDocument&&(e<1||e>this.pagesCount?(console.error(`${this._name}.isPageVisible: "${e}" is out of bounds.`),!1):this._getVisiblePages().views.some((function(t){return t.id===e})))}cleanup(){for(let e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].renderingState!==i.RenderingStates.FINISHED&&this._pages[e].reset()}_cancelRendering(){for(let e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].cancelRendering()}_ensurePdfPageLoaded(e){if(e.pdfPage)return Promise.resolve(e.pdfPage);if(this._pagesRequests.has(e))return this._pagesRequests.get(e);const t=this.pdfDocument.getPage(e.id).then(t=>(e.pdfPage||e.setPdfPage(t),this._pagesRequests.delete(e),t)).catch(t=>{console.error("Unable to get page for page view",t),this._pagesRequests.delete(e)});return this._pagesRequests.set(e,t),t}forceRendering(e){const t=e||this._getVisiblePages(),r=this.renderingQueue.getHighestPriority(t,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!r&&(this._ensurePdfPageLoaded(r).then(()=>{this.renderingQueue.renderView(r)}),!0)}createTextLayerBuilder(e,t,r,n=!1,i){return new h.TextLayerBuilder({textLayerDiv:e,eventBus:i,pageIndex:t,viewport:r,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&n})}createAnnotationLayerBuilder(e,t,r="",i=!1,a=n.NullL10n){return new s.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,imageResourcesPath:r,renderInteractiveForms:i,linkService:this.linkService,downloadManager:this.downloadManager,l10n:a})}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,r=this._pages.length;t<r;++t){const r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}getPagesOverview(){const e=this._pages.map((function(e){const t=e.pdfPage.getViewport({scale:1});return{width:t.width,height:t.height,rotation:t.rotation}}));if(!this.enablePrintAutoRotate)return e;const t=(0,n.isPortraitOrientation)(e[0]);return e.map((function(e){return t===(0,n.isPortraitOrientation)(e)?e:{width:e.height,height:e.width,rotation:(e.rotation+90)%360}}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!(0,n.isValidScrollMode)(e))throw new Error("Invalid scroll mode: "+e);this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber)}}_updateScrollMode(e=null){const t=this._scrollMode,r=this.viewer;r.classList.toggle("scrollHorizontal",t===n.ScrollMode.HORIZONTAL),r.classList.toggle("scrollWrapped",t===n.ScrollMode.WRAPPED),this.pdfDocument&&e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!(0,n.isValidSpreadMode)(e))throw new Error("Invalid spread mode: "+e);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,r=this._pages;if(t.textContent="",this._spreadMode===n.SpreadMode.NONE)for(let n=0,i=r.length;n<i;++n)t.appendChild(r[n].div);else{const e=this._spreadMode-1;let n=null;for(let i=0,s=r.length;i<s;++i)null===n?(n=document.createElement("div"),n.className="spread",t.appendChild(n)):i%2===e&&(n=n.cloneNode(!1),t.appendChild(n)),n.appendChild(r[i].div)}e&&(this._setCurrentPageNumber(e,!0),this.update())}}t.BaseViewer=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=void 0;var n=r(16),i=r(2);t.PDFViewer=class extends n.BaseViewer{get _viewerElement(){return(0,i.shadow)(this,"_viewerElement",this.viewer)}_scrollIntoView({pageDiv:e,pageSpot:t=null,pageNumber:r=null}){if(!t&&!this.isInPresentationMode){const r=e.offsetLeft+e.clientLeft,n=r+e.clientWidth,{scrollLeft:i,clientWidth:s}=this.container;(this._isScrollModeHorizontal||r<i||n>i+s)&&(t={left:0,top:0})}super._scrollIntoView({pageDiv:e,pageSpot:t,pageNumber:r})}_getVisiblePages(){return this.isInPresentationMode?this._getCurrentVisiblePage():super._getVisiblePages()}_updateHelper(e){if(this.isInPresentationMode)return;let t=this._currentPageNumber,r=!1;for(const n of e){if(n.percent<100)break;if(n.id===t){r=!0;break}}r||(t=e[0].id),this._setCurrentPageNumber(t)}}}])})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Raphael=t():e.Raphael=t()}(this,(function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var n,i;n=[r(1),r(3),r(4)],void 0===(i=(function(e){return e}).apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(2)],void 0===(i=(function(e){function t(r){if(t.is(r,"function"))return _?r():e.on("raphael.DOMload",r);if(t.is(r,V))return t._engine.create[P](t,r.splice(0,3+t.is(r[0],H))).add(r);var n=Array.prototype.slice.call(arguments,0);if(t.is(n[n.length-1],"function")){var i=n.pop();return _?i.call(t._engine.create[P](t,n)):e.on("raphael.DOMload",(function(){i.call(t._engine.create[P](t,n))}))}return t._engine.create[P](t,arguments)}function r(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[A](n)&&(t[n]=r(e[n]));return t}function n(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return e.push(e.splice(r,1)[0])}function i(e,t,r){return function i(){var s=Array.prototype.slice.call(arguments,0),a=s.join("␀"),o=i.cache=i.cache||{},l=i.count=i.count||[];return o[A](a)?(n(l,a),r?r(o[a]):o[a]):(l.length>=1e3&&delete o[l.shift()],l.push(a),o[a]=e[P](t,s),r?r(o[a]):o[a])}}function s(){return this.hex}function a(e,t){for(var r=[],n=0,i=e.length;i-2*!t>n;n+=2){var s=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];t?n?i-4==n?s[3]={x:+e[0],y:+e[1]}:i-2==n&&(s[2]={x:+e[0],y:+e[1]},s[3]={x:+e[2],y:+e[3]}):s[0]={x:+e[i-2],y:+e[i-1]}:i-4==n?s[3]=s[2]:n||(s[0]={x:+e[n],y:+e[n+1]}),r.push(["C",(6*s[1].x-s[0].x+s[2].x)/6,(6*s[1].y-s[0].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return r}function o(e,t,r,n,i){return e*(e*(-3*t+9*r-9*n+3*i)+6*t-12*r+6*n)-3*t+3*r}function l(e,t,r,n,i,s,a,l,h){null==h&&(h=1);for(var c=(h=h>1?1:h<0?0:h)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<12;f++){var g=c*u[f]+c,m=o(g,e,r,i,a),_=o(g,t,n,s,l);p+=d[f]*N.sqrt(m*m+_*_)}return c*p}function h(e,t,r,n,i,s,a,o){if(!(O(e,r)<B(i,a)||B(e,r)>O(i,a)||O(t,n)<B(s,o)||B(t,n)>O(s,o))){var l=(e-r)*(s-o)-(t-n)*(i-a);if(l){var h=((e*n-t*r)*(i-a)-(e-r)*(i*o-s*a))/l,c=((e*n-t*r)*(s-o)-(t-n)*(i*o-s*a))/l,u=+h.toFixed(2),d=+c.toFixed(2);if(!(u<+B(e,r).toFixed(2)||u>+O(e,r).toFixed(2)||u<+B(i,a).toFixed(2)||u>+O(i,a).toFixed(2)||d<+B(t,n).toFixed(2)||d>+O(t,n).toFixed(2)||d<+B(s,o).toFixed(2)||d>+O(s,o).toFixed(2)))return{x:h,y:c}}}}function c(e,r,n){var i=t.bezierBBox(e),s=t.bezierBBox(r);if(!t.isBBoxIntersect(i,s))return n?0:[];for(var a=l.apply(0,e),o=l.apply(0,r),c=O(~~(a/5),1),u=O(~~(o/5),1),d=[],p=[],f={},g=n?0:[],m=0;m<c+1;m++){var _=t.findDotsAtSegment.apply(t,e.concat(m/c));d.push({x:_.x,y:_.y,t:m/c})}for(m=0;m<u+1;m++)_=t.findDotsAtSegment.apply(t,r.concat(m/u)),p.push({x:_.x,y:_.y,t:m/u});for(m=0;m<c;m++)for(var v=0;v<u;v++){var y=d[m],b=d[m+1],x=p[v],A=p[v+1],w=j(b.x-y.x)<.001?"y":"x",S=j(A.x-x.x)<.001?"y":"x",C=h(y.x,y.y,b.x,b.y,x.x,x.y,A.x,A.y);if(C){if(f[C.x.toFixed(4)]==C.y.toFixed(4))continue;f[C.x.toFixed(4)]=C.y.toFixed(4);var P=y.t+j((C[w]-y[w])/(b[w]-y[w]))*(b.t-y.t),k=x.t+j((C[S]-x[S])/(A[S]-x[S]))*(A.t-x.t);P>=0&&P<=1.001&&k>=0&&k<=1.001&&(n?g++:g.push({x:C.x,y:C.y,t1:B(P,1),t2:B(k,1)}))}}return g}function u(e,r,n){e=t._path2curve(e),r=t._path2curve(r);for(var i,s,a,o,l,h,u,d,p,f,g=n?0:[],m=0,_=e.length;m<_;m++){var v=e[m];if("M"==v[0])i=l=v[1],s=h=v[2];else{"C"==v[0]?(p=[i,s].concat(v.slice(1)),i=p[6],s=p[7]):(p=[i,s,i,s,l,h,l,h],i=l,s=h);for(var y=0,b=r.length;y<b;y++){var x=r[y];if("M"==x[0])a=u=x[1],o=d=x[2];else{"C"==x[0]?(f=[a,o].concat(x.slice(1)),a=f[6],o=f[7]):(f=[a,o,a,o,u,d,u,d],a=u,o=d);var A=c(p,f,n);if(n)g+=A;else{for(var w=0,S=A.length;w<S;w++)A[w].segment1=m,A[w].segment2=y,A[w].bez1=p,A[w].bez2=f;g=g.concat(A)}}}}}return g}function d(e,t,r,n,i,s){null!=e?(this.a=+e,this.b=+t,this.c=+r,this.d=+n,this.e=+i,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function p(){return this.x+M+this.y+M+this.width+" × "+this.height}function f(e,t){var r=[],n={};if(this.ms=t,this.times=1,e){for(var i in e)e[A](i)&&(n[Q(i)]=e[i],r.push(Q(i)));r.sort(le)}this.anim=n,this.top=r[r.length-1],this.percents=r}function g(r,n,i,s,a,o){i=Q(i);var l,h,c,u,p,f,g=r.ms,m={},_={},v={};if(s)for(x=0,w=rt.length;x<w;x++){var b=rt[x];if(b.el.id==n.id&&b.anim==r){b.percent!=i?(rt.splice(x,1),c=1):h=b,n.attr(b.totalOrigin);break}}else s=+_;for(var x=0,w=r.percents.length;x<w;x++){if(r.percents[x]==i||r.percents[x]>s*r.top){g=g/r.top*((i=r.percents[x])-(p=r.percents[x-1]||0)),u=r.percents[x+1],l=r.anim[i];break}s&&n.attr(r.anim[r.percents[x]])}if(l){if(h)h.initstatus=s,h.start=new Date-h.ms*s;else{for(var S in l)if(l[A](S)&&(ee[A](S)||n.paper.customAttributes[A](S)))switch(m[S]=n.attr(S),null==m[S]&&(m[S]=J[S]),_[S]=l[S],ee[S]){case H:v[S]=(_[S]-m[S])/g;break;case"colour":m[S]=t.getRGB(m[S]);var C=t.getRGB(_[S]);v[S]={r:(C.r-m[S].r)/g,g:(C.g-m[S].g)/g,b:(C.b-m[S].b)/g};break;case"path":var P=Ee(m[S],_[S]),T=P[1];for(m[S]=P[0],v[S]=[],x=0,w=m[S].length;x<w;x++){v[S][x]=[0];for(var R=1,M=m[S][x].length;R<M;R++)v[S][x][R]=(T[x][R]-m[S][x][R])/g}break;case"transform":var D=n._,F=Oe(D[S],_[S]);if(F)for(m[S]=F.from,_[S]=F.to,v[S]=[],v[S].real=!0,x=0,w=m[S].length;x<w;x++)for(v[S][x]=[m[S][x][0]],R=1,M=m[S][x].length;R<M;R++)v[S][x][R]=(_[S][x][R]-m[S][x][R])/g;else{var I=n.matrix||new d,N={_:{transform:D.transform},getBBox:function(){return n.getBBox(1)}};m[S]=[I.a,I.b,I.c,I.d,I.e,I.f],Ie(N,_[S]),_[S]=N._.transform,v[S]=[(N.matrix.a-I.a)/g,(N.matrix.b-I.b)/g,(N.matrix.c-I.c)/g,(N.matrix.d-I.d)/g,(N.matrix.e-I.e)/g,(N.matrix.f-I.f)/g]}break;case"csv":var O=L(l[S])[E](y),B=L(m[S])[E](y);if("clip-rect"==S)for(m[S]=B,v[S]=[],x=B.length;x--;)v[S][x]=(O[x]-m[S][x])/g;_[S]=O;break;default:for(O=[][k](l[S]),B=[][k](m[S]),v[S]=[],x=n.paper.customAttributes[S].length;x--;)v[S][x]=((O[x]||0)-(B[x]||0))/g}var U=l.easing,W=t.easing_formulas[U];if(!W)if((W=L(U).match(X))&&5==W.length){var Y=W;W=function(e){return function(e,t,r,n,i,s){function a(e){return((h*e+l)*e+o)*e}var o=3*t,l=3*(n-t)-o,h=1-o-l,c=3*r,u=3*(i-r)-c,d=1-c-u;return function(e,t){var r=function(e,t){var r,n,i,s,c,u;for(i=e,u=0;u<8;u++){if(s=a(i)-e,j(s)<t)return i;if(j(c=(3*h*i+2*l)*i+o)<1e-6)break;i-=s/c}if((i=e)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(s=a(i),j(s-e)<t)return i;e>s?r=i:n=i,i=(n-r)/2+r}return i}(e,t);return((d*r+u)*r+c)*r}(e,1/(200*s))}(e,+Y[1],+Y[2],+Y[3],+Y[4],g)}}else W=he;if(b={anim:r,percent:i,timestamp:f=l.start||r.start||+new Date,start:f+(r.del||0),status:0,initstatus:s||0,stop:!1,ms:g,easing:W,from:m,diff:v,to:_,el:n,callback:l.callback,prev:p,next:u,repeat:o||r.times,origin:n.attr(),totalOrigin:a},rt.push(b),s&&!h&&!c&&(b.stop=!0,b.start=new Date-g*s,1==rt.length))return it();c&&(b.start=new Date-b.ms*s),1==rt.length&&nt(it)}e("raphael.anim.start."+n.id,n,r)}}function m(e){for(var t=0;t<rt.length;t++)rt[t].el.paper==e&&rt.splice(t--,1)}t.version="2.2.0",t.eve=e;var _,v,y=/[, ]+/,b={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},x=/\{(\d+)\}/g,A="hasOwnProperty",w={doc:document,win:window},S={was:Object.prototype[A].call(w.win,"Raphael"),is:w.win.Raphael},C=function(){this.ca=this.customAttributes={}},P="apply",k="concat",T="ontouchstart"in w.win||w.win.DocumentTouch&&w.doc instanceof DocumentTouch,R="",M=" ",L=String,E="split",D="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[E](M),F={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},I=L.prototype.toLowerCase,N=Math,O=N.max,B=N.min,j=N.abs,U=N.pow,W=N.PI,H="number",Y="string",V="array",G=Object.prototype.toString,q=(t._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),z={NaN:1,Infinity:1,"-Infinity":1},X=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,$=N.round,Q=parseFloat,K=parseInt,Z=L.prototype.toUpperCase,J=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},ee=t._availableAnimAttrs={blur:H,"clip-rect":"csv",cx:H,cy:H,fill:"colour","fill-opacity":H,"font-size":H,height:H,opacity:H,path:"path",r:H,rx:H,ry:H,stroke:"colour","stroke-opacity":H,"stroke-width":H,transform:"transform",width:H,x:H,y:H},te=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,re={hs:1,rg:1},ne=/,?([achlmqrstvxz]),?/gi,ie=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,se=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ae=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,oe=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),le=function(e,t){return Q(e)-Q(t)},he=function(e){return e},ce=t._rectPath=function(e,t,r,n,i){return i?[["M",e+i,t],["l",r-2*i,0],["a",i,i,0,0,1,i,i],["l",0,n-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-r,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-n],["a",i,i,0,0,1,i,-i],["z"]]:[["M",e,t],["l",r,0],["l",0,n],["l",-r,0],["z"]]},ue=function(e,t,r,n){return null==n&&(n=r),[["M",e,t],["m",0,-n],["a",r,n,0,1,1,0,2*n],["a",r,n,0,1,1,0,-2*n],["z"]]},de=t._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return ue(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return ue(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return ce(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return ce(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return ce(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return ce(t.x,t.y,t.width,t.height)}},pe=t.mapPath=function(e,t){if(!t)return e;var r,n,i,s,a,o,l;for(i=0,a=(e=Ee(e)).length;i<a;i++)for(s=1,o=(l=e[i]).length;s<o;s+=2)r=t.x(l[s],l[s+1]),n=t.y(l[s],l[s+1]),l[s]=r,l[s+1]=n;return e};if(t._g=w,"VML"==(t.type=w.win.SVGAngle||w.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var fe,ge=w.doc.createElement("div");if(ge.innerHTML='<v:shape adj="1"/>',(fe=ge.firstChild).style.behavior="url(#default#VML)",!fe||"object"!=typeof fe.adj)return t.type=R;ge=null}t.svg=!(t.vml="VML"==t.type),t._Paper=C,t.fn=v=C.prototype=t.prototype,t._id=0,t.is=function(e,t){return"finite"==(t=I.call(t))?!z[A](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||G.call(e).slice(8,-1).toLowerCase()==t},t.angle=function(e,r,n,i,s,a){if(null==s){var o=e-n,l=r-i;return o||l?(180+180*N.atan2(-l,-o)/W+360)%360:0}return t.angle(e,r,s,a)-t.angle(n,i,s,a)},t.rad=function(e){return e%360*W/180},t.deg=function(e){return Math.round(180*e/W%360*1e3)/1e3},t.snapTo=function(e,r,n){if(n=t.is(n,"finite")?n:10,t.is(e,V)){for(var i=e.length;i--;)if(j(e[i]-r)<=n)return e[i]}else{var s=r%(e=+e);if(s<n)return r-s;if(s>e-n)return r-s+e}return r},t.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,(function(e){var t=16*N.random()|0;return("x"==e?t:3&t|8).toString(16)})),t.setWindow=function(r){e("raphael.setWindow",t,w.win,r),w.win=r,w.doc=w.win.document,t._engine.initWin&&t._engine.initWin(w.win)};var me=function(e){if(t.vml){var r,n=/^\s+|\s+$/g;try{var s=new ActiveXObject("htmlfile");s.write("<body>"),s.close(),r=s.body}catch(a){r=createPopup().document.body}var o=r.createTextRange();me=i((function(e){try{r.style.color=L(e).replace(n,R);var t=o.queryCommandValue("ForeColor");return"#"+("000000"+(t=(255&t)<<16|65280&t|(16711680&t)>>>16).toString(16)).slice(-6)}catch(i){return"none"}}))}else{var l=w.doc.createElement("i");l.title="Raphaël Colour Picker",l.style.display="none",w.doc.body.appendChild(l),me=i((function(e){return l.style.color=e,w.doc.defaultView.getComputedStyle(l,R).getPropertyValue("color")}))}return me(e)},_e=function(){return"hsb("+[this.h,this.s,this.b]+")"},ve=function(){return"hsl("+[this.h,this.s,this.l]+")"},ye=function(){return this.hex},be=function(e,r,n){if(null==r&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,r=e.g,e=e.r),null==r&&t.is(e,Y)){var i=t.getRGB(e);e=i.r,r=i.g,n=i.b}return(e>1||r>1||n>1)&&(e/=255,r/=255,n/=255),[e,r,n]},xe=function(e,r,n,i){var s={r:e*=255,g:r*=255,b:n*=255,hex:t.rgb(e,r,n),toString:ye};return t.is(i,"finite")&&(s.opacity=i),s};t.color=function(e){var r;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(r=t.hsb2rgb(e),e.r=r.r,e.g=r.g,e.b=r.b,e.hex=r.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(r=t.hsl2rgb(e),e.r=r.r,e.g=r.g,e.b=r.b,e.hex=r.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(r=t.rgb2hsl(e),e.h=r.h,e.s=r.s,e.l=r.l,r=t.rgb2hsb(e),e.v=r.b):(e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1),e.toString=ye,e},t.hsb2rgb=function(e,t,r,n){var i,s,a,o,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(r=e.b,t=e.s,n=e.o,e=e.h),o=(l=r*t)*(1-j((e=(e*=360)%360/60)%2-1)),i=s=a=r-l,xe(i+=[l,o,0,0,o,l][e=~~e],s+=[o,l,l,o,0,0][e],a+=[0,0,o,l,l,o][e],n)},t.hsl2rgb=function(e,t,r,n){var i,s,a,o,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(r=e.l,t=e.s,e=e.h),(e>1||t>1||r>1)&&(e/=360,t/=100,r/=100),o=(l=2*t*(r<.5?r:1-r))*(1-j((e=(e*=360)%360/60)%2-1)),i=s=a=r-l/2,xe(i+=[l,o,0,0,o,l][e=~~e],s+=[o,l,l,o,0,0][e],a+=[0,0,o,l,l,o][e],n)},t.rgb2hsb=function(e,t,r){var n,i;return r=be(e,t,r),{h:((0==(i=(n=O(e=r[0],t=r[1],r=r[2]))-B(e,t,r))?null:n==e?(t-r)/i:n==t?(r-e)/i+2:(e-t)/i+4)+360)%6*60/360,s:0==i?0:i/n,b:n,toString:_e}},t.rgb2hsl=function(e,t,r){var n,i,s,a;return r=be(e,t,r),n=((i=O(e=r[0],t=r[1],r=r[2]))+(s=B(e,t,r)))/2,{h:((0==(a=i-s)?null:i==e?(t-r)/a:i==t?(r-e)/a+2:(e-t)/a+4)+360)%6*60/360,s:0==a?0:n<.5?a/(2*n):a/(2-2*n),l:n,toString:ve}},t._path2string=function(){return this.join(",").replace(ne,"$1")},t._preload=function(e,t){var r=w.doc.createElement("img");r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){t.call(this),this.onload=null,w.doc.body.removeChild(this)},r.onerror=function(){w.doc.body.removeChild(this)},w.doc.body.appendChild(r),r.src=e},t.getRGB=i((function(e){if(!e||(e=L(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:s};!re[A](e.toLowerCase().substring(0,2))&&"#"!=e.charAt()&&(e=me(e));var r,n,i,a,o,l,h=e.match(q);return h?(h[2]&&(i=K(h[2].substring(5),16),n=K(h[2].substring(3,5),16),r=K(h[2].substring(1,3),16)),h[3]&&(i=K((o=h[3].charAt(3))+o,16),n=K((o=h[3].charAt(2))+o,16),r=K((o=h[3].charAt(1))+o,16)),h[4]&&(l=h[4][E](te),r=Q(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),i=Q(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(a=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100)),h[5]?(l=h[5][E](te),r=Q(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),i=Q(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(r/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(a=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),t.hsb2rgb(r,n,i,a)):h[6]?(l=h[6][E](te),r=Q(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),i=Q(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(r/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(a=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),t.hsl2rgb(r,n,i,a)):((h={r:r,g:n,b:i,toString:s}).hex="#"+(16777216|i|n<<8|r<<16).toString(16).slice(1),t.is(a,"finite")&&(h.opacity=a),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s}}),t),t.hsb=i((function(e,r,n){return t.hsb2rgb(e,r,n).hex})),t.hsl=i((function(e,r,n){return t.hsl2rgb(e,r,n).hex})),t.rgb=i((function(e,t,r){function n(e){return e+.5|0}return"#"+(16777216|n(r)|n(t)<<8|n(e)<<16).toString(16).slice(1)})),(t.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},r=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),r.hex}).reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var r=Ae(e);if(r.arr)return Se(r.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return t.is(e,V)&&t.is(e[0],V)&&(i=Se(e)),i.length||L(e).replace(ie,(function(e,t,r){var s=[],a=t.toLowerCase();if(r.replace(ae,(function(e,t){t&&s.push(+t)})),"m"==a&&s.length>2&&(i.push([t][k](s.splice(0,2))),a="l",t="m"==t?"l":"L"),"r"==a)i.push([t][k](s));else for(;s.length>=n[a]&&(i.push([t][k](s.splice(0,n[a]))),n[a]););})),i.toString=t._path2string,r.arr=Se(i),i},t.parseTransformString=i((function(e){if(!e)return null;var r=[];return t.is(e,V)&&t.is(e[0],V)&&(r=Se(e)),r.length||L(e).replace(se,(function(e,t,n){var i=[];I.call(t),n.replace(ae,(function(e,t){t&&i.push(+t)})),r.push([t][k](i))})),r.toString=t._path2string,r}));var Ae=function(e){var t=Ae.ps=Ae.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout((function(){for(var r in t)t[A](r)&&r!=e&&(t[r].sleep--,!t[r].sleep&&delete t[r])})),t[e]};t.findDotsAtSegment=function(e,t,r,n,i,s,a,o,l){var h=1-l,c=U(h,3),u=U(h,2),d=l*l,p=d*l,f=c*e+3*u*l*r+3*h*l*l*i+p*a,g=c*t+3*u*l*n+3*h*l*l*s+p*o,m=e+2*l*(r-e)+d*(i-2*r+e),_=t+2*l*(n-t)+d*(s-2*n+t),v=r+2*l*(i-r)+d*(a-2*i+r),y=n+2*l*(s-n)+d*(o-2*s+n),b=h*e+l*r,x=h*t+l*n,A=h*i+l*a,w=h*s+l*o,S=90-180*N.atan2(m-v,_-y)/W;return(m>v||_<y)&&(S+=180),{x:f,y:g,m:{x:m,y:_},n:{x:v,y:y},start:{x:b,y:x},end:{x:A,y:w},alpha:S}},t.bezierBBox=function(e,r,n,i,s,a,o,l){t.is(e,"array")||(e=[e,r,n,i,s,a,o,l]);var h=Le.apply(null,e);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},t.isPointInsideBBox=function(e,t,r){return t>=e.x&&t<=e.x2&&r>=e.y&&r<=e.y2},t.isBBoxIntersect=function(e,r){var n=t.isPointInsideBBox;return n(r,e.x,e.y)||n(r,e.x2,e.y)||n(r,e.x,e.y2)||n(r,e.x2,e.y2)||n(e,r.x,r.y)||n(e,r.x2,r.y)||n(e,r.x,r.y2)||n(e,r.x2,r.y2)||(e.x<r.x2&&e.x>r.x||r.x<e.x2&&r.x>e.x)&&(e.y<r.y2&&e.y>r.y||r.y<e.y2&&r.y>e.y)},t.pathIntersection=function(e,t){return u(e,t)},t.pathIntersectionNumber=function(e,t){return u(e,t,1)},t.isPointInsidePath=function(e,r,n){var i=t.pathBBox(e);return t.isPointInsideBBox(i,r,n)&&u(e,[["M",r,n],["H",i.x2+10]],1)%2==1},t._removedFactory=function(t){return function(){e("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};var we=t.pathBBox=function(e){var t=Ae(e);if(t.bbox)return r(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,i=0,s=0,a=[],o=[],l=0,h=(e=Ee(e)).length;l<h;l++)if("M"==(n=e[l])[0])s=n[2],a.push(i=n[1]),o.push(s);else{var c=Le(i,s,n[1],n[2],n[3],n[4],n[5],n[6]);a=a[k](c.min.x,c.max.x),o=o[k](c.min.y,c.max.y),i=n[5],s=n[6]}var u=B[P](0,a),d=B[P](0,o),p=O[P](0,a),f=O[P](0,o),g=p-u,m=f-d,_={x:u,y:d,x2:p,y2:f,width:g,height:m,cx:u+g/2,cy:d+m/2};return t.bbox=r(_),_},Se=function(e){var n=r(e);return n.toString=t._path2string,n},Ce=t._pathToRelative=function(e){var r=Ae(e);if(r.rel)return Se(r.rel);t.is(e,V)&&t.is(e&&e[0],V)||(e=t.parsePathString(e));var n=[],i=0,s=0,a=0,o=0,l=0;"M"==e[0][0]&&(a=i=e[0][1],o=s=e[0][2],l++,n.push(["M",i,s]));for(var h=l,c=e.length;h<c;h++){var u=n[h]=[],d=e[h];if(d[0]!=I.call(d[0]))switch(u[0]=I.call(d[0]),u[0]){case"a":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+(d[6]-i).toFixed(3),u[7]=+(d[7]-s).toFixed(3);break;case"v":u[1]=+(d[1]-s).toFixed(3);break;case"m":a=d[1],o=d[2];default:for(var p=1,f=d.length;p<f;p++)u[p]=+(d[p]-(p%2?i:s)).toFixed(3)}else{u=n[h]=[],"m"==d[0]&&(a=d[1]+i,o=d[2]+s);for(var g=0,m=d.length;g<m;g++)n[h][g]=d[g]}var _=n[h].length;switch(n[h][0]){case"z":i=a,s=o;break;case"h":i+=+n[h][_-1];break;case"v":s+=+n[h][_-1];break;default:i+=+n[h][_-2],s+=+n[h][_-1]}}return n.toString=t._path2string,r.rel=Se(n),n},Pe=t._pathToAbsolute=function(e){var r=Ae(e);if(r.abs)return Se(r.abs);if(t.is(e,V)&&t.is(e&&e[0],V)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var n=[],i=0,s=0,o=0,l=0,h=0;"M"==e[0][0]&&(o=i=+e[0][1],l=s=+e[0][2],h++,n[0]=["M",i,s]);for(var c,u,d=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),p=h,f=e.length;p<f;p++){if(n.push(c=[]),(u=e[p])[0]!=Z.call(u[0]))switch(c[0]=Z.call(u[0]),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+(u[6]+i),c[7]=+(u[7]+s);break;case"V":c[1]=+u[1]+s;break;case"H":c[1]=+u[1]+i;break;case"R":for(var g=[i,s][k](u.slice(1)),m=2,_=g.length;m<_;m++)g[m]=+g[m]+i,g[++m]=+g[m]+s;n.pop(),n=n[k](a(g,d));break;case"M":o=+u[1]+i,l=+u[2]+s;default:for(m=1,_=u.length;m<_;m++)c[m]=+u[m]+(m%2?i:s)}else if("R"==u[0])g=[i,s][k](u.slice(1)),n.pop(),n=n[k](a(g,d)),c=["R"][k](u.slice(-2));else for(var v=0,y=u.length;v<y;v++)c[v]=u[v];switch(c[0]){case"Z":i=o,s=l;break;case"H":i=c[1];break;case"V":s=c[1];break;case"M":o=c[c.length-2],l=c[c.length-1];default:i=c[c.length-2],s=c[c.length-1]}}return n.toString=t._path2string,r.abs=Se(n),n},ke=function(e,t,r,n){return[e,t,r,n,r,n]},Te=function(e,t,r,n,i,s){var a=1/3,o=2/3;return[a*e+o*r,a*t+o*n,a*i+o*r,a*s+o*n,i,s]},Re=function(e,t,r,n,s,a,o,l,h,c){var u,d=120*W/180,p=W/180*(+s||0),f=[],g=i((function(e,t,r){return{x:e*N.cos(r)-t*N.sin(r),y:e*N.sin(r)+t*N.cos(r)}}));if(c)S=c[0],C=c[1],A=c[2],w=c[3];else{e=(u=g(e,t,-p)).x,t=u.y,l=(u=g(l,h,-p)).x,h=u.y,N.cos(W/180*s),N.sin(W/180*s);var m=(e-l)/2,_=(t-h)/2,v=m*m/(r*r)+_*_/(n*n);v>1&&(r*=v=N.sqrt(v),n*=v);var y=r*r,b=n*n,x=(a==o?-1:1)*N.sqrt(j((y*b-y*_*_-b*m*m)/(y*_*_+b*m*m))),A=x*r*_/n+(e+l)/2,w=x*-n*m/r+(t+h)/2,S=N.asin(((t-w)/n).toFixed(9)),C=N.asin(((h-w)/n).toFixed(9));(S=e<A?W-S:S)<0&&(S=2*W+S),(C=l<A?W-C:C)<0&&(C=2*W+C),o&&S>C&&(S-=2*W),!o&&C>S&&(C-=2*W)}var P=C-S;if(j(P)>d){var T=C,R=l,M=h;l=A+r*N.cos(C=S+d*(o&&C>S?1:-1)),h=w+n*N.sin(C),f=Re(l,h,r,n,s,0,o,R,M,[C,T,A,w])}P=C-S;var L=N.cos(S),D=N.sin(S),F=N.cos(C),I=N.sin(C),O=N.tan(P/4),B=4/3*r*O,U=4/3*n*O,H=[e,t],Y=[e+B*D,t-U*L],V=[l+B*I,h-U*F],G=[l,h];if(Y[0]=2*H[0]-Y[0],Y[1]=2*H[1]-Y[1],c)return[Y,V,G][k](f);for(var q=[],z=0,X=(f=[Y,V,G][k](f).join()[E](",")).length;z<X;z++)q[z]=z%2?g(f[z-1],f[z],p).y:g(f[z],f[z+1],p).x;return q},Me=function(e,t,r,n,i,s,a,o,l){var h=1-l;return{x:U(h,3)*e+3*U(h,2)*l*r+3*h*l*l*i+U(l,3)*a,y:U(h,3)*t+3*U(h,2)*l*n+3*h*l*l*s+U(l,3)*o}},Le=i((function(e,t,r,n,i,s,a,o){var l,h=i-2*r+e-(a-2*i+r),c=2*(r-e)-2*(i-r),u=e-r,d=(-c+N.sqrt(c*c-4*h*u))/2/h,p=(-c-N.sqrt(c*c-4*h*u))/2/h,f=[t,o],g=[e,a];return j(d)>"1e12"&&(d=.5),j(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=Me(e,t,r,n,i,s,a,o,d),g.push(l.x),f.push(l.y)),p>0&&p<1&&(l=Me(e,t,r,n,i,s,a,o,p),g.push(l.x),f.push(l.y)),d=(-(c=2*(n-t)-2*(s-n))+N.sqrt(c*c-4*(h=s-2*n+t-(o-2*s+n))*(u=t-n)))/2/h,p=(-c-N.sqrt(c*c-4*h*u))/2/h,j(d)>"1e12"&&(d=.5),j(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=Me(e,t,r,n,i,s,a,o,d),g.push(l.x),f.push(l.y)),p>0&&p<1&&(l=Me(e,t,r,n,i,s,a,o,p),g.push(l.x),f.push(l.y)),{min:{x:B[P](0,g),y:B[P](0,f)},max:{x:O[P](0,g),y:O[P](0,f)}}})),Ee=t._path2curve=i((function(e,t){var r=!t&&Ae(e);if(!t&&r.curve)return Se(r.curve);for(var n=Pe(e),i=t&&Pe(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(e,t,r){var n,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][k](Re[P](0,[t.x,t.y][k](e.slice(1))));break;case"S":"C"==r||"S"==r?(n=2*t.x-t.bx,i=2*t.y-t.by):(n=t.x,i=t.y),e=["C",n,i][k](e.slice(1));break;case"T":"Q"==r||"T"==r?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][k](Te(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][k](Te(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][k](ke(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][k](ke(t.x,t.y,e[1],t.y));break;case"V":e=["C"][k](ke(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][k](ke(t.x,t.y,t.X,t.Y))}return e},l=function(e,t){if(e[t].length>7){e[t].shift();for(var r=e[t];r.length;)c[t]="A",i&&(u[t]="A"),e.splice(t++,0,["C"][k](r.splice(0,6)));e.splice(t,1),g=O(n.length,i&&i.length||0)}},h=function(e,t,r,s,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",s.x,s.y]),r.bx=0,r.by=0,r.x=e[a][1],r.y=e[a][2],g=O(n.length,i&&i.length||0))},c=[],u=[],d="",p="",f=0,g=O(n.length,i&&i.length||0);f<g;f++){n[f]&&(d=n[f][0]),"C"!=d&&(c[f]=d,f&&(p=c[f-1])),n[f]=o(n[f],s,p),"A"!=c[f]&&"C"==d&&(c[f]="C"),l(n,f),i&&(i[f]&&(d=i[f][0]),"C"!=d&&(u[f]=d,f&&(p=u[f-1])),i[f]=o(i[f],a,p),"A"!=u[f]&&"C"==d&&(u[f]="C"),l(i,f)),h(n,i,s,a,f),h(i,n,a,s,f);var m=n[f],_=i&&i[f],v=m.length,y=i&&_.length;s.x=m[v-2],s.y=m[v-1],s.bx=Q(m[v-4])||s.x,s.by=Q(m[v-3])||s.y,a.bx=i&&(Q(_[y-4])||a.x),a.by=i&&(Q(_[y-3])||a.y),a.x=i&&_[y-2],a.y=i&&_[y-1]}return i||(r.curve=Se(n)),i?[n,i]:n}),null,Se),De=(t._parseDots=i((function(e){for(var r=[],n=0,i=e.length;n<i;n++){var s={},a=e[n].match(/^([^:]*):?([\d\.]*)/);if(s.color=t.getRGB(a[1]),s.color.error)return null;s.opacity=s.color.opacity,s.color=s.color.hex,a[2]&&(s.offset=a[2]+"%"),r.push(s)}for(n=1,i=r.length-1;n<i;n++)if(!r[n].offset){for(var o=Q(r[n-1].offset||0),l=0,h=n+1;h<i;h++)if(r[h].offset){l=r[h].offset;break}l||(l=100,h=i);for(var c=((l=Q(l))-o)/(h-n+1);n<h;n++)r[n].offset=(o+=c)+"%"}return r})),t._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),Fe=(t._tofront=function(e,t){t.top!==e&&(De(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},t._toback=function(e,t){t.bottom!==e&&(De(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},t._insertafter=function(e,t,r){De(e,r),t==r.top&&(r.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},t._insertbefore=function(e,t,r){De(e,r),t==r.bottom&&(r.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},t.toMatrix=function(e,t){var r=we(e),n={_:{transform:R},getBBox:function(){return r}};return Ie(n,t),n.matrix}),Ie=(t.transformPath=function(e,t){return pe(e,Fe(e,t))},t._extractTransform=function(e,r){if(null==r)return e._.transform;r=L(r).replace(/\.{3}|\u2026/g,e._.transform||R);var n,i,s=t.parseTransformString(r),a=0,o=1,l=1,h=e._,c=new d;if(h.transform=s||[],s)for(var u=0,p=s.length;u<p;u++){var f,g,m,_,v,y=s[u],b=y.length,x=L(y[0]).toLowerCase(),A=y[0]!=x,w=A?c.invert():0;"t"==x&&3==b?A?(f=w.x(0,0),g=w.y(0,0),m=w.x(y[1],y[2]),_=w.y(y[1],y[2]),c.translate(m-f,_-g)):c.translate(y[1],y[2]):"r"==x?2==b?(v=v||e.getBBox(1),c.rotate(y[1],v.x+v.width/2,v.y+v.height/2),a+=y[1]):4==b&&(A?(m=w.x(y[2],y[3]),_=w.y(y[2],y[3]),c.rotate(y[1],m,_)):c.rotate(y[1],y[2],y[3]),a+=y[1]):"s"==x?2==b||3==b?(v=v||e.getBBox(1),c.scale(y[1],y[b-1],v.x+v.width/2,v.y+v.height/2),o*=y[1],l*=y[b-1]):5==b&&(A?(m=w.x(y[3],y[4]),_=w.y(y[3],y[4]),c.scale(y[1],y[2],m,_)):c.scale(y[1],y[2],y[3],y[4]),o*=y[1],l*=y[2]):"m"==x&&7==b&&c.add(y[1],y[2],y[3],y[4],y[5],y[6]),h.dirtyT=1,e.matrix=c}e.matrix=c,h.sx=o,h.sy=l,h.deg=a,h.dx=n=c.e,h.dy=i=c.f,1==o&&1==l&&!a&&h.bbox?(h.bbox.x+=+n,h.bbox.y+=+i):h.dirtyT=1}),Ne=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Oe=t._equaliseTransform=function(e,r){r=L(r).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],r=t.parseTransformString(r)||[];for(var n,i,s,a,o=O(e.length,r.length),l=[],h=[],c=0;c<o;c++){if(s=e[c]||Ne(r[c]),a=r[c]||Ne(s),s[0]!=a[0]||"r"==s[0].toLowerCase()&&(s[2]!=a[2]||s[3]!=a[3])||"s"==s[0].toLowerCase()&&(s[3]!=a[3]||s[4]!=a[4]))return;for(l[c]=[],h[c]=[],n=0,i=O(s.length,a.length);n<i;n++)n in s&&(l[c][n]=s[n]),n in a&&(h[c][n]=a[n])}return{from:l,to:h}};t._getContainer=function(e,r,n,i){var s;if(null!=(s=null!=i||t.is(e,"object")?e:w.doc.getElementById(e)))return s.tagName?null==r?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:r,height:n}:{container:1,x:e,y:r,width:n,height:i}},t.pathToRelative=Ce,t._engine={},t.path2curve=Ee,t.matrix=function(e,t,r,n,i,s){return new d(e,t,r,n,i,s)},function(e){function r(e){return e[0]*e[0]+e[1]*e[1]}function n(e){var t=N.sqrt(r(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}e.add=function(e,t,r,n,i,s){var a,o,l,h,c=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[e,r,i],[t,n,s],[0,0,1]];for(e&&e instanceof d&&(p=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),a=0;a<3;a++)for(o=0;o<3;o++){for(h=0,l=0;l<3;l++)h+=u[a][l]*p[l][o];c[a][o]=h}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new d(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new d(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,r,n){null==t&&(t=e),(r||n)&&this.add(1,0,0,1,r,n),this.add(e,0,0,t,0,0),(r||n)&&this.add(1,0,0,1,-r,-n)},e.rotate=function(e,r,n){e=t.rad(e),r=r||0,n=n||0;var i=+N.cos(e).toFixed(9),s=+N.sin(e).toFixed(9);this.add(i,s,-s,i,r,n),this.add(1,0,0,1,-r,-n)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[L.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];e.scalex=N.sqrt(r(i[0])),n(i[0]),e.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*e.shear,i[1][1]-i[0][1]*e.shear],e.scaley=N.sqrt(r(i[1])),n(i[1]),e.shear/=e.scaley;var s=-i[0][1],a=i[1][1];return a<0?(e.rotate=t.deg(N.acos(a)),s<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(N.asin(s)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[E]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:R)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:R)+(t.rotate?"r"+[t.rotate,0,0]:R)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(d.prototype);for(var Be=function(){this.returnValue=!1},je=function(){return this.originalEvent.preventDefault()},Ue=function(){this.cancelBubble=!0},We=function(){return this.originalEvent.stopPropagation()},He=function(e){return{x:e.clientX+(w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft),y:e.clientY+(w.doc.documentElement.scrollTop||w.doc.body.scrollTop)}},Ye=w.doc.addEventListener?function(e,t,r,n){var i=function(e){var t=He(e);return r.call(n,e,t.x,t.y)};if(e.addEventListener(t,i,!1),T&&F[t]){var s=function(t){for(var i=He(t),s=t,a=0,o=t.targetTouches&&t.targetTouches.length;a<o;a++)if(t.targetTouches[a].target==e){(t=t.targetTouches[a]).originalEvent=s,t.preventDefault=je,t.stopPropagation=We;break}return r.call(n,t,i.x,i.y)};e.addEventListener(F[t],s,!1)}return function(){return e.removeEventListener(t,i,!1),T&&F[t]&&e.removeEventListener(F[t],s,!1),!0}}:w.doc.attachEvent?function(e,t,r,n){var i=function(e){var t=(e=e||w.win.event).clientX+(w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft),i=e.clientY+(w.doc.documentElement.scrollTop||w.doc.body.scrollTop);return e.preventDefault=e.preventDefault||Be,e.stopPropagation=e.stopPropagation||Ue,r.call(n,e,t,i)};return e.attachEvent("on"+t,i),function(){return e.detachEvent("on"+t,i),!0}}:void 0,Ve=[],Ge=function(t){for(var r,n=t.clientX,i=t.clientY,s=w.doc.documentElement.scrollTop||w.doc.body.scrollTop,a=w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft,o=Ve.length;o--;){if(r=Ve[o],T&&t.touches){for(var l,h=t.touches.length;h--;)if((l=t.touches[h]).identifier==r.el._drag.id){n=l.clientX,i=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c,u=r.el.node,d=u.nextSibling,p=u.parentNode,f=u.style.display;w.win.opera&&p.removeChild(u),u.style.display="none",c=r.el.paper.getElementByPoint(n,i),u.style.display=f,w.win.opera&&(d?p.insertBefore(u,d):p.appendChild(u)),c&&e("raphael.drag.over."+r.el.id,r.el,c),e("raphael.drag.move."+r.el.id,r.move_scope||r.el,(n+=a)-r.el._drag.x,(i+=s)-r.el._drag.y,n,i,t)}},qe=function(r){t.unmousemove(Ge).unmouseup(qe);for(var n,i=Ve.length;i--;)(n=Ve[i]).el._drag={},e("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,r);Ve=[]},ze=t.el={},Xe=D.length;Xe--;)!function(e){t[e]=ze[e]=function(r,n){return t.is(r,"function")&&(this.events=this.events||[],this.events.push({name:e,f:r,unbind:Ye(this.shape||this.node||w.doc,e,r,n||this)})),this},t["un"+e]=ze["un"+e]=function(r){for(var n=this.events||[],i=n.length;i--;)n[i].name!=e||!t.is(r,"undefined")&&n[i].f!=r||(n[i].unbind(),n.splice(i,1),!n.length&&delete this.events);return this}}(D[Xe]);ze.data=function(r,n){var i=oe[this.id]=oe[this.id]||{};if(0==arguments.length)return i;if(1==arguments.length){if(t.is(r,"object")){for(var s in r)r[A](s)&&this.data(s,r[s]);return this}return e("raphael.data.get."+this.id,this,i[r],r),i[r]}return i[r]=n,e("raphael.data.set."+this.id,this,n,r),this},ze.removeData=function(e){return null==e?oe[this.id]={}:oe[this.id]&&delete oe[this.id][e],this},ze.getData=function(){return r(oe[this.id]||{})},ze.hover=function(e,t,r,n){return this.mouseover(e,r).mouseout(t,n||r)},ze.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var $e=[];ze.drag=function(r,n,i,s,a,o){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,c=l.clientY,u=w.doc.documentElement.scrollTop||w.doc.body.scrollTop,d=w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft;if(this._drag.id=l.identifier,T&&l.touches)for(var p,f=l.touches.length;f--;)if(this._drag.id=(p=l.touches[f]).identifier,p.identifier==this._drag.id){h=p.clientX,c=p.clientY;break}this._drag.x=h+d,this._drag.y=c+u,!Ve.length&&t.mousemove(Ge).mouseup(qe),Ve.push({el:this,move_scope:s,start_scope:a,end_scope:o}),n&&e.on("raphael.drag.start."+this.id,n),r&&e.on("raphael.drag.move."+this.id,r),i&&e.on("raphael.drag.end."+this.id,i),e("raphael.drag.start."+this.id,a||s||this,l.clientX+d,l.clientY+u,l)}return this._drag={},$e.push({el:this,start:l}),this.mousedown(l),this},ze.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},ze.undrag=function(){for(var r=$e.length;r--;)$e[r].el==this&&(this.unmousedown($e[r].start),$e.splice(r,1),e.unbind("raphael.drag.*."+this.id));!$e.length&&t.unmousemove(Ge).unmouseup(qe),Ve=[]},v.circle=function(e,r,n){var i=t._engine.circle(this,e||0,r||0,n||0);return this.__set__&&this.__set__.push(i),i},v.rect=function(e,r,n,i,s){var a=t._engine.rect(this,e||0,r||0,n||0,i||0,s||0);return this.__set__&&this.__set__.push(a),a},v.ellipse=function(e,r,n,i){var s=t._engine.ellipse(this,e||0,r||0,n||0,i||0);return this.__set__&&this.__set__.push(s),s},v.path=function(e){e&&!t.is(e,Y)&&!t.is(e[0],V)&&(e+=R);var r=t._engine.path(t.format[P](t,arguments),this);return this.__set__&&this.__set__.push(r),r},v.image=function(e,r,n,i,s){var a=t._engine.image(this,e||"about:blank",r||0,n||0,i||0,s||0);return this.__set__&&this.__set__.push(a),a},v.text=function(e,r,n){var i=t._engine.text(this,e||0,r||0,L(n));return this.__set__&&this.__set__.push(i),i},v.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var r=new at(e);return this.__set__&&this.__set__.push(r),r.paper=this,r.type="set",r},v.setStart=function(e){this.__set__=e||this.set()},v.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},v.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},v.setSize=function(e,r){return t._engine.setSize.call(this,e,r)},v.setViewBox=function(e,r,n,i,s){return t._engine.setViewBox.call(this,e,r,n,i,s)},v.top=v.bottom=null,v.raphael=t,v.getElementByPoint=function(e,t){var r=this,n=r.canvas,i=w.doc.elementFromPoint(e,t);if(w.win.opera&&"svg"==i.tagName){var s=function(e){var t=e.getBoundingClientRect(),r=e.ownerDocument,n=r.body,i=r.documentElement;return{y:t.top+(w.win.pageYOffset||i.scrollTop||n.scrollTop)-(i.clientTop||n.clientTop||0),x:t.left+(w.win.pageXOffset||i.scrollLeft||n.scrollLeft)-(i.clientLeft||n.clientLeft||0)}}(n),a=n.createSVGRect();a.x=e-s.x,a.y=t-s.y,a.width=a.height=1;var o=n.getIntersectionList(a,null);o.length&&(i=o[o.length-1])}if(!i)return null;for(;i.parentNode&&i!=n.parentNode&&!i.raphael;)i=i.parentNode;return i==r.canvas.parentNode&&(i=n),i&&i.raphael?r.getById(i.raphaelid):null},v.getElementsByBBox=function(e){var r=this.set();return this.forEach((function(n){t.isBBoxIntersect(n.getBBox(),e)&&r.push(n)})),r},v.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},v.forEach=function(e,t){for(var r=this.bottom;r;){if(!1===e.call(t,r))return this;r=r.next}return this},v.getElementsByPoint=function(e,t){var r=this.set();return this.forEach((function(n){n.isPointInside(e,t)&&r.push(n)})),r},ze.isPointInside=function(e,r){var n=this.realPath=de[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=t.transformPath(n,this.attr("transform"))),t.isPointInsidePath(n,e,r)},ze.getBBox=function(e){if(this.removed)return{};var t=this._;return e?(!t.dirty&&t.bboxwt||(this.realPath=de[this.type](this),t.bboxwt=we(this.realPath),t.bboxwt.toString=p,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&(!t.dirty&&this.realPath||(t.bboxwt=0,this.realPath=de[this.type](this)),t.bbox=we(pe(this.realPath,this.matrix)),t.bbox.toString=p,t.dirty=t.dirtyT=0),t.bbox)},ze.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},ze.glow=function(e){if("text"==this.type)return null;var t={width:((e=e||{}).width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:null==e.opacity?.5:e.opacity,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},r=t.width/2,n=this.paper,i=n.set(),s=this.realPath||de[this.type](this);s=this.matrix?pe(s,this.matrix):s;for(var a=1;a<r+1;a++)i.push(n.path(s).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/r*a).toFixed(3),opacity:+(t.opacity/r).toFixed(3)}));return i.insertBefore(this).translate(t.offsetx,t.offsety)};var Qe=function(e,r,n,i,s,a,o,h,c){return null==c?l(e,r,n,i,s,a,o,h):t.findDotsAtSegment(e,r,n,i,s,a,o,h,function(e,t,r,n,i,s,a,o,h){if(!(h<0||l(e,t,r,n,i,s,a,o)<h)){var c,u=.5,d=1-u;for(c=l(e,t,r,n,i,s,a,o,d);j(c-h)>.01;)c=l(e,t,r,n,i,s,a,o,d+=(c<h?1:-1)*(u/=2));return d}}(e,r,n,i,s,a,o,h,c))},Ke=function(e,r){return function(n,i,s){for(var a,o,l,h,c,u="",d={},p=0,f=0,g=(n=Ee(n)).length;f<g;f++){if("M"==(l=n[f])[0])a=+l[1],o=+l[2];else{if(p+(h=Qe(a,o,l[1],l[2],l[3],l[4],l[5],l[6]))>i){if(r&&!d.start){if(u+=["C"+(c=Qe(a,o,l[1],l[2],l[3],l[4],l[5],l[6],i-p)).start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],s)return u;d.start=u,u=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),p+=h,a=+l[5],o=+l[6];continue}if(!e&&!r)return{x:(c=Qe(a,o,l[1],l[2],l[3],l[4],l[5],l[6],i-p)).x,y:c.y,alpha:c.alpha}}p+=h,a=+l[5],o=+l[6]}u+=l.shift()+l}return d.end=u,(c=e?p:r?d:t.findDotsAtSegment(a,o,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},Ze=Ke(1),Je=Ke(),et=Ke(0,1);t.getTotalLength=Ze,t.getPointAtLength=Je,t.getSubpath=function(e,t,r){if(this.getTotalLength(e)-r<1e-6)return et(e,t).end;var n=et(e,r,1);return t?et(n,t).end:n},ze.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():Ze(e)},ze.getPointAtLength=function(e){var t=this.getPath();if(t)return Je(t,e)},ze.getPath=function(){var e,r=t._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return r&&(e=r(this)),e},ze.getSubpath=function(e,r){var n=this.getPath();if(n)return t.getSubpath(n,e,r)};var tt=t.easing_formulas={linear:function(e){return e},"<":function(e){return U(e,1.7)},">":function(e){return U(e,.48)},"<>":function(e){var t=.48-e/1.04,r=N.sqrt(.1734+t*t),n=r-t,i=-r-t,s=U(j(n),1/3)*(n<0?-1:1)+U(j(i),1/3)*(i<0?-1:1)+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:U(2,-10*e)*N.sin(2*W*(e-.075)/.3)+1},bounce:function(e){var t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375}};tt.easeIn=tt["ease-in"]=tt["<"],tt.easeOut=tt["ease-out"]=tt[">"],tt.easeInOut=tt["ease-in-out"]=tt["<>"],tt["back-in"]=tt.backIn,tt["back-out"]=tt.backOut;var rt=[],nt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},it=function(){for(var r=+new Date,n=0;n<rt.length;n++){var i=rt[n];if(!i.el.removed&&!i.paused){var s,a,o=r-i.start,l=i.ms,h=i.easing,c=i.from,u=i.diff,d=i.to,p=i.el,f={},m={};if(i.initstatus?(o=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*l,i.status=i.initstatus,delete i.initstatus,i.stop&&rt.splice(n--,1)):i.status=(i.prev+o/l*(i.percent-i.prev))/i.anim.top,!(o<0))if(o<l){var _=h(o/l);for(var v in c)if(c[A](v)){switch(ee[v]){case H:s=+c[v]+_*l*u[v];break;case"colour":s="rgb("+[st($(c[v].r+_*l*u[v].r)),st($(c[v].g+_*l*u[v].g)),st($(c[v].b+_*l*u[v].b))].join(",")+")";break;case"path":s=[];for(var y=0,b=c[v].length;y<b;y++){s[y]=[c[v][y][0]];for(var x=1,w=c[v][y].length;x<w;x++)s[y][x]=+c[v][y][x]+_*l*u[v][y][x];s[y]=s[y].join(M)}s=s.join(M);break;case"transform":if(u[v].real)for(s=[],y=0,b=c[v].length;y<b;y++)for(s[y]=[c[v][y][0]],x=1,w=c[v][y].length;x<w;x++)s[y][x]=c[v][y][x]+_*l*u[v][y][x];else{var S=function(e){return+c[v][e]+_*l*u[v][e]};s=[["m",S(0),S(1),S(2),S(3),S(4),S(5)]]}break;case"csv":if("clip-rect"==v)for(s=[],y=4;y--;)s[y]=+c[v][y]+_*l*u[v][y];break;default:var C=[][k](c[v]);for(s=[],y=p.paper.customAttributes[v].length;y--;)s[y]=+C[y]+_*l*u[v][y]}f[v]=s}p.attr(f),function(t,r,n){setTimeout((function(){e("raphael.anim.frame."+t,r,n)}))}(p.id,p,i.anim)}else{if(function(r,n,i){setTimeout((function(){e("raphael.anim.frame."+n.id,n,i),e("raphael.anim.finish."+n.id,n,i),t.is(r,"function")&&r.call(n)}))}(i.callback,p,i.anim),p.attr(d),rt.splice(n--,1),i.repeat>1&&!i.next){for(a in d)d[A](a)&&(m[a]=i.totalOrigin[a]);i.el.attr(m),g(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&g(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}rt.length&&nt(it)},st=function(e){return e>255?255:e<0?0:e};ze.animateWith=function(e,r,n,i,s,a){var o=this;if(o.removed)return a&&a.call(o),o;var l=n instanceof f?n:t.animation(n,i,s,a);g(l,o,l.percents[0],null,o.attr());for(var h=0,c=rt.length;h<c;h++)if(rt[h].anim==r&&rt[h].el==e){rt[c-1].start=rt[h].start;break}return o},ze.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},f.prototype.delay=function(e){var t=new f(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},f.prototype.repeat=function(e){var t=new f(this.anim,this.ms);return t.del=this.del,t.times=N.floor(O(e,0))||1,t},t.animation=function(e,r,n,i){if(e instanceof f)return e;!t.is(n,"function")&&n||(i=i||n||null,n=null),e=Object(e),r=+r||0;var s,a,o={};for(a in e)e[A](a)&&Q(a)!=a&&Q(a)+"%"!=a&&(s=!0,o[a]=e[a]);if(s)return n&&(o.easing=n),i&&(o.callback=i),new f({100:o},r);if(i){var l=0;for(var h in e){var c=K(h);e[A](h)&&c>l&&(l=c)}!e[l+="%"].callback&&(e[l].callback=i)}return new f(e,r)},ze.animate=function(e,r,n,i){var s=this;if(s.removed)return i&&i.call(s),s;var a=e instanceof f?e:t.animation(e,r,n,i);return g(a,s,a.percents[0],null,s.attr()),s},ze.setTime=function(e,t){return e&&null!=t&&this.status(e,B(t,e.ms)/e.ms),this},ze.status=function(e,t){var r,n,i=[],s=0;if(null!=t)return g(e,this,-1,B(t,1)),this;for(r=rt.length;s<r;s++)if((n=rt[s]).el.id==this.id&&(!e||n.anim==e)){if(e)return n.status;i.push({anim:n.anim,status:n.status})}return e?0:i},ze.pause=function(t){for(var r=0;r<rt.length;r++)rt[r].el.id!=this.id||t&&rt[r].anim!=t||!1!==e("raphael.anim.pause."+this.id,this,rt[r].anim)&&(rt[r].paused=!0);return this},ze.resume=function(t){for(var r=0;r<rt.length;r++)if(rt[r].el.id==this.id&&(!t||rt[r].anim==t)){var n=rt[r];!1!==e("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status))}return this},ze.stop=function(t){for(var r=0;r<rt.length;r++)rt[r].el.id!=this.id||t&&rt[r].anim!=t||!1!==e("raphael.anim.stop."+this.id,this,rt[r].anim)&&rt.splice(r--,1);return this},e.on("raphael.remove",m),e.on("raphael.clear",m),ze.toString=function(){return"Raphaël’s object"};var at=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,r=e.length;t<r;t++)!e[t]||e[t].constructor!=ze.constructor&&e[t].constructor!=at||(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},ot=at.prototype;for(var lt in ot.push=function(){for(var e,t,r=0,n=arguments.length;r<n;r++)!(e=arguments[r])||e.constructor!=ze.constructor&&e.constructor!=at||(this[t=this.items.length]=this.items[t]=e,this.length++);return this},ot.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ot.forEach=function(e,t){for(var r=0,n=this.items.length;r<n;r++)if(!1===e.call(t,this.items[r],r))return this;return this},ze)ze[A](lt)&&(ot[lt]=function(e){return function(){var t=arguments;return this.forEach((function(r){r[e][P](r,t)}))}}(lt));return ot.attr=function(e,r){if(e&&t.is(e,V)&&t.is(e[0],"object"))for(var n=0,i=e.length;n<i;n++)this.items[n].attr(e[n]);else for(var s=0,a=this.items.length;s<a;s++)this.items[s].attr(e,r);return this},ot.clear=function(){for(;this.length;)this.pop()},ot.splice=function(e,t,r){e=e<0?O(this.length+e,0):e,t=O(0,B(this.length-e,t));var n,i=[],s=[],a=[];for(n=2;n<arguments.length;n++)a.push(arguments[n]);for(n=0;n<t;n++)s.push(this[e+n]);for(;n<this.length-e;n++)i.push(this[e+n]);var o=a.length;for(n=0;n<o+i.length;n++)this.items[e+n]=this[e+n]=n<o?a[n]:i[n-o];for(n=this.items.length=this.length-=t-o;this[n];)delete this[n++];return new at(s)},ot.exclude=function(e){for(var t=0,r=this.length;t<r;t++)if(this[t]==e)return this.splice(t,1),!0},ot.animate=function(e,r,n,i){(t.is(n,"function")||!n)&&(i=n||null);var s,a,o=this.items.length,l=o,h=this;if(!o)return this;i&&(a=function(){!--o&&i.call(h)}),n=t.is(n,Y)?n:a;var c=t.animation(e,r,n,a);for(s=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(s,c,c),this.items[l]&&!this.items[l].removed||o--;return this},ot.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},ot.getBBox=function(){for(var e=[],t=[],r=[],n=[],i=this.items.length;i--;)if(!this.items[i].removed){var s=this.items[i].getBBox();e.push(s.x),t.push(s.y),r.push(s.x+s.width),n.push(s.y+s.height)}return{x:e=B[P](0,e),y:t=B[P](0,t),x2:r=O[P](0,r),y2:n=O[P](0,n),width:r-e,height:n-t}},ot.clone=function(e){e=this.paper.set();for(var t=0,r=this.items.length;t<r;t++)e.push(this.items[t].clone());return e},ot.toString=function(){return"Raphaël‘s set"},ot.glow=function(e){var t=this.paper.set();return this.forEach((function(r,n){var i=r.glow(e);null!=i&&i.forEach((function(e,r){t.push(e)}))})),t},ot.isPointInside=function(e,t){var r=!1;return this.forEach((function(n){if(n.isPointInside(e,t))return r=!0,!1})),r},t.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},r=e.face["font-family"];for(var n in e.face)e.face[A](n)&&(t.face[n]=e.face[n]);if(this.fonts[r]?this.fonts[r].push(t):this.fonts[r]=[t],!e.svg)for(var i in t.face["units-per-em"]=K(e.face["units-per-em"],10),e.glyphs)if(e.glyphs[A](i)){var s=e.glyphs[i];if(t.glyphs[i]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,(function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"}))+"z"},s.k)for(var a in s.k)s[A](a)&&(t.glyphs[i].k[a]=s.k[a])}return e},v.getFont=function(e,r,n,i){if(i=i||"normal",n=n||"normal",r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400,t.fonts){var s,a=t.fonts[e];if(!a){var o=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,R)+"(\\s|$)","i");for(var l in t.fonts)if(t.fonts[A](l)&&o.test(l)){a=t.fonts[l];break}}if(a)for(var h=0,c=a.length;h<c&&((s=a[h]).face["font-weight"]!=r||s.face["font-style"]!=n&&s.face["font-style"]||s.face["font-stretch"]!=i);h++);return s}},v.print=function(e,r,n,i,s,a,o,l){a=a||"middle",o=O(B(o||0,1),-1),l=O(B(l||1,3),1);var h,c=L(n)[E](R),u=0,d=0,p=R;if(t.is(i,"string")&&(i=this.getFont(i)),i){h=(s||16)/i.face["units-per-em"];for(var f=i.face.bbox[E](y),g=+f[0],m=f[3]-f[1],_=0,v=+f[1]+("baseline"==a?m+ +i.face.descent:m/2),b=0,x=c.length;b<x;b++){if("\n"==c[b])u=0,w=0,d=0,_+=m*l;else{var A=d&&i.glyphs[c[b-1]]||{},w=i.glyphs[c[b]];u+=d?(A.w||i.w)+(A.k&&A.k[c[b]]||0)+i.w*o:0,d=1}w&&w.d&&(p+=t.transformPath(w.d,["t",u*h,_*h,"s",h,h,g,v,"t",(e-g)/h,(r-v)/h]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},v.add=function(e){if(t.is(e,"array"))for(var r,n=this.set(),i=0,s=e.length;i<s;i++)b[A]((r=e[i]||{}).type)&&n.push(this[r.type]().attr(r));return n},t.format=function(e,r){var n=t.is(r,V)?[0][k](r):arguments;return e&&t.is(e,Y)&&n.length-1&&(e=e.replace(x,(function(e,t){return null==n[++t]?R:n[t]}))),e||R},t.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,r=function(e,r,n){var i=n;return r.replace(t,(function(e,t,r,n,s){t=t||n,i&&(t in i&&(i=i[t]),"function"==typeof i&&s&&(i=i()))})),i=(null==i||i==n?e:i)+""};return function(t,n){return String(t).replace(e,(function(e,t){return r(e,t,n)}))}}(),t.ninja=function(){if(S.was)w.win.Raphael=S.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(e){}}return t},t.st=ot,e.on("raphael.DOMload",(function(){_=!0})),function(e,r,n){null==e.readyState&&e.addEventListener&&(e.addEventListener(r,n=function(){e.removeEventListener(r,n,!1),e.readyState="complete"},!1),e.readyState="loading"),function r(){/in/.test(e.readyState)?setTimeout(r,9):t.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),t}).apply(t,n))||(e.exports=i)},function(e,t,r){var n,i,s,a,o,l,h,c,u,d,p,f,g,m;a="0.5.0",o="hasOwnProperty",l=/[\.\/]/,h=/\s*,\s*/,c=function(e,t){return e-t},u={n:{}},d=function(){for(var e=0,t=this.length;e<t;e++)if(void 0!==this[e])return this[e]},p=function(){for(var e=this.length;--e;)if(void 0!==this[e])return this[e]},f=Object.prototype.toString,g=String,m=Array.isArray||function(e){return e instanceof Array||"[object Array]"==f.call(e)},eve=function(e,t){var r,n=s,a=Array.prototype.slice.call(arguments,2),o=eve.listeners(e),l=0,h=[],u={},f=[],g=i;f.firstDefined=d,f.lastDefined=p,i=e,s=0;for(var m=0,_=o.length;m<_;m++)"zIndex"in o[m]&&(h.push(o[m].zIndex),o[m].zIndex<0&&(u[o[m].zIndex]=o[m]));for(h.sort(c);h[l]<0;)if(r=u[h[l++]],f.push(r.apply(t,a)),s)return s=n,f;for(m=0;m<_;m++)if("zIndex"in(r=o[m]))if(r.zIndex==h[l]){if(f.push(r.apply(t,a)),s)break;do{if((r=u[h[++l]])&&f.push(r.apply(t,a)),s)break}while(r)}else u[r.zIndex]=r;else if(f.push(r.apply(t,a)),s)break;return s=n,i=g,f},eve._events=u,eve.listeners=function(e){var t,r,n,i,s,a,o,h,c=m(e)?e:e.split(l),d=u,p=[d],f=[];for(i=0,s=c.length;i<s;i++){for(h=[],a=0,o=p.length;a<o;a++)for(r=[(d=p[a].n)[c[i]],d["*"]],n=2;n--;)(t=r[n])&&(h.push(t),f=f.concat(t.f||[]));p=h}return f},eve.separator=function(e){e?(e="["+(e=g(e).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",l=new RegExp(e)):l=/[\.\/]/},eve.on=function(e,t){if("function"!=typeof t)return function(){};for(var r=m(e)?m(e[0])?e:[e]:g(e).split(h),n=0,i=r.length;n<i;n++)!function(e){for(var r,n=m(e)?e:g(e).split(l),i=u,s=0,a=n.length;s<a;s++)i=(i=i.n).hasOwnProperty(n[s])&&i[n[s]]||(i[n[s]]={n:{}});for(i.f=i.f||[],s=0,a=i.f.length;s<a;s++)if(i.f[s]==t){r=!0;break}!r&&i.f.push(t)}(r[n]);return function(e){+e==+e&&(t.zIndex=+e)}},eve.f=function(e){var t=[].slice.call(arguments,1);return function(){eve.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},eve.stop=function(){s=1},eve.nt=function(e){var t=m(i)?i.join("."):i;return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},eve.nts=function(){return m(i)?i:i.split(l)},eve.off=eve.unbind=function(e,t){if(e){var r=m(e)?m(e[0])?e:[e]:g(e).split(h);if(r.length>1)for(var n=0,i=r.length;n<i;n++)eve.off(r[n],t);else{r=m(e)?e:g(e).split(l);var s,a,c,d,p,f=[u];for(n=0,i=r.length;n<i;n++)for(d=0;d<f.length;d+=c.length-2){if(c=[d,1],s=f[d].n,"*"!=r[n])s[r[n]]&&c.push(s[r[n]]);else for(a in s)s[o](a)&&c.push(s[a]);f.splice.apply(f,c)}for(n=0,i=f.length;n<i;n++)for(s=f[n];s.n;){if(t){if(s.f){for(d=0,p=s.f.length;d<p;d++)if(s.f[d]==t){s.f.splice(d,1);break}!s.f.length&&delete s.f}for(a in s.n)if(s.n[o](a)&&s.n[a].f){var _=s.n[a].f;for(d=0,p=_.length;d<p;d++)if(_[d]==t){_.splice(d,1);break}!_.length&&delete s.n[a].f}}else for(a in delete s.f,s.n)s.n[o](a)&&s.n[a].f&&delete s.n[a].f;s=s.n}}}else eve._events=u={n:{}}},eve.once=function(e,t){var r=function(){return eve.off(e,r),t.apply(this,arguments)};return eve.on(e,r)},eve.version=a,eve.toString=function(){return"You are running Eve "+a},void 0!==e&&e.exports?e.exports=eve:void 0===(n=(function(){return eve}).apply(t,[]))||(e.exports=n)},function(e,t,r){var n,i;n=[r(1)],void 0===(i=(function(e){if(!e||e.svg){var t="hasOwnProperty",r=String,n=parseFloat,i=parseInt,s=Math,a=s.max,o=s.abs,l=s.pow,h=/[, ]+/,c=e.eve,u="",d=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};e.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var m=function(n,i){if(i)for(var s in"string"==typeof n&&(n=m(n)),i)i[t](s)&&("xlink:"==s.substring(0,6)?n.setAttributeNS(p,s.substring(6),r(i[s])):n.setAttribute(s,r(i[s])));else(n=e._g.doc.createElementNS("http://www.w3.org/2000/svg",n)).style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},_=function(t,i){var h="linear",c=t.id+i,d=.5,p=.5,f=t.node,g=t.paper,_=f.style,y=e._g.doc.getElementById(c);if(!y){if(i=(i=r(i).replace(e._radial_gradient,(function(e,t,r){if(h="radial",t&&r){d=n(t);var i=2*((p=n(r))>.5)-1;l(d-.5,2)+l(p-.5,2)>.25&&(p=s.sqrt(.25-l(d-.5,2))*i+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*i)}return u}))).split(/\s*\-\s*/),"linear"==h){var b=i.shift();if(b=-n(b),isNaN(b))return null;var x=[0,0,s.cos(e.rad(b)),s.sin(e.rad(b))],A=1/(a(o(x[2]),o(x[3]))||1);x[2]*=A,x[3]*=A,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var w=e._parseDots(i);if(!w)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&c!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){y=m(h+"Gradient",{id:c}),t.gradient=y,m(y,"radial"==h?{fx:d,fy:p}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(y);for(var S=0,C=w.length;S<C;S++)y.appendChild(m("stop",{offset:w[S].offset?w[S].offset:S?"100%":"0%","stop-color":w[S].color||"#fff","stop-opacity":isFinite(w[S].opacity)?w[S].opacity:1}))}}return m(f,{fill:v(c),opacity:1,"fill-opacity":1}),_.fill=u,_.opacity=1,_.fillOpacity=1,1},v=function(e){if(function(){var e=document.documentMode;return e&&(9===e||10===e)}())return"url('#"+e+"')";var t=document.location;return"url('"+t.protocol+"//"+t.host+t.pathname+t.search+"#"+e+"')"},y=function(e){var t=e.getBBox(1);m(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},b=function(n,i,s){if("path"==n.type){for(var a,o,l,h,c,d=r(i).toLowerCase().split("-"),p=n.paper,_=s?"end":"start",v=n.node,y=n.attrs,b=y["stroke-width"],x=d.length,A="classic",w=3,S=3,C=5;x--;)switch(d[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":A=d[x];break;case"wide":S=5;break;case"narrow":S=2;break;case"long":w=5;break;case"short":w=2}if("open"==A?(w+=2,S+=2,C+=2,l=1,h=s?4:1,c={fill:"none",stroke:y.stroke}):(h=l=w/2,c={fill:y.stroke,stroke:"none"}),n._.arrows?s?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={},"none"!=A){var P="raphael-marker-"+A,k="raphael-marker-"+_+A+w+S+"-obj"+n.id;e._g.doc.getElementById(P)?g[P]++:(p.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:f[A],id:P})),g[P]=1);var T,R=e._g.doc.getElementById(k);R?(g[k]++,T=R.getElementsByTagName("use")[0]):(R=m(m("marker"),{id:k,markerHeight:S,markerWidth:w,orient:"auto",refX:h,refY:S/2}),T=m(m("use"),{"xlink:href":"#"+P,transform:(s?"rotate(180 "+w/2+" "+S/2+") ":u)+"scale("+w/C+","+S/C+")","stroke-width":(1/((w/C+S/C)/2)).toFixed(4)}),R.appendChild(T),p.defs.appendChild(R),g[k]=1),m(T,c);var M=l*("diamond"!=A&&"oval"!=A);s?(a=n._.arrows.startdx*b||0,o=e.getTotalLength(y.path)-M*b):(a=M*b,o=e.getTotalLength(y.path)-(n._.arrows.enddx*b||0)),(c={})["marker-"+_]="url(#"+k+")",(o||a)&&(c.d=e.getSubpath(y.path,a,o)),m(v,c),n._.arrows[_+"Path"]=P,n._.arrows[_+"Marker"]=k,n._.arrows[_+"dx"]=M,n._.arrows[_+"Type"]=A,n._.arrows[_+"String"]=i}else s?(a=n._.arrows.startdx*b||0,o=e.getTotalLength(y.path)-a):(a=0,o=e.getTotalLength(y.path)-(n._.arrows.enddx*b||0)),n._.arrows[_+"Path"]&&m(v,{d:e.getSubpath(y.path,a,o)}),delete n._.arrows[_+"Path"],delete n._.arrows[_+"Marker"],delete n._.arrows[_+"dx"],delete n._.arrows[_+"Type"],delete n._.arrows[_+"String"];for(c in g)if(g[t](c)&&!g[c]){var L=e._g.doc.getElementById(c);L&&L.parentNode.removeChild(L)}}},x={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},A=function(e,t,n){if(t=x[r(t).toLowerCase()]){for(var i=e.attrs["stroke-width"]||"1",s={round:i,square:i,butt:0}[e.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,a=[],o=t.length;o--;)a[o]=t[o]*i+(o%2?1:-1)*s;m(e.node,{"stroke-dasharray":a.join(",")})}else m(e.node,{"stroke-dasharray":"none"})},w=function(n,s){var l=n.node,c=n.attrs,d=l.style.visibility;for(var f in l.style.visibility="hidden",s)if(s[t](f)){if(!e._availableAttrs[t](f))continue;var g=s[f];switch(c[f]=g,f){case"blur":n.blur(g);break;case"title":var v=l.getElementsByTagName("title");if(v.length&&(v=v[0]))v.firstChild.nodeValue=g;else{v=m("title");var x=e._g.doc.createTextNode(g);v.appendChild(x),l.appendChild(v)}break;case"href":case"target":var w=l.parentNode;if("a"!=w.tagName.toLowerCase()){var C=m("a");w.insertBefore(C,l),C.appendChild(l),w=C}"target"==f?w.setAttributeNS(p,"show","blank"==g?"new":g):w.setAttributeNS(p,f,g);break;case"cursor":l.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":b(n,g);break;case"arrow-end":b(n,g,1);break;case"clip-rect":var P=r(g).split(h);if(4==P.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var k=m("clipPath"),T=m("rect");k.id=e.createUUID(),m(T,{x:P[0],y:P[1],width:P[2],height:P[3]}),k.appendChild(T),n.paper.defs.appendChild(k),m(l,{"clip-path":"url(#"+k.id+")"}),n.clip=T}if(!g){var R=l.getAttribute("clip-path");if(R){var M=e._g.doc.getElementById(R.replace(/(^url\(#|\)$)/g,u));M&&M.parentNode.removeChild(M),m(l,{"clip-path":u}),delete n.clip}}break;case"path":"path"==n.type&&(m(l,{d:g?c.path=e._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,g),n._.dirty=1,!c.fx)break;f="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,g),n.pattern&&y(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,g),n._.dirty=1,!c.fy)break;f="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,g),n.pattern&&y(n),n._.dirty=1;break;case"r":"rect"==n.type?m(l,{rx:g,ry:g}):l.setAttribute(f,g),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":1==n._.sx&&1==n._.sy||(g/=a(o(n._.sx),o(n._.sy))||1),l.setAttribute(f,g),c["stroke-dasharray"]&&A(n,c["stroke-dasharray"],s),n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"stroke-dasharray":A(n,g,s);break;case"fill":var L=r(g).match(e._ISURL);if(L){k=m("pattern");var E=m("image");k.id=e.createUUID(),m(k,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(E,{x:0,y:0,"xlink:href":L[1]}),k.appendChild(E),function(t){e._preload(L[1],(function(){var e=this.offsetWidth,r=this.offsetHeight;m(t,{width:e,height:r}),m(E,{width:e,height:r})}))}(k),n.paper.defs.appendChild(k),m(l,{fill:"url(#"+k.id+")"}),n.pattern=k,n.pattern&&y(n);break}var D=e.getRGB(g);if(D.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=r(g).charAt())&&_(n,g)){if("opacity"in c||"fill-opacity"in c){var F=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(F){var I=F.getElementsByTagName("stop");m(I[I.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete s.gradient,delete c.gradient,!e.is(c.opacity,"undefined")&&e.is(s.opacity,"undefined")&&m(l,{opacity:c.opacity}),!e.is(c["fill-opacity"],"undefined")&&e.is(s["fill-opacity"],"undefined")&&m(l,{"fill-opacity":c["fill-opacity"]});D[t]("opacity")&&m(l,{"fill-opacity":D.opacity>1?D.opacity/100:D.opacity});case"stroke":D=e.getRGB(g),l.setAttribute(f,D.hex),"stroke"==f&&D[t]("opacity")&&m(l,{"stroke-opacity":D.opacity>1?D.opacity/100:D.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=r(g).charAt())&&_(n,g);break;case"opacity":c.gradient&&!c[t]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){(F=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)))&&(I=F.getElementsByTagName("stop"),m(I[I.length-1],{"stop-opacity":g}));break}default:"font-size"==f&&(g=i(g,10)+"px");var N=f.replace(/(\-.)/g,(function(e){return e.substring(1).toUpperCase()}));l.style[N]=g,n._.dirty=1,l.setAttribute(f,g)}}S(n,s),l.style.visibility=d},S=function(n,s){if("text"==n.type&&(s[t]("text")||s[t]("font")||s[t]("font-size")||s[t]("x")||s[t]("y"))){var a=n.attrs,o=n.node,l=o.firstChild?i(e._g.doc.defaultView.getComputedStyle(o.firstChild,u).getPropertyValue("font-size"),10):10;if(s[t]("text")){for(a.text=s.text;o.firstChild;)o.removeChild(o.firstChild);for(var h,c=r(s.text).split("\n"),d=[],p=0,f=c.length;p<f;p++)h=m("tspan"),p&&m(h,{dy:1.2*l,x:a.x}),h.appendChild(e._g.doc.createTextNode(c[p])),o.appendChild(h),d[p]=h}else for(p=0,f=(d=o.getElementsByTagName("tspan")).length;p<f;p++)p?m(d[p],{dy:1.2*l,x:a.x}):m(d[0],{dy:0});m(o,{x:a.x,y:a.y}),n._.dirty=1;var g=n._getBBox(),_=a.y-(g.y+g.height/2);_&&e.is(_,"finite")&&m(d[0],{dy:_})}},C=function(e){return e.parentNode&&"a"===e.parentNode.tagName.toLowerCase()?e.parentNode:e},P=function(t,r){this[0]=this.node=t,t.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),t.raphaelid=this.id,this.matrix=e.matrix(),this.realPath=null,this.paper=r,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},k=e.el;P.prototype=k,k.constructor=P,e._engine.path=function(e,t){var r=m("path");t.canvas&&t.canvas.appendChild(r);var n=new P(r,t);return n.type="path",w(n,{fill:"none",stroke:"#000",path:e}),n},k.rotate=function(e,t,i){if(this.removed)return this;if((e=r(e).split(h)).length-1&&(t=n(e[1]),i=n(e[2])),e=n(e[0]),null==i&&(t=i),null==t||null==i){var s=this.getBBox(1);t=s.x+s.width/2,i=s.y+s.height/2}return this.transform(this._.transform.concat([["r",e,t,i]])),this},k.scale=function(e,t,i,s){if(this.removed)return this;if((e=r(e).split(h)).length-1&&(t=n(e[1]),i=n(e[2]),s=n(e[3])),e=n(e[0]),null==t&&(t=e),null==s&&(i=s),null==i||null==s)var a=this.getBBox(1);return this.transform(this._.transform.concat([["s",e,t,i=null==i?a.x+a.width/2:i,s=null==s?a.y+a.height/2:s]])),this},k.translate=function(e,t){return this.removed||((e=r(e).split(h)).length-1&&(t=n(e[1])),e=n(e[0])||0,this.transform(this._.transform.concat([["t",e,t=+t||0]]))),this},k.transform=function(r){var n=this._;if(null==r)return n.transform;if(e._extractTransform(this,r),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var i=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},k.hide=function(){return this.removed||(this.node.style.display="none"),this},k.show=function(){return this.removed||(this.node.style.display=""),this},k.remove=function(){var t=C(this.node);if(!this.removed&&t.parentNode){var r=this.paper;for(var n in r.__set__&&r.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&r.defs.removeChild(this.gradient),e._tear(this,r),t.parentNode.removeChild(t),this.removeData(),this)this[n]="function"==typeof this[n]?e._removedFactory(n):null;this.removed=!0}},k._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t,r=!1;this.paper.canvas.parentElement?t=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(t=this.paper.canvas.parentNode.style),t&&"none"==t.display&&(r=!0,t.display="");var n={};try{n=this.node.getBBox()}catch(i){n={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{n=n||{},r&&(t.display="none")}return e&&this.hide(),n},k.attr=function(r,n){if(this.removed)return this;if(null==r){var i={};for(var s in this.attrs)this.attrs[t](s)&&(i[s]=this.attrs[s]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==n&&e.is(r,"string")){if("fill"==r&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==r)return this._.transform;for(var a=r.split(h),o={},l=0,u=a.length;l<u;l++)o[r=a[l]]=r in this.attrs?this.attrs[r]:e.is(this.paper.customAttributes[r],"function")?this.paper.customAttributes[r].def:e._availableAttrs[r];return u-1?o:o[a[0]]}if(null==n&&e.is(r,"array")){for(o={},l=0,u=r.length;l<u;l++)o[r[l]]=this.attr(r[l]);return o}if(null!=n){var d={};d[r]=n}else null!=r&&e.is(r,"object")&&(d=r);for(var p in d)c("raphael.attr."+p+"."+this.id,this,d[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&d[t](p)&&e.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(d[p]));for(var g in this.attrs[p]=d[p],f)f[t](g)&&(d[g]=f[g])}return w(this,d),this},k.toFront=function(){if(this.removed)return this;var t=C(this.node);t.parentNode.appendChild(t);var r=this.paper;return r.top!=this&&e._tofront(this,r),this},k.toBack=function(){if(this.removed)return this;var t=C(this.node),r=t.parentNode;return r.insertBefore(t,r.firstChild),e._toback(this,this.paper),this},k.insertAfter=function(t){if(this.removed||!t)return this;var r=C(this.node),n=C(t.node||t[t.length-1].node);return n.nextSibling?n.parentNode.insertBefore(r,n.nextSibling):n.parentNode.appendChild(r),e._insertafter(this,t,this.paper),this},k.insertBefore=function(t){if(this.removed||!t)return this;var r=C(this.node),n=C(t.node||t[0].node);return n.parentNode.insertBefore(r,n),e._insertbefore(this,t,this.paper),this},k.blur=function(t){var r=this;if(0!=+t){var n=m("filter"),i=m("feGaussianBlur");r.attrs.blur=t,n.id=e.createUUID(),m(i,{stdDeviation:+t||1.5}),n.appendChild(i),r.paper.defs.appendChild(n),r._blur=n,m(r.node,{filter:"url(#"+n.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter");return r},e._engine.circle=function(e,t,r,n){var i=m("circle");e.canvas&&e.canvas.appendChild(i);var s=new P(i,e);return s.attrs={cx:t,cy:r,r:n,fill:"none",stroke:"#000"},s.type="circle",m(i,s.attrs),s},e._engine.rect=function(e,t,r,n,i,s){var a=m("rect");e.canvas&&e.canvas.appendChild(a);var o=new P(a,e);return o.attrs={x:t,y:r,width:n,height:i,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},o.type="rect",m(a,o.attrs),o},e._engine.ellipse=function(e,t,r,n,i){var s=m("ellipse");e.canvas&&e.canvas.appendChild(s);var a=new P(s,e);return a.attrs={cx:t,cy:r,rx:n,ry:i,fill:"none",stroke:"#000"},a.type="ellipse",m(s,a.attrs),a},e._engine.image=function(e,t,r,n,i,s){var a=m("image");m(a,{x:r,y:n,width:i,height:s,preserveAspectRatio:"none"}),a.setAttributeNS(p,"href",t),e.canvas&&e.canvas.appendChild(a);var o=new P(a,e);return o.attrs={x:r,y:n,width:i,height:s,src:t},o.type="image",o},e._engine.text=function(t,r,n,i){var s=m("text");t.canvas&&t.canvas.appendChild(s);var a=new P(s,t);return a.attrs={x:r,y:n,"text-anchor":"middle",text:i,"font-family":e._availableAttrs["font-family"],"font-size":e._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",w(a,a.attrs),a},e._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},e._engine.create=function(){var t=e._getContainer.apply(0,arguments),r=t&&t.container,n=t.x,i=t.y,s=t.width,a=t.height;if(!r)throw new Error("SVG container not found.");var o,l=m("svg"),h="overflow:hidden;";return n=n||0,i=i||0,m(l,{height:a=a||342,version:1.1,width:s=s||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==r?(l.style.cssText=h+"position:absolute;left:"+n+"px;top:"+i+"px",e._g.doc.body.appendChild(l),o=1):(l.style.cssText=h+"position:relative",r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l)),(r=new e._Paper).width=s,r.height=a,r.canvas=l,r.clear(),r._left=r._top=0,o&&(r.renderfix=function(){}),r.renderfix(),r},e._engine.setViewBox=function(e,t,r,n,i){c("raphael.setViewBox",this,this._viewBox,[e,t,r,n,i]);var s,o=this.getSize(),l=a(r/o.width,n/o.height),h=this.top,u=i?"xMidYMid meet":"xMinYMin";for(null==e?(this._vbSize&&(l=1),delete this._vbSize,s="0 0 "+this.width+d+this.height):(this._vbSize=l,s=e+d+t+d+r+d+n),m(this.canvas,{viewBox:s,preserveAspectRatio:u});l&&h;)h.attr({"stroke-width":"stroke-width"in h.attrs?h.attrs["stroke-width"]:1}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[e,t,r,n,!!i],this},e.prototype.renderfix=function(){var e,t=this.canvas,r=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(n){e=t.createSVGMatrix()}var i=-e.e%1,s=-e.f%1;(i||s)&&(i&&(this._left=(this._left+i)%1,r.left=this._left+"px"),s&&(this._top=(this._top+s)%1,r.top=this._top+"px"))},e.prototype.clear=function(){e.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(e._g.doc.createTextNode("Created with Raphaël "+e.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},e.prototype.remove=function(){for(var t in c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null};var T=e.st;for(var R in k)k[t](R)&&!T[t](R)&&(T[R]=function(e){return function(){var t=arguments;return this.forEach((function(r){r[e].apply(r,t)}))}}(R))}}).apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(1)],void 0===(i=(function(e){if(!e||e.vml){var t="hasOwnProperty",r=String,n=parseFloat,i=Math,s=i.round,a=i.max,o=i.min,l=i.abs,h="fill",c=/[, ]+/,u=e.eve,d=" ",p="",f={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,_=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",y=21600,b={path:1,rect:1,image:1},x={circle:1,ellipse:1},A=function(t){var n=/[ahqstv]/gi,i=e._pathToAbsolute;if(r(t).match(n)&&(i=e._path2curve),n=/[clmz]/g,i==e._pathToAbsolute&&!r(t).match(n)){var a=r(t).replace(g,(function(e,t,r){var n=[],i="m"==t.toLowerCase(),a=f[t];return r.replace(_,(function(e){i&&2==n.length&&(a+=n+f["m"==t?"l":"L"],n=[]),n.push(s(e*y))})),a+n}));return a}var o,l,h=i(t);a=[];for(var c=0,u=h.length;c<u;c++){o=h[c],"z"==(l=h[c][0].toLowerCase())&&(l="x");for(var m=1,v=o.length;m<v;m++)l+=s(o[m]*y)+(m!=v-1?",":p);a.push(l)}return a.join(d)},w=function(t,r,n){var i=e.matrix();return i.rotate(-t,.5,.5),{dx:i.x(r,n),dy:i.y(r,n)}},S=function(e,t,r,n,i,s){var a=e._,o=e.matrix,c=a.fillpos,u=e.node,p=u.style,f=1,g="",m=y/t,_=y/r;if(p.visibility="hidden",t&&r){if(u.coordsize=l(m)+d+l(_),p.rotation=s*(t*r<0?-1:1),s){var v=w(s,n,i);n=v.dx,i=v.dy}if(t<0&&(g+="x"),r<0&&(g+=" y")&&(f=-1),p.flip=g,u.coordorigin=n*-m+d+i*-_,c||a.fillsize){var b=u.getElementsByTagName(h);u.removeChild(b=b&&b[0]),c&&(v=w(s,o.x(c[0],c[1]),o.y(c[0],c[1])),b.position=v.dx*f+d+v.dy*f),a.fillsize&&(b.size=a.fillsize[0]*l(t)+d+a.fillsize[1]*l(r)),u.appendChild(b)}p.visibility="visible"}};e.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var C,P=function(e,t,n){for(var i=r(t).toLowerCase().split("-"),s=n?"end":"start",a=i.length,o="classic",l="medium",h="medium";a--;)switch(i[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=i[a];break;case"wide":case"narrow":h=i[a];break;case"long":case"short":l=i[a]}var c=e.node.getElementsByTagName("stroke")[0];c[s+"arrow"]=o,c[s+"arrowlength"]=l,c[s+"arrowwidth"]=h},k=function(i,l){i.attrs=i.attrs||{};var u=i.node,f=i.attrs,g=u.style,m=b[i.type]&&(l.x!=f.x||l.y!=f.y||l.width!=f.width||l.height!=f.height||l.cx!=f.cx||l.cy!=f.cy||l.rx!=f.rx||l.ry!=f.ry||l.r!=f.r),_=x[i.type]&&(f.cx!=l.cx||f.cy!=l.cy||f.r!=l.r||f.rx!=l.rx||f.ry!=l.ry),v=i;for(var w in l)l[t](w)&&(f[w]=l[w]);if(m&&(f.path=e._getPath[i.type](i),i._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&i.blur(l.blur),(l.path&&"path"==i.type||m)&&(u.path=A(~r(f.path).toLowerCase().indexOf("r")?e._pathToAbsolute(f.path):f.path),i._.dirty=1,"image"==i.type&&(i._.fillpos=[f.x,f.y],i._.fillsize=[f.width,f.height],S(i,1,1,0,0,0))),"transform"in l&&i.transform(l.transform),_){var k=+f.cx,R=+f.cy,M=+f.rx||+f.r||0,L=+f.ry||+f.r||0;u.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((k-M)*y),s((R-L)*y),s((k+M)*y),s((R+L)*y),s(k*y)),i._.dirty=1}if("clip-rect"in l){var E=r(l["clip-rect"]).split(c);if(4==E.length){E[2]=+E[2]+ +E[0],E[3]=+E[3]+ +E[1];var D=u.clipRect||e._g.doc.createElement("div"),F=D.style;F.clip=e.format("rect({1}px {2}px {3}px {0}px)",E),u.clipRect||(F.position="absolute",F.top=0,F.left=0,F.width=i.paper.width+"px",F.height=i.paper.height+"px",u.parentNode.insertBefore(D,u),D.appendChild(u),u.clipRect=D)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(i.textpath){var I=i.textpath.style;l.font&&(I.font=l.font),l["font-family"]&&(I.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,p)+'"'),l["font-size"]&&(I.fontSize=l["font-size"]),l["font-weight"]&&(I.fontWeight=l["font-weight"]),l["font-style"]&&(I.fontStyle=l["font-style"])}if("arrow-start"in l&&P(v,l["arrow-start"]),"arrow-end"in l&&P(v,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var N=u.getElementsByTagName(h);if(!(N=N&&N[0])&&(N=C(h)),"image"==i.type&&l.src&&(N.src=l.src),l.fill&&(N.on=!0),null!=N.on&&"none"!=l.fill&&null!==l.fill||(N.on=!1),N.on&&l.fill){var O=r(l.fill).match(e._ISURL);if(O){N.parentNode==u&&u.removeChild(N),N.rotate=!0,N.src=O[1],N.type="tile";var B=i.getBBox(1);N.position=B.x+d+B.y,i._.fillpos=[B.x,B.y],e._preload(O[1],(function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]}))}else N.color=e.getRGB(l.fill).hex,N.src=p,N.type="solid",e.getRGB(l.fill).error&&(v.type in{circle:1,ellipse:1}||"r"!=r(l.fill).charAt())&&T(v,l.fill,N)&&(f.fill="none",f.gradient=l.fill,N.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var j=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+e.getRGB(l.fill).o+1||2)-1);j=o(a(j,0),1),N.opacity=j,N.src&&(N.color="none")}u.appendChild(N);var U=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],W=!1;!U&&(W=U=C("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(U.on=!0),("none"==l.stroke||null===l.stroke||null==U.on||0==l.stroke||0==l["stroke-width"])&&(U.on=!1);var H=e.getRGB(l.stroke);U.on&&l.stroke&&(U.color=H.hex),j=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+H.o+1||2)-1);var Y=.75*(n(l["stroke-width"])||1);if(j=o(a(j,0),1),null==l["stroke-width"]&&(Y=f["stroke-width"]),l["stroke-width"]&&(U.weight=Y),Y&&Y<1&&(j*=Y)&&(U.weight=1),U.opacity=j,l["stroke-linejoin"]&&(U.joinstyle=l["stroke-linejoin"]||"miter"),U.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(U.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var V={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};U.dashstyle=V[t](l["stroke-dasharray"])?V[l["stroke-dasharray"]]:p}W&&u.appendChild(U)}if("text"==v.type){v.paper.canvas.style.display=p;var G=v.paper.span,q=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=G.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),q=n(f["font-size"]||q&&q[0])||10,g.fontSize=100*q+"px",v.textpath.string&&(G.innerHTML=r(v.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var z=G.getBoundingClientRect();v.W=f.w=(z.right-z.left)/100,v.H=f.h=(z.bottom-z.top)/100,v.X=f.x,v.Y=f.y+v.H/2,("x"in l||"y"in l)&&(v.path.v=e.format("m{0},{1}l{2},{1}",s(f.x*y),s(f.y*y),s(f.x*y)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],$=0,Q=X.length;$<Q;$++)if(X[$]in l){v._.dirty=1;break}switch(f["text-anchor"]){case"start":v.textpath.style["v-text-align"]="left",v.bbx=v.W/2;break;case"end":v.textpath.style["v-text-align"]="right",v.bbx=-v.W/2;break;default:v.textpath.style["v-text-align"]="center",v.bbx=0}v.textpath.style["v-text-kern"]=!0}},T=function(t,s,a){t.attrs=t.attrs||{};var o=Math.pow,l="linear",h=".5 .5";if(t.attrs.gradient=s,s=(s=r(s).replace(e._radial_gradient,(function(e,t,r){return l="radial",t&&r&&(t=n(t),r=n(r),o(t-.5,2)+o(r-.5,2)>.25&&(r=i.sqrt(.25-o(t-.5,2))*(2*(r>.5)-1)+.5),h=t+d+r),p}))).split(/\s*\-\s*/),"linear"==l){var c=s.shift();if(c=-n(c),isNaN(c))return null}var u=e._parseDots(s);if(!u)return null;if(t=t.shape||t.node,u.length){t.removeChild(a),a.on=!0,a.method="none",a.color=u[0].color,a.color2=u[u.length-1].color;for(var f=[],g=0,m=u.length;g<m;g++)u[g].offset&&f.push(u[g].offset+d+u[g].color);a.colors=f.length?f.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=h,a.angle=0):(a.type="gradient",a.angle=(270-c)%360),t.appendChild(a)}return 1},R=function(t,r){this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=r,this.matrix=e.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},M=e.el;R.prototype=M,M.constructor=R,M.transform=function(t){if(null==t)return this._.transform;var n,i=this.paper._viewBoxShift,s=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:p;i&&(n=t=r(t).replace(/\.{3}|\u2026/g,this._.transform||p)),e._extractTransform(this,s+t);var a,o=this.matrix.clone(),l=this.skew,h=this.node,c=~r(this.attrs.fill).indexOf("-"),u=!r(this.attrs.fill).indexOf("url(");if(o.translate(1,1),u||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=o.split(),c&&a.noRotation||!a.isSimple){h.style.filter=o.toFilter();var f=this.getBBox(),g=this.getBBox(1),m=f.x-g.x,_=f.y-g.y;h.coordorigin=m*-y+d+_*-y,S(this,1,1,m,_,0)}else h.style.filter=p,S(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else h.style.filter=p,l.matrix=r(o),l.offset=o.offset();return null!==n&&(this._.transform=n,e._extractTransform(this,n)),this},M.rotate=function(e,t,i){if(this.removed)return this;if(null!=e){if((e=r(e).split(c)).length-1&&(t=n(e[1]),i=n(e[2])),e=n(e[0]),null==i&&(t=i),null==t||null==i){var s=this.getBBox(1);t=s.x+s.width/2,i=s.y+s.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,t,i]])),this}},M.translate=function(e,t){return this.removed||((e=r(e).split(c)).length-1&&(t=n(e[1])),e=n(e[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",e,t]]))),this},M.scale=function(e,t,i,s){if(this.removed)return this;if((e=r(e).split(c)).length-1&&(t=n(e[1]),i=n(e[2]),s=n(e[3]),isNaN(i)&&(i=null),isNaN(s)&&(s=null)),e=n(e[0]),null==t&&(t=e),null==s&&(i=s),null==i||null==s)var a=this.getBBox(1);return this.transform(this._.transform.concat([["s",e,t,i=null==i?a.x+a.width/2:i,s=null==s?a.y+a.height/2:s]])),this._.dirtyT=1,this},M.hide=function(){return!this.removed&&(this.node.style.display="none"),this},M.show=function(){return!this.removed&&(this.node.style.display=p),this},M.auxGetBBox=e.el.getBBox,M.getBBox=function(){var e=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var t={},r=1/this.paper._viewBoxShift.scale;return t.x=e.x-this.paper._viewBoxShift.dx,t.x*=r,t.y=e.y-this.paper._viewBoxShift.dy,t.y*=r,t.width=e.width*r,t.height=e.height*r,t.x2=t.x+t.width,t.y2=t.y+t.height,t}return e},M._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},M.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),e.eve.unbind("raphael.*.*."+this.id),e._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;this.removed=!0}},M.attr=function(r,n){if(this.removed)return this;if(null==r){var i={};for(var s in this.attrs)this.attrs[t](s)&&(i[s]=this.attrs[s]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==n&&e.is(r,"string")){if(r==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=r.split(c),o={},l=0,d=a.length;l<d;l++)o[r=a[l]]=r in this.attrs?this.attrs[r]:e.is(this.paper.customAttributes[r],"function")?this.paper.customAttributes[r].def:e._availableAttrs[r];return d-1?o:o[a[0]]}if(this.attrs&&null==n&&e.is(r,"array")){for(o={},l=0,d=r.length;l<d;l++)o[r[l]]=this.attr(r[l]);return o}var p;for(var f in null!=n&&((p={})[r]=n),null==n&&e.is(r,"object")&&(p=r),p)u("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[t](f)&&p[t](f)&&e.is(this.paper.customAttributes[f],"function")){var g=this.paper.customAttributes[f].apply(this,[].concat(p[f]));for(var m in this.attrs[f]=p[f],g)g[t](m)&&(p[m]=g[m])}p.text&&"text"==this.type&&(this.textpath.string=p.text),k(this,p)}return this},M.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&e._tofront(this,this.paper),this},M.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper)),this},M.insertAfter=function(t){return this.removed||(t.constructor==e.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper)),this},M.insertBefore=function(t){return this.removed||(t.constructor==e.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),e._insertbefore(this,t,this.paper)),this},M.blur=function(t){var r=this.node.runtimeStyle,n=r.filter;return n=n.replace(m,p),0!=+t?(this.attrs.blur=t,r.filter=n+d+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",r.margin=e.format("-{0}px 0 0 -{0}px",s(+t||1.5))):(r.filter=n,r.margin=0,delete this.attrs.blur),this},e._engine.path=function(e,t){var r=C("shape");r.style.cssText=v,r.coordsize=y+d+y,r.coordorigin=t.coordorigin;var n=new R(r,t),i={fill:"none",stroke:"#000"};e&&(i.path=e),n.type="path",n.path=[],n.Path=p,k(n,i),t.canvas&&t.canvas.appendChild(r);var s=C("skew");return s.on=!0,r.appendChild(s),n.skew=s,n.transform(p),n},e._engine.rect=function(t,r,n,i,s,a){var o=e._rectPath(r,n,i,s,a),l=t.path(o),h=l.attrs;return l.X=h.x=r,l.Y=h.y=n,l.W=h.width=i,l.H=h.height=s,h.r=a,h.path=o,l.type="rect",l},e._engine.ellipse=function(e,t,r,n,i){var s=e.path();return s.X=t-n,s.Y=r-i,s.W=2*n,s.H=2*i,s.type="ellipse",k(s,{cx:t,cy:r,rx:n,ry:i}),s},e._engine.circle=function(e,t,r,n){var i=e.path();return i.X=t-n,i.Y=r-n,i.W=i.H=2*n,i.type="circle",k(i,{cx:t,cy:r,r:n}),i},e._engine.image=function(t,r,n,i,s,a){var o=e._rectPath(n,i,s,a),l=t.path(o).attr({stroke:"none"}),c=l.attrs,u=l.node,d=u.getElementsByTagName(h)[0];return c.src=r,l.X=c.x=n,l.Y=c.y=i,l.W=c.width=s,l.H=c.height=a,c.path=o,l.type="image",d.parentNode==u&&u.removeChild(d),d.rotate=!0,d.src=r,d.type="tile",l._.fillpos=[n,i],l._.fillsize=[s,a],u.appendChild(d),S(l,1,1,0,0,0),l},e._engine.text=function(t,n,i,a){var o=C("shape"),l=C("path"),h=C("textpath");i=i||0,a=a||"",l.v=e.format("m{0},{1}l{2},{1}",s((n=n||0)*y),s(i*y),s(n*y)+1),l.textpathok=!0,h.string=r(a),h.on=!0,o.style.cssText=v,o.coordsize=y+d+y,o.coordorigin="0 0";var c=new R(o,t),u={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:a};c.shape=o,c.path=l,c.textpath=h,c.type="text",c.attrs.text=r(a),c.attrs.x=n,c.attrs.y=i,c.attrs.w=1,c.attrs.h=1,k(c,u),o.appendChild(h),o.appendChild(l),t.canvas.appendChild(o);var f=C("skew");return f.on=!0,o.appendChild(f),c.skew=f,c.transform(p),c},e._engine.setSize=function(t,r){var n=this.canvas.style;return this.width=t,this.height=r,t==+t&&(t+="px"),r==+r&&(r+="px"),n.width=t,n.height=r,n.clip="rect(0 "+t+" "+r+" 0)",this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox),this},e._engine.setViewBox=function(t,r,n,i,s){e.eve("raphael.setViewBox",this,this._viewBox,[t,r,n,i,s]);var a,o,l=this.getSize(),h=l.width,c=l.height;return s&&(n*(a=c/i)<h&&(t-=(h-n*a)/2/a),i*(o=h/n)<c&&(r-=(c-i*o)/2/o)),this._viewBox=[t,r,n,i,!!s],this._viewBoxShift={dx:-t,dy:-r,scale:l},this.forEach((function(e){e.transform("...")})),this},e._engine.initWin=function(e){var t=e.document;t.styleSheets.length<31?t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):t.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),C=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(r){C=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},e._engine.initWin(e._g.win),e._engine.create=function(){var t=e._getContainer.apply(0,arguments),r=t.container,n=t.height,i=t.width,s=t.x,a=t.y;if(!r)throw new Error("VML container not found.");var o=new e._Paper,l=o.canvas=e._g.doc.createElement("div"),h=l.style;return s=s||0,a=a||0,n=n||342,o.width=i=i||512,o.height=n,i==+i&&(i+="px"),n==+n&&(n+="px"),o.coordsize=1e3*y+d+1e3*y,o.coordorigin="0 0",o.span=e._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(o.span),h.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,n),1==r?(e._g.doc.body.appendChild(l),h.left=s+"px",h.top=a+"px",h.position="absolute"):r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l),o.renderfix=function(){},o},e.prototype.clear=function(){e.eve("raphael.clear",this),this.canvas.innerHTML=p,this.span=e._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},e.prototype.remove=function(){for(var t in e.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;return!0};var L=e.st;for(var E in M)M[t](E)&&!L[t](E)&&(L[E]=function(e){return function(){var t=arguments;return this.forEach((function(r){r[e].apply(r,t)}))}}(E))}}).apply(t,n))||(e.exports=i)}])})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function r(){return e.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var r in t)h(t,r)&&(e[r]=t[r]);return h(t,"toString")&&(e.toString=t.toString),h(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,r,n){return mt(e,t,r,n,!0).utc()}function d(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var r=d(e),n=t.call(r.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&r.overflow<0&&!r.empty&&!r.invalidMonth&&!r.invalidWeekday&&!r.weekdayMismatch&&!r.nullInput&&!r.invalidFormat&&!r.userInvalidated&&(!r.meridiem||r.meridiem&&n);if(e._strict&&(i=i&&0===r.charsLeftOver&&0===r.unusedTokens.length&&void 0===r.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function f(e){var t=u(NaN);return null!=e?c(d(t),e):d(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),r=t.length>>>0,n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var g=r.momentProperties=[];function m(e,t){var r,n,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=d(t)),s(t._locale)||(e._locale=t._locale),0<g.length)for(r=0;r<g.length;r++)s(i=t[n=g[r]])||(e[n]=i);return e}var _=!1;function v(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,r.updateOffset(this),_=!1)}function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=b(t)),r}function A(e,t,r){var n,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0;for(n=0;n<i;n++)(r&&e[n]!==t[n]||!r&&x(e[n])!==x(t[n]))&&a++;return a+s}function w(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return c((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var i,s=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var o in i+="\n["+a+"] ",arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];s.push(i)}w(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var C,P={};function k(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),P[e]||(w(t),P[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function R(e,t){var r,n=c({},e);for(r in t)h(t,r)&&(i(e[r])&&i(t[r])?(n[r]={},c(n[r],e[r]),c(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)h(e,r)&&!h(t,r)&&i(e[r])&&(n[r]=c({},n[r]));return n}function M(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)h(e,t)&&r.push(t);return r};var L={};function E(e,t){var r=e.toLowerCase();L[r]=L[r+"s"]=L[t]=e}function D(e){return"string"==typeof e?L[e]||L[e.toLowerCase()]:void 0}function F(e){var t,r,n={};for(r in e)h(e,r)&&(t=D(r))&&(n[t]=e[r]);return n}var I={};function N(e,t){I[e]=t}function O(e,t,r){var n=""+Math.abs(e);return(0<=e?r?"+":"":"-")+Math.pow(10,Math.max(0,t-n.length)).toString().substr(1)+n}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},W={};function H(e,t,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),e&&(W[e]=i),t&&(W[t[0]]=function(){return O(i.apply(this,arguments),t[1],t[2])}),r&&(W[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Y(e,t){return e.isValid()?(t=V(t,e.localeData()),U[t]=U[t]||function(e){var t,r,n,i=e.match(B);for(t=0,r=i.length;t<r;t++)i[t]=W[i[t]]?W[i[t]]:(n=i[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,s="";for(n=0;n<r;n++)s+=T(i[n])?i[n].call(t,e):i[n];return s}}(t),U[t](e)):e.localeData().invalidDate()}function V(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;0<=r&&j.test(e);)e=e.replace(j,n),j.lastIndex=0,r-=1;return e}var G=/\d/,q=/\d\d/,z=/\d{3}/,X=/\d{4}/,$=/[+-]?\d{6}/,Q=/\d\d?/,K=/\d\d\d\d?/,Z=/\d\d\d\d\d\d?/,J=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,re=/\d+/,ne=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oe={};function le(e,t,r){oe[e]=T(t)?t:function(e,n){return e&&r?r:t}}function he(e,t){return h(oe,e)?oe[e](t._strict,t._locale):new RegExp(ce(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,i){return t||r||n||i}))))}function ce(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ue={};function de(e,t){var r,n=t;for("string"==typeof e&&(e=[e]),a(t)&&(n=function(e,r){r[t]=x(e)}),r=0;r<e.length;r++)ue[e[r]]=n}function pe(e,t){de(e,(function(e,r,n,i){n._w=n._w||{},t(e,n._w,n,i)}))}function fe(e){return ge(e)?366:365}function ge(e){return e%4==0&&e%100!=0||e%400==0}H("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),H(0,["YY",2],0,(function(){return this.year()%100})),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),E("year","y"),N("year",1),le("Y",ne),le("YY",Q,q),le("YYYY",ee,X),le("YYYYY",te,$),le("YYYYYY",te,$),de(["YYYYY","YYYYYY"],0),de("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):x(e)})),de("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),de("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return x(e)+(68<x(e)?1900:2e3)};var me,_e=ve("FullYear",!0);function ve(e,t){return function(n){return null!=n?(be(this,e,n),r.updateOffset(this,t),this):ye(this,e)}}function ye(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function be(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&ge(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),xe(r,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=(t%12+12)%12;return e+=(t-r)/12,1===r?ge(e)?29:28:31-r%7%2}me=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},H("M",["MM",2],"Mo",(function(){return this.month()+1})),H("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),H("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),E("month","M"),N("month",8),le("M",Q),le("MM",Q,q),le("MMM",(function(e,t){return t.monthsShortRegex(e)})),le("MMMM",(function(e,t){return t.monthsRegex(e)})),de(["M","MM"],(function(e,t){t[1]=x(e)-1})),de(["MMM","MMMM"],(function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);null!=i?t[1]=i:d(r).invalidMonth=e}));var Ae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,we="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Se="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ce(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Pe(e){return null!=e?(Ce(this,e),r.updateOffset(this,!0),this):ye(this,"Month")}var ke=ae,Te=ae;function Re(){function e(e,t){return t.length-e.length}var t,r,n=[],i=[],s=[];for(t=0;t<12;t++)r=u([2e3,t]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),s.push(this.months(r,"")),s.push(this.monthsShort(r,""));for(n.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)n[t]=ce(n[t]),i[t]=ce(i[t]);for(t=0;t<24;t++)s[t]=ce(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Me(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Le(e,t,r){var n=7+t-r;return-(7+Me(e,0,n).getUTCDay()-t)%7+n-1}function Ee(e,t,r,n,i){var s,a,o=1+7*(t-1)+(7+r-n)%7+Le(e,n,i);return o<=0?a=fe(s=e-1)+o:o>fe(e)?(s=e+1,a=o-fe(e)):(s=e,a=o),{year:s,dayOfYear:a}}function De(e,t,r){var n,i,s=Le(e.year(),t,r),a=Math.floor((e.dayOfYear()-s-1)/7)+1;return a<1?n=a+Fe(i=e.year()-1,t,r):a>Fe(e.year(),t,r)?(n=a-Fe(e.year(),t,r),i=e.year()+1):(i=e.year(),n=a),{week:n,year:i}}function Fe(e,t,r){var n=Le(e,t,r),i=Le(e+1,t,r);return(fe(e)-n+i)/7}H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),N("week",5),N("isoWeek",5),le("w",Q),le("ww",Q,q),le("W",Q),le("WW",Q,q),pe(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=x(e)})),H("d",0,"do","day"),H("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),H("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),H("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),le("d",Q),le("e",Q),le("E",Q),le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),le("dddd",(function(e,t){return t.weekdaysRegex(e)})),pe(["dd","ddd","dddd"],(function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);null!=i?t.d=i:d(r).invalidWeekday=e})),pe(["d","e","E"],(function(e,t,r,n){t[n]=x(e)}));var Ie="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ne="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Be=ae,je=ae,Ue=ae;function We(){function e(e,t){return t.length-e.length}var t,r,n,i,s,a=[],o=[],l=[],h=[];for(t=0;t<7;t++)r=u([2e3,1]).day(t),n=this.weekdaysMin(r,""),i=this.weekdaysShort(r,""),s=this.weekdays(r,""),a.push(n),o.push(i),l.push(s),h.push(n),h.push(i),h.push(s);for(a.sort(e),o.sort(e),l.sort(e),h.sort(e),t=0;t<7;t++)o[t]=ce(o[t]),l[t]=ce(l[t]),h[t]=ce(h[t]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function He(){return this.hours()%12||12}function Ye(e,t){H(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ve(e,t){return t._meridiemParse}H("H",["HH",2],0,"hour"),H("h",["hh",2],0,He),H("k",["kk",2],0,(function(){return this.hours()||24})),H("hmm",0,0,(function(){return""+He.apply(this)+O(this.minutes(),2)})),H("hmmss",0,0,(function(){return""+He.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),H("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),H("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Ye("a",!0),Ye("A",!1),E("hour","h"),N("hour",13),le("a",Ve),le("A",Ve),le("H",Q),le("h",Q),le("k",Q),le("HH",Q,q),le("hh",Q,q),le("kk",Q,q),le("hmm",K),le("hmmss",Z),le("Hmm",K),le("Hmmss",Z),de(["H","HH"],3),de(["k","kk"],(function(e,t,r){var n=x(e);t[3]=24===n?0:n})),de(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),de(["h","hh"],(function(e,t,r){t[3]=x(e),d(r).bigHour=!0})),de("hmm",(function(e,t,r){var n=e.length-2;t[3]=x(e.substr(0,n)),t[4]=x(e.substr(n)),d(r).bigHour=!0})),de("hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[3]=x(e.substr(0,n)),t[4]=x(e.substr(n,2)),t[5]=x(e.substr(i)),d(r).bigHour=!0})),de("Hmm",(function(e,t,r){var n=e.length-2;t[3]=x(e.substr(0,n)),t[4]=x(e.substr(n))})),de("Hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[3]=x(e.substr(0,n)),t[4]=x(e.substr(n,2)),t[5]=x(e.substr(i))}));var Ge,qe=ve("Hours",!0),ze={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:we,monthsShort:Se,week:{dow:0,doy:6},weekdays:Ie,weekdaysMin:Oe,weekdaysShort:Ne,meridiemParse:/[ap]\.?m?\.?/i},Xe={},$e={};function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){var t=null;if(!Xe[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ge._abbr,require("./locale/"+e),Ze(t)}catch(e){}return Xe[e]}function Ze(e,t){var r;return e&&((r=s(t)?et(e):Je(e,t))?Ge=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ge._abbr}function Je(e,t){if(null!==t){var r,n=ze;if(t.abbr=e,null!=Xe[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Xe[e]._config;else if(null!=t.parentLocale)if(null!=Xe[t.parentLocale])n=Xe[t.parentLocale]._config;else{if(null==(r=Ke(t.parentLocale)))return $e[t.parentLocale]||($e[t.parentLocale]=[]),$e[t.parentLocale].push({name:e,config:t}),null;n=r._config}return Xe[e]=new M(R(n,t)),$e[e]&&$e[e].forEach((function(e){Je(e.name,e.config)})),Ze(e),Xe[e]}return delete Xe[e],null}function et(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ge;if(!n(e)){if(t=Ke(e))return t;e=[e]}return function(e){for(var t,r,n,i,s=0;s<e.length;){for(t=(i=Qe(e[s]).split("-")).length,r=(r=Qe(e[s+1]))?r.split("-"):null;0<t;){if(n=Ke(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&A(i,r,!0)>=t-1)break;t--}s++}return Ge}(e)}function tt(e){var t,r=e._a;return r&&-2===d(e).overflow&&(t=r[1]<0||11<r[1]?1:r[2]<1||r[2]>xe(r[0],r[1])?2:r[3]<0||24<r[3]||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||59<r[4]?4:r[5]<0||59<r[5]?5:r[6]<0||999<r[6]?6:-1,d(e)._overflowDayOfYear&&(t<0||2<t)&&(t=2),d(e)._overflowWeeks&&-1===t&&(t=7),d(e)._overflowWeekday&&-1===t&&(t=8),d(e).overflow=t),e}function rt(e,t,r){return null!=e?e:null!=t?t:r}function nt(e){var t,n,i,s,a,o=[];if(!e._d){var l,h;for(l=e,h=new Date(r.now()),i=l._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()],e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,r,n,i,s,a,o,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)s=1,a=4,r=rt(t.GG,e._a[0],De(_t(),1,4).year),n=rt(t.W,1),((i=rt(t.E,1))<1||7<i)&&(l=!0);else{s=e._locale._week.dow,a=e._locale._week.doy;var h=De(_t(),s,a);r=rt(t.gg,e._a[0],h.year),n=rt(t.w,h.week),null!=t.d?((i=t.d)<0||6<i)&&(l=!0):null!=t.e?(i=t.e+s,(t.e<0||6<t.e)&&(l=!0)):i=s}n<1||n>Fe(r,s,a)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(o=Ee(r,n,i,s,a),e._a[0]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(a=rt(e._a[0],i[0]),(e._dayOfYear>fe(a)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),n=Me(a,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Me:function(e,t,r,n,i,s,a){var o=new Date(e,t,r,n,i,s,a);return e<100&&0<=e&&isFinite(o.getFullYear())&&o.setFullYear(e),o}).apply(null,o),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(d(e).weekdayMismatch=!0)}}var it=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,st=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,at=/Z|[+-]\d\d(?::?\d\d)?/,ot=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],lt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ht=/^\/?Date\((\-?\d+)/i;function ct(e){var t,r,n,i,s,a,o=e._i,l=it.exec(o)||st.exec(o);if(l){for(d(e).iso=!0,t=0,r=ot.length;t<r;t++)if(ot[t][1].exec(l[1])){i=ot[t][0],n=!1!==ot[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,r=lt.length;t<r;t++)if(lt[t][1].exec(l[3])){s=(l[2]||" ")+lt[t][0];break}if(null==s)return void(e._isValid=!1)}if(!n&&null!=s)return void(e._isValid=!1);if(l[4]){if(!at.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(s||"")+(a||""),ft(e)}else e._isValid=!1}var ut=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,dt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function pt(e){var t,r,n,i=ut.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var s=function(e,t,r,n,i,s){var a=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Se.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}(i[4],i[3],i[2],i[5],i[6],i[7]);if(r=s,n=e,(t=i[1])&&Ne.indexOf(t)!==new Date(r[0],r[1],r[2]).getDay()&&(d(n).weekdayMismatch=!0,!(n._isValid=!1)))return;e._a=s,e._tzm=function(e,t,r){if(e)return dt[e];if(t)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}(i[8],i[9],i[10]),e._d=Me.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function ft(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],d(e).empty=!0;var t,n,i,s,a,o,l,c,u=""+e._i,p=u.length,f=0;for(i=V(e._f,e._locale).match(B)||[],t=0;t<i.length;t++)(n=(u.match(he(s=i[t],e))||[])[0])&&(0<(a=u.substr(0,u.indexOf(n))).length&&d(e).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),f+=n.length),W[s]?(n?d(e).empty=!1:d(e).unusedTokens.push(s),o=s,c=e,null!=(l=n)&&h(ue,o)&&ue[o](l,c._a,c,o)):e._strict&&!n&&d(e).unusedTokens.push(s);d(e).charsLeftOver=p-f,0<u.length&&d(e).unusedInput.push(u),e._a[3]<=12&&!0===d(e).bigHour&&0<e._a[3]&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[3]=function(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):(null!=e.isPM&&((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0)),t)}(e._locale,e._a[3],e._meridiem),nt(e),tt(e)}else pt(e);else ct(e)}function gt(e){var t,h,u,g,_=e._i,b=e._f;return e._locale=e._locale||et(e._l),null===_||void 0===b&&""===_?f({nullInput:!0}):("string"==typeof _&&(e._i=_=e._locale.preparse(_)),y(_)?new v(tt(_)):(o(_)?e._d=_:n(b)?function(e){var t,r,n,i,s;if(0===e._f.length)return d(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)s=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ft(t),p(t)&&(s+=d(t).charsLeftOver,s+=10*d(t).unusedTokens.length,d(t).score=s,(null==n||s<n)&&(n=s,r=t));c(e,r||t)}(e):b?ft(e):s(h=(t=e)._i)?t._d=new Date(r.now()):o(h)?t._d=new Date(h.valueOf()):"string"==typeof h?null===(g=ht.exec((u=t)._i))?(ct(u),!1===u._isValid&&(delete u._isValid,pt(u),!1===u._isValid&&(delete u._isValid,r.createFromInputFallback(u)))):u._d=new Date(+g[1]):n(h)?(t._a=l(h.slice(0),(function(e){return parseInt(e,10)})),nt(t)):i(h)?function(e){if(!e._d){var t=F(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),nt(e)}}(t):a(h)?t._d=new Date(h):r.createFromInputFallback(t),p(e)||(e._d=null),e))}function mt(e,t,r,s,a){var o,l={};return!0!==r&&!1!==r||(s=r,r=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=r,l._i=e,l._f=t,l._strict=s,(o=new v(tt(gt(l))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function _t(e,t,r,n){return mt(e,t,r,n,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var vt=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()})),yt=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:f()}));function bt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return _t();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}var xt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function At(e){var t=F(e),r=t.year||0,n=t.quarter||0,i=t.month||0,s=t.week||0,a=t.day||0,o=t.hour||0,l=t.minute||0,h=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===me.call(xt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var r=!1,n=0;n<xt.length;++n)if(e[xt[n]]){if(r)return!1;parseFloat(e[xt[n]])!==x(e[xt[n]])&&(r=!0)}return!0}(t),this._milliseconds=+c+1e3*h+6e4*l+1e3*o*60*60,this._days=+a+7*s,this._months=+i+3*n+12*r,this._data={},this._locale=et(),this._bubble()}function wt(e){return e instanceof At}function St(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ct(e,t){H(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+O(~~(e/60),2)+t+O(~~e%60,2)}))}Ct("Z",":"),Ct("ZZ",""),le("Z",se),le("ZZ",se),de(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=kt(se,e)}));var Pt=/([\+\-]|\d\d)/gi;function kt(e,t){var r=(t||"").match(e);if(null===r)return null;var n=((r[r.length-1]||[])+"").match(Pt)||["-",0,0],i=60*n[1]+x(n[2]);return 0===i?0:"+"===n[0]?i:-i}function Tt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(y(e)||o(e)?e.valueOf():_t(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):_t(e).local()}function Rt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Mt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Lt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Et=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Dt(e,t){var r,n,i,s=e,o=null;return wt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(s={},t?s[t]=e:s.milliseconds=e):(o=Lt.exec(e))?(r="-"===o[1]?-1:1,s={y:0,d:x(o[2])*r,h:x(o[3])*r,m:x(o[4])*r,s:x(o[5])*r,ms:x(St(1e3*o[6]))*r}):(o=Et.exec(e))?s={y:Ft(o[2],r="-"===o[1]?-1:1),M:Ft(o[3],r),w:Ft(o[4],r),d:Ft(o[5],r),h:Ft(o[6],r),m:Ft(o[7],r),s:Ft(o[8],r)}:null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(i=function(e,t){var r;return e.isValid()&&t.isValid()?(t=Tt(t,e),e.isBefore(t)?r=It(e,t):((r=It(t,e)).milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}(_t(s.from),_t(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),n=new At(s),wt(e)&&h(e,"_locale")&&(n._locale=e._locale),n}function Ft(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function It(e,t){var r={milliseconds:0,months:0};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Nt(e,t){return function(r,n){var i;return null===n||isNaN(+n)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),Ot(this,Dt(r="string"==typeof r?+r:r,n),e),this}}function Ot(e,t,n,i){var s=t._milliseconds,a=St(t._days),o=St(t._months);e.isValid()&&(i=null==i||i,o&&Ce(e,ye(e,"Month")+o*n),a&&be(e,"Date",ye(e,"Date")+a*n),s&&e._d.setTime(e._d.valueOf()+s*n),i&&r.updateOffset(e,a||o))}Dt.fn=At.prototype,Dt.invalid=function(){return Dt(NaN)};var Bt=Nt(1,"add"),jt=Nt(-1,"subtract");function Ut(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function Wt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=et(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ht=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Yt(){return this._locale}function Vt(e,t){H(0,[e,e.length],0,t)}function Gt(e,t,r,n,i){var s;return null==e?De(this,n,i).year:((s=Fe(e,n,i))<t&&(t=s),(function(e,t,r,n,i){var s=Ee(e,t,r,n,i),a=Me(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}).call(this,e,t,r,n,i))}H(0,["gg",2],0,(function(){return this.weekYear()%100})),H(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Vt("gggg","weekYear"),Vt("ggggg","weekYear"),Vt("GGGG","isoWeekYear"),Vt("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),le("G",ne),le("g",ne),le("GG",Q,q),le("gg",Q,q),le("GGGG",ee,X),le("gggg",ee,X),le("GGGGG",te,$),le("ggggg",te,$),pe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=x(e)})),pe(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),H("Q",0,"Qo","quarter"),E("quarter","Q"),N("quarter",7),le("Q",G),de("Q",(function(e,t){t[1]=3*(x(e)-1)})),H("D",["DD",2],"Do","date"),E("date","D"),N("date",9),le("D",Q),le("DD",Q,q),le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),de(["D","DD"],2),de("Do",(function(e,t){t[2]=x(e.match(Q)[0])}));var qt=ve("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),N("dayOfYear",4),le("DDD",J),le("DDDD",z),de(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=x(e)})),H("m",["mm",2],0,"minute"),E("minute","m"),N("minute",14),le("m",Q),le("mm",Q,q),de(["m","mm"],4);var zt=ve("Minutes",!1);H("s",["ss",2],0,"second"),E("second","s"),N("second",15),le("s",Q),le("ss",Q,q),de(["s","ss"],5);var Xt,$t=ve("Seconds",!1);for(H("S",0,0,(function(){return~~(this.millisecond()/100)})),H(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),H(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),H(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),H(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),H(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),H(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),E("millisecond","ms"),N("millisecond",16),le("S",J,G),le("SS",J,q),le("SSS",J,z),Xt="SSSS";Xt.length<=9;Xt+="S")le(Xt,re);function Qt(e,t){t[6]=x(1e3*("0."+e))}for(Xt="S";Xt.length<=9;Xt+="S")de(Xt,Qt);var Kt=ve("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Zt=v.prototype;function Jt(e){return e}Zt.add=Bt,Zt.calendar=function(e,t){var n=e||_t(),i=Tt(n,this).startOf("day"),s=r.calendarFormat(this,i)||"sameElse",a=t&&(T(t[s])?t[s].call(this,n):t[s]);return this.format(a||this.localeData().calendar(s,this,_t(n)))},Zt.clone=function(){return new v(this)},Zt.diff=function(e,t,r){var n,i,s;if(!this.isValid())return NaN;if(!(n=Tt(e,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),t=D(t)){case"year":s=Ut(this,n)/12;break;case"month":s=Ut(this,n);break;case"quarter":s=Ut(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-i)/864e5;break;case"week":s=(this-n-i)/6048e5;break;default:s=this-n}return r?s:b(s)},Zt.endOf=function(e){return void 0===(e=D(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},Zt.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=Y(this,e);return this.localeData().postformat(t)},Zt.from=function(e,t){return this.isValid()&&(y(e)&&e.isValid()||_t(e).isValid())?Dt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Zt.fromNow=function(e){return this.from(_t(),e)},Zt.to=function(e,t){return this.isValid()&&(y(e)&&e.isValid()||_t(e).isValid())?Dt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Zt.toNow=function(e){return this.to(_t(),e)},Zt.get=function(e){return T(this[e=D(e)])?this[e]():this},Zt.invalidAt=function(){return d(this).overflow},Zt.isAfter=function(e,t){var r=y(e)?e:_t(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=D(s(t)?"millisecond":t))?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},Zt.isBefore=function(e,t){var r=y(e)?e:_t(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=D(s(t)?"millisecond":t))?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},Zt.isBetween=function(e,t,r,n){return("("===(n=n||"()")[0]?this.isAfter(e,r):!this.isBefore(e,r))&&(")"===n[1]?this.isBefore(t,r):!this.isAfter(t,r))},Zt.isSame=function(e,t){var r,n=y(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=D(t||"millisecond"))?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},Zt.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Zt.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Zt.isValid=function(){return p(this)},Zt.lang=Ht,Zt.locale=Wt,Zt.localeData=Yt,Zt.max=yt,Zt.min=vt,Zt.parsingFlags=function(){return c({},d(this))},Zt.set=function(e,t){if("object"==typeof e)for(var r=function(e){var t=[];for(var r in e)t.push({unit:r,priority:I[r]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=F(e)),n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit]);else if(T(this[e=D(e)]))return this[e](t);return this},Zt.startOf=function(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},Zt.subtract=jt,Zt.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Zt.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Zt.toDate=function(){return new Date(this.valueOf())},Zt.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||9999<r.year()?Y(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Y(r,"Z")):Y(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Zt.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(r+n+"-MM-DD[T]HH:mm:ss.SSS"+t+'[")]')},Zt.toJSON=function(){return this.isValid()?this.toISOString():null},Zt.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Zt.unix=function(){return Math.floor(this.valueOf()/1e3)},Zt.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Zt.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Zt.year=_e,Zt.isLeapYear=function(){return ge(this.year())},Zt.weekYear=function(e){return Gt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Zt.isoWeekYear=function(e){return Gt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Zt.quarter=Zt.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Zt.month=Pe,Zt.daysInMonth=function(){return xe(this.year(),this.month())},Zt.week=Zt.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Zt.isoWeek=Zt.isoWeeks=function(e){var t=De(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Zt.weeksInYear=function(){var e=this.localeData()._week;return Fe(this.year(),e.dow,e.doy)},Zt.isoWeeksInYear=function(){return Fe(this.year(),1,4)},Zt.date=qt,Zt.day=Zt.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,r,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,r=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=r.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-n,"d")):n},Zt.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Zt.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=(r=e,n=this.localeData(),"string"==typeof r?n.weekdaysParse(r)%7||7:isNaN(r)?null:r);return this.day(this.day()%7?t:t-7)}return this.day()||7;var r,n},Zt.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Zt.hour=Zt.hours=qe,Zt.minute=Zt.minutes=zt,Zt.second=Zt.seconds=$t,Zt.millisecond=Zt.milliseconds=Kt,Zt.utcOffset=function(e,t,n){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=kt(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Rt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?Ot(this,Dt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Rt(this)},Zt.utc=function(e){return this.utcOffset(0,e)},Zt.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Rt(this),"m")),this},Zt.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=kt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Zt.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?_t(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Zt.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Zt.isLocal=function(){return!!this.isValid()&&!this._isUTC},Zt.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Zt.isUtc=Mt,Zt.isUTC=Mt,Zt.zoneAbbr=function(){return this._isUTC?"UTC":""},Zt.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Zt.dates=S("dates accessor is deprecated. Use date instead.",qt),Zt.months=S("months accessor is deprecated. Use month instead",Pe),Zt.years=S("years accessor is deprecated. Use year instead",_e),Zt.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Zt.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),(e=gt(e))._a){var t=e._isUTC?u(e._a):_t(e._a);this._isDSTShifted=this.isValid()&&0<A(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var er=M.prototype;function tr(e,t,r,n){var i=et(),s=u().set(n,t);return i[r](s,e)}function rr(e,t,r){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return tr(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=tr(e,n,r,"month");return i}function nr(e,t,r,n){"boolean"==typeof e?a(t)&&(r=t,t=void 0):(t=e,e=!1,a(r=t)&&(r=t,t=void 0)),t=t||"";var i,s=et(),o=e?s._week.dow:0;if(null!=r)return tr(t,(r+o)%7,n,"day");var l=[];for(i=0;i<7;i++)l[i]=tr(t,(i+o)%7,n,"day");return l}er.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return T(n)?n.call(t,r):n},er.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},er.invalidDate=function(){return this._invalidDate},er.ordinal=function(e){return this._ordinal.replace("%d",e)},er.preparse=Jt,er.postformat=Jt,er.relativeTime=function(e,t,r,n){var i=this._relativeTime[r];return T(i)?i(e,t,r,n):i.replace(/%d/i,e)},er.pastFuture=function(e,t){var r=this._relativeTime[0<e?"future":"past"];return T(r)?r(t):r.replace(/%s/i,t)},er.set=function(e){var t,r;for(r in e)T(t=e[r])?this[r]=t:this["_"+r]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},er.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ae).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone},er.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ae.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},er.monthsParse=function(e,t,r){var n,i,s;if(this._monthsParseExact)return(function(e,t,r){var n,i,s,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=u([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(i=me.call(this._shortMonthsParse,a))?i:null:-1!==(i=me.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=me.call(this._shortMonthsParse,a))||-1!==(i=me.call(this._longMonthsParse,a))?i:null:-1!==(i=me.call(this._longMonthsParse,a))||-1!==(i=me.call(this._shortMonthsParse,a))?i:null}).call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=u([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},er.monthsRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Re.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Te),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},er.monthsShortRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Re.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=ke),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},er.week=function(e){return De(e,this._week.dow,this._week.doy).week},er.firstDayOfYear=function(){return this._week.doy},er.firstDayOfWeek=function(){return this._week.dow},er.weekdays=function(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone},er.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},er.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},er.weekdaysParse=function(e,t,r){var n,i,s;if(this._weekdaysParseExact)return(function(e,t,r){var n,i,s,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=u([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(i=me.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=me.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=me.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=me.call(this._weekdaysParse,a))||-1!==(i=me.call(this._shortWeekdaysParse,a))||-1!==(i=me.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=me.call(this._shortWeekdaysParse,a))||-1!==(i=me.call(this._weekdaysParse,a))||-1!==(i=me.call(this._minWeekdaysParse,a))?i:null:-1!==(i=me.call(this._minWeekdaysParse,a))||-1!==(i=me.call(this._weekdaysParse,a))||-1!==(i=me.call(this._shortWeekdaysParse,a))?i:null}).call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=u([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},er.weekdaysRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Be),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},er.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},er.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ue),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},er.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},er.meridiem=function(e,t,r){return 11<e?r?"pm":"PM":r?"am":"AM"},Ze("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",Ze),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",et);var ir=Math.abs;function sr(e,t,r,n){var i=Dt(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function ar(e){return e<0?Math.floor(e):Math.ceil(e)}function or(e){return 4800*e/146097}function lr(e){return 146097*e/4800}function hr(e){return function(){return this.as(e)}}var cr=hr("ms"),ur=hr("s"),dr=hr("m"),pr=hr("h"),fr=hr("d"),gr=hr("w"),mr=hr("M"),_r=hr("y");function vr(e){return function(){return this.isValid()?this._data[e]:NaN}}var yr=vr("milliseconds"),br=vr("seconds"),xr=vr("minutes"),Ar=vr("hours"),wr=vr("days"),Sr=vr("months"),Cr=vr("years"),Pr=Math.round,kr={ss:44,s:45,m:45,h:22,d:26,M:11},Tr=Math.abs;function Rr(e){return(0<e)-(e<0)||+e}function Mr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r=Tr(this._milliseconds)/1e3,n=Tr(this._days),i=Tr(this._months);t=b((e=b(r/60))/60),r%=60,e%=60;var s=b(i/12),a=i%=12,o=n,l=t,h=e,c=r?r.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var d=u<0?"-":"",p=Rr(this._months)!==Rr(u)?"-":"",f=Rr(this._days)!==Rr(u)?"-":"",g=Rr(this._milliseconds)!==Rr(u)?"-":"";return d+"P"+(s?p+s+"Y":"")+(a?p+a+"M":"")+(o?f+o+"D":"")+(l||h||c?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(c?g+c+"S":"")}var Lr=At.prototype;return Lr.isValid=function(){return this._isValid},Lr.abs=function(){var e=this._data;return this._milliseconds=ir(this._milliseconds),this._days=ir(this._days),this._months=ir(this._months),e.milliseconds=ir(e.milliseconds),e.seconds=ir(e.seconds),e.minutes=ir(e.minutes),e.hours=ir(e.hours),e.months=ir(e.months),e.years=ir(e.years),this},Lr.add=function(e,t){return sr(this,e,t,1)},Lr.subtract=function(e,t){return sr(this,e,t,-1)},Lr.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=D(e))||"year"===e)return r=this._months+or(t=this._days+n/864e5),"month"===e?r:r/12;switch(t=this._days+Math.round(lr(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Lr.asMilliseconds=cr,Lr.asSeconds=ur,Lr.asMinutes=dr,Lr.asHours=pr,Lr.asDays=fr,Lr.asWeeks=gr,Lr.asMonths=mr,Lr.asYears=_r,Lr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},Lr._bubble=function(){var e,t,r,n,i,s=this._milliseconds,a=this._days,o=this._months,l=this._data;return 0<=s&&0<=a&&0<=o||s<=0&&a<=0&&o<=0||(s+=864e5*ar(lr(o)+a),o=a=0),l.milliseconds=s%1e3,e=b(s/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,r=b(t/60),l.hours=r%24,o+=i=b(or(a+=b(r/24))),a-=ar(lr(i)),n=b(o/12),o%=12,l.days=a,l.months=o,l.years=n,this},Lr.clone=function(){return Dt(this)},Lr.get=function(e){return e=D(e),this.isValid()?this[e+"s"]():NaN},Lr.milliseconds=yr,Lr.seconds=br,Lr.minutes=xr,Lr.hours=Ar,Lr.days=wr,Lr.weeks=function(){return b(this.days()/7)},Lr.months=Sr,Lr.years=Cr,Lr.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,r,n,i,s,a,o,l,h,c,u=this.localeData(),d=(t=!e,r=u,n=Dt(this).abs(),i=Pr(n.as("s")),s=Pr(n.as("m")),a=Pr(n.as("h")),o=Pr(n.as("d")),l=Pr(n.as("M")),h=Pr(n.as("y")),(c=i<=kr.ss&&["s",i]||i<kr.s&&["ss",i]||s<=1&&["m"]||s<kr.m&&["mm",s]||a<=1&&["h"]||a<kr.h&&["hh",a]||o<=1&&["d"]||o<kr.d&&["dd",o]||l<=1&&["M"]||l<kr.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=t,c[3]=0<+this,c[4]=r,(function(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}).apply(null,c));return e&&(d=u.pastFuture(+this,d)),u.postformat(d)},Lr.toISOString=Mr,Lr.toString=Mr,Lr.toJSON=Mr,Lr.locale=Wt,Lr.localeData=Yt,Lr.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mr),Lr.lang=Ht,H("X",0,0,"unix"),H("x",0,0,"valueOf"),le("x",ne),le("X",/[+-]?\d+(\.\d{1,3})?/),de("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e,10))})),de("x",(function(e,t,r){r._d=new Date(x(e))})),r.version="2.22.2",e=_t,r.fn=Zt,r.min=function(){return bt("isBefore",[].slice.call(arguments,0))},r.max=function(){return bt("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=u,r.unix=function(e){return _t(1e3*e)},r.months=function(e,t){return rr(e,t,"months")},r.isDate=o,r.locale=Ze,r.invalid=f,r.duration=Dt,r.isMoment=y,r.weekdays=function(e,t,r){return nr(e,t,r,"weekdays")},r.parseZone=function(){return _t.apply(null,arguments).parseZone()},r.localeData=et,r.isDuration=wt,r.monthsShort=function(e,t){return rr(e,t,"monthsShort")},r.weekdaysMin=function(e,t,r){return nr(e,t,r,"weekdaysMin")},r.defineLocale=Je,r.updateLocale=function(e,t){if(null!=t){var r,n,i=ze;null!=(n=Ke(e))&&(i=n._config),(r=new M(t=R(i,t))).parentLocale=Xe[e],Xe[e]=r,Ze(e)}else null!=Xe[e]&&(null!=Xe[e].parentLocale?Xe[e]=Xe[e].parentLocale:null!=Xe[e]&&delete Xe[e]);return Xe[e]},r.locales=function(){return C(Xe)},r.weekdaysShort=function(e,t,r){return nr(e,t,r,"weekdaysShort")},r.normalizeUnits=D,r.relativeTimeRounding=function(e){return void 0===e?Pr:"function"==typeof e&&(Pr=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==kr[e]&&(void 0===t?kr[e]:(kr[e]=t,"s"===e&&(kr.ss=t-1),!0))},r.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},r.prototype=Zt,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}));